/*! Copyright (c) 2020 WhatsApp Inc. All Rights Reserved. */
webpackJsonp([0],{baaaeiafec:function(e,t){e.exports={item:"X7YrQ"}},babadgcffh:function(e,t){e.exports={title:"_2XH7W"}},babbeaeffj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n("bdiiahhjbe")),a=o(n("ddeihcgfbg"));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){r.default.assert(t.focusNode,"serializeTextBeforeCursor requires selection.focusNode")();var n=document.createRange();n.setStart(e,0),n.setEnd(t.focusNode,t.focusOffset);var o=n.cloneContents();return(0,a.default)(o,[])}},babhhabdgf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=C(n("cehcfaibji")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=C(n("ceffhbhahb")),i=M(n("ddhijeejag")),u=C(n("bbchdeehff")),s=C(n("baagejbchg")),l=n("cgecdbiihg"),c=C(n("fifhbjiec")),f=n("bidfjbaebi"),d=C(f),p=C(n("bjbdcigbdi")),h=C(n("fffdgbfji")),m=C(n("eceadcicaf")),b=M(n("ecibddhig")),g=C(n("ichhibhgh")),v=C(n("bcafcjajcb")),y=n("bheafeifce"),_=C(n("bfdcadbbif")),E=n("bfjajhbdf"),j=C(E),O=C(n("edbaidcaf")),S=C(n("ddfjdghbjb")),w=C(n("cijhchjfjc")),P=C(n("bihdhbjih"));function M(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}var T={PREVIEW:"PREVIEW",FLOATER:"FLOATER"},A=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.setRefThumbnailWrapper=function(e){n.refThumbnailWrapper=e},n.getThumbnailWrapperRect=function(){return n.refThumbnailWrapper?n.refThumbnailWrapper.getBoundingClientRect():null},n.setPreviewMode=function(){n.state.mode!==T.PREVIEW&&n.setState({mode:T.PREVIEW})},n.setFloaterMode=function(){n.state.mode!==T.FLOATER&&n.setState({mode:T.FLOATER})},n.parseYoutubeVideoId=function(e){for(var t=l.URL_PATTERNS.ONLINE_VIDEO_URL.YOUTUBE,n=null,r=0;r<t.length;r++){var a=e.match(t[r]);if(a){n=a[1];break}}return n},n.parseYoutubeVideoStartTime=function(e){var t=e.split("?");if(2!==t.length)return 0;var n=t[1],r=new S.default(n).get(l.YOUTUBE_URL_TIME_PARAM_NAME);if(!r)return 0;var a=r.match(l.YOUTUBE_URL_TIME_PARAM_PATTERN),o=0;if(a&&a.length)for(var i=1;i<a.length;i++){var u=a[i];if(u){var s=parseInt(u,10);if(isNaN(s))return 0;u.endsWith("h")&&(o+=3600*s),u.endsWith("m")&&(o+=60*s),u.endsWith("s")&&(o+=s),/^\d+$/.test(u)&&(o+=s)}}return o};var r=g.default.isOpened((0,y.unproxy)(e.msg))?T.FLOATER:T.PREVIEW;return n.state={mode:r},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(g.default,`${this.props.msg.id.toString()}_pip_did_open`,this.setFloaterMode),this.props.listeners.add(g.default,`${this.props.msg.id.toString()}_pip_did_close`,this.setPreviewMode)}},{key:"render",value:function(){var e=this,t=this.props.msg.description?i.createElement("div",{className:w.default.description,title:this.props.msg.description},i.createElement(c.default,{text:this.props.msg.description})):null,n=O.default.hostname(this.props.msg.canonicalUrl||this.props.msg.matchedText),a=i.createElement("div",{className:w.default.source},i.createElement(c.default,{text:n})),l=(0,o.default)(w.default.body,{[w.default.noThumb]:!this.props.msg.thumbnail}),m=void 0;if(this.state.mode===T.PREVIEW)switch(n){case s.default.HOSTNAME.YOUTUBE:var y=this.parseYoutubeVideoId(this.props.msg.matchedText);if(y){var S=this.parseYoutubeVideoStartTime(this.props.msg.matchedText);m=function(t){t&&t.stopPropagation(),g.default.openYoutubePiP(y,e.props.msg,S,e.getThumbnailWrapperRect())}}break;case s.default.HOSTNAME.INSTAGRAM:case s.default.HOSTNAME.STREAMABLE:case s.default.HOSTNAME.FACEBOOK:case s.default.HOSTNAME.LASSOVIDEOS:p.default.supportsFeature(p.default.F.VIDEO_PLAYBACK_URL)&&(m=function(t){g.default.openOgVideoPiP("",e.props.msg.thumbnail,e.props.msg,0,e.getThumbnailWrapperRect()),P.default.queryVideoPlaybackUrl(e.props.msg.matchedText).then(function(t){if(g.default.isOpened(e.props.msg)){if(!t.url)throw new Error("Url is missing in response.");g.default.openOgVideoPiP(t.url,e.props.msg.thumbnail,e.props.msg,0,null)}}).catch(function(t){g.default.closeOgVideoPiP(),u.default.openToast(i.createElement(j.default,{id:(0,E.genId)(),msg:h.default.t(882),action:{actionText:h.default.t(883),onAction:function(){(0,f.openExternalLink)(e.props.msg.matchedText)}}}))})});break;default:return null}var M=(0,o.default)(w.default.preview,{[w.default.bubbleIn]:!this.props.msg.isSentByMe,[w.default.bubbleOut]:this.props.msg.isSentByMe}),C=this.state.mode===T.PREVIEW?i.createElement("div",{className:w.default.mediaStateControlsWrapper},i.createElement(b.Play,null)):null,A=this.state.mode===T.FLOATER?i.createElement(v.default,{icon:i.createElement(_.default,{name:"video-pip-large"})},h.default.t(884)):null,N=void 0,k=void 0;if(this.props.msg.thumbnail&&(0,r.default)(s.default.HOSTNAME).includes(n)){N=i.createElement("img",{className:(0,o.default)(w.default.thumbnail,{[w.default.youtubeThumbnail]:n===s.default.HOSTNAME.YOUTUBE}),src:`data:image/jpeg;base64,${this.props.msg.thumbnail}`});var I=void 0;switch(n){case s.default.HOSTNAME.YOUTUBE:I=i.createElement(_.default,{name:"logo-youtube"});break;case s.default.HOSTNAME.INSTAGRAM:I=i.createElement(_.default,{name:"logo-instagram"});break;case s.default.HOSTNAME.FACEBOOK:I=i.createElement(_.default,{name:"logo-facebook"});break;case s.default.HOSTNAME.LASSOVIDEOS:I=i.createElement(_.default,{name:"logo-lasso"})}I&&(k=i.createElement("div",{className:w.default.attribution},I))}else N=i.createElement("div",{className:w.default.thumbnailPlaceholder});return i.createElement("div",{className:M},i.createElement("div",{ref:this.setRefThumbnailWrapper,className:w.default.thumbnailWrapper,onClick:m},k,N,C,A),i.createElement(d.default,{className:l,href:this.props.msg.matchedText},i.createElement("div",{className:w.default.title,title:this.props.msg.title},i.createElement(c.default,{text:this.props.msg.title})),t,a))}}]),t}();A.displayName="VideoLinkPreview",t.default=(0,m.default)(A)},bacfgbeffc:function(e,t){e.exports={menuTabsMarker:"Orl3a",hide:"mFPJz"}},bacgdahheh:function(e,t){e.exports={ack:"_3VIru"}},baeacdffeb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e instanceof HTMLElement&&Boolean(e.dataset&&e.dataset.mentionJid)}},baeghbhigj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,o.default)(e)};var r,a=n("jjijgifac"),o=(r=a)&&r.__esModule?r:{default:r}},baehciajii:function(e,t){e.exports={section:"_1d7QJ",reasonList:"_2IBqE",label:"WwC8b",input:"_1ftwL",buttons:"_1NLsK"}},bafbadjdec:function(e,t,n){"use strict";var r={queryStarredStickers:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1];throw new Error("Need implementation")}};e.exports=r},bafdafhgja:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n("bgedbhhbbg")),a=c(n("djcchigfih")),o=c(n("djbhiedbef")),i=n("dajffajabh"),u=c(i),s=c(n("fffdgbfji")),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag"));function c(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return l.createElement(a.default,null,l.createElement(u.default,{a8n:"drawer-title-notifications",title:s.default.t(856),onBack:e.onClose,type:i.DRAWER_HEADER_TYPE.LARGE}),l.createElement(o.default,null,l.createElement(r.default,{key:"notifications"})))}},bafdbchefg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n("digcccheca")),a=i(n("bbchdeehff")),o=i(n("cijaehcdg"));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,s=Array(i),l=0;l<i;l++)s[l]=arguments[l];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.handlers={onKeyDown(e){return!this.ctx.isComposing&&(!(" "!==e.key||!(0,o.default)(e))&&(!this.ctx.value.length&&(a.default.scrollMessages(),!0)))}},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),t}();t.default=new s},bafdehfigc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendExitGroup=function(e){return function e(t){var n=t.isGroup,i=t.promises;if(!n)return Promise.reject(new s.ActionError);if(i.sendExit)return i.sendExit;var f=i.sendExit=(0,l.sendExitGroup)(t.id);var d=new a.ActionType(l10n.t(64));var p=f.then(function(e){return new a.ActionType(l10n.t(63))}).catch(u.ServerStatusCodeError,function(e){if(e.status>=400)return new a.ActionType(l10n.t(62))}).catch(function(n){return c.default.error("actions:chat:sendExit dropped")(n),new a.ActionType(l10n.t(62),l10n.t(154),function(){return e(t)})});o.default.openToast(r.createElement(a.ActionToast,{id:(0,a.genId)(),initialAction:d,pendingAction:p}));return f.then(function(e){e._duplicate||h(t)}).finally(function(){i.sendExit=null}).catch(u.ServerStatusCodeError,function(e){})}((0,f.unproxy)(e))},t.localExitGroup=h;var r=p(n("ddhijeejag")),a=n("ccihhdchab"),o=d(n("bbchdeehff")),i=d(n("bjigbaghc")),u=n("ddjgcfjicj"),s=p(n("cajijabhgb")),l=n("ecffadehg"),c=d(n("bdiiahhjbe")),f=n("bheafeifce");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function h(e){e.isGroup&&(e.groupMetadata.participants.remove(i.default.me),(0,l.markExited)(e.id).then(function(){e.isReadOnly=!0}))}},bafdjibgig:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediaNotOnPhone=t.NoMediaHostsError=t.MediaNeedsReupload=t.MediaDecryptionError=t.ServerStatusCodeError=t.WapDrop=t.LogoutDrop=t.MediaNotFoundError=t.MMSThrottleError=t.MMSUnauthorizedError=t.MMSForbiddenError=t.HttpStatusCodeError=t.HttpNetworkError=t.AbortError=void 0;var r=n("fgeddfbg");Object.defineProperty(t,"AbortError",{enumerable:!0,get:function(){return r.AbortError}}),Object.defineProperty(t,"HttpNetworkError",{enumerable:!0,get:function(){return r.HttpNetworkError}}),Object.defineProperty(t,"HttpStatusCodeError",{enumerable:!0,get:function(){return r.HttpStatusCodeError}}),Object.defineProperty(t,"MMSForbiddenError",{enumerable:!0,get:function(){return r.MMSForbiddenError}}),Object.defineProperty(t,"MMSUnauthorizedError",{enumerable:!0,get:function(){return r.MMSUnauthorizedError}}),Object.defineProperty(t,"MMSThrottleError",{enumerable:!0,get:function(){return r.MMSThrottleError}}),Object.defineProperty(t,"MediaNotFoundError",{enumerable:!0,get:function(){return r.MediaNotFoundError}});var a=n("ddjgcfjicj");Object.defineProperty(t,"LogoutDrop",{enumerable:!0,get:function(){return a.LogoutDrop}}),Object.defineProperty(t,"WapDrop",{enumerable:!0,get:function(){return a.WapDrop}}),Object.defineProperty(t,"ServerStatusCodeError",{enumerable:!0,get:function(){return a.ServerStatusCodeError}});var o=n("cajijabhgb");Object.defineProperty(t,"MediaDecryptionError",{enumerable:!0,get:function(){return o.MediaDecryptionError}}),Object.defineProperty(t,"MediaNeedsReupload",{enumerable:!0,get:function(){return o.MediaNeedsReupload}});var i=n("beifdajhid");Object.defineProperty(t,"NoMediaHostsError",{enumerable:!0,get:function(){return i.NoMediaHostsError}});t.MediaNotOnPhone=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,404))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.ServerStatusCodeError),t}()},bafegjjfbj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=p(n("bbchdeehff")),i=p(n("biddiiafgd")),u=n("dcdbiiejfc"),s=p(n("fifhbjiec")),l=n("bafdehfigc"),c=p(n("bdiiahhjbe")),f=p(n("ihfccfgdf")),d=n("hjbbdjjdf");function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.getText=function(){var e=r.props.chat,t=e.title();return e.isGroup?e.isReadOnly?l10n.t(1188,{groupName:t}):l10n.t(1195,{groupName:t}):e.isUser?l10n.t(368,{name:t}):e.isBroadcast?l10n.t(370):void 0},r.getButton=function(){var e=r.props.chat;return e.isGroup?e.isReadOnly?l10n.t(1185):l10n.t(1193):e.isUser||e.isBroadcast?l10n.t(1185):void 0},r.onCancel=function(){o.default.closeModal();var e=r.props.onCancel;e&&(0,d.isFunction)(e)&&e()},r.onDelete=function(){var e=r.props.chat,t=void 0;e.isGroup?t=e.isReadOnly?(0,u.sendDelete)(e):(0,l.sendExitGroup)(e):e.isUser||e.isBroadcast?t=(0,u.sendDelete)(e):c.default.error("deleteChatPopup:onDelete Unsupported chat type")(),(0,d.isFunction)(r.props.onDeleteOrExit)&&t&&r.props.onDeleteOrExit(t),o.default.closeModal()},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){return a.createElement(i.default,{onOK:this.onDelete,okText:this.getButton(),onCancel:this.onCancel},a.createElement(s.default,{text:this.getText()}))}}]),t}();m.CONCERNS={chat:["isReadOnly","isGroup","isUser","isBroadcast"]},m.displayName="DeleteChatPopup",t.default=(0,f.default)(m,m.CONCERNS)},baffhfhhda:function(e,t,n){"use strict";var r=u(n("bcbhbedgh")),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cajijabhgb")),o=u(n("bdiiahhjbe")),i=u(n("bcjcbbafcj"));function u(e){return e&&e.__esModule?e:{default:e}}var s=n("baagejbchg"),l=n("bfbggcdbfb"),c=n("bejfdgbdag"),f=3e5,d=(new Audio).canPlayType("audio/ogg"),p=0,h=Promise.resolve();function m(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=void 0;return new Promise(function(r,o){n=new Image;var i=/^(?:data|blob):/.test(e);t&&!i&&n.setAttribute("crossOrigin","anonymous"),n.onload=r,n.onabort=function(){o(new Error("loadImage onabort"))},n.onerror=function(e){o(new a.InvalidImageFileType("Image tag load error"))},n.src=e}).then(function(){return n})}function b(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=h.then(function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new l.WebcMediaLoad,u=null,s=void 0,c=void 0,f=++p;function d(){s&&u&&(document.body&&document.body.removeChild(u),u=null)}var h=new Promise(function(n,l){o.default.log(`MediaLoad:video called (#${f})`)();var d=!1,p=!1;(s=document.createElement("video")).volume=0,s.muted=!0,s.playsinline=!0,s.onloadedmetadata=function(){o.default.log(`MediaLoad:video.onloadedmetadata #${f}`)(),d=!0,!p&&t||n()},s.onloadeddata=function(){o.default.log(`MediaLoad:video.onloadeddata #${f}`)()},s.onprogress=function(){o.default.log(`MediaLoad:video.onprogress #${f}`)()},s.oncanplay=function(){o.default.log(`MediaLoad:video.oncanplay #${f}`)(),p=!0,d&&t&&n()},s.onerror=function(){var e=s.error?s.error.message:"no error message";o.default.error(`MediaLoad:video.onerror #${f}: ${String(e)}`)();var t=function(e){if(!e||!e.error)return null;var t=e.error,n=Object.keys(r.default).find(function(e){return r.default[e]===t.code});n=n||`UNKNOWN CODE ${t.code}`;var a=t.message&&~t.message.indexOf(":")?t.message.split(":")[0]:"";return a?`${n}: ${a}`:n}(s);l(new a.MediaLoadError(`unable to play video: ${String(t)}`))},s.src=c=window.URL.createObjectURL(e),(i.default.isSafari||i.default.isBuggyVideoLoadChrome)&&((u=document.createElement("div")).style="opacity: 0.004",u.appendChild(s),document.body&&document.body.appendChild(u)),s.load()});setTimeout(function(){d(),h.isPending()&&(o.default.error(`unable to load video #${f} (${e.size} bytes)`)(),new l.WebcMediaLoad({webcMediaLoadResult:l.WEBC_MEDIA_LOAD_RESULT_CODE.SILENCE}).commit())},8e3);var m=h.delay(10).then(function(){if(n.markWebcMediaLoadT(),o.default.log(`MediaLoad:video #${f} successful`)(),s.pause(),s.videoWidth>0)return n.webcMediaLoadResult=l.WEBC_MEDIA_LOAD_RESULT_CODE.SUCCESS,n.commit(),{video:s,fullWidth:s.videoWidth,fullHeight:s.videoHeight,duration:s.duration};throw s.duration>0?new a.MediaUnsupportedError("video loaded with duration but no dims"):(n.webcMediaLoadResult=l.WEBC_MEDIA_LOAD_RESULT_CODE.ZEROWIDTH,n.commit(),new a.MediaLoadError("video loaded with zero width"))}).finally(function(){d(),s&&(s.onloadedmetadata=null,s.onloadeddata=null,s.onplay=null,s.onerror=null),c&&window.URL.revokeObjectURL(c)});return m.catch(function(){g(s)}),m}(e,t)});return h=n.timeout(1e3).then(function(){},function(){}),n}function g(e){try{e.pause(),e.src="",e.load()}catch(e){o.default.assert(!1,"dispose-video-error",`Error: ${String(e)}`)(e)}}e.exports={loadImage:m,image:function(e){return m(e).then(function(e){return e&&e.naturalWidth>0?{img:e,fullWidth:e.naturalWidth,fullHeight:e.naturalHeight}:Promise.reject(new a.MediaLoadError("image loaded with zero width"))}).catch(function(){return Promise.reject(new a.MediaLoadError("unable to render image"))})},video:b,disposeVideo:g,videoWidthHeightDuration:function(e){return b(e,!0).then(function(e){var t=e.video,n=e.fullWidth,r=e.fullHeight,a=e.duration;return g(t),{width:n,height:r,duration:a}})},audio:function(e){var t=void 0;return new Promise(function(n,r){(t=document.createElement("audio")).volume=0,t.autoplay=!0,t.onplay=function(e){t.pause(),n({audio:t})},t.onerror=function(){r(new a.MediaLoadError("unable to play audio"))},t.src=e}).finally(function(){t&&(t.onplay=t.onerror=null)})},transcode:function(e,t){var n=t||e.type;if(n&&n.includes(s.MIMETYPE_OGG)&&!d){if(e.size<=f)return new c(e).generateBlob();throw new a.MediaLoadError("media-load:transcode blob too large")}return Promise.resolve(e)},canPlayOgg:d}},bafjbifhgj:function(e,t){e.exports={bubble:"_2NTm6",hasCaption:"_1C-mw",meta:"_2Krt0",isPSA:"AeWjB",isPsa:"AeWjB",author:"xYHJC",forwarded:"_3EQmZ",forwardedIndicator:"_35RRm",hasAuthor:"RWKZp",quote:"_30WBO"}},bagahaffif:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=y(n("hhegggegb")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=y(n("ceffhbhahb")),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=y(n("fifhbjiec")),s=n("bgddggdhc"),l=n("ejbdjaifi"),c=y(n("bffjfbgbg")),f=n("dcfaachegb"),d=y(n("jcdghfjgd")),p=y(n("ccegihfjhe")),h=y(n("ihfccfgdf")),m=y(n("bfdcadbbif")),b=n("hjbbdjjdf"),g=y(n("caffijjhc")),v=y(n("bcifhbgija"));function y(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setMediaImage=function(e){return n.mediaImage=e},n.onImageLoad=function(e){if(!n.zoomed){n.zoomed=!0;var t=n.state.zoomElement;t&&e&&n.props.zoomIn&&e instanceof HTMLElement&&n.animateZoom(t,e)}},n.animateZoom=function(e,t){var r=t.getBoundingClientRect(),a=e.getBoundingClientRect(),o=a.top-r.top,i=a.left-r.left,u=e.clientWidth/t.clientWidth;o-=(t.clientHeight-e.clientHeight)/2,i-=(t.clientWidth-e.clientWidth)/2,(0,v.default)(t,{opacity:[1,0],translateX:[0,i],translateY:[0,o],scale:[1,u]},{duration:f.ANIMATION_DURATION,easing:[.1,.82,.25,1]});var l=(0,s.forbiddenFindDOMNode)(n.caption);l&&(0,v.default)(l,{opacity:[1,0]},{duration:f.ANIMATION_DURATION})},n.onScroll=function(e){Math.abs(e.deltaY)>7&&n.onClose()},n.onImgZoomIn=function(e){var t=n.mediaImage;e&&t&&(n.listenToMouseMove=t.heightOverflow>0||t.widthOverflow>0),n.setState({imgZoomed:e}),n.props.onImgZoomIn(e)},n.onZoomOut=function(e){var t=n.mediaImage;t&&n.state.imgZoomed&&t.onImageClick(e)},n.onMouseMove=function(e){n.handleMouseMove(e.pageX,e.pageY)},n._handleMouseMove=function(e,t){var r=n.mediaImage;if(r){var a=r.image;if(a){var o=(0,s.forbiddenAssertDOMNode)(a);if(o){var i=o.parentNode,u=i.parentNode,l=r.getTranslatePosition(u,e,t),c=l.translateX,d=l.translateY;(0,v.default)(i,"stop"),(0,v.default)(i,{translateX:c,translateY:d,scale:f.ZOOM_IN_FACTOR},{duration:0})}}}},n.onClose=function(){if(!n.closing){if(n.closing=!0,(0,b.isFunction)(n.props.onExitAnimation)&&n.props.onExitAnimation(),!n.props.getZoomNode)return n.props.onBack();var e=n.props.getZoomNode();if(!e)return n.props.onBack();var t=n.mediaImage&&n.mediaImage.image,r=(t=(0,s.forbiddenAssertDOMNode)(t)).getBoundingClientRect(),a=e.getBoundingClientRect(),o=a.top-r.top,i=a.left-r.left,u=e.clientWidth/t.clientWidth;o-=(t.clientHeight-e.clientHeight)/2,i-=(t.clientWidth-e.clientWidth)/2,(0,v.default)(t,{translateX:[i,0],translateY:[o,0],scale:[u,1]},{duration:200,easing:[.1,.82,.25,1]}).then(function(){n.props.onBack()})}},n.handleMouseMove=(0,r.default)(n._handleMouseMove,42),n.zoomed=!1,n.closing=!1,n.state={imgZoomed:!1,zoomElement:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.PureComponent),a(t,[{key:"UNSAFE_componentWillMount",value:function(){if(this.props.mediaData.mediaStage===c.default.STAGE.RESOLVED&&this.props.zoomIn){if(this.props.getZoomNode){var e=this.props.getZoomNode();this.setState({zoomElement:e})}this.transparentStyle={opacity:0}}}},{key:"componentDidMount",value:function(){this.transparentStyle={}}},{key:"render",value:function(){var e=this.props,t=e.mediaData,n=e.product,r=i.createElement(f.WrappedMediaImage,{mediaData:t,key:t.renderableUrl,style:this.transparentStyle,onLoad:this.onImageLoad,onImgZoomIn:this.onImgZoomIn,ref:this.setMediaImage}),a=void 0;if(n.description){var s=this.props.zoomIn&&(t.isGif||t.type===c.default.TYPE.IMAGE),h=(0,o.default)(p.default.mediaCaption,{[p.default.captionHidden]:s});a=i.createElement(u.default,{className:h,ref:(0,l.GetRef)("caption",this),text:n.description})}var b=(0,o.default)(p.default.media,{[p.default.mediaWithCaption]:!!a}),v=i.createElement(m.default,{name:"chevron-right",title:l10n.t(842)}),y=(0,o.default)(p.default.btn,p.default.btnMediaNext,{[p.default.disabledBtn]:!this.props.onNext}),_=i.createElement("div",{role:"button",className:y,onClick:this.props.onNext||function(e){return e.stopPropagation()}},v),E=i.createElement(m.default,{name:"chevron-left",title:l10n.t(888)}),j=(0,o.default)(p.default.btn,p.default.btnMediaPrev,{[p.default.disabledBtn]:!this.props.onPrev}),O=i.createElement("div",{role:"button",className:j,onClick:this.props.onPrev||function(e){return e.stopPropagation()}},E),S=(0,o.default)("overlay",p.default.mediaViewer,{[p.default.mediaViewerAnimate]:this.props.zoomIn,[p.default.cursorZoomOut]:this.state.imgZoomed}),w=this.state.imgZoomed?null:this.onScroll,P=this.state.imgZoomed?null:this.onClose,M=this.state.imgZoomed&&this.listenToMouseMove?this.onMouseMove:null,C=this.state.imgZoomed?this.onZoomOut:null;return i.createElement(g.default,{displayName:"ProductViewer",escapable:!0,requestDismiss:this.onClose},i.createElement("div",{className:S,"data-animate-media-viewer":!0,onClick:C,onMouseMove:M},i.createElement(d.default,{mediaData:t,onClose:this.onClose,product:this.props.product}),i.createElement("div",{className:p.default.mediaContent,dir:"ltr",onWheel:w,onClick:P},O,i.createElement("div",{className:b},i.createElement("div",{className:p.default.media},r),a),_)))}}]),t}();_.CONCERNS={mediaData:["mediaStage","renderableUrl","isGif","type"],product:["description"]},_.displayName="ProductImageViewerModal",t.default=(0,h.default)(_,_.CONCERNS)},bahefhdbbb:function(e,t){e.exports={drawer:"_1KDYa",white:"_1yAd4",drawerGallery:"Y9547",drawerMedia:"kqC9O",drawerEdit:"_1BdTk",drawerCapture:"_1cJw0"}},bahefiaghi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.fullPreview,n=e.fullPreviewSize,s=e.mimeType,l=e.filename;return t&&n?r.createElement("div",{className:a.default.container,"data-animate-attach-media":!0},r.createElement("div",{className:a.default.preview},r.createElement(u.default,{type:i.FIT_TYPE.SCALE_DOWN,size:n},r.createElement("img",{src:t,className:a.default.img})))):r.createElement(o.default,{mimeType:s,filename:l})};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=s(n("jgbhhadeh")),o=s(n("becegcbegb")),i=n("dgfecega"),u=s(i);function s(e){return e&&e.__esModule?e:{default:e}}},bahgfcjcda:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=p(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=n("dhhfaeacef"),u=p(i),s=p(n("eceadcicaf")),l=p(n("ceddibihdf")),c=p(n("dhefcajhhb")),f=p(n("bfdcadbbif")),d=p(n("edbaidcaf"));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.promise=null,n._clearPromise=function(){n.promise=null},n._handleImageChange=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n.setState({img:e.img})},n.state={img:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this,t=this.props.waid;t&&(this.promise=c.default.find(t).then(function(t){e.props.listeners.add(t,"change:img",e._handleImageChange),e._handleImageChange(t)}).catch(function(){}).finally(this._clearPromise))}},{key:"componentWillUnmount",value:function(){this.promise&&this.promise.cancel()}},{key:"render",value:function(){if(this.state.img&&this.props.waid)return o.createElement(u.default,{id:this.props.waid,quoted:this.props.quoted,size:this.props.size,square:this.props.square,border:this.props.border});var e=void 0;e="number"==typeof this.props.size&&0!==this.props.size||"number"!=typeof this.props.size&&null!=this.props.size?this.props.size:u.default.Size.SMALL;var t={height:(0,i.getSize)(e),width:(0,i.getSize)(e)},n=(0,a.default)(l.default.container,{[l.default.square]:this.props.square,[l.default.hasBorder]:this.props.border}),r=this.props.thumb?o.createElement("div",{className:l.default.image,style:d.default.thumbAsBackgroundImage(this.props.thumb)}):o.createElement("div",{className:l.default.default},o.createElement(f.default,{name:this.props.quoted?"default-user-square":"default-user",style:t}));return o.createElement("div",{className:n,style:t},r)}}]),t}();h.displayName="ProfileImage",t.default=(0,s.default)(h)},bahjhjjhfe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=u(n("bbchdeehff")),o=n("eagfdbhhhh"),i=u(n("ciheehhei"));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.link,n=e.children,u=e.selectable;return r.createElement(o.SelectableLink,{onClick:function(){return a.default.openModal(r.createElement(i.default,{link:t}))},selectable:u,style:{cursor:"pointer"}},n)}s.displayName="SuspiciousLink",s.defaultProps={children:""},t.default=s},baijejebfi:function(e,t){e.exports={preview:"_1Bw-K"}},bajahehjcd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=f(n("ddajcjhiai")),i=f(n("dbdfbgehgj")),u=f(n("bbchdeehff")),s=f(n("ddbdcagdbi")),l=f(n("djhbegbdaf")),c=f(n("ihfccfgdf"));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.filterAdmins=function(e){var t=r.props.groupMetadata.participants.get(e.id);return!(!t||!t.isAdmin)},r.onSelectAdminToMsg=function(e){r.openChat(e.id),u.default.closeModal()},r.openChat=function(e){i.default.find(e).then(function(e){e.quotedMsgAdminGroupJid=r.props.chat.id,u.default.openChatBottom(e)})},r.onMsgAdmin=function(){var e=r.props.groupMetadata.participants.getAdmins();1!==e.length?u.default.openModal(a.createElement(s.default,{title:l10n.t(706),filter:r.filterAdmins,onCancel:function(){return u.default.closeModal()},onSelect:r.onSelectAdminToMsg})):r.openChat(e[0].id)},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=a.createElement("span",{role:"button",onClick:this.onMsgAdmin,className:o.default.adminBtn},l10n.t(181));return a.createElement(l.default,{id:180,params:{admins:e}})}}]),t}();p.CONCERNS={mute:["isMuted"],chat:["id"],groupMetadata:["participants"]},p.displayName="AnnouncementsOnlyMsgBar",t.default=(0,c.default)(p,p.CONCERNS)},bajcbaccgg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=S(n("dbafiicfja")),a=S(n("iidhbgeed")),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=S(n("ceffhbhahb")),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),s=S(n("bbchdeehff")),l=S(n("baagejbchg")),c=S(n("biddiiafgd")),f=S(n("bjjjdidhhi")),d=S(n("bhcegecbha")),p=S(n("ghbbeafj")),h=S(n("bjbdcigbdi")),m=S(n("eceadcicaf")),b=S(n("cfhgffgbcb")),g=S(n("bfbggcdbfb")),v=S(n("biecbbiiee")),y=S(n("idgdhfbea")),_=n("bheafeifce"),E=S(n("bfdcadbbif")),j=n("bfjajhbdf"),O=S(j);function S(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var P=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=Array(i),h=0;h<i;h++)l[h]=arguments[h];return n=o=w(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.onStarChanged=function(e){o.props.selectedMessages.isSelected(e)&&o.forceUpdate()},o.onStarSelected=function(){var e=o.props,t=e.chat,n=e.selectedMessages,r=e.toastPosition,a=n.getSelected();t&&s.default.sendStarMsgs(t,a,null,r),o.props.onCancel()},o.onUnstarSelected=function(){var e=o.props,t=e.chat,n=e.selectedMessages,r=e.toastPosition,a=n.getSelected();t&&s.default.sendUnstarMsgs(t,a,null,r),o.props.onCancel()},o.onDownloadSelected=function(){var e=(0,a.default)(o.props.selectedMessages.getSelected(),function(e){return e.mediaData});if(e.length){var t=(0,a.default)(e,function(e){return!e.mediaData.isDownloadable()});t.length>0?(s.default.openToast(u.createElement(O.default,{msg:l10n.t(400),id:(0,j.genId)()})),Promise.all((0,r.default)(t,function(e){return e.downloadMedia(!0,g.default.WEBC_RMR_REASON_CODE.MULTI_SELECT_DOWNLOAD)})).then(function(){var t=(0,a.default)(e,function(e){return e.mediaData.isDownloadable()});e.length>t.length&&s.default.openToast(u.createElement(O.default,{msg:l10n.t(452,{_plural:e.length-t.length,count:e.length-t.length}),id:(0,j.genId)()})),t.length&&d.default.initDownload(t)})):d.default.initDownload(e),o.props.onCancel()}},o.addOrRemoveLabelOnSelected=function(){var e=o.props.selectedMessages.getSelected();s.default.openModal(u.createElement(b.default,{onLabelUpdateComplete:o.props.onCancel,modelsToUpdate:e}))},o.onDeleteSelected=function(){var e=o.props,t=e.chat,n=e.selectedMessages,r=e.toastPosition,a=n.getSelected(),i=a.every(function(e){return e.canRevoke()});t&&s.default.openModal(u.createElement(f.default,{chat:t,msgList:a.map(_.unproxy),deletePrompt:!0,revokePrompt:i&&!o.props.disableRevoke,toastPosition:r,onCancel:o.props.onCancel}))},o.onForwardSelected=function(){var e=o.props.selectedMessages.getSelected();!o.props.noSortOnForward&&o.props.chat&&(e=o.props.chat.sortMsgs(e));var t=e.length,n=function(){o.props.onCancel()},r=(0,a.default)(e,function(e){return e.canForward()});if(r.length)if(t!==r.length){s.default.openModal(u.createElement(c.default,{title:l10n.t(329),onOK:function(){s.default.openModal(u.createElement(p.default,{msgs:r,pushTransition:"none",popTransition:"none",onForward:n}),{transition:"modal-flow"})},okText:l10n.t(460),onCancel:function(){return s.default.closeModal()},cancelText:l10n.t(1153)},l10n.t(328)))}else s.default.openModal(u.createElement(p.default,{msgs:e,pushTransition:"none",popTransition:"none",onForward:n}),{transition:"modal-flow"});else s.default.openModal(u.createElement(c.default,{title:l10n.t(449),onOK:function(){return s.default.closeModal()},okText:l10n.t(1287)},l10n.t(446,{_plural:t})))},w(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),o(t,[{key:"componentDidMount",value:function(){var e=this;this.props.selectedMessages.getSelected().forEach(function(t){e.props.listeners.add(t,"change:star")}),this.props.listeners.add(this.props.selectedMessages,"all"),this.props.listeners.add(v.default,"change:star",this.onStarChanged)}},{key:"render",value:function(){var e=this.props.selectedMessages.getSelected(),t=e.length,n=h.default.supportsFeature(h.default.F.ENC_DOC)||e.every(function(e){return e.type!==l.default.MSG_TYPE.DOCUMENT}),r=e.every(function(e){return e.canForward()}),a=e.every(function(e){return e.canStar()}),o=e.every(function(e){return e.mediaData}),s=e.every(function(e){return!e.isRevoked}),c=!t||!n||!r,f=u.createElement(M,{disabled:c,name:"forward",onClick:this.onForwardSelected,title:l10n.t(464,{_plural:t})}),d=u.createElement(M,{name:"delete",disabled:!t,title:l10n.t(371,{_plural:t}),onClick:this.onDeleteSelected}),p=void 0,m=void 0,b=void 0;t&&e.every(function(e){return e.star})?(p=this.onUnstarSelected,m="unstar-btn",b=l10n.t(1077,{_plural:t})):(p=this.onStarSelected,m="star-btn",b=l10n.t(1027,{_plural:t}));var g=u.createElement(M,{name:m,disabled:!t||!a,title:b,onClick:p}),v=void 0;h.default.supportsFeature(h.default.F.LABELS_EDIT)&&(v=u.createElement(M,{disabled:!t||!s,name:"label",onClick:this.addOrRemoveLabelOnSelected,title:l10n.t(619)}));var _=void 0;Modernizr.adownload&&this.props.downloadButton&&o&&(_=u.createElement(M,{name:"download",disabled:!t,title:l10n.t(1149),onClick:this.onDownloadSelected}));var E=(0,i.default)(y.default.multiControls,{[y.default.mediaGalleryTheme]:"mediaGallery"===this.props.theme});return u.createElement("div",{className:E},u.createElement(M,{name:"x",onClick:this.props.onCancel}),u.createElement("span",{className:y.default.multiCount},l10n.t(992,{count:t,_plural:t})),v,g,d,f,_)}}]),t}();P.defaultProps={downloadButton:!0},P.displayName="MultiselectBar",t.default=(0,m.default)(P);var M=function(e){var t=e.name,n=e.title,r=e.onClick,a=e.directional,o=e.disabled;return u.createElement("button",{className:y.default.multiselectIcon,title:n,onClick:r,disabled:o?"disabled":void 0},u.createElement(E.default,{name:t,directional:a}))};M.displayName="BtnIcon"},bajidgjehj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=A(n("ddhijeejag")),o=T(n("effbcehec")),i=T(n("bbchdeehff")),u=T(n("baagejbchg")),s=T(n("biddiiafgd")),l=T(n("bjigbaghc")),c=T(n("djcchigfih")),f=T(n("djbhiedbef")),d=n("dajffajabh"),p=T(d),h=T(n("fijafegab")),m=A(n("cajijabhgb")),b=T(n("dgjddffcfg")),g=T(n("jheedhagg")),v=T(n("bdiiahhjbe")),y=T(n("gdfgjiffc")),_=T(n("cdcaigjjii")),E=T(n("jhhgcfgee")),j=n("bbbdgehigj"),O=T(n("bjbedjfe")),S=n("bggdhciede"),w=T(n("ihfccfgdf")),P=n("bijjheifie"),M=T(n("eedjbihej")),C=T(n("hfhhcchgj"));function T(e){return e&&e.__esModule?e:{default:e}}function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var N=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onBack=function(){n.props.onClose?n.props.onClose():n.props.uim.uie.requestDismiss()},n.validateStatus=function(e){return!!(e||"").trim()},n.onStatusBegin=function(){n.isEditingStatus=!0},n.onSetStatusError=function(){i.default.openModal(a.createElement(s.default,{onOK:function(){return i.default.closeModal()},okText:l10n.t(1287)},l10n.t(150)))},n.onSetStatus=function(){if(null!=n.state.status){n.isEditingStatus=!1;var e=n.props.status.status,t=b.default.emojify(n.state.status);if(t===e)return n.setState({status:t});n.setState({pendingStatus:!0}),(0,P.setMyStatus)(b.default.emojify(n.state.status)).checkpoint(n.props.rejectOnUnmount()).then(function(){n.setState({pendingStatus:!1})}).catch(m.Unmount,function(){})}else n.onCancelStatus()},n.onStatusChange=function(e){n.setState({status:e})},n.onCancelStatus=function(){n.isEditingStatus=!1,n.setState({status:n.props.status.status})},n.onPushnameBegin=function(){n.isEditingPushname=!0},n.validatePushname=function(){var e=n.state.pushname,t=void 0;return(e=(e||"").trim())?/[\u2714\u2705\u2611]/g.test(e)&&(t=l10n.t(145)):t=l10n.t(142),!t||(n.onSetPushnameError(t),!1)},n.onSetPushname=function(){if(n.isEditingPushname=!1,l.default.canSetMyPushname()){var e=n.state.pushname;if((e=b.default.emojify((e||"").trim()))===n.props.conn.pushname)return n.setState({pushname:e});n.setState({pendingPushname:!0}),(0,S.setPushname)(e).checkpoint(n.props.rejectOnUnmount()).then(function(){n.setState({pendingPushname:!1})}).catch(m.Unmount,function(){})}},n.onSetPushnameError=function(e){i.default.openModal(a.createElement(s.default,{onOK:function(){return i.default.closeModal()},okText:l10n.t(1287)},e))},n.onPushnameChange=function(e){n.setState({pushname:e})},n.onCancelPushname=function(){n.isEditingPushname=!1,n.setState({pushname:n.props.conn.pushname})},n.onImageSet=function(e,t){var r=n.props.profilePicThumb;n.setState({pendingPhoto:!0});(e&&t?(0,j.setProfilePic)(r,e,t):(0,j.deleteProfilePic)(r)).checkpoint(n.props.rejectOnUnmount()).catch(m.Unmount,function(){}).catch(m.ActionError,function(e){v.default.warn("ProfileDrawer: failed to set/delete profile image")(e)}).finally(function(){n.setState({pendingPhoto:!1})})},n.state={pushname:e.conn.pushname,status:e.status.status,pendingPushname:!1,pendingStatus:!1,pendingPhoto:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.conn,n=e.status,r=e.profilePicThumb,i=this.isEditingStatus||this.state.pendingStatus?this.state.status:n.status,s=a.createElement(h.default,{a8nText:"col-main-profile",title:l10n.t(1357),theme:"padding"},a.createElement(C.default,{value:i,editable:!0,pending:this.state.pendingStatus,showRemaining:!0,validate:this.validateStatus,maxLength:u.default.MAX_STATUS_LENGTH,onBeginEdit:this.onStatusBegin,onChange:this.onStatusChange,onSave:this.onSetStatus,onError:this.onSetStatusError,onCancel:this.onCancelStatus,supportsEmoji:!0,lockable:!0,lowProfile:!0})),m=l10n.t(698),b=!r.canSet()&&!r.canDelete(),g=this.isEditingPushname||this.state.pendingPushname?this.state.pushname:t.pushname,v=l.default.isSMB?l10n.t(227):l10n.t(916);return a.createElement(c.default,null,a.createElement(p.default,{a8n:"drawer-title-profile",title:m,onBack:this.onBack,type:d.DRAWER_HEADER_TYPE.LARGE}),a.createElement(f.default,null,a.createElement("div",{className:E.default.photoPickerWrapper},a.createElement(y.default,{type:_.default.PROFILE,id:r.id,attachToChat:!1,pending:this.state.pendingPhoto,startImage:r.imgFull,readOnly:b,onImageSet:this.onImageSet})),a.createElement(h.default,{a8nText:"col-main-profile",title:l10n.t(915),theme:"padding"},a.createElement(C.default,{value:g,editable:l.default.canSetMyPushname(),pending:this.state.pendingPushname,showRemaining:!0,validate:this.validatePushname,maxLength:u.default.MAX_PUSHNAME_LENGTH,onBeginEdit:this.onPushnameBegin,onChange:this.onPushnameChange,onSave:this.onSetPushname,onCancel:this.onCancelPushname,supportsEmoji:!0,lockable:!0,lowProfile:!0})),a.createElement("div",{"data-a8n":o.default.key("pushname-description"),className:E.default.nameWrapper},a.createElement(M.default,{theme:"muted"},v)),s))}}]),t}();N.CONCERNS={profilePicThumb:["imgFull","id"],status:["status"],conn:["pushname"]},N.displayName="ProfileDrawer",t.default=(0,g.default)((0,O.default)((0,w.default)(N,N.CONCERNS)))},bbaaddaiah:function(e,t){e.exports={chatListPanel:"_18-el",panelBody:"_1YoG6",panelSearch:"_2vikl",spinner:"EXPdt",unreadContainer:"yZYsN",unread:"_3pOgt",unreadBody:"_2MPns",unreadIcon:"_3a3wO"}},bbacdcchfi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=u(n("cbhbjajgac")),i=u(n("dahbdjdajd"));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,null,[{key:"jsx",value:function(e,t,n){var r=n.selectable,o=n.theme;return a.createElement(i.default,{contact:t,selectable:r,theme:o})}}]),t}();t.default=s},bbagfcaiaf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={shouldAnimate:!0}},bbahcjdgfa:function(e,t){e.exports={docState:"_1qlav",spinner:"Hg0cw"}},bbbdgehigj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setProfilePic=function(e,t,n){return function e(t,n,f){var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,a.genId)();var p=t.id;if(!t.canSet())return Promise.reject(new s.ActionError);var h=(0,c.sendSetPicture)(p,n,f);t.pendingPic=n;var m=p.equals(i.default.me)?new a.ActionType(l10n.t(141)):new a.ActionType(l10n.t(74));var b=h.catch(function(e){throw l.default.error("models:ProfilePicThumb:setPicture dropped")(e),p.equals(i.default.me)?new a.ActionType(l10n.t(140)):new a.ActionType(l10n.t(73))}).catch(u.ServerStatusCodeError,function(r){if(r.status>=400){var o=p.equals(i.default.me)?l10n.t(140):l10n.t(73);return new a.ActionType(o,l10n.t(154),function(){return e(t,n,f,d)})}}).then(function(e){return p.equals(i.default.me)?new a.ActionType(l10n.t(139)):new a.ActionType(l10n.t(72))});o.default.openToast(r.createElement(a.ActionToast,{id:d,initialAction:m,pendingAction:b}));return h.then(function(e){e._duplicate||t.set({tag:e.tag,eurl:e.eurl})}).finally(function(){t.pendingPic=void 0})}((0,f.unproxy)(e),t,n)},t.deleteProfilePic=function(e){return function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,a.genId)();var f=t.id;if(!t.canDelete())return Promise.reject(new s.ActionError);var d=(0,c.requestDeletePicture)(f);t.pendingPic=t.fallbackType;var p=f.equals(i.default.me)?new a.ActionType(l10n.t(138)):new a.ActionType(l10n.t(71));var h=d.catch(function(e){throw l.default.error("models:ProfilePicThumb:deletePicture dropped")(e),f.equals(i.default.me)?new a.ActionType(l10n.t(136)):new a.ActionType(l10n.t(69))}).catch(u.ServerStatusCodeError,function(r){if(r.status>=400){var o=f.equals(i.default.me)?l10n.t(136):l10n.t(69);return new a.ActionType(o,l10n.t(154),function(){return e(t,n)})}}).then(function(e){return f.equals(i.default.me)?new a.ActionType(l10n.t(137)):new a.ActionType(l10n.t(70))});o.default.openToast(r.createElement(a.ActionToast,{id:n,initialAction:p,pendingAction:h}));return d.then(function(e){e._duplicate||t.set({tag:void 0,eurl:void 0})}).finally(function(){t.pendingPic=void 0})}((0,f.unproxy)(e))};var r=p(n("ddhijeejag")),a=n("ccihhdchab"),o=d(n("bbchdeehff")),i=d(n("bjigbaghc")),u=n("ddjgcfjicj"),s=p(n("cajijabhgb")),l=d(n("bdiiahhjbe")),c=n("biahggehgf"),f=n("bheafeifce");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}},bbccbjiaeb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=(s(n("baagejbchg")),s(n("ebijaadcje"))),i=s(n("bdiiahhjbe")),u=s(n("ihfccfgdf"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleClick=function(){r.props.msg.resend().catch(function(e){i.default.log("PlainMsgFailIcon: failed to resend message")(e)})},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.msg,n=e.displayType;return t.isFailed?a.createElement(o.default,{displayType:n,tooltip:l10n.t(948),onClick:this.handleClick}):null}}]),t}();c.CONCERNS={msg:["ack","isFailed"]},c.displayName="PlainMsgFailIcon",t.default=(0,u.default)(c,c.CONCERNS)},bbcccehdad:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=g(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=g(n("cgfdjcbhag")),u=g(n("ecjegjabde")),s=n("ddajbaceej"),l=g(n("dhfbfehaef")),c=g(n("ccijgeidci")),f=g(n("eceadcicaf")),d=n("fagbfehid"),p=g(d),h=g(n("cegfacfjjj")),m=g(n("decfffijad")),b=g(n("bfdcadbbif"));function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=function(e){function t(){var e,n,r;v(this,t);for(var i=arguments.length,u=Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=r=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={numItems:r.props.specialItemsCount+p.default.length},r._handleLengthChange=function(){r.setState({numItems:r.props.specialItemsCount+p.default.length})},r._setRefContainer=function(e){r._refContainer=e},r._renderItem=function(e){return r.props.recentStickersEnabled&&0===e?o.createElement("div",{className:(0,a.default)(h.default.centerChild,h.default.show)},o.createElement(b.default,{name:"panel-recent"})):o.createElement(m.default,{index:e-r.props.specialItemsCount})},y(r,n)}return _(t,o.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(p.default,"change:length",this._handleLengthChange),this._handleLengthChange()}},{key:"focus",value:function(){this._refContainer&&(this.hasFocus()||(0,s.focus)(this._refContainer))}},{key:"hasFocus",value:function(){return!!this._refContainer&&this._refContainer===document.activeElement}},{key:"render",value:function(){var e=this.state.numItems;return o.createElement(l.default,{onRef:this._setRefContainer,handlers:(0,u.default)({down:this.props.onFocusBelow,"shift+tab":this.props.onFocusPrev,tab:this.props.onFocusNext})},o.createElement(i.default,{className:(0,a.default)({[c.default.shadow]:this.props.shadow}),numItems:e,numColumns:d.PAGE_SIZE,onItemClick:this.props.onItemClick,renderItem:this._renderItem,selectedIndex:this.props.selectedStickerPackIndex}))}}]),t}();E.displayName="StickerPanelMenu";var j=(0,f.default)(E),O=function(e){function t(){return v(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _(t,j),r(t,[{key:"focus",value:function(){this.getComponent().focus()}}]),t}();t.default=O},bbcjhfahhb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediaPickerChangeTypes=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n("cjihgicbe")),i=u(n("bfbggcdbfb"));function u(e){return e&&e.__esModule?e:{default:e}}t.MediaPickerChangeTypes={mediaPickerCroppedRotated:"mediaPickerCroppedRotated",mediaPickerDrawing:"mediaPickerCroppedRotated",mediaPickerStickers:"mediaPickerCroppedRotated",mediaPickerText:"mediaPickerCroppedRotated"};var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mediaByTypeAndOrigin=new Map,this.mediaEventReverseIndex=new Map,this.chatRecipients=null}return a(e,[{key:"pauseTimer",value:function(){this.mediaByTypeAndOrigin.forEach(function(e){e.onPause()})}},{key:"resumeTimer",value:function(){this.mediaByTypeAndOrigin.forEach(function(e){e.onResume()})}},{key:"_getKey",value:function(e,t){return`${e}_${t}`}},{key:"_commitLog",value:function(e){new i.default.MediaPicker(r({},e,{chatRecipients:this.chatRecipients})).commit()}},{key:"_processNewMedia",value:function(e,t,n){var r=this._getKey(t,n),a=this.mediaByTypeAndOrigin.get(r);if(a)a.onAdd(e),this.mediaEventReverseIndex.set(e,a);else{var i=new o.default(e,t,n);this.mediaByTypeAndOrigin.set(r,i),this.mediaEventReverseIndex.set(e,i)}}},{key:"logChange",value:function(e,t){var n=this.mediaEventReverseIndex.get(e);n&&n.onChange(e,t)}},{key:"logDelete",value:function(e){var t=this.mediaEventReverseIndex.get(e);t&&t.onDelete(e)}},{key:"logSend",value:function(){var e=this;this.mediaByTypeAndOrigin.forEach(function(t){e._commitLog(t.onSend())})}},{key:"logCancel",value:function(){var e=this;this.mediaByTypeAndOrigin.forEach(function(t){e._commitLog(t.onCancel())})}},{key:"logAdd",value:function(e,t,n){this.mediaEventReverseIndex.get(e)||this._processNewMedia(e,t,n)}}]),e}();t.default=s},bbddghdigd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=m(n("effbcehec")),i=m(n("cfaiaibca")),u=m(n("dacdidjdfi")),s=m(n("bbchdeehff")),l=m(n("baagejbchg")),c=m(n("dciidighgh")),f=m(n("bjbdcigbdi")),d=m(n("dhfbfehaef")),p=m(n("fffdgbfji")),h=m(n("chcadgfgad"));function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={clearMedia:!0},r.onCancel=function(){(0,r.props.onPopupCancel)()},r.onRevoke=function(){var e=r.props,t=e.chat,n=e.msgList,a=e.toastPosition,o=e.onCancel,i=e.onRevoke;s.default.sendRevokeMsgs(t,n,r.state.clearMedia,null,a),i(),o&&o()},r.onDelete=function(){var e=r.props,t=e.chat,n=e.msgList,a=e.toastPosition,o=e.onCancel,i=e.onDelete,u=e.isMsgVisible;s.default.sendDeleteMsgs(t,n,r.state.clearMedia,null,a),i(),o&&o(),s.default.existsDrawerRight(function(e){e&&u&&n.forEach(function(e){u(e.id,!0)&&s.default.closeDrawerRight()})})},r.onToggleClearMedia=function(){r.setState({clearMedia:!r.state.clearMedia})},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=void 0,t=this.props,n=t.msgList,r=t.deletePrompt,s=t.revokePrompt;f.default.supportsFeature(f.default.F.DELETE_MSG_CLEAR_MEDIA)&&n.some(function(e){return e.isMMS&&e.type!==l.default.MSG_TYPE.STICKER})&&(e=a.createElement("div",{className:c.default.container,onClick:this.onToggleClearMedia,key:0},a.createElement("div",{"data-a8n":o.default.key("menu-icon-revoke-message"),className:c.default.control},a.createElement(u.default,{onChange:this.onToggleClearMedia,checked:this.state.clearMedia})),a.createElement("div",{className:c.default.label},p.default.t(311))));var m=a.createElement(i.default,{type:"plain",onClick:this.onCancel,key:0},p.default.t(1153)),b=null,g=null,v=null,y=function(){},_=n.length,E=p.default.t(372,{_plural:_});if(s&&(b=a.createElement(i.default,{a8nText:"popup-controls-revoke",type:"plain",onClick:this.onRevoke,key:1},p.default.t(966)),y=this.onRevoke),r){var j=f.default.supportsFeature(f.default.F.REVOKE)?p.default.t(366):p.default.t(1185);g=a.createElement(i.default,{a8nText:"popup-controls-delete",type:s?"plain":"primary",onClick:this.onDelete,key:2},j),y=this.onDelete}var O={enter:y,escape:this.onCancel};return g&&(v=b?a.createElement("div",{className:c.default.buttons},a.createElement("div",{className:c.default.button},g),a.createElement("div",{className:c.default.button},m),a.createElement("div",{className:c.default.button},b)):[m,g]),a.createElement(d.default,{handlers:O},a.createElement(h.default,{title:E,actions:v,children:[e]}))}}]),t}();g.displayName="DeleteRevokeMsgPopup",t.default=g},bbdfiiibib:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PIP_BUTTON_THEME=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("ceffhbhahb")),i=s(n("cbddhcffbc")),u=s(n("bfdcadbbif"));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.PIP_BUTTON_THEME={PLAYER:"PLAYER",PREVIEW:"PREVIEW"},c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){return a.createElement("div",{className:(0,o.default)(i.default.pipBtn,{[i.default.player]:this.props.theme===l.PLAYER,[i.default.preview]:this.props.theme===l.PREVIEW}),onClick:this.props.onClick},a.createElement(u.default,{name:"video-pip"}))}}]),t}();c.displayName="PiPButton",t.default=c},bbegbfcgh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=d(n("cfaiaibca")),i=d(n("bbchdeehff")),u=d(n("hfjchijff")),s=d(n("jheedhagg")),l=d(n("djhbegbdaf")),c=d(n("ihfccfgdf")),f=d(n("ieddhhghi"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,s=Array(o),l=0;l<o;l++)s[l]=arguments[l];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.onViewContact=function(){i.default.openDrawerRight(a.createElement(u.default,{chat:r.props.chat}),"slide-left",r.props.uim)},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.chat,n=e.dismissVCardPanel,r=t.receivedVCardMsgs;return a.createElement("div",{className:f.default.vcard},a.createElement(l.default,{id:473,plural:r.length}),a.createElement("div",{className:f.default.controls},a.createElement(o.default,{onClick:this.onViewContact,type:"plain-white"},a.createElement(l.default,{id:1117,plural:r.length})),a.createElement(o.default,{onClick:n,type:"plain-white"},a.createElement(l.default,{id:853}))))}}]),t}();h.CONCERNS={chat:["receivedVCardMsgs"]},h.displayName="VCardPanel",t.default=(0,s.default)((0,c.default)(h,h.CONCERNS))},bbegjdfcja:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=n("baagejbchg"),o=n("dgjacfgggf"),i=n("bgabgddgch"),u=n("dhdiigfejc");var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"fileToPdf",value:function(e){var t=URL.createObjectURL(e);return Promise.loop(function(e,t,r){var a=Promise.delay(i.expBackoff(r,12e4,0,0));return new Promise(function(t,r){n.e(133).then(function(r){var a=n("bgdajhffca");a.GlobalWorkerOptions.workerSrc=u,e(a),t(a)}.bind(null,n)).catch(n.oe)}).catch(function(e){return a})}).then(function(e){return e.getDocument(t)})}},{key:"releasePdf",value:function(e){return e.destroy()}},{key:"pdfToImg",value:function(e,t){var n=document.createElement("canvas");return e.getPage(t).then(function(e){var t=e.getViewport(1),r=n.getContext("2d");n.height=t.height,n.width=t.width;var a={canvasContext:r,viewport:t};return e.render(a)}).then(function(){return o.canvasToBlob(n)}).then(function(t){var r=n.height,i=n.width,u=URL.createObjectURL(t);return Promise.props({url:u,thumbUrl:o.rotateAndResize(n,a.DOC_THUMB_MAX_EDGE,o.DATA_URL).then(function(e){return e.images.dataUrl}),width:i,height:r,pdfPages:e.numPages})})}}]),e}();e.exports=s},bbehjhfdfe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!a.default.me.equals(e.id)){var n=o.default.get(e.id);n&&("unsubscribe"===e.type?n.set({isSubscribed:!1,stale:!0}):(!function(e,t){var n=!1;void 0===t.type?t.type=e.chatstate.type||"unavailable":"paused"===t.type&&(n=!0,t.type="available");e.isGroup&&"available"!==t.type&&(t.updateTime=Date.now());var a=void 0;if(e.isGroup){if(!t.participant)return;t.id=t.participant,t.participant=void 0,a=e.chatstates.gadd(t.id)}else a=e.chatstate;n&&"composing"!==a.type&&"recording"!==a.type||a.set(t);a.expireTimerId&&clearTimeout(a.expireTimerId);"composing"===a.type||"recording"===a.type?a.expireTimerId=setTimeout(function(){return function(e){var t=e.type;"composing"!==t&&"recording"!==t||(e.type="available")}(a)},r.default.PRESENCE_COMPOSING_TIMEOUT):a.expireTimerId=void 0;var o=e.forceDisplay||e.isOnline||e.isUser&&!e.chatstate.deny;e.set({hasData:!0,forceDisplay:o})}(n,e),t&&n.set({stale:!1})))}return Promise.resolve()};var r=i(n("baagejbchg")),a=i(n("bjigbaghc")),o=i(n("ebbjbbjjg"));function i(e){return e&&e.__esModule?e:{default:e}}},bbeifbebhh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=f(n("bfifighhia")),i=f(n("dfehedcfdb")),u=f(n("djidjciehe")),s=f(n("gjhhbhigc")),l=f(n("dfaebdhdda")),c=f(n("bahjhjjhfe"));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),r(t,null,[{key:"jsx",value:function(e,t,n){var r=n.selectable,o=void 0!==r&&r,i=t.href,s=t.suspiciousCharacters;return s&&s.size?a.createElement(c.default,{link:t,selectable:o},e):a.createElement(u.default,{href:i,selectable:o},e)}}]),t}();function p(e){var t=e.index,n=t+e.url.length-1;return[t,t,n,n,e]}function h(e,t){for(var n=0,r=0;n<e.length&&r<t.length;){var a=t[r][3]-e[n][3];if(a>0)n++;else if(a<0)r++;else{e[n][2]--,e[n][3]--;var o=e[n][5];o.href=o.href.slice(0,-1),o.path=o.path&&o.path.slice(0,-1),o.url=o.url.slice(0,-1),r++,n++}}}d.format=!1,d.match=function(e,t,n){var r=t.links;return(void 0===r?[]:r).map(p)},d.conflictResolvers=new Map([[o.default,h],[i.default,h],[l.default,h]]),t.default=d},bbfeidbiai:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.regex=new RegExp("^"+t[0]+"$"),this.formatString=t[1],this.leadins=t[2].map(function(e){return new RegExp("^(?:"+e+")")})}return r(e,[{key:"testAndFormat",value:function(e){return this.regex.test(e)&&this.checkLeadins(e)?e.replace(this.regex,this.formatString):null}},{key:"checkLeadins",value:function(e){return 0===this.leadins.length||this.leadins.some(function(t){return t.test(e)})}}]),e}();t.default=a},bbfiaehhcd:function(e,t){e.exports={tab:"_2Bfgm",menu:"_2MyYN",carousel:"_2gwVC",carouselEnd:"_3-2hi",selected:"_2wn58"}},bbgehjjjbb:function(e,t,n){"use strict";var r=o(n("dgdjiicfdg")),a=o(n("eaaehfdjdg"));function o(e){return e&&e.__esModule?e:{default:e}}var i={findGroupPendingInvitesFromPhone:function(e,t){var n=this;return new Promise(function(r,a){var o=n.queryNode({type:"group",kind:"invite",from:e,jid:t},[]);n.binSend("sendEphemeral",o,a,{onSend:n.binWrap(function(e){n.BinaryProtocol.read(e).then(function(e){if("response"===n.N.tag(e)&&"group"===n.N.attr("type",e)){var t=n.N.children(e),a=t&&t[0];if(a){var o=[],i=n.N.children(a);Array.isArray(i)&&i.forEach(function(e){switch(n.N.tag(e)){case"participant":o.push({id:n.N.attr("jid",e)})}}),r({participants:o})}else r({status:"error",info:"bad format: no group node"})}else r({status:"error",info:"bad format: response incorrect"})}).catch(a)},r),onDrop:n.wrap(a)},{debugString:"query,group_pending_invite",metricName:"QUERY_GROUP",ackRequest:!1})})},acceptGroupV4Invite:function(e,t,n,o,i){var u=this;return new Promise(function(s,l){var c=a.default.tag(),f=u.wrap(s);f.tag=c;var d=["group",{id:c,author:i,jid:e,type:"accept"},[["accept",{admin:t,expiration:o,code:n},void 0]]],p=u.actionNode("set",[d]);u.binSend("send",p,l,{clientCacheable:!0,onSend:f,onDrop:u.wrap(l)},{debugString:"action,group_invite_accept,",ackRequest:!1,expires:(0,r.default)().unix()})})},revokeGroupV4Invite:function(e,t,n){var o=this;return new Promise(function(i,u){var s=a.default.tag(),l=o.wrap(i);l.tag=s;var c=e.map(function(e){return["participant",{jid:e},void 0]}),f=["group",{id:s,author:n,jid:t,type:"revoke"},c],d=o.actionNode("set",[f]);o.binSend("send",d,u,{clientCacheable:!0,onSend:l,onDrop:o.wrap(u)},{debugString:"action,group_invite_revoke,",ackRequest:!1,expires:(0,r.default)().unix()})})},parseInviteUpdate(e){var t=[],n=[this.N.attr("kind",e),this.N.attr("jid",e),this.N.attr("type",e)],r=n[1];if("update"===n[0]&&"invite"===n[2]&&void 0!==r){for(var a=this.N.children(e),o=0;o<a.length;o++){var i=a[o];"participant"===this.N.tag(i)&&t.push(this.N.attr("jid",i))}return{gid:r,participants:t}}}};e.exports=i},bbhahjgijh:function(e,t,n){"use strict";function r(e,t){return e===t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r;if(e===t)return!0;if(e.length!==t.length)return!1;return e.every(function(e,r){return n(e,t[r])})}},bbhdaaahah:function(e,t){e.exports={tooltip:"_2KuNh","tooltip-left-ltr":"_1hDS8",tooltipLeftLtr:"_1hDS8","tooltip-left-rtl":"_2ehMR",tooltipLeftRtl:"_2ehMR"}},bbhdgdbggg:function(e,t){e.exports={container:"_3IHPx",image:"_3ktqx",body:"_3WHNc",badge:"_27UdA",name:"_2nJlj",address:"_3AuNx",description:"bfgpN"}},bbhejgbajf:function(e,t,n){"use strict";var r=o(n("dbajccegac")),a=o(n("jajcehbed"));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=function(e){return Promise.all(e.map(function(e){return function(e){var t=void 0;return new Promise(function(n,a){(t=new FileReader).addEventListener("loadend",function(){n(r.default.build(t.result))}),t.addEventListener("error",function(e){return a(e)}),t.readAsArrayBuffer(e)})}(e.blob)})).then(function(t){var n,r=new a.default;return t.forEach(function(t,n){return r.add(t,e[n].name)}),n=r.create(),new Blob([n.readByteArray()],{type:"application/zip"})})}},bbhhbdicgc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnknownDataError=t.DEFAULT_ITEM_HEIGHT=t.DEFAULT_ITEM_WIDTH=void 0;var r=m(n("eaaagccfda")),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=m(n("ceffhbhahb")),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),s=m(n("iffjgahba")),l=m(n("dcbafbbijj")),c=m(n("bebjeaagc")),f=m(n("bdigfbgefi")),d=m(n("bbagfcaiaf")),p=m(n("dfafdjbjfd")),h=m(n("didfdhbecg"));function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=t.DEFAULT_ITEM_WIDTH=72,_=t.DEFAULT_ITEM_HEIGHT=72,E=150,j=(t.UnknownDataError=function(e){function t(e){return b(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,`Unknown data encountered while rendering. Item key: ${e.itemKey}`))}return v(t,(0,s.default)("UnknownDataError")),t}(),function(e){function t(){var e,n,a;b(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=a=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.keyPool=new f.default,a.scrollFromStart=0,a.offsetFromStart=0,a.bodyDimension=0,a.listLength=0,a.hanging=!1,a.pointerEvents=!0,a.setRefList=function(e){a.refList=e},a.state={firstIndex:0,lastIndex:0,renderedListLength:0},a.setListLength=function(){a.setState({renderedListLength:a.listLength})},a.getListLength=function(){return a.state.renderedListLength},a.getDimension=function(e,t){return"horizontal"===t?a.getItemWidth(e):a.getItemHeight(e)},a.getItemWidth=function(e){return null!=e.width&&e.width>0?e.width:a.props.defaultItemWidth},a.getItemHeight=function(e){return null!=e.height&&e.height>0?e.height:a.props.defaultItemHeight},a.onLayout=function(e){var t=a.refList;if(t){var n="horizontal"===a.props.direction?t.getBoundingClientRect().left-e.position.left:t.getBoundingClientRect().top-e.position.top,r=Math.max(n,0);a.bodyDimension="horizontal"===a.props.direction?e.width:e.height,a.offsetFromStart=r,a.setState(a.computeIndexes(a.props))}},a.onScroll=function(){a.animationFrame?a.hanging=!0:(a.hanging=!1,a.animationFrame=requestAnimationFrame(a._onScroll))},a._onScroll=function(){a.disablePointerEvents();var e=a.state,t=e.firstIndex,n=e.lastIndex,r=a.props.flatListController.getScrollFromStart();if(null==r)throw new Error("FlatList:ScrollEvent thrown while container is unmounted");a.scrollFromStart=Math.max(r,0);var o=a.computeIndexes(a.props);if(t===o.firstIndex&&n===o.lastIndex)return a.onFinishScroll();a.setState(o,a.onFinishScroll)},a.onFinishScroll=function(){a.animationFrame=void 0,a.enablePointerEvents(),a.hanging&&a.onScroll()},a.enablePointerEvents=(0,r.default)(function(){if(a.animationFrame)return a.enablePointerEvents();null!=a.busyId&&(c.default.clearBusy(a.busyId),delete a.busyId),a.props.onPointerEventsOn&&a.props.onPointerEventsOn();var e=a.refList;e&&(e.style.pointerEvents="auto"),a.pointerEvents=!1},E),g(a,n)}return v(t,u.Component),o(t,[{key:"UNSAFE_componentWillMount",value:function(){this.computeData(this.props),this.setState({renderedListLength:this.listLength})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.computeData(e);var t=this.computeIndexes(e);e.itemEnterAnimationsEnabled&&this.listLength<this.state.renderedListLength?this.setState(t):this.setState(a({},t,{renderedListLength:this.listLength}))}},{key:"componentDidMount",value:function(){this.props.flatListController.registerList({handleLayout:this.onLayout,handleScroll:this.onScroll})}},{key:"componentWillUnmount",value:function(){this.props.flatListController.unregisterList(),this.enablePointerEvents.cancel(),this.cancelScroll()}},{key:"computeData",value:function(e){var t=this,n=0;this.data=e.data.map(function(e,r){var o=a({},e,{offset:n}),i=t.getDimension(e,t.props.direction);return n+=i,o}),this.listLength=n}},{key:"computeIndexes",value:function(e){if(void 0===this.bodyDimension||void 0===this.offsetFromStart)throw new Error("FlatList:Computing FlatList without a valid Container");for(var t=e.extraItems,n=e.forceConsistentRenderCount,r=this.scrollFromStart,a=0,o=0;o<this.data.length;o++){var i=this.data[o],u=this.getDimension(i,this.props.direction);if(this.offsetFromStart+i.offset+u>r){a=o;break}}for(var s=void 0,l=n?Math.min(this.data[a].offset+this.bodyDimension,this.listLength):Math.min(r+this.bodyDimension,this.listLength+this.offsetFromStart),c=a;c<this.data.length;c++){var f=this.data[c],d=this.getDimension(f,this.props.direction);if(this.offsetFromStart+f.offset+d>=l){s=c;break}}var p=t,h=t-a;h>0&&(p+=h);var m=t,b=s+t-this.data.length;return b>0&&(m+=b),{firstIndex:Math.max(a-m,0),lastIndex:Math.min(s+p,this.data.length-1)}}},{key:"cancelScroll",value:function(){this.animationFrame&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=void 0,this.hanging=!1)}},{key:"disablePointerEvents",value:function(){if(this.busyId=c.default.setBusy(this.busyId),!this.pointerEvents){this.props.onPointerEventsOff&&this.props.onPointerEventsOff();var e=this.refList;e&&(e.style.pointerEvents="none"),this.pointerEvents=!0}}},{key:"scrollIntoViewIfNeeded",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e<0||e>=this.data.length)throw new Error("Invalid Index.");var n=this.data[e].offset;(n<this.scrollFromStart-t||n>this.scrollFromStart+this.bodyDimension+t)&&this.props.flatListController.setScrollFromStart(n)}},{key:"getComponents",value:function(){var e=this,t=this.props,n=t.reorderAnimationsEnabled,r=t.renderItem,o=this.state,i=o.firstIndex,s=o.lastIndex,l=this.data.slice(i,s+1);return this.keyPool.recycleKeysAndMap(l).map(function(t,o){var i=t.rctKey,s=t.data,l="horizontal"===e.props.direction?{width:e.getItemWidth(s)}:{height:e.getItemHeight(s)};return u.createElement(p.default,{key:i,data:a({},s,l),animate:!!n&&d.default.shouldAnimate,zIndex:e.data.length-o-1,renderItem:r,listDirection:e.props.direction})})}},{key:"render",value:function(){var e="horizontal"===this.props.direction?{width:this.state.renderedListLength}:{height:this.state.renderedListLength};return u.createElement("div",{className:(0,i.default)(this.props.className),ref:this.setRefList},u.createElement("div",{className:(0,i.default)(l.default.viewport,{[l.default.horizontalListViewport]:"horizontal"===this.props.direction,[l.default.verticalListViewport]:"vertical"===this.props.direction}),style:e},this.props.itemEnterAnimationsEnabled?u.createElement(h.default,{transitionName:"fade",onAnimationComplete:this.setListLength},this.getComponents()):this.getComponents()))}}]),t}());j.defaultProps={defaultItemHeight:_,defaultItemWidth:y,forceConsistentRenderCount:!0,extraItems:5,initialScrollFromStart:0,reorderAnimationsEnabled:!0},j.displayName="FlatList",t.default=j},bbiacghfif:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(!e)return;var r=[];r.push(e);for(;r.length;){var a=r.shift(),o=n(a);if(o)return a;r=r.concat(t(a))}}},bbibiacbfd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=c(n("bdbfijejbi")),i=n("cgffhfegce"),u=c(n("bdiiahhjbe")),s=n("dbjchhfjhj"),l=c(n("dicdgcbidg"));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={animationFramesInfo:null},(0,i.blobToArrayBuffer)(n.props.blob).then(l.default).then(function(e){n.setState({animationFramesInfo:e})}).catch(function(e){u.default.error(`AnimationCanvas error: ${e}`)(e)}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.state.animationFramesInfo;if(!e)return this.props.renderPreview();var t=e.width,n=e.height,r=e.frames;return a.createElement(o.default,{className:this.props.className,width:t,height:n,animationFrames:r,startAnimation:Boolean(this.props.loopAnimation||this.props.startAnimation),maxLoops:this.props.loopAnimation?1/0:s.MAX_LOOPS,maxDuration:this.props.loopAnimation?1/0:s.MAX_DURATION,onClick:this.props.onClick})}}]),t}();f.displayName="AnimationCanvas",t.default=f},bbicdddbdj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("dghhefgjhc").EMOJI.ORDERED_CATEGORY_IDS,a=(t.EMOJI_TYPE={APPLE:"APPLE",WHATSAPP:"WHATSAPP"},t.EMOJI_WIDTH={small:20,large:35},t.LARGE_EMOJI_SIZE={MEDIUM:"MEDIUM",LARGE:"LARGE",XLARGE:"XLARGE"},t.CATEGORY_ORDERING=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r),["VARIATION"]));t.VARIATION_CATEGORY=a.indexOf("VARIATION")},bbijaajigb:function(e,t,n){"use strict";e.exports={singleByte:["privacy","blacklist","whitelist","verify"]}},bbjadhadbg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=u(n("cjieghfgda")),i=u(n("ihfccfgdf"));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={},s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.url!==t.url}},{key:"componentWillUnmount",value:function(){this.state.url&&o.default.decreaseUsageCount(this.props.mediaData.filehash)}},{key:"render",value:function(){return this.state.url?this.props.children(this.state.url):this.props.placeholderRenderer()}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.mediaData.filehash;return n!==t.filehash&&(t.url&&(t.url=null,o.default.decreaseUsageCount(t.filehash)),t.filehash=n),t.url?t:o.default.has(n)?(o.default.increaseUsageCount(n),{url:o.default.getOrCreateURL(n),filehash:n}):(e.downloadMedia&&e.downloadMedia(),t)}}]),t}();l.CONCERNS={mediaData:["filehash","mediaStage"]},l.displayName="MediaUrlProvider",t.default=(0,i.default)(l,l.CONCERNS)},bbjjjbicfb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.intColorToHex=f;var a=n("dcaifjegcg"),o=s(a),i=s(n("ddcfhecgai")),u=s(n("bhggeigghg"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.id=(0,a.prop)(),r.name=(0,a.prop)(),r.color=(0,a.prop)(),r.count=(0,a.prop)(),r.stale=(0,a.session)(!0),r.hexColor=(0,a.derived)(r._hexColor,["color"]),l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"initialize",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this),this.labeltemColleciton=new i.default,this.triggerLabelUpdate(),this.listenTo(this,"change:name",this.triggerLabelUpdate),this.listenTo(this,"change:color",this.triggerLabelUpdate),this.listenTo(this,"change:count",this.triggerLabelUpdate)}},{key:"_hexColor",value:function(){if(this.color)return f(this.color)}},{key:"_find",value:function(e){return Promise.resolve({id:e})}},{key:"triggerLabelUpdate",value:function(){this.name&&u.default.Label.trigger(`label_updated_${this.id}`)}}]),t}();function f(e){return`#${(parseInt(e,10)>>>0).toString(16).slice(-6)}`}c.Proxy="label",t.default=(0,a.defineModel)(c)},bcadhjihfb:function(e,t){e.exports={icon:"_1ECO8"}},bcafcjajcb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=o(n("dghbeeheia"));o(n("bfdcadbbif"));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.icon?r.createElement("div",{className:a.default.icon},e.icon):null;return r.createElement("div",{className:a.default.note},t,r.createElement("div",{className:a.default.noteBody},e.children))}i.displayName="PiPOverlay"},bcajjbibcd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=n("dacdidjdfi"),u=c(i),s=c(n("ddfbaajaeh")),l=c(n("eceadcicaf"));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));d.call(n);var r=n.props,a=r.multiSelection,o=r.initialSelection,i=r.model,u=!1,s=!1;switch(o){case 0:u=!1,s=!1;break;case 1:u=!0,s=!1;break;case 2:u=!0,s=!0;break;default:u=a.isSelected(i),s=!1}return n.state={selected:u,partialSelected:s,modelId:i.id.toString()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(this.props.multiSelection,this.props.model.id.toString(),this.onSelectChange),this.props.selectableState&&this.props.listeners.add(this.props.selectableState,"all",this.onSelectableChange)}},{key:"componentDidUpdate",value:function(e){var t=e.model,n=e.multiSelection,r=e.listeners,a=t.id.toString(),o=this.props.model.id.toString();n&&a!==o&&(r.remove(n,a,this.onSelectChange),r.add(n,o,this.onSelectChange))}},{key:"render",value:function(){var e=this.props,t=e.theme,n=e.selectableState,r=e.children,l=(0,a.default)(s.default.checkboxChatControl,{[s.default.labelSelection]:"label-selection"===this.props.theme}),c=n&&n.isSelectable,f={};if(c&&t&&Object.assign(f,{theme:t}),c&&Object.assign(f,{noContext:!0}),!r)return null;var d=o.Children.toArray(r)[0],p="label-selection"===t?this.onSelect:null;return o.createElement("div",{className:s.default.checkboxChatWrapper,onClick:p},c&&o.createElement("div",{className:l,onClick:this.onSelect},o.createElement(u.default,{onChange:this.onSelect,checked:this.state.selected,theme:this.state.selected&&this.state.partialSelected?i.CHECKBOX_THEME.PARTIAL:void 0})),o.cloneElement(d,f))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.modelId,r=e.multiSelection,a=e.model,o=a.id.toString();return r&&n!==o?{modelId:o,selected:r.isSelected(a)}:null}}]),t}(),d=function(){var e=this;this.onSelectableChange=function(){e.forceUpdate()},this.onSelectChange=function(t){e.state.selected!==t&&e.setState({selected:t})},this.onSelect=function(t){t&&t.stopPropagation();var n=e.props,r=n.onSelect,a=n.model,o=void 0;e.state.selected?(e.setState({selected:!1,partialSelected:!1}),o=!1):o=!0,r&&r(a,o,!1)}};f.displayName="CheckboxWrapper",t.default=(0,l.default)(f)},bcbahjefec:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=c(n("edjfhjcce")),i=c(n("cahfddcdga")),u=c(n("caffijjhc")),s=c(n("dfefggiaaf")),l=c(n("didfdhbecg"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,u=Array(o),s=0;s<o;s++)u[s]=arguments[s];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={_stack:[],_transition:"default",_activeKey:0,_ended:!1},r.setRefUIE=function(e){r.refUIE=e},r.popAndUpdate=function(e,t){var n=r.state._stack;n.length<2&&r.pop(t);var o=a.cloneElement(n[n.length-2],e);n[n.length-2]=o,r.pop(t)},r.push=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.props.pushTransition;r.setState({_stack:r.state._stack.concat(e),_transition:t,_activeKey:++r.state._activeKey,_ended:!1})},r.pop=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.props.popTransition,t=r.state._stack.slice(0,-1);t.length?r.setState({_stack:t,_transition:e,_activeKey:--r.state._activeKey}):r.state._ended||r.setState({_ended:!0},r.end)},r.end=function(e){r.props.onEnd?r.props.onEnd(e):(0,i.default)(r._uim).uie.requestDismiss(e)},r.requestFocus=function(){},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"handleRequestDismiss",value:function(e){this.pop()}},{key:"render",value:function(){var e=this,t=this.state,n=t._stack,r=t._transition,i=t._activeKey;if(0===n.length)return null;var c=n[n.length-1];return c=a.createElement(u.default,{displayName:`FlowDrawer${i}`,key:i,escapable:!0,ref:this.setRefUIE,requestFocus:this.requestFocus,requestDismiss:this.handleRequestDismiss.bind(this)},c),a.createElement(l.default,{transitionName:r,className:o.default.container},a.createElement(s.default.Consumer,null,function(t){e._uim=t}),this.props.removeTopDrawer?c:n)}}]),t}();d.defaultProps={removeTopDrawer:!0,pushTransition:"flow-transition-drawer-push",popTransition:"flow-transition-drawer-pop"},d.displayName="FlowComponent",t.default=d},bcbeeajhgb:function(e,t,n){"use strict";var r=f(n("ddfeabiaci")),a=n("bgiachiigg"),o=n("bbcaggdbc"),i=f(n("dcdifccjdh")),u=f(n("bjigbaghc")),s=f(n("bdiiahhjbe")),l=f(n("cffajefeag")),c=f(n("cahfddcdga"));function f(e){return e&&e.__esModule?e:{default:e}}var d={version:"13",parseMsgMessage:function(e,t){if("message"===this.N.tag(e)){var n=this.N.children(e);if(n instanceof ArrayBuffer)try{var r=o.WebMessageInfo.parse(n);return this.parseWebMessageInfo(r,t)}catch(t){return s.default.log(`wmi error: ${String(t)}`)(),void s.default.assert(!1,"parse-error","drop: failed parsing wmi")(e)}else s.default.error("drop: no bytes")(e)}else s.default.error("drop: not message")(e)},parseWebMessageInfo:function(e,t){var n=e.key,r=this.decodeJid(n.remoteJid),a=n.fromMe?r:u.default.me,o=n.fromMe?u.default.me:r,i=this.decodeJid(n.participant),f="in";if(u.default.me.equals(r)&&(f=n.fromMe?"out":"in"),"broadcast"!==a){var d=void 0;try{d=new l.default({fromMe:(0,c.default)(n.fromMe),remote:r,id:(0,c.default)(n.id),participant:i})}catch(e){return void s.default.error("drop: cannot create MsgKey: "+e.stack)()}var p={id:d,from:o,to:a,self:f,participant:i,type:"unknown",t:e.messageTimestamp||0,ack:"fresh"===t?1:e.status-1,author:this.decodeJid(e.participant),invis:!!e.ignore,star:!!e.starred,broadcast:n.fromMe&&e.broadcast,notifyName:e.pushName||"",encFilehash:this.decodeBytes(e.mediaCiphertextSha256),shareDuration:e.message&&e.message.liveLocationMessage?e.duration:void 0,labels:e.labels,ephemeralStartTimestamp:e.ephemeralStartTimestamp,ephemeralDuration:e.ephemeralDuration};return e.message?this.parseMsgProto(e.message,p,t,e.paymentInfo,e.finalLiveLocation,e.quotedPaymentInfo):this.parseMsgStubProto(e,p)}s.default.error("drop: broadcast")(e)},parseMsgStubProto:function(e,t){var n=o.WebMessageInfo.STUBTYPE;switch(e.messageStubType){case n.REVOKE:return t.type="revoked",t;case n.CIPHERTEXT:return t.type="ciphertext",t;case n.FUTUREPROOF:return t.type="unknown",t.subtype="phone",t;default:return t}},parseProtocolMessageProto:function(e,t,n){if("relay"===n){var r=t.key,o=new l.default({fromMe:r.fromMe,remote:this.decodeJid(r.remoteJid),id:r.id,participant:this.decodeJid(r.participant)});switch(e.type="protocol",e.protocolMessageKey=o,t.type){case a.Message.ProtocolMessage.TYPE.REVOKE:e.subtype="revoke";break;case a.Message.ProtocolMessage.TYPE.EPHEMERAL_SETTING:e.subtype="ephemeral_setting",e.ephemeralDuration=t.ephemeralExpiration;break;default:e.subtype="unknown"}}}};e.exports=(0,r.default)(d,i.default)},bcbeebghff:function(e,t,n){"use strict";var r,a=n("bdiiahhjbe"),o=(r=a)&&r.__esModule?r:{default:r};var i=["url","mediaKey","filehash","encFilehash","width","height","mimetype"],u=["url","mediaKey","filehash","encFilehash","mimetype"];function s(e,t){for(var n=0;n<t.length;n++)if(!e[t[n]])return!1;return!0}var l={mediaUpload:function(e,t){var n=this;return new Promise(function(r,a){var l=n.queryNode({type:"media",kind:e,id:t.toString()},void 0);n.binSend("sendEphemeral",l,a,{onSend:n.binWrap(function(t){n.BinaryProtocol.read(t).then(function(t){if(o.default.logColor("green","bin-recv: response,media",t)(),"response"!==n.N.tag(t)||"media"!==n.N.attr("type",t))return o.default.error("wap:mediaUpload:malformed")(),void r({status:400});var a=parseInt(n.N.attr("code",t))||200;if(200!==a)return o.default.error("wap:mediaUpload:error "+a)(),void r({status:a});switch(e){case"sticker":var l={directPath:n.N.attr("direct_path",t),url:n.N.attr("url",t),filehash:n.N.attr("filehash",t),encFilehash:n.N.attr("enc_filehash",t),mediaKey:n.N.attr("media_key",t),mimetype:n.N.attr("mimetype",t),height:n.N.attr("height",t),width:n.N.attr("width",t)};return s(l,i)?void r({status:a,sticker:l}):(o.default.error("wap:mediaUpload:missing-field")(),void r({status:400}));case"sticker-pack":var c={directPath:n.N.attr("direct_path",t),url:n.N.attr("url",t),filehash:n.N.attr("filehash",t),encFilehash:n.N.attr("enc_filehash",t),mediaKey:n.N.attr("media_key",t),mimetype:n.N.attr("mimetype",t)};return s(c,u)?void r({status:a,stickerPack:c}):(o.default.error("wap:mediaUpload:missing-field")(),void r({status:400}));case"quick-reply":throw new Error('"quick-reply" not yet implemented');default:throw new Error(`unknown kind ${e}`)}})},r),onDrop:n.wrap(a)},{debugString:"query,media",metricName:"QUERY_MEDIA",ackRequest:!1})})}};e.exports=l},bcbfebgcic:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendQueryGroupInviteCode=function(e){var t=void 0;if(a.default.supportsFeature(a.default.F.MD_BACKEND))return Promise.reject(new Error("queryGroupInvite: not supported when not build with MD_BACKEND"));t=o.default.groupInviteCode(e).then(function(e){return 200===e.status?e.code:Promise.reject(new r.ServerStatusCodeError(e.status))});return t},t.sendRevokeGroupInviteCode=function(e){var t=void 0;if(a.default.supportsFeature(a.default.F.MD_BACKEND))return Promise.reject(new Error("queryGroupInvite: not supported when not build with MD_BACKEND"));t=o.default.revokeGroupInvite(e).then(function(e){return 200===e.status?e.code:Promise.reject(new r.ServerStatusCodeError(e.status))});return t},t.sendJoinGroupViaInvite=function(e){var t=void 0;if(a.default.supportsFeature(a.default.F.MD_BACKEND))return Promise.reject(new Error("joinGroupViaInvite: not supported when not build with MD_BACKEND"));t=o.default.acceptGroupInvite(e).then(function(e){return 200===e.status?e.gid:Promise.reject(new r.ServerStatusCodeError(e.status))});return t};var r=n("ddjgcfjicj"),a=i(n("bjbdcigbdi")),o=i(n("bihdhbjih"));function i(e){return e&&e.__esModule?e:{default:e}}},bcbhbedgh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=window.MediaError||{MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4};t.default=r},bcbhcfbjff:function(e,t){e.exports={quote:"oLwmo",hasAuthor:"_19aTC",bubble:"Eu2_h",meta:"_3qAvH",isTransparent:"_2Hp95",body:"_3FGS1",author:"_3Mf7Z",isFirst:"_1X6iJ"}},bcbjcgdgdf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OPERATIONS=void 0,t.default=function(e){var t=e.encFilehash,n=e.directPath,i=e.hosts,s=e.operation,l=e.type;if(!i.length)return{selectedHost:null,fallbackHost:null};var c=void 0,f=void 0,d=void 0,p=void 0,h=!1;if(s===u.DOWNLOAD){var m=i[0],b=n?n.match(/&_nc_hot=([0-9]+)/):null,g=parseInt(b&&b[1],10),v=isNaN(g)?null:Date.now()-g;null!=o.CAT_HOST_TIMESPAN&&o.CAT_HOST_TIMESPAN>0&&(l===a.default.STICKER||null!=v&&v<=o.CAT_HOST_TIMESPAN)?c=1:o.MMS_VCA_ENABLED&&null!=o.MAX_BUCKETS&&(c=(0,r.default)(t,o.MAX_BUCKETS)+100),null!=c&&(f=i[c]),null!=f&&f.supportsDownloadMediaType(l)?d=f:m.supportsDownloadMediaType(l)?d=m:h=!0}for(var y=0;y<i.length;y++){var _=i[y];if(_.isFallback()&&null==p&&(p=_,h)){d=_;break}if(s===u.UPLOAD?null==d&&_.supportsUploadMediaType(l)&&(d=_):null==d&&_.supportsDownloadMediaType(l)&&(d=_),null!=d&&null!=p)break}return{selectedHost:d,fallbackHost:p}};var r=i(n("bgaigbgdgj")),a=i(n("gbjefdbgb")),o=n("cjcabghhji");function i(e){return e&&e.__esModule?e:{default:e}}var u=t.OPERATIONS={DOWNLOAD:"DOWNLOAD",UPLOAD:"UPLOAD"}},bcdafjgefj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e}},bcdgdcghdi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("bbhdaaahah"),i=(r=o)&&r.__esModule?r:{default:r};var u=function(e){var t=e.children;return a.createElement("div",{className:i.default.tooltip},t)};u.displayName="ErrorTooltip",t.default=u},bcdjifadgi:function(e,t){e.exports={msgUnread:"_3Xx0y",msgUnreadBody:"_1lo-H"}},bceahhbbcj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendAddParticipants=function(e,t){var n=void 0;if(r.default.supportsFeature(r.default.F.MD_BACKEND))return Promise.reject(new Error("addParticipants: not supported when not build with MD_BACKEND"));n=a.default.addParticipants(e,t);return n},t.sendRemoveParticipants=function(e,t){var n=void 0;if(r.default.supportsFeature(r.default.F.MD_BACKEND))return Promise.reject(new Error("sendRemoveParticipants: not supported when not build with MD_BACKEND"));n=a.default.removeParticipants(e,t);return n},t.sendDemoteParticipants=function(e,t){var n=void 0;if(r.default.supportsFeature(r.default.F.MD_BACKEND))return Promise.reject(new Error("sendDemoteParticipants: not supported when not build with MD_BACKEND"));n=a.default.demoteParticipants(e,t);return n},t.sendPromoteParticipants=function(e,t){var n=void 0;if(r.default.supportsFeature(r.default.F.MD_BACKEND))return Promise.reject(new Error("sendPromoteParticipants: not supported when not build with MD_BACKEND"));n=a.default.promoteParticipants(e,t);return n};var r=o(n("bjbdcigbdi")),a=o(n("bihdhbjih"));function o(e){return e&&e.__esModule?e:{default:e}}},bcebbbdfff:function(e,t){e.exports={title:"_3dcGh",titleMain:"_3KSMx",meta:"_2V2qB",chat:"_3KF1B",divider:"jLybP",chevron:"_1eKcW",avatar:"_2v7qI",author:"_3iZHE"}},bceghabha:function(e,t){e.exports={caption:"_1gsyD",meta:"_20GYl"}},bcfhbihafa:function(e,t){e.exports={bubble:"ziVVa",nonAlbumBubble:"_1B0zT",author:"_3SEoy",forwarded:"_1Mor7",forwardedIndicator:"_2Jc4M",hasAuthor:"pQmpN",meta:"I9Ei4",hasCaption:"TKXOd",caption:"_2T6qL",isPSA:"UCfcT",isPsa:"UCfcT",quote:"_1KUAa",thumb:"QKz-g",inAlbum:"_2Ww6n",cursorPointer:"cMrTV",thumbBody:"_2IYG6",duration:"_3_IKd",icon:"_1aGfY",pipBtn:"_3izSd",isHover:"_pvFP",overlay:"_1I2vC",overlayAlbumText:"_3rxI-"}},bcfiaiddii:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FULLSCREEN_CONTROLS_DISPLAY_TIMEOUT=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=h(n("bbchdeehff")),i=(n("cgecdbiihg"),h(n("bffjfbgbg"))),u=h(n("eiiicijcj")),s=h(n("dcjaajabae")),l=h(n("eafjfadchb")),c=h(n("ichhibhgh")),f=h(n("beddiafhbh")),d=h(n("ihfccfgdf")),p=n("bheafeifce");function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.FULLSCREEN_CONTROLS_DISPLAY_TIMEOUT=3e3;var b=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,f=Array(i),d=0;d<i;d++)f[d]=arguments[d];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(f))),r.setRefVideoPlayer=function(e){r.refVideoPlayer=e},r.handleOpenMediaViewer=function(){r.props.onOpenMediaViewer&&r.props.onOpenMediaViewer(),o.default.mediaViewerModal({msg:(0,p.unproxy)(r.props.msg),currentTime:r.getCurrentTimeFromVideo()})},r.handleOpenVideoFloater=function(){r.props.onOpenVideoFloater&&r.props.onOpenVideoFloater(),c.default.openPiP((0,p.unproxy)(r.props.msg),r.getCurrentTimeFromVideo(),null)},r.handleMissingMedia=function(){r.props.onMissingMedia&&r.props.onMissingMedia(),o.default.openModal(a.createElement(u.default,{msg:r.props.msg})),r.props.onClose()},r.handleUnsupportedMedia=function(){r.props.onUnsupportedMedia&&r.props.onUnsupportedMedia(),o.default.openModal(a.createElement(l.default,{msg:r.props.msg})),r.props.onClose()},r.handleNeedPokeMedia=function(){r.props.onNeedPokeMedia&&r.props.onNeedPokeMedia(),o.default.openModal(a.createElement(s.default,{msg:r.props.msg})),r.props.onClose()},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidUpdate",value:function(){switch(this.props.mediaData.mediaStage){case i.default.STAGE.ERROR_MISSING:this.handleMissingMedia();break;case i.default.STAGE.ERROR_UNSUPPORTED:this.handleUnsupportedMedia();break;case i.default.STAGE.NEED_POKE:this.handleNeedPokeMedia()}}},{key:"getCurrentTimeFromVideo",value:function(){return this.refVideoPlayer?this.refVideoPlayer.getCurrentTimeFromVideo():0}},{key:"render",value:function(){var e={msg:this.props.msg,mediaData:this.props.mediaData};return a.createElement(f.default,{ref:this.setRefVideoPlayer,type:this.props.type,msgVideoInfo:e,startTime:this.props.startTime,onClose:this.props.onClose,onVideoEnded:this.props.onVideoEnded,onError:this.props.onError,onOpenMediaViewer:this.handleOpenMediaViewer,onOpenVideoFloater:this.handleOpenVideoFloater,onMissingMedia:this.handleMissingMedia,onUnsupportedMedia:this.handleUnsupportedMedia,autoPlay:this.props.autoPlay})}}]),t}();b.CONCERNS={msg:["id"],mediaData:["mediaStage","preview","streamable"]},b.displayName="MsgVideoPlayer",t.default=(0,d.default)(b,b.CONCERNS)},bcfjfagjhe:function(e,t){e.exports={header:"_8-yzK"}},bchecggagg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requireInfoFlow=function(){return o().then(function(e){return e.requireInfoFlow()})};var r=a(n("bdiiahhjbe"));function a(e){return e&&e.__esModule?e:{default:e}}var o=(0,a(n("chdcdgjaad")).default)(function(){return new Promise(function(e,t){n.e(131).then(function(t){e({requireInfoFlow:function(){return n("bifbiahgch").default}})}.bind(null,n)).catch(n.oe).catch(t)})},function(e){1===e?r.default.assert(!1,"lazy-load-modals:failed to load for 1 time")():3===e?r.default.assert(!1,"lazy-load-modals:failed to load for 3 times")():10===e&&r.default.assert(!1,"lazy-load-modals:failed to load for 10 times")()})},bcibfcjcbf:function(e,t){e.exports={btnContext:"_1mGV6"}},bciccjdabc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n("cddgaecgia"),o=(r=a)&&r.__esModule?r:{default:r};var i=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.name="HttpTimedOutError",r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),t}();t.default=i},bcidefefj:function(e,t){e.exports={container:"_35e3l",containerBg:"_1h1c7",loadingBlock:"_30LsT",fadeIn:"_1eaSE",column:"_3C2U5",lastColumn:"_3k7bP",lastColumnWidth:"C1Los",headContainer:"_2eLFJ",spinner:"_3qukr"}},bcijadidjd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=g(n("bbchdeehff")),i=g(n("djcchigfih")),u=g(n("djbhiedbef")),s=n("dajffajabh"),l=g(s),c=g(n("dhfbfehaef")),f=g(n("fffdgbfji")),d=n("chcadgfgad"),p=g(d),h=g(n("cjidjghdjj")),m=g(n("cgfjebhhej")),b=g(n("dggeggcjcd"));function g(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this,t=this.props.vcardList;return a.createElement(p.default,{type:d.BoxModalType},a.createElement(i.default,null,a.createElement(l.default,{title:f.default.t(753,{count:t.length,_plural:t.length}),type:s.DRAWER_HEADER_TYPE.POPUP,onCancel:function(){return o.default.closeModal()}}),a.createElement(u.default,null,a.createElement(c.default,null,a.createElement("div",{className:h.default.body},t.map(function(t,n){return e.renderVCard(t,n)}))))))}},{key:"renderVCard",value:function(e,t){var n=m.default.parse(e);return n?a.createElement("div",{className:h.default.vcardWrapper,key:t},a.createElement(b.default,{parsedVCard:n,thumbnail:m.default.thumbnail(e)})):null}}]),t}();v.displayName="MultiVCardModal",t.default=v},bcijeefgje:function(e,t){e.exports={suspiciousHostname:"_2owB5",suspiciousCharacter:"_33Lmf",explanation:"IlmF9",url:"_2EVEL"}},bcjafgaahj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("dgbjjgefjd");t.default="DomException"in window?DOMException:r.DOMException},bcjbggbah:function(e,t){e.exports={result:"_1omcu",selected:"_2saG0",slash:"_3AXnO",shortcutPrefix:"_3kuPz",shortcutSuffix:"_2Cw5t",message:"_2l2Tm"}},bcjhbcbjbf:function(e,t){e.exports={thumb:"_1gcLL",active:"_1_w6f",body:"_2sn3C",btnDelete:"_2PHoH",bodyDoc:"_1nsYl"}},bcjidabgad:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEffectiveNetworkType=function(){return navigator.connection&&"string"==typeof navigator.connection.effectiveType?navigator.connection.effectiveType:null}},bdacfjbfhj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n("ccjgiajgj")),a=f(n("eaaagccfda")),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=f(n("degbdgggga")),s=f(n("bbchdeehff")),l=f(n("eceadcicaf")),c=f(n("egjjcjcg"));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=(0,a.default)(function(e,t){c.default.setVideoVolumeSettings(e,t)},500),b=function(e){function t(){var e,n,a;d(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=a=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.videoRef=null,a.setRefVideo=function(e){if(a.videoRef!==e&&(a.videoRef=e,e)){var t=c.default.getVideoVolumeSettings();t&&("number"==typeof t.volume&&e.setVolume(t.volume),"boolean"==typeof t.muted&&e.setMuted(t.muted))}},a.onVolumeChange=function(e){var t=a.videoRef;if(t){var n=t.getVolume(),r=t.getMuted();m(n,r),a.props.onVolumeChange({volume:n,muted:r})}},a.onOtherPlaying=function(e){e!==a&&a.videoRef&&a.videoRef.pause()},a.onPlaying=function(){s.default.mediaPlaying(a),a.props.onPlaying()},a.setStartTime=function(){a.videoRef&&"number"==typeof a.props.startTime&&a.videoRef.setCurrentTime(a.props.startTime)},a.play=function(){var e=a.videoRef;e&&e.getPaused()&&e.play()},a.pause=function(){var e=a.videoRef;e&&(e.getPaused()||e.pause())},a.getPaused=function(){return!a.videoRef||a.videoRef.getPaused()},a.onLoadedMetadata=function(e){null!=a.props.startTime&&a.setStartTime();var t=(0,r.default)(e.target,["duration","volume","muted","videoWidth","videoHeight"]);a.props.onLoadedMetadata(t)},a.getCurrentTime=function(){return a.videoRef?a.videoRef.getCurrentTime():0},a.setCurrentTime=function(e){a.videoRef&&a.videoRef.setCurrentTime(e)},a.getDuration=function(){return a.videoRef?a.videoRef.getDuration():0},a.getVolume=function(){return a.videoRef?a.videoRef.getVolume():0},a.setVolume=function(e){a.videoRef&&a.videoRef.setVolume(e)},a.getMuted=function(){return!!a.videoRef&&a.videoRef.getMuted()},a.setMuted=function(e){a.videoRef&&a.videoRef.setMuted(e)},a.onProgress=function(e){if(a.videoRef){var t=a.videoRef.getBuffered(),n=[];if(t)for(var r=0;r<t.length;r++)n.push([t.start(r),t.end(r)]);a.props.onProgress(n)}},a.onTimeUpdate=function(e){var t=e.target.currentTime;a.props.onTimeUpdate(t)},a.onError=function(e){var t=a.videoRef&&a.videoRef.refVideo&&a.videoRef.refVideo.error?a.videoRef.refVideo.error.code:null;null!=t||null==e.code?a.props.onError(t):a.props.onError(e.code)},p(a,n)}return h(t,i.PureComponent),o(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(s.default,"mediaPlaying",this.onOtherPlaying),this.props.listeners.add(s.default,"pttRecording",this.pause)}},{key:"componentWillUnmount",value:function(){m.flush()}},{key:"componentDidUpdate",value:function(e){e.startTime!==this.props.startTime&&this.setStartTime()}},{key:"render",value:function(){return i.createElement(u.default,{ref:this.setRefVideo,src:this.props.url,poster:this.props.poster,className:this.props.className,onVolumeChange:this.onVolumeChange,onEnded:this.props.onEnded,onError:this.onError,onPause:this.props.onPause,onPlaying:this.onPlaying,onProgress:this.onProgress,onTimeUpdate:this.onTimeUpdate,onLoadedMetadata:this.onLoadedMetadata,autoPlay:this.props.autoPlay},this.props.children)}}]),t}();b.displayName="UrlVideoTag";var g=(0,l.default)(b),v=function(e){function t(){var e,n,r;d(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.play=function(){r.getComponent().play()},r.pause=function(){r.getComponent().pause()},r.getPaused=function(){return r.getComponent().getPaused()},r.getCurrentTime=function(){return r.getComponent().getCurrentTime()},r.setCurrentTime=function(e){r.getComponent().setCurrentTime(e)},r.getDuration=function(){return r.getComponent().getDuration()},r.getVolume=function(){return r.getComponent().getVolume()},r.setVolume=function(e){r.getComponent().setVolume(e)},r.getMuted=function(){return r.getComponent().getMuted()},r.setMuted=function(e){r.getComponent().setMuted(e)},p(r,n)}return h(t,g),t}();t.default=v},bdbcafgecc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=O(n("jbgeabaaj")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=O(n("cfaiaibca")),u=O(n("djcchigfih")),s=O(n("djbhiedbef")),l=n("dajffajabh"),c=O(l),f=O(n("fffdgbfji")),d=O(n("bijffg")),p=n("bddhdheedf"),h=O(n("eceadcicaf")),m=O(n("cgbgedjgag")),b=O(n("bfbggcdbfb")),g=n("chcadgfgad"),v=O(g),y=O(n("cbcfgjhjhj")),_=O(n("dceicchccd")),E=n("bheafeifce"),j=O(n("bfdcadbbif"));function O(e){return e&&e.__esModule?e:{default:e}}var S={NONE_SELECTED:0,ALL_SELECTED:1,PARTIALLY_SELECTED:2},w=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));P.call(n);var a=n.props.modelsToUpdate,o=n.constructLabelCountMap();return n.initialLabelState=(0,r.default)(o,function(e){return e===a.length?S.ALL_SELECTED:e>0?S.PARTIALLY_SELECTED:S.NONE_SELECTED}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"UNSAFE_componentWillMount",value:function(){this.selectedLabels=new _.default([],function(e){return e.id})}},{key:"render",value:function(){var e=o.createElement(i.default,{a8nText:"popup-controls-ok",type:"primary",disabled:0===this.changeSet.size,onClick:this.onUpdateLabelsOK,key:1},f.default.t(972)),t=o.createElement(i.default,{a8nText:"popup-controls-cancel",type:"plain",onClick:this.props.onCancel,key:0},f.default.t(1153)),n=o.createElement(i.default,{a8nText:"popup-controls-cancel",type:"simplified",onClick:this.props.onAddNewLabel,key:2},o.createElement(j.default,{name:"plus-large",className:m.default.plus,display:"inline"}),f.default.t(171));return o.createElement(v.default,{type:g.TowerModalType},o.createElement(u.default,{key:"mange_label_modal",theme:"labels"},o.createElement(c.default,{title:f.default.t(619),type:l.DRAWER_HEADER_TYPE.POPUP,onCancel:this.props.onCancel}),o.createElement(s.default,{"data-list-scroll-container":!0,theme:"padding"},o.createElement(y.default,{shouldScrollIntoViewAndSelect:this.props.shouldScrollIntoViewAndSelect,initialLabelState:this.initialLabelState,selectedLabels:this.selectedLabels,renderContex:"label-selection",onLabelClick:this.props.onLabelClick,onMultiSelect:this.onMultiSelect})),o.createElement("div",{className:m.default.newLabelBtn},n),o.createElement("div",{className:m.default.actionBtns},t,e)))}}]),t}(),P=function(){var e=this;this.changeSet=new Set,this.onMultiSelect=function(t){t&&(e.initialLabelState[t]===S.PARTIALLY_SELECTED?e.changeSet.add("{labelId}_changed"):e.changeSet.has(t)?e.changeSet.delete(t):e.changeSet.add(t),e.forceUpdate())},this.constructLabelCountMap=function(){var t={};return e.props.modelsToUpdate.forEach(function(e){var n=(0,E.unproxy)(e);n.labels&&n.labels.forEach(function(e){t[e]=t[e]?++t[e]:1})}),t},this.onUpdateLabelsOK=function(){(0,p.logLabelOperationEvent)(b.default.LABEL_OPERATIONS.CLICK_POSITIVE,e.props.modelsToUpdate.length,b.default.LABEL_TARGETS.LABEL_COMBINED_DIALOG);var t=e.selectedLabels.list,n=e.selectedLabels.selected,r=t.map(function(e,t){return{id:e.id,type:n[t]?"add":"remove"}});d.default.addOrRemoveLabels(r,e.props.modelsToUpdate),e.props.onLabelUpdateComplete&&e.props.onLabelUpdateComplete()}};w.displayName="ManageLabelModal",t.default=(0,h.default)(w)},bdbdaahbdh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=m(n("hhegggegb")),a=m(n("eaaagccfda")),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=m(n("bbhhbdicgc")),s=m(n("cicjcfabii")),l=m(n("bggeiidigb")),c=m(n("eceadcicaf")),f=m(n("bdiiahhjbe")),d=m(n("cifjfjfegc")),p=m(n("cbfccciabh")),h=m(n("becfabjeeg"));function m(e){return e&&e.__esModule?e:{default:e}}var b=76,g=100,v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.flatListController=new l.default,n.setRefWrapper=function(e){n.refWrapper=e,n.props.setThumbFlatListWrapper(n.refWrapper)},n.setRefFlatListContainer=function(e){n.refFlatListContainer=e},n.setRefFlatList=function(e){n.refFlatList=e},n.setPrevScrollWidth=function(e){null!=e&&(e instanceof HTMLElement||(n.prevScrollWidth=e.getListLength()))},n.scrollToActive=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=n.refWrapper;if(e){for(var t=n.props,r=t.mediaMsgs,a=t.activeMsg,o=void 0,i=0;i<r.length;i++){if(r.at(i)===a){o=i;break}}if(null==o)throw new Error("Active Message is not in the message collection.");var u=e.getBoundingClientRect(),s=u.right-u.left,l=(s-2*g-b)/2+g+b*o-s/2+b/2;n.flatListController.setScrollFromStart(l)}},n._handleWindowResize=function(){n.forceUpdate()},n.onScroll=function(e){n.handleScroll(e.currentTarget,n.props.mediaMsgs,n.flatListController.getScrollFromStart(),n.props.listeners)},n.getThumbs=function(){var e=n.props,t=e.mediaMsgs,r=e.activeMsg,a=e.highlightedMsgIds,o=a&&a.size>0&&a.has(r.id.toString()),i=n.refWrapper?n.refWrapper.getBoundingClientRect():null,u=((i?i.right-i.left:window.innerWidth)-2*g-b)/2,s=[];return s.push({type:"padding",itemKey:"padding-left",width:u}),s.push({type:"spinner",itemKey:"spinner-left",active:!!t.queryMediaBefore,width:g}),t.forEach(function(e){if(null!=e.mediaData){var t=o&&a&&!a.has(e.id.toString())?"viewerFlowTransparent":"viewerFlow";s.push({type:"thumb",itemKey:`media-${e.id.toString()}`,active:e===r,msg:e,theme:t,width:b})}else f.default.errorVerbose(`MediaViewerFlow: attempted to render a msg without mediaData: ${JSON.stringify({type:e.type,isMedia:e.isMedia})}`)()}),s.push({type:"spinner",itemKey:"spinner-right",width:g,active:!!t.queryMediaAfter}),s.push({type:"padding",itemKey:"padding-right",width:u}),s},n.renderItem=function(e){switch(e.type){case"thumb":return i.createElement("div",{className:p.default.thumbWrapper},i.createElement(d.default,{theme:e.theme,active:e.active,msg:e.msg,containerRef:e.msg===n.props.activeMsg?n.props.onSetActiveThumb:null,onClick:function(){n.props.onSelectThumb(e.msg)}}));case"spinner":return i.createElement("div",{className:p.default.mediaThumb},e.active?i.createElement(h.default,{stroke:6,size:24}):null);case"padding":return i.createElement("div",{className:p.default.thumbPaddingWithFlatList});default:return i.createElement("div",null)}},n.handleWindowResize=(0,a.default)(n._handleWindowResize,100);var o=(0,r.default)(n.props.handleScroll.bind(n),100);return n.handleScroll=o,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentDidMount",value:function(){var e=this;this.props.addListeners.bind(this)(this.props.listeners,this.props.mediaMsgs,function(){return e.props.activeMsg},this.props.onSelectThumb,this.props.endFlow),this.props.listeners.add(this.props.mediaMsgs,"query_media_before",function(){e.refFlatList&&(e.prevScrollWidth=e.refFlatList.getListLength(),e.forceUpdate())}),this.props.listeners.add(window,"resize",this.handleWindowResize),this.scrollToActive()}},{key:"componentDidUpdate",value:function(e){if(e.activeMsg!==this.props.activeMsg)this.scrollToActive();else{if(!this.refFlatList)return;var t=this.prevScrollWidth;if(null==t||0===t)return;var n=this.refFlatList.getListLength()-t;0!==n&&this.flatListController.setScrollFromStart(this.flatListController.getScrollFromStart()+n),this.prevScrollWidth=null}}},{key:"componentWillUnmount",value:function(){this.handleWindowResize.cancel(),this.handleScroll.cancel()}},{key:"render",value:function(){var e=this.getThumbs();return i.createElement("div",{className:p.default.flatListContainerWrapper,ref:this.setRefWrapper},i.createElement(s.default,{ref:this.setRefFlatListContainer,flatListControllers:[this.flatListController],className:p.default.flatListContainer,onScroll:this.onScroll,direction:"horizontal"},i.createElement(u.default,{ref:this.setRefFlatList,data:e,renderItem:this.renderItem,className:p.default.flatList,flatListController:this.flatListController,defaultItemWidth:80,direction:"horizontal"})))}}]),t}();v.displayName="MediaViewerThumbFlatList",t.default=(0,c.default)(v)},bdbfijejbi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("cgeedcdffb")),i=l(n("cgijjjgici")),u=l(n("cciecbcgbi")),s=l(n("bffhabgiib"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r._abortController=new o.default,r._isAnimating=!1,r.state={rgbaBuffer:null},r._startAnimationCountDown=function(){r._isAnimating||(r._isAnimating=!0,(0,u.default)({onFrameChange:function(e){return r.setState({rgbaBuffer:e})},animationFrames:r.props.animationFrames,maxLoops:r.props.maxLoops,maxDuration:r.props.maxDuration,signal:r._abortController.signal}).catch(function(e){if(!(e instanceof i.default))throw e}).finally(function(){r._isAnimating=!1}))},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.props.startAnimation?this._startAnimationCountDown():this._renderFirstFrame()}},{key:"_renderFirstFrame",value:function(){var e=this.props.animationFrames;0!==e.length&&this.setState({rgbaBuffer:e[0].rgbaBuffer})}},{key:"componentWillUnmount",value:function(){this._abortController.abort()}},{key:"render",value:function(){var e=this.state.rgbaBuffer;return e?a.createElement(s.default,{rgbaBuffer:e,className:this.props.className,width:this.props.width,height:this.props.height,onClick:this.props.onClick,onMouseEnter:this.props.maxLoops===1/0&&this.props.maxDuration===1/0?null:this._startAnimationCountDown}):null}}]),t}();f.displayName="ControlledAnimationCanvas",t.default=f},bdcddabebc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n("dcaifjegcg"),o=(r=a)&&r.__esModule?r:{default:r};function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,u=Array(o),s=0;s<o;s++)u[s]=arguments[s];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.id=(0,a.prop)(),r.displayText=(0,a.prop)(),r.subtype=(0,a.prop)(),r.url=(0,a.prop)(),r.phoneNumber=(0,a.prop)(),r.selectionId=(0,a.prop)(),r.selected=(0,a.session)(!1),i(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),t}();u.Proxy="templateButton",t.default=(0,a.defineModel)(u)},bdcjhdddde:function(e,t){e.exports={title:"_2AJf5",titleIcon:"_3tCj6",forwardCount:"_1NZZN",spinner:"_20U-x",list:"_3Za3d",footer:"_19xqi"}},bddhdheedf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logLabelOperationEvent=function(e,t,n){var r={labelOperation:e};null!=t&&Object.assign(r,{labelCount:t});n&&Object.assign(r,{labelTarget:n});new o.default.LabelEvent(r).commit()};var r,a=n("bfbggcdbfb"),o=(r=a)&&r.__esModule?r:{default:r}},bdeabjehdj:function(e,t,n){"use strict";var r=v(n("ddfeabiaci")),a=v(n("gcfidijgh")),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n("bbcaggdbc"),u=v(n("ehfgacedb")),s=v(n("bjigbaghc")),l=n("eidjcbbdf"),c=v(n("bjbdcigbdi")),f=n("cbgifejihh"),d=v(n("bdiiahhjbe")),p=v(n("cffajefeag")),h=n("dahaahdjfa"),m=v(h),b=v(n("bhggeigghg")),g=v(n("jccfhaecf"));function v(e){return e&&e.__esModule?e:{default:e}}var y=o({version:"10"},m.default,{parseMsgMessage:function(e,t){if("message"===this.N.tag(e)){if("ciphertext"===this.N.attr("type",e)){var n=this.N.attr("id",e),r=this.N.attr("from",e),a=this.N.attr("participant",e),o=g.default.isBroadcast(r)?a:r,u=void 0;try{u=new p.default({from:o,to:s.default.me,id:n,participant:a})}catch(e){return void d.default.error("drop: cannot create MsgKey: "+e.stack)()}return{type:"ciphertext",t:parseInt(this.N.attr("t",e),10)||0,id:u,from:o,to:s.default.me,participant:a,author:g.default.isBroadcast(r)?void 0:a,star:"true"===this.N.attr("star",e)}}var l=this.N.children(e);if(l instanceof ArrayBuffer)try{var c=i.WebMessageInfo.parse(l);return this.parseWebMessageInfo(c,t)}catch(t){return d.default.log(`wmi error: ${String(t)}`)(),void d.default.assert(!1,"parse-error","drop: failed parsing wmi")(e)}else d.default.error("drop: no bytes")(e)}else d.default.error("drop: not message")(e)},parseWebMessageInfo:function(e,t){var n=e.key,r=this.decodeJid(n.remoteJid),a=n.fromMe?r:s.default.me,o=n.fromMe?s.default.me:r,i=this.decodeJid(n.participant),u=void 0;if(s.default.me.equals(r)&&(u=n.fromMe?"out":"in"),"broadcast"!==a){var l=void 0;try{l=new p.default({fromMe:n.fromMe,remote:r,id:n.id,participant:i})}catch(e){return void d.default.error("drop: cannot create MsgKey: "+e.stack)()}return this.parseMsgProto(e.message,{id:l,from:o,to:a,self:u,participant:i,type:"unknown",t:e.messageTimestamp||0,ack:"fresh"===t?1:e.status-1,author:this.decodeJid(e.participant),invis:!!e.ignore,star:!!e.starred,broadcast:n.fromMe&&e.broadcast,notifyName:e.pushName||"",encFilehash:this.decodeBytes(e.mediaCiphertextSha256)},t)}d.default.error("drop: broadcast")(e)},parseProtocolMessageProto:function(e,t,n){if("relay"===n){var r=t.key,o=new p.default({fromMe:r.fromMe,remote:this.decodeJid(r.remoteJid),id:r.id,participant:this.decodeJid(r.participant)});(0,a.default)(e,{type:"protocol",subtype:"unknown",protocolMessageKey:o})}},parseLiveLocationMessageProto:function(e,t,n){e.type="location",e.isLive=!0,e.lat=void 0!==t.degreesLatitude?t.degreesLatitude:void 0,e.lng=void 0!==t.degreesLongitude?t.degreesLongitude:void 0,e.body=this.decodeBytes(t.jpegThumbnail)||"",e.accuracy=t.accuracyInMeters,e.speed=t.speedInMps,e.degrees=t.degreesClockwiseFromMagneticNorth,e.comment=(0,h.convertToTextWithoutSpecialEmojis)(t.caption),e.sequence=t.sequenceNumber,n&&(e.finalLat=void 0!==n.degreesLatitude?n.degreesLatitude:void 0,e.finalLng=void 0!==n.degreesLongitude?n.degreesLongitude:void 0,e.finalThumbnail=this.decodeBytes(n.jpegThumbnail)||"",e.finalAccuracy=n.accuracyInMeters,e.finalSpeed=n.speedInMps,e.finalDegrees=n.degreesClockwiseFromMagneticNorth,e.finalTimeOffset=n.timeOffset)},parseSendPaymentMessageProto:function(e,t,n){if(e.type="payment",this.callFeatureFlagFun(c.default.F.PAYMENTS,"parsePaymentInfo",e,n),c.default.supportsFeature(c.default.F.PAYMENTS)){e.subtype="send";var r=t.requestMessageKey;e.paymentRequestMessageKey=t.requestMessageKey?new p.default({fromMe:r.fromMe,remote:this.decodeJid(r.remoteJid),id:r.id,participant:this.decodeJid(r.participant)}):void 0,t.noteMessage&&(e.paymentNoteMsg={},t.noteMessage=this.parseMsgProto(t.noteMessage,e.paymentNoteMsg))}},parseRequestPaymentMessageProto:function(e,t,n){e.type="payment",this.callFeatureFlagFun(c.default.F.PAYMENTS,"parsePaymentInfo",e,n),c.default.supportsFeature(c.default.F.PAYMENTS)&&(e.subtype="request",t.currencyCodeIso4217&&!e.paymentCurrency&&(e.paymentCurrency=t.currencyCodeIso4217),t.amount1000&&!e.paymentAmount1000&&(e.paymentAmount1000=t.amount1000),t.requestFrom&&!e.paymentMessageReceiverJid&&(e.paymentMessageReceiverJid=this.decodeJid(t.requestFrom)),t.expiryTimestamp&&!e.paymentExpiryTimestamp&&(e.paymentExpiryTimestamp=t.expiryTimestamp),t.noteMessage&&(e.paymentNoteMsg={},t.noteMessage=this.parseMsgProto(t.noteMessage,e.paymentNoteMsg)))},parseGroupInviteMessageProto:function(e,t){e.type="groups_v4_invite",c.default.supportsFeature(c.default.F.GROUPS_V_4_JOIN_PERMISSION)&&(e.inviteCode=t.inviteCode,e.inviteCodeExp=t.inviteExpiration,e.inviteGrp=t.groupJid,e.inviteGrpName=t.groupName,e.inviteGrpJpegThum=this.decodeBytes(t.jpegThumbnail),e.comment=(0,h.convertToTextWithoutSpecialEmojis)(t.caption))},parseContextInfoProto:function(e,t,n){var r=t.quotedMessage,a=t.mentionedJid;e.quotedMsg=r&&this.parseMsgProto(r,{type:"unknown"}),e.quotedMsg&&"payment"===e.quotedMsg.type&&n&&this.callFeatureFlagFun(c.default.F.PAYMENTS,"parsePaymentInfo",e.quotedMsg,n),e.quotedStanzaID=t.stanzaId,e.quotedParticipant=this.decodeJid(t.participant),e.quotedRemoteJid=this.decodeJid(t.remoteJid),e.mentionedJidList=Array.isArray(a)?a.map(this.decodeJid):a,e.isForwarded=t.isForwarded,e.forwardingScore=t.forwardingScore,null!=t.expiration&&(e.ephemeralDuration=t.expiration)},msgCreateRecord:function(e){var t=this;return Promise.callSynchronously(function(){if(["ptt","audio","image","video","document","sticker","product"].includes(e.type)){var n="ptt"===e.type?"audio":e.type,r=void 0;return e.isMMS&&(r=e.isUnsentPhoneMsg()?{type:e.type}:e.avParams()),e.local&&!e.mediaKey?t.sendMedia(r):(0,a.default)({status:200,type:n},r)}}).catch(function(e){return d.default.error(`wap:msgCreateRecord mPromise error (${(0,l.encodeErrorInfo)()}): ${e.stack}`)(),Promise.reject("wap:msgCreateRecord mPromise error")}).then(function(n){if(n&&200!==n.status){var r=`wap:msgCreateRecord:sendMedia error ${n.status}`;return d.default.error(r)(),Promise.reject(r)}var a=e.id.id,o=(0,f.createMessageKey)(e),u=(0,f.createMsgProtobuf)(e,n||{}),s=!!e.multicast||void 0,l=!!e.urlText||void 0,c=!!e.urlNumber||void 0,p=!!e.clearMedia||void 0,h=g.default.isUser(e.id.remote)||null==e.ephemeralDuration?void 0:e.ephemeralDuration,m=new i.WebMessageInfo({key:o,message:u,messageTimestamp:e.t,multicast:s,urlText:l,urlNumber:c,clearMedia:p,ephemeralDuration:h}),v=t.actionNode("relay",[["message",void 0,i.WebMessageInfo.encode(m).readBuffer()]]);return new Promise(function(n,r){t.binSend("send",v,r,{tag:a,onSend:t.wrap(n),onDrop:t.wrap(r),retryOn5xx:!0,resendGuard:function(){var t=b.default.Msg.get(e.id);return"protocol"===e.type||t&&t.id.equals(e.id)}},{debugString:["action","message",e.type,e.subtype,a].join(),debugObj:{xml:v,pb:m},metricName:"MESSAGE",ackRequest:!1})})})},msgFindQuery:function(e,t,n,r){var a=this,o=e;return new Promise(function(e,i){var u=void 0,s="";switch(o){case"after":t.id||(o="before");case"before":u={type:"message",kind:o,jid:t.remote,count:t.count.toString(),index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},s=[t instanceof p.default?t.toString():t.remote,t.count].join();break;case"search":u={type:"search",search:t.searchTerm,page:t.page.toString(),count:t.count.toString(),jid:t.remote,canceled:t.tagToCancel},s=["search",t.page,t.count,t.jid].join();break;case"star":u={type:"star",chat:t.chat,count:t.count.toString(),jid:t.remote,index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},s="starred";break;case"media":u={type:"media_message",count:t.count.toString(),kind:t.direction,jid:t.remote,index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},s="media"}var l=a.queryNode(u,void 0);a.binSend("sendEphemeral",l,i,{onSend:a.binWrap(function(t){a.BinaryProtocol.read(t).then(function(t){var n=[],r=a.N.children(t);if(d.default.logColor("green","bin-recv: response,msg",t)(),"response"===a.N.tag(t)&&("message"===a.N.attr("type",t)||"star"===a.N.attr("type",t)||"search"===a.N.attr("type",t)||"media_message"===a.N.attr("type",t))){if(Array.isArray(r)){var i=void 0,u=r.length;for(i=0;i<u;i++){var s=a.parseMsg(r[i],"response");s&&n.push(s)}}"search"===a.N.attr("type",t)?n={eof:"true"===a.N.attr("last",t),messages:n}:"media"===o&&(n={messages:n})}e(n)}).catch(i)},e),onDrop:a.wrap(i),logOnSend:n,onTag:r,tagToCancel:t.tagToCancel},{debugString:"query,message,"+s,metricName:"search"===o?"QUERY_SEARCH":"QUERY_MESSAGES",ackRequest:!1})})}});e.exports=(0,r.default)(y,u.default)},bdebgadbea:function(e,t){e.exports={column:"_2xLKR"}},bdecdecede:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=0;if(!e)return t;e.quotedMsg&&(t+=54);e.caption&&(t+=31);switch(e.type){case i.MSG_TYPE.NOTIFICATION:case i.MSG_TYPE.GROUP_NOTIFICATION:case i.MSG_TYPE.GP2:case i.MSG_TYPE.BROADCAST_NOTIFICATION:case i.MSG_TYPE.E2E_NOTIFICATION:case i.MSG_TYPE.CALL_LOG:case i.MSG_TYPE.CIPHERTEXT:case i.MSG_TYPE.REVOKED:case i.MSG_TYPE.CHAT:e.linkPreview&&(t+=53);var n=(0,o.numCodepoints)(e.body&&e.body.toString());return t+19*Math.ceil(n/100)+13;case i.MSG_TYPE.IMAGE:return t+(e.mediaData&&e.mediaData.fullWidth&&e.mediaData.fullHeight||0)?Math.floor(Math.min(330/e.mediaData.fullWidth*e.mediaData.fullHeight,330)):330;case i.MSG_TYPE.VIDEO:case i.MSG_TYPE.AUDIO:return e.isGif?t+137:t+166;case i.MSG_TYPE.LOCATION:return t+e.isLive?r.MSG_HEIGHT:a.PREVIEW_HEIGHT;case i.MSG_TYPE.PTT:return t+67;case i.MSG_TYPE.VCARD:return t+74;case i.MSG_TYPE.DOCUMENT:return t+188;case i.MSG_TYPE.STICKER:return t+125;case i.MSG_TYPE.UNKNOWN:default:return t}};var r=n("icbjhhidg"),a=n("biadgfadhh"),o=n("chhhffajfi"),i=n("baagejbchg")},bdechjiebj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=p(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=n("bbcaggdbc"),u=p(n("hdgfdagbc")),s=p(n("ddgfdbejhb")),l=p(n("habcbfced")),c=p(n("digjajabhb")),f=p(n("cgjfaifddg")),d=p(n("iiaihjfbi"));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=20,b=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={isMultilineText:!1},r.setRefText=function(e){e&&r.setState({isMultilineText:e.getBoundingClientRect().height>m})},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.paymentStatus,n=e.expiryTimestamp,r=(0,a.default)({[l.default.bubbleOut]:this.props.isSentByMe,[l.default.bubbleIn]:!this.props.isSentByMe}),p=null!=t&&t!==i.PaymentInfo.STATUS.UNKNOWN_STATUS,h=void 0;return h=this.props.hasCaption?o.createElement("div",{ref:this.setRefText},o.createElement("div",null,o.createElement(f.default,{subtype:this.props.subtype,receiverJid:this.props.receiverJid})),o.createElement(c.default,{paymentStatus:t,expiryTimestamp:n})):p?o.createElement("div",{ref:this.setRefText},o.createElement("div",null,o.createElement(f.default,{subtype:this.props.subtype,receiverJid:this.props.receiverJid})),o.createElement(d.default,{msg:this.props.msg},o.createElement(c.default,{paymentStatus:t,expiryTimestamp:n}))):o.createElement(d.default,{msg:this.props.msg},o.createElement("span",{ref:this.setRefText},o.createElement(f.default,{subtype:this.props.subtype,receiverJid:this.props.receiverJid}))),o.createElement("div",{className:r},o.createElement(u.default,{currency:this.props.currency,amount1000:this.props.amount1000}),o.createElement("div",{className:l.default.body},o.createElement("div",{className:(0,a.default)(l.default.bodyIcon,{[l.default.bodyIconMultiline]:this.state.isMultilineText})},o.createElement(s.default,{currency:this.props.currency,subtype:this.props.subtype,paymentStatus:this.props.paymentStatus})),o.createElement("div",{className:l.default.bodyText},h)))}}]),t}();b.displayName="PaymentInfo",t.default=b},bdfbccfifg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CACHE_POLICY_TYPE=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("cccehdaiaf"),i=(r=o)&&r.__esModule?r:{default:r};var u=t.CACHE_POLICY_TYPE={LOAD:"LOAD",IMMEDIATE:"IMMEDIATE",NONE:"NONE"},s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r._collection=e,r._id=n,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"enableCaching",value:function(){}},{key:"disableCaching",value:function(){}},{key:"collection",get:function(){return this._collection}},{key:"id",get:function(){return this._id}}]),t}();s.policy=u.NONE,t.default=s},bdfbijjhda:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HMAC_LENGTH=t.IV_LENGTH=void 0;var r=i(n("dfacahcafg"));t.default=function(e,t){var n=e instanceof ArrayBuffer?e.byteLength:e.buffer.byteLength,i=new o.default(t),c=n-s,f=Math.ceil(c/u),d=(0,r.default)(f,function(t){var n=t*u,r=n+s+u,a=e.slice(n,r);return i.sign(a,l)});return Promise.all(d).then(function(e){return a.default.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e))})};var a=i(n("cdfccifhg")),o=i(n("bbejegbieb"));function i(e){return e&&e.__esModule?e:{default:e}}var u=65536,s=t.IV_LENGTH=16,l=t.HMAC_LENGTH=10},bdfheihabb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=f(n("dhbceejbjg")),i=f(n("fifhbjiec")),u=f(n("bijffg")),s=n("icghcjegh"),l=f(s),c=f(n("eceadcicaf"));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.updateLabels=function(){r.forceUpdate()},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(u.default,`label_updated_${this.props.label}`,this.updateLabels)}},{key:"render",value:function(){var e=this.props.label,t=u.default.get(e);if(!t||!t.name)return null;if("label-list"===this.props.theme){var n=a.createElement(l.default,{renderAsCircle:"label-list"===this.props.theme,theme:this.props.theme,labels:[e]}),r=a.createElement(i.default,{text:t.name,ellipsify:!0,titlify:!0});return a.createElement(o.default,{theme:"chat-checkbox",image:n,primary:r,secondary:l10n.t(618,{count:parseInt(t.count||0,10),_plural:parseInt(t.count||0,10)})})}var c=(0,s.renderLabelSvg)(t.hexColor),f=a.createElement(i.default,{text:t.name,ellipsify:!0,titlify:!0});return a.createElement(o.default,{theme:"label-selection",image:c,primary:f})}}]),t}();p.displayName="LabelListItem",t.default=(0,c.default)(p)},bdfjbfgea:function(e,t){e.exports={selectedListContainer:"I72vi"}},bdgdgicfaf:function(e,t){e.exports={symbol:"WVFpp",margin:"_3cO_w"}},bdgdjfajce:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=g(n("dhbceejbjg")),i=g(n("cfadcbbiie")),u=g(n("dhhfaeacef")),s=n("dbgdaechch"),l=g(s),c=g(n("bhhdeihhhf")),f=g(n("fifhbjiec")),d=g(n("bffjfbgbg")),p=g(n("eaaihhcibf")),h=n("bhfdfhefca"),m=g(n("ihfccfgdf")),b=g(n("bfdcadbbif"));function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.getMenuBtns=function(){return r.props.isMsgInAlbum?r.getAlbumMediaMenuBtns():r.getNonAlbumMediaMenuBtns()},r.getNonAlbumMediaMenuBtns=function(){var e=[],t=r.props.msg;return e.push(a.createElement(h.MenuBarItem,{key:"btnGoToMsg",icon:a.createElement(b.default,{name:"bubble"}),title:l10n.t(501),onClick:r.props.onGoToMsgClick})),e.push(r.getStarMenuBarItem()),t.canForward()&&e.push(r.getForwardMenuBarItem()),e.push(a.createElement(h.MenuBarItem,{key:"btnDownload",icon:a.createElement(b.default,{name:"download"}),title:l10n.t(1149),disabled:!r.isMediaDownloadable(),onClick:r.props.onDownloadClick})),e},r.getAlbumMediaMenuBtns=function(){var e=[],t=r.props.msg;return t.canReply()&&e.push(a.createElement(h.MenuBarItem,{key:"btnReply",icon:a.createElement(b.default,{name:"reply"}),title:l10n.t(926),onClick:r.props.onReplyClick})),e.push(r.getStarMenuBarItem()),e.push(a.createElement(h.MenuBarItem,{key:"btnDelete",icon:a.createElement(b.default,{name:"delete"}),title:l10n.t(1185),onClick:r.props.onDeleteClick})),t.canForward()&&e.push(r.getForwardMenuBarItem()),e.push(r.getDropdownMenuBarItem()),e},r.getStarMenuBarItem=function(){var e=void 0,t=void 0,n=void 0;return r.props.msg.star?(e=r.props.onUnstarClick,t="unstar-btn",n=l10n.t(1077)):(e=r.props.onStarClick,t="star-btn",n=l10n.t(1027)),a.createElement(h.MenuBarItem,{key:t,icon:a.createElement(b.default,{name:t}),title:n,onClick:e})},r.getForwardMenuBarItem=function(){return a.createElement(h.MenuBarItem,{key:"btnForward",icon:a.createElement(b.default,{name:"forward"}),title:l10n.t(460),onClick:r.props.openForwardFlow})},r.getDropdownMenuBarItem=function(){var e=[];return r.props.msg.isSentByMe&&e.push(a.createElement(c.default,{key:"dropdownMsgInfo",action:r.props.onMsgInfoClick},l10n.t(712))),e.push(a.createElement(c.default,{key:"dropdownGoToMsg",action:r.props.onGoToMsgClick},l10n.t(501)),a.createElement(c.default,{key:"dropdownDownload",action:r.props.onDownloadClick,disabled:!r.isMediaDownloadable()},l10n.t(1149))),a.createElement(h.MenuBarItem,{key:"btnMenu",icon:a.createElement(b.default,{name:"menu",color:"black"}),title:l10n.t(704)},a.createElement(l.default,{type:"dropdown_menu",key:"MediaPanelHeaderDropdown",flipOnRTL:!0,dirX:s.DirX.LEFT},e))},r.isMediaDownloadable=function(){var e=r.props.mediaData;return!!e.renderableUrl||e.mediaStage===d.default.STAGE.RESOLVED},v(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props.msg,t=e.displayName(!0,!0);e.isGroupMsg&&(t+=" @ "+e.chat.title());return a.createElement("div",{className:p.default.mediaPanelHeader},a.createElement("div",{className:p.default.info},a.createElement(o.default,{idle:!0,image:a.createElement(u.default,{id:e.sender,size:40}),primary:a.createElement(f.default,{ellipsify:!0,text:t}),secondary:i.default.relativeDateAndTimeStr(e.t),theme:"media"})),a.createElement("div",{className:p.default.mediaPanelTools},a.createElement(h.MenuBar,{key:"media-panel-header"},this.getMenuBtns(),a.createElement(h.MenuBarItem,{a8nText:"btn-close",icon:a.createElement(b.default,{name:"x-viewer"}),title:l10n.t(1158),onClick:this.props.onClose}))))}}]),t}();y.CONCERNS={msg:["star","isGroupMsg","chat","type","isGif","sender","t","isSentByMe"],mediaData:["filehash","mediaStage","renderableUrl"]},y.displayName="MediaPanelHeader",t.default=(0,m.default)(y,y.CONCERNS)},bdgehigfig:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendMsgRecord=function(e){return Promise.callSynchronously(function(){var t=e.id;m.default.Chat.find(t.remote).then(function(e){e.isTrusted()||(0,p.sendNotSpam)(e).catch(function(){})});var n=void 0;g.default.isBroadcast(e.to)&&(n=(0,f.broadcastFanout)(e)),e.isNewMsg=!0;var v=e.type===a.default.MSG_TYPE.PROTOCOL&&"revoke"===e.subtype;if(!e.isGroupMsg&&!v&&r.default.get(e.to))return Promise.reject(new i.default("Contact is blocked",m.default.Contact.assertGet(e.to)));var y=void 0;return v||(y=new l.default.WebcMessageSend({messageType:e.getWamMessageType(),messageMediaType:e.getWamMediaType(),messageIsForward:Boolean(e.isForwarded)})),m.default.Chat.find(e.id.remote).then(function(t){return h.default.ephemeralMessages&&t.isEphemeralSettingOn()&&(e.ephemeralDuration=t.getEphemeralSetting()),(0,b.sendSeen)(t),m.default.Msg.trigger(a.default.NEW_MSG_SENT),Promise.props({reply:(0,d.sendMsgRecord)(e),chat:t})}).then(function(r){var i=r.reply,u=r.chat,l=t.remote,f=t.fromMe&&g.default.equals(t.remote,o.default.me)?3:i.data?i.data.ack:1;return e.updateAck(f,i.t),y&&(y.markMessageSendT(),y.commit()),e.type!==a.default.MSG_TYPE.PROTOCOL&&(u.lastReceivedKey=t),m.default.Msg.updateLastReceipt(l,i.t),g.default.isBroadcast(l)&&(n?n.forEach(function(e){var n=new c.default({from:o.default.me,to:e,id:t.id}),r=m.default.Msg.get(n);r&&(r.ack=1,m.default.Msg.updateLastReceipt(e,r.t),null==r.ephemeralStartTimestamp&&r.updateEphemeralStartTimestamp(r.t),m.default.Chat.find(e).then(function(e){e.lastReceivedKey=n}))}):s.default.log("model:msg:createRecord bclist server ack, no recipients")()),"success"}).catch(u.ServerStatusCodeError,function(t){if(408!==t.status){var n=e.toJSON();s.default.log("json.body: "+JSON.stringify(n.body))(),n.body=void 0,s.default.logVerbose("Json: "+JSON.stringify(n))(),s.default.assert(!1,"send-not-200",`Phone responded ${t.status}`)()}return"dropped"}).catch(function(t){return s.default.error("model:msg:createRecord dropped msg: "+e.id.toString())(e.type),s.default.assert(!1,"send-msg-error",`Got error ${String(t)}`)(t),"dropped"})}).finally(function(){e.promises.sendPromise&&e.promises.sendPromise.control.settled()})};var r=v(n("bgfcjjddjf")),a=v(n("baagejbchg")),o=v(n("bjigbaghc")),i=v(n("beecadabde")),u=n("ddjgcfjicj"),s=v(n("bdiiahhjbe")),l=v(n("bfbggcdbfb")),c=v(n("cffajefeag")),f=n("ccbagdhfbb"),d=n("cjafhagbj"),p=n("dcbafbaejf"),h=v(n("bfgbdiffgd")),m=v(n("bhggeigghg")),b=n("dgdhcdgffe"),g=v(n("jccfhaecf"));function v(e){return e&&e.__esModule?e:{default:e}}},bdghdbcbdc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=u(n("ceffhbhahb")),i=u(n("eadgafjbag"));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._handleMouseDown=function(e){e.stopPropagation()},s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){return a.createElement("div",{className:(0,o.default)(i.default.container,this.props.className),onMouseDown:this._handleMouseDown},this.props.children)}}]),t}();l.displayName="MenuContainer",t.default=l},bdhbdihbca:function(e,t){e.exports={cancelIcon:"_2MUsN",inputContainer:"_2gisX",inputEmojiSearch:"_2GXNm",searchRow:"_2Qm0c",ffFix:"_664gn",rowShadow:"_16-WE",rowInput:"_2hMsh"}},bdheiggeaf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPin=function(e,t){return function e(t,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,a.genId)();var l=t.promises;l.setPin&&l.setPin.cancel();var c=void 0,f=void 0;n?c=Math.round(+new Date/1e3):f=t.pin;var d=(0,u.sendConversationPin)(t.id,c,f).cancellable();var p=n?new a.ActionType(l10n.t(36)):new a.ActionType(l10n.t(46));var h=d.then(function(r){var o=void 0;return 200===r.status?(o=n?l10n.t(35):l10n.t(45),new a.ActionType(o,l10n.t(158),function(){return e(t,!n,s)})):405===r.status?new a.ActionType(l10n.t(34)):r.status>=400?n?new a.ActionType(l10n.t(33)):new a.ActionType(l10n.t(44)):void 0}).catch(function(r){i.default.error("models:chat:setPin dropped")(r);var o=n?l10n.t(33):l10n.t(44);return new a.ActionType(o,l10n.t(154),function(){return e(t,n,s)})});o.default.openToast(r.createElement(a.ActionToast,{id:s,initialAction:p,pendingAction:h}));return l.setPin=d.then(function(e){200!==e.status||e._duplicate||(t.pin=c)}).finally(function(){l.setPin=null})}((0,s.unproxy)(e),t)};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=n("ccihhdchab"),o=l(n("bbchdeehff")),i=l(n("bdiiahhjbe")),u=n("cihffbbgjc"),s=n("bheafeifce");function l(e){return e&&e.__esModule?e:{default:e}}},bdhgicebce:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParticipantCollection=t.MsgInfoParticipant=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("dcaifjegcg"),o=f(a),i=f(n("fcedgihic")),u=f(n("dhigahgdjb")),s=f(n("ccicaaeiaa")),l=f(n("cffajefeag")),c=f(n("jccfhaecf"));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){var e,n,r;d(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.id=(0,a.prop)(),r.t=(0,a.prop)(),r.contact=(0,a.session)(),p(r,n)}return h(t,o.default),r(t,[{key:"initialize",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this),this.addChild("contact",u.default.gadd(this.id))}}]),t}();m.Proxy="msgInfoParticipant",m.idClass=c.default;var b=t.MsgInfoParticipant=(0,a.defineModel)(m),g=t.ParticipantCollection=function(e){function t(){return d(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,i.default),t}();g.model=b,g.comparator=function(e,t){return(0,s.default)(e.contact,t.contact)};var v=function(e){function t(){var e,n,r;d(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.id=(0,a.prop)(),r.isPTT=(0,a.prop)(),r.playedRemaining=(0,a.prop)(0),r.readRemaining=(0,a.prop)(0),r.deliveryRemaining=(0,a.prop)(0),r.played=(0,a.collection)(g),r.read=(0,a.collection)(g),r.delivery=(0,a.collection)(g),r.settled=(0,a.derived)(r._settled,["isPTT","playedRemaining","readRemaining"]),p(r,n)}return h(t,o.default),r(t,[{key:"_settled",value:function(){return this.isPTT?!this.playedRemaining:!this.readRemaining}},{key:"getCollection",value:function(){return n("eigdejjai").default}}]),t}();v.Proxy="msgInfo",v.idClass=l.default,t.default=(0,a.defineModel)(v)},bdigfbgefi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n("ddbbigfbec")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=i(n("cahfddcdga"));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rctKeyToData=new Map,this.keyToRctKey=new Map}return a(e,[{key:"genNewKeys",value:function(e){var t=e-this.rctKeyToData.size;if(t<=0)return[];for(var n=[],r=0;r<e&&(this.rctKeyToData.has(r)||(n.push(r),t!==n.length));r++);return n}},{key:"recycleKeysAndMap",value:function(e){var t=this,n=new Map,a=new Map,i=this.genNewKeys(e.length),s=new Set(this.rctKeyToData.keys()),l=[];e.forEach(function(e){var r=t.keyToRctKey.get(e.itemKey);void 0!==r?(a.set(e.itemKey,r),n.set(r,e),s.delete(r)):l.push(e)});var c=[].concat(u(i),u(s));l.forEach(function(e){var t=c.pop();a.set(e.itemKey,t),n.set(t,e)});var f=(0,r.default)(e,[function(e){return a.get(e.itemKey)}]).map(function(e){return{rctKey:(0,o.default)(a.get(e.itemKey)),data:e}});return this.rctKeyToData=n,this.keyToRctKey=a,f}}]),e}();t.default=s},bdiihbaeaj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e,t){var n=r({},l,e),a=n.signal,i=n.timeoutIncludesTaskDuration,s=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(n,["signal","timeoutIncludesTaskDuration"]),c=new u.default(s);return(0,o.default)({signal:a,timeoutIterator:c,timeoutIncludesTaskDuration:i},t)};var a=n("cajjjeihci"),o=s(a),i=n("cjjdbgcihf"),u=s(i);function s(e){return e&&e.__esModule?e:{default:e}}var l=r({},i.defaults,a.defaults)},bdiiibjcij:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n("cgcgbfbffj")),o=c(n("baagejbchg")),i=n("ddjgcfjicj"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cajijabhgb")),s=c(n("cbcbdjdah")),l=c(n("biecbbiiee"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.hasDocBefore=!0,f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"delete",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),this.stopListening(),this.reset()}},{key:"queryDocs",value:function(e,t){var n=this;if(t)return this.queryDocBefore?this.queryDocBefore:(this.queryDocBefore=l.default.queryMedia(t.id.remote,o.default.MEDIA_QUERY_LIMIT,"before",t.id,"document").then(function(e){return(!e||e.length<o.default.MEDIA_QUERY_LIMIT)&&(n.hasDocBefore=!1),n.add(e.filter(function(e){return e.isDoc}),{at:0}),{length:e.length}}).catch(i.WapDrop,u.ProtoVersionUndefined,function(){}).catch(404,function(){}).finally(function(){n.queryDocBefore=null,n.trigger("query_doc_before")}),this.trigger("query_doc_before"),this.queryDocBefore);var r=e.msgs;if(0===this.length){if(!r||0===r.length)return this.hasDocBefore=!1,new Promise(function(e){e({eof:!0})});this.add(r.filter(function(e){return e.isDoc}),{at:0})}if(e.msgs.msgLoadState.noEarlierMsgs)return this.hasDocBefore=!1,new Promise(function(e){e({eof:!0})});if(this.length<=2*o.default.MEDIA_QUERY_LIMIT){var a=0===this.length?r.head():this.head();return this.queryDocs(e,a)}return new Promise(function(e){e({eof:!1})})}}]),t}();d.model=s.default,t.default=d},bdjihaecid:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StickerItem=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("ddajbaceej"),i=f(n("dhfbfehaef")),u=f(n("ihfccfgdf")),s=n("bheafeifce"),l=f(n("bgghfidcfh")),c=f(n("ifbjhfegj"));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=t.StickerItem=function(e){function t(){var e,n,r;d(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._handleClick=function(e){var t=r.props.onClick;t&&t((0,s.unproxy)(r.props.sticker),e)},r._handleEnterKey=function(e){var t=r.props.onEnter;t&&t((0,s.unproxy)(r.props.sticker),e)},r._setRefContainer=function(e){r._refContainer=e},r._handleDownloadMedia=function(){return r.props.sticker.downloadMedia()},p(r,n)}return h(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.props.sticker.downloadMedia()}},{key:"focus",value:function(){this._refContainer&&(this.hasFocus()||(0,o.focus)(this._refContainer))}},{key:"getOffsetTop",value:function(){return this._refContainer?this._refContainer.offsetTop:0}},{key:"hasFocus",value:function(){return!!this._refContainer&&this._refContainer===document.activeElement}},{key:"render",value:function(){var e=this.props.sticker;return a.createElement(i.default,{onRef:this._setRefContainer,className:c.default.container,handlers:{enter:this._handleEnterKey}},a.createElement("div",{className:c.default.border},a.createElement(l.default,{mediaData:e.mediaData,onClick:this._handleClick,theme:"stickerPanel",loopAnimation:!0,downloadMedia:this._handleDownloadMedia})))}}]),t}();m.CONCERNS={sticker:["id","mediaData"]},m.displayName="StickerItem";var b=(0,u.default)(m,m.CONCERNS),g=function(e){function t(){return d(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,b),r(t,[{key:"focus",value:function(){this.getComponent().focus()}},{key:"getOffsetTop",value:function(){return this.getComponent().getOffsetTop()}},{key:"hasFocus",value:function(){return this.getComponent().hasFocus()}}]),t}();t.default=g},beacbddhci:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=n("eagfdbhhhh");function o(e){var t=e.children,n=e.selectable;return r.createElement(a.SelectableSpan,{className:"matched-text",selectable:n},t)}o.displayName="Highlight",o.defaultProps={children:""},t.default=o},beadfddidc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shouldEnableHsm=function(){return o.default.supportsFeature(o.default.F.MD_BACKEND)&&o.default.supportsFeature(o.default.F.MD_HSM)||o.default.supportsFeature(o.default.F.RICH_HSM)};var r,a=n("bjbdcigbdi"),o=(r=a)&&r.__esModule?r:{default:r}},beafbeighe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=j(n("dbafiicfja")),a=j(n("bebajedcaf")),o=j(n("bbfdjfific")),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(e){var t=e.shift();if(Array.isArray(t)){var n=[],j=[],w=[],P=[];t.forEach(function(e){if("c.us"===e.id)j.push(e);else{var t=!!_.default.Chat.get(e.id),r=["delete","clear","archive","unarchive","star","unstar","spam","modify_tag","pin","modify"].includes(e.type);r?t&&r?j.push(e):g.default.log("Model:chat:handle received junk chat record: "+JSON.stringify(e))():n.push(e)}});var M=n.findIndex(function(e){return E.default.isPSA(e.id)});M>-1&&(n[M].name=l10n.t(1423)),j.forEach(function(e){var t=e.type;if("c.us"===e.id){switch(_.default.Chat.disableSortListener(),t){case"clear":g.default.log(`Model:chat:handle:clear:all before:${String(e.before)} kind:${String(e.kind)}`)(),_.default.Chat.forEach(function(t){"number"==typeof e.before?t.deleteMsgsOlderThan(e.before,e.star,e.kind):t.deleteMsgs(e.star,e.kind)});break;case"delete":g.default.log("Model:chat:handle:delete:all")(),_.default.Chat.toArray().forEach(function(e){e.isGroup?e.deleteMsgs(!0):w.push(e)});break;case"archive":g.default.log("Model:chat:handle:archive:all")(),_.default.Chat.forEach(function(e){P.push({id:e.id,archive:!0,pin:void 0})});break;case"unarchive":g.default.log("Model:chat:handle:unarchive:all")(),_.default.Chat.forEach(function(e){P.push({id:e.id,archive:!1})});break;case"unstar":g.default.log("Model:chat:handle:unstar:all")(),_.default.AllStarredMsgs.delete(),_.default.Chat.forEach(function(e){e.unstarAll()});break;default:g.default.error("Model:chat:handle unknown "+JSON.stringify(e),e)()}_.default.Chat.enableSortListener()}else{var n=_.default.Chat.get(e.id);if(!n)return;switch(t){case"clear":case"star":case"unstar":if(e.keys){for(var r=e.keys.length,a="star"===t,i=[],s=[],l=[],c=!1,f=0;f<r;f++){var d=void 0,p=void 0,h=void 0,m=void 0,b=void 0,y=e.keys[f];if(Array.isArray(y)){var E=u(y,3);d=E[0],p=E[1],h=E[2],m=new v.default({fromMe:p,remote:e.id,id:d,participant:h}),(b=_.default.Msg.get(m))?"clear"===t?b.delete():(b.star=a,l.push(b)):a&&(c=!0)}else!(0,o.default)(y)||"star"!==t&&"unstar"!==t||(m=y.id,(b=_.default.Msg.get(y.id))?(b.star=a,l.push(b)):s.push(y));i.push(m&&m.toString())}"star"!==t&&"unstar"!==t||_.default.AllStarredMsgs.process(a,s,l,c),g.default.log("model:Chat:handle:messages:"+[t,e.id,i.join(),e.modifyTag].join())()}else"clear"===t?("number"==typeof e.before?n.deleteMsgsOlderThan(e.before,e.star,e.kind):n.deleteMsgs(e.star,e.kind),g.default.log("model:Chat:handle cleared chat:"+[e.id,e.before,e.modifyTag,e.kind].join())()):"unstar"===t&&(n.unstarAll(),g.default.log("model:Chat:handle unstarred chat: "+e.id)());isNaN(e.modifyTag)||P.push({id:e.id,modifyTag:e.modifyTag});break;case"delete":w.push(n),g.default.log("model:Chat:handle deleted chat for "+String(e.id))();break;case"archive":P.push({id:e.id,archive:!0,pin:void 0});break;case"unarchive":P.push({id:e.id,archive:!1});break;case"spam":P.push({id:e.id,notSpam:e.notSpam});break;case"modify_tag":P.push({id:e.id,modifyTag:e.modifyTag});break;case"pin":P.push({id:e.id,pin:e.pin});break;case"modify":P.push({id:e.id,changeNumberOldJid:e.changeNumberOldJid,changeNumberNewJid:e.changeNumberNewJid})}}});(h.default.supportsFeature(h.default.F.MODEL_STORAGE)?y.default.lock(["chat"],function(e){var t=u(e,1),r=t[0];return r.bulkCreateOrMerge(n.map(function(e){return i({},e,{id:e.id.toString()})})).then(function(){return Promise.map(P,function(e){var t=e.id,n=S(e,["id"]);r.merge(t.toString(),n)})}).then(function(){return r.bulkRemove(w.map(function(e){return e.id.toString()}))})}).catch(function(e){g.default.errorVerbose(`ChatHandler: bulk handle error: ${e}`)(),g.default.assert(!1,"ChatHandler: bulk handle error")(e)}):Promise.resolve()).then(function(){_.default.Chat.add(n,{merge:!0}),P.forEach(function(e){var t=e.id,n=S(e,["id"]),r=_.default.Chat.get(t);r&&r.set(n)}),w.forEach(function(e){return e.delete()})})}else if("leave"===t.cmd)t.gids.forEach(function(e){var t=_.default.Chat.get(e);t&&(0,p.localExitGroup)(t)});else if("preempt"===t.cmd){var C=h.default.supportsFeature(h.default.F.MODEL_STORAGE)?s.default.bulkCreateOrMerge(t.response.map(function(e){return i({},e,{id:e.id.toString()})})):Promise.resolve();C.then(function(){_.default.Chat.add(t.response,{merge:!0}),d.default.platform===f.PLATFORMS.IPHONE&&((0,a.default)(t.response)?_.default.Msg.trigger(c.default.COLLECTION_HAS_SYNCED):setTimeout(function(){_.default.Msg.trigger(c.default.COLLECTION_HAS_SYNCED)},2500)),_.default.Chat.trigger(c.default.COLLECTION_HAS_SYNCED,{count:t.response.length,binarySize:t.binarySize})})}else if("action"===t.cmd){var T=t.id,A=t.data;if("create"===A[0]||"introduce"===A[0]){var N=A[1],k=A[2],I=[].concat(O((0,r.default)(k.admins,function(e){return{id:e,isAdmin:!0}})),O((0,r.default)(k.superadmins||[],function(e){return{id:e,isAdmin:!0,isSuperAdmin:!0}})),O((0,r.default)(k.regulars,function(e){return{id:e,isAdmin:!1}})));_.default.GroupMetadata.add({id:T,creation:k.creation,owner:N,participants:I,stale:!1,desc:k.desc,descId:k.descId,descTime:k.descTime,descOwner:k.descOwner,restrict:!!k.restrict,announce:!!k.announce},{merge:!0}),_.default.Contact.add({id:T,name:k.subject},{merge:!0});var R=_.default.Chat.get(T);if(!R)return;var L=R.msgs.last();if(!L)return;"gp2"===L.type&&"add"===L.subtype&&(_.default.GroupMetadata.trigger(`group_participant_change_${d.default.me.toString()}`,T),E.default.equals(L.recipients[0],d.default.me)&&l.default.alertNewMsg(L))}else{if(A.length<3)return void g.default.error("model:chat: incorrect length of payload data for action "+JSON.stringify(t))();var D=t.data[0],x="unknown"===t.data[1]?null:t.data[1],U=void 0;U=D===b.GROUP_ACTIONS.RESTRICT||D===b.GROUP_ACTIONS.ANNOUNCE||D===b.GROUP_ACTIONS.NO_FORWARD?{action:D,value:t.data[2]}:D===b.GROUP_ACTIONS.EPHEMERAL?{action:D,duration:t.data[2]}:i({action:D},t.data[2]),(0,m.handleGroupAction)({chatId:t.id,author:x},U)}}else g.default.error("model:chat: unknown payload: "+JSON.stringify(t))()};var s=j(n("begbbgieee")),l=j(n("bbchdeehff")),c=j(n("baagejbchg")),f=n("bjigbaghc"),d=j(f),p=n("bafdehfigc"),h=j(n("bjbdcigbdi")),m=n("bggbjfdbhg"),b=n("cicdfhbegf"),g=j(n("bdiiahhjbe")),v=j(n("cffajefeag")),y=j(n("ffjiicch")),_=j(n("bhggeigghg")),E=j(n("jccfhaecf"));function j(e){return e&&e.__esModule?e:{default:e}}function O(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function S(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}},beagfhhiea:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n("cgjbjefebj")),a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n("ceggedffg")),u=l(n("djegeegcbf")),s=l(n("dfbhcehadj"));function l(e){return e&&e.__esModule?e:{default:e}}var c=u.default.skinToneEmojis,f={"(y)":"","(n)":"",":-)":"",":-(":"",":-p":"",":-|":"",":-\\":"",":-d":"",":-*":"","<3":"","^_^":"",">_<":"",";-)":""},d=Object.keys(f).map(r.default).join("|"),p=new RegExp(`(^|\\s|\`\`\`|[*_~])((?:${d})+)(?=$|\\s|\`\`\`|[*_~])`,"ig"),h=new RegExp(`(${d})`,"i"),m=(0,i.default)(p,2,function(e,t){var n=a(e,2)[1];n&&(e.index+=n.length,e[0]=e[0].slice(n.length));return e}),b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,m),o(t,null,[{key:"mutate",value:function(e){return e.split(h).map(function(e){var t=f[e.toLowerCase()];return t?c[t]&&s.default.getVariant(t)||t:e}).join("")}}]),t}();b.fragment=!0,b.mutates=!0,t.default=b},beahjdfigf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n("ccicaaeiaa"),o=(r=a)&&r.__esModule?r:{default:r};t.default=function(e,t){return(0,o.default)(e.contact,t.contact)}},bebbajcbbb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=h(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=(h(n("baagejbchg")),h(n("fifhbjiec"))),u=n("gaifbabbj"),s=h(n("fffdgbfji")),l=h(n("dbbbgjbbgf")),c=h(n("cfiighfhhg")),f=h(n("bihbdchfhc")),d=h(n("ihfccfgdf")),p=h(n("dbabefhajh"));function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){var e=this.props.msg,t=void 0,n=e.paymentNoteMsg&&e.paymentNoteMsg.body;if(n){var r=(e.isTrusted()?u.Configuration.TrustedConversation:u.Configuration.UntrustedConversation)({mentions:e.mentionMap(),links:e.getLinks()});t=o.createElement(l.default,{msg:e},o.createElement(i.default,{text:n,selectable:!0,formatters:r,dirMismatch:e.rtl!==s.default.isRTL(),direction:e.dir}))}var d=void 0;if(this.props.quotedMsg){var h=(0,a.default)(f.default.quote,{[f.default.hasAuthor]:this.props.displayAuthor&&!e.isSentByMe&&e.isGroupMsg,[f.default.forwarded]:e.showForwarded()});d=o.createElement("div",{className:h},this.props.quotedMsg)}var m=void 0,b=s.default.t(1300);this.props.placeholderText&&(m="ciphertext",b=this.props.placeholderText);var g=(0,a.default)({[f.default.hasText]:t,[f.default.noText]:!t});return o.createElement(p.default,{msg:e,displayAuthor:this.props.displayAuthor},d,this.props.paymentInfo,o.createElement("div",{className:g},o.createElement(c.default,{hasCaption:!!t,iconName:m,msg:e},b)),t)}}]),t}();m.CONCERNS={msg:["rtl","dir","isSentByMe","isGroupMsg","isPSA","senderObj","paymentNoteMsg"]},m.displayName="PaymentMessagePlaceholder",t.default=(0,d.default)(m,m.CONCERNS)},bebecagjgj:function(e,t){e.exports={bodyContainer:"QChXd",list:"_1LsoD",search:"xq3Z0",hidden:"_3jqaL"}},becbhcadc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n("ebaacddagf"));function a(e){return e&&e.__esModule?e:{default:e}}var o=new(a(n("bfdbhfjbdd")).default);(0,r.default)(o),t.default=o},becegcbegb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n("bgeijhbbad"));t.default=c;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("ceffhbhahb")),i=s(n("cihjadddhc")),u=n("behbjhhbg");function s(e){return e&&e.__esModule?e:{default:e}}var l=(0,r.default)(u.MIMETYPES,function(e){return"document"===e.msgType});function c(e){var t=e.mimeType,n=e.filename,r=(0,o.default)(i.default.icon,l[t]?l[t].icon:"icon-doc-generic");return a.createElement("div",{className:i.default.container,"data-animate-attach-media":!0},a.createElement("div",{className:i.default.media},a.createElement("div",{className:i.default.document},a.createElement("div",{className:r}),a.createElement("div",{className:i.default.text},n))))}c.displayName="AttachMediaTypeFile"},bechdajic:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DAYS_OF_WEEK=["sun","mon","tue","wed","thu","fri","sat"],t.BUSINESS_HOUR_MODES={OPEN_24H:"open_24h",SPECIFIC_HOURS:"specific_hours",APPOINTMENT_ONLY:"appointment_only"}},bechejbabh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuickReplyCollection=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n("cgcgbfbffj")),o=n("ddjgcfjicj"),i=c(n("bjbdcigbdi")),u=c(n("ddeghajfaj")),s=c(n("ceddibdhdb")),l=c(n("bihdhbjih"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=t.QuickReplyCollection=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.checksum=void 0,r.flushCountsTimer=new s.default(function(){r.hasPendingCounts()&&r.flushCounts()}),r.sortQuickReply=function(e,t){return e.totalCount===t.totalCount?e.id<t.id?-1:1:e.totalCount>t.totalCount?-1:1},r.onCountsFlushed=function(e){var t=e.id,n=e.count,a=r.get(t);a&&(a.count=n,a.pendingCount=0)},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"delete",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),delete this.checksum}},{key:"filterShortcuts",value:function(e){return this.filter(function(t){return t.shortcut.toLowerCase().startsWith(e.toLowerCase())}).sort(this.sortQuickReply)}},{key:"sync",value:function(e){i.default.supportsFeature(i.default.F.QUICK_REPLIES_QUERY)&&(this.synced()&&this.checksum===e?this.hasPendingCounts()&&this.flushCounts():this.findQuery({}).catch(o.WapDrop,function(){}))}},{key:"periodicFlush",value:function(){i.default.supportsFeature(i.default.F.QUICK_REPLIES_QUERY)&&this.flushCountsTimer.debounceAndCap(2e3,5e3)}},{key:"updateChecksum",value:function(e){this.checksum=e}},{key:"synced",value:function(){return void 0!==this.checksum}},{key:"hasPendingCounts",value:function(){return this.some(function(e){return e.pendingCount>0})}},{key:"getAllPendingCounts",value:function(){var e={};return this.forEach(function(t){var n=t.id,r=t.pendingCount;r>0&&(e[n]=r)}),e}},{key:"flushCounts",value:function(){var e=this,t=this.getAllPendingCounts();l.default.flushQuickReplyCounts(t).then(function(n){n.checksum&&e.updateChecksum(n.checksum),n.data.filter(function(e){var n=e.id;return void 0!==t[n]}).forEach(e.onCountsFlushed)}).catch(o.WapDrop,function(){})}},{key:"_findQuery",value:function(){var e=this,t=this.getAllPendingCounts();return l.default.queryQuickReplies(t).then(function(n){return n.checksum&&e.updateChecksum(n.checksum),n.data.filter(function(e){var n=e.id;return void 0!==t[n]}).forEach(e.onCountsFlushed),n.data})}},{key:"handle",value:function(e){e.checksum&&this.updateChecksum(e.checksum);var t=[],n=[];e.quickReplies.forEach(function(e){"delete"===e.type?t.push(e):n.push(e)}),this.remove(t.map(function(e){return e.id})),this.add(n,{merge:!0})}}]),t}();d.model=u.default,t.default=new d},becjcdaafd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.rmrSticker=function(e,t,n){return a.default.assert(n,"media-fault: rmr called on MediaObject without sticker")(),i.default.mediaUpload("sticker",n.id).tap(function(n){var a=n.sticker;if(200===n.status&&a){t.forEach(function(e){var t=r(e,2),n=t[0];t[1]||(s(n,a,"rmrSticker"),n.clientUrl=a.url,n.filehash=a.filehash,n.width=a.width,n.height=a.height,n.mediaKey=a.mediaKey,n.mediaKeyTimestamp=0,n.directPath=a.directPath,n.uploadhash=a.encFilehash,a.mimetype&&(n.mimetype=a.mimetype))});var i=e.addEntry(a.url,a.mediaKey,0,a.encFilehash,o.default.STICKER,null,a.directPath);i&&i.markWhetherOnServer(!0)}})},t.rmrStickerPack=function(e,t,n){return a.default.assert(n,"media-fault: rmr called on MediaObject without stickerPack")(),i.default.mediaUpload("sticker-pack",n.id).tap(function(n){var a=n.stickerPack;if(200===n.status&&a){t.forEach(function(e){var t=r(e,2),n=t[0];t[1]||(s(n,a,"rmrStickerPack"),n.url=a.url,n.filehash=a.filehash,n.mediaKey=a.mediaKey,n.mediaKeyTimestamp=0,n.directPath=a.directPath,n.uploadhash=a.encFilehash,a.mimetype&&(n.mimetype=a.mimetype))});var i=e.addEntry(a.url,a.mediaKey,0,a.encFilehash,o.default.IMAGE,null,a.directPath);i&&i.markWhetherOnServer(!0)}})};var a=u(n("bdiiahhjbe")),o=u(n("gbjefdbgb")),i=u(n("bihdhbjih"));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n){var r=e.directPath===t.directPath,o=e.mediaKey===t.mediaKey;(r||o)&&a.default.assert(!1,`${n}:same-response-after-rmr`,`sameDirectPath: ${String(r)}, sameMediaKey: ${String(o)}`)()}},bedcejaea:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n("cgjbjefebj")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=c(n("cefgfgdhj")),u=c(n("beacbddhci")),s=c(n("fffdgbfji")),l=c(n("gjhhbhigc"));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default),a(t,null,[{key:"match",value:function(e,t){var n=t.terms,a=t.boundary,o=void 0!==a&&a,u=t.ignoreDiacritics,l=void 0!==u&&u;if(!n.length)return[];var c=l&&s.default.isLatinAlphabetLanguage(e)&&n.every(function(e){return s.default.isLatinAlphabetLanguage(e)})&&!s.default.isRTL(),f=c?s.default.removeAccents(e):e;return(0,i.default)(f,function(e,t,n){var a=(n?e.map(function(e){return s.default.removeAccents(e)}):e).map(r.default).join("|");if(s.default.isRTL())return new RegExp(`${t?"(?:^|\\b)":""}(\\S+)?(${a})(\\S+)?`,"ig");return new RegExp(`${t?"(?:^|\\b)":""}(${a})`,"ig")}(n,o,c))}}]),t}();f.jsx=function(e,t,n){var r=n.selectable;return o.createElement(u.default,{selectable:r},e)},t.default=f},beddiafhbh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FULLSCREEN_CONTROLS_DISPLAY_TIMEOUT=void 0;var r=A(n("eaaagccfda")),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=A(n("ceffhbhahb")),u=T(n("ddhijeejag")),s=A(n("bigcibhibh")),l=n("cgecdbiihg"),c=A(n("bidfjbaebi")),f=A(n("dbfiijcdie")),d=A(n("chbfbiahhb")),p=A(n("fffdgbfji")),h=A(n("eceadcicaf")),m=A(n("bffjfbgbg")),b=T(n("ecibddhig")),g=n("dcfaachegb"),v=A(n("ccjagcdajg")),y=n("bbdfiiibib"),_=A(y),E=A(n("bcafcjajcb")),j=A(n("cgajhcgiji")),O=A(n("bhdgigicfd")),S=A(n("bfdcadbbif")),w=A(n("bcjcbbafcj")),P=A(n("bdacfjbfhj")),M=A(n("didfdhbecg")),C=A(n("bjhhaacbib"));function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function A(e){return e&&e.__esModule?e:{default:e}}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function I(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var R=t.FULLSCREEN_CONTROLS_DISPLAY_TIMEOUT=3e3,L=function(e){function t(e){N(this,t);var n=k(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.resetMouseMoveRecently=(0,r.default)(function(){n.setState({mouseMoveRecently:!1})},R),n.buffered=[],n.setRefVideo=function(e){n.refVideo=e},n.setRefContainer=function(e){n.refContainer=e,n.refContainer},n.handleLoadedMetadata=function(e){var t=null!=n.props.startTime?n.props.startTime:0;n.setState({videoMetadata:{duration:e.duration,currentTime:t,volume:e.volume,muted:e.muted,bufferedTime:0}}),n.props.onAspectRatio&&e.videoWidth&&e.videoHeight&&n.props.onAspectRatio(e.videoWidth/e.videoHeight)},n.handleTimeUpdate=function(e){var t=null,r=n.state.videoMetadata;if(r){var o=n.getRelevantBufferedTime(n.buffered,e);t=a({},r,{currentTime:e,bufferedTime:o})}n.setState({videoMetadata:t})},n.handleVolumeChange=function(e){var t=null;n.state.videoMetadata&&(t=a({},n.state.videoMetadata,{volume:e.volume,muted:e.muted})),n.setState({videoMetadata:t})},n.handleEnded=function(){n.props.onVideoEnded&&n.props.onVideoEnded(),n.setState({isVideoPlaying:!1})},n.handleError=function(e){20!==e?(n.setState({isVideoError:!0}),n.props.onError&&n.props.onError()):n.setState({isVideoPlaying:!1})},n.handlePause=function(){n.setState({isVideoPlaying:!1})},n.handlePlaying=function(){n.setState({isVideoPlaying:!0})},n.handleProgress=function(e){n.buffered=e;var t=n.state.videoMetadata;if(t){var r=t.currentTime,o=n.getRelevantBufferedTime(e,r),i=a({},t,{bufferedTime:o});n.setState({videoMetadata:i})}},n.handleEnterFullscreen=function(e){e.stopPropagation(),f.default.requestFullscreen(n.refContainer)},n.handleExitFullscreen=function(e){e.stopPropagation(),f.default.exitFullscreen()},n.handleFullscreenToggleButtonClick=function(e){n.state.isFullscreenMode?n.handleExitFullscreen(e):n.handleEnterFullscreen(e)},n.state={videoMetadata:null,isVideoPlaying:!1,isVideoError:!1,isMouseOver:!1,mouseMoveRecently:!1,isFullscreenMode:f.default.isFullscreenMode},n}return I(t,u.Component),o(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(f.default,"fullscreen_change",function(){f.default.isFullscreenMode&&f.default.fullscreenElement===e.refContainer?e.setState({isFullscreenMode:!0}):f.default.isFullscreenMode||e.setState({isFullscreenMode:!1})})}},{key:"componentWillUnmount",value:function(){this.resetMouseMoveRecently.cancel()}},{key:"getCurrentTimeFromVideo",value:function(){return this.refVideo?this.refVideo.getCurrentTime():0}},{key:"getVolumeFromVideo",value:function(){return this.refVideo?this.refVideo.getVolume():0}},{key:"getMutedFromVideo",value:function(){return!!this.refVideo&&this.refVideo.getMuted()}},{key:"getRelevantBufferedTime",value:function(e,t){for(var n=0,r=0;r<e.length;r++)if(t>=e[r][0]&&t<e[r][1]){n=e[r][1];break}return n}},{key:"renderMedia",value:function(){switch(this.props.type){case l.PLAYER_TYPE.FLOATER:case l.PLAYER_TYPE.MEDIA_VIEWER:return this.renderMsgMedia();case l.PLAYER_TYPE.OG_FLOATER:return this.renderOgMedia()}return null}},{key:"renderOgMedia",value:function(){var e=this.props.ogVideoInfo;if(!e)return null;var t={backgroundImage:`url(${e.previewUrl})`};return u.createElement(u.Fragment,null,this.state.isFullscreenMode?null:u.createElement("div",{className:O.default.preview,style:t}),""!==e.videoUrl?u.createElement(P.default,{ref:this.setRefVideo,key:"floating-media",url:e.videoUrl,startTime:this.props.startTime,onEnded:this.handleEnded,onError:this.handleError,onLoadedMetadata:this.handleLoadedMetadata,onPause:this.handlePause,onPlaying:this.handlePlaying,onProgress:this.handleProgress,onTimeUpdate:this.handleTimeUpdate,onVolumeChange:this.handleVolumeChange,autoPlay:this.props.autoPlay},p.default.t(1115)):null)}},{key:"renderMsgMedia",value:function(){var e=this.props.msgVideoInfo;if(!e)return null;var t=e.mediaData.preview;if(this.isMediaRenderable()){var n=t?{backgroundImage:`url(${t.url()})`}:void 0;return u.createElement(u.Fragment,null,this.state.isFullscreenMode||this.props.type!==l.PLAYER_TYPE.FLOATER?null:u.createElement("div",{className:O.default.preview,style:n}),u.createElement(v.default,{ref:this.setRefVideo,key:"floating-media",msg:e.msg,mediaData:e.mediaData,className:O.default.videoTag,startTime:this.props.startTime,onEnded:this.handleEnded,onError:this.handleError,onLoadedMetadata:this.handleLoadedMetadata,onPause:this.handlePause,onPlaying:this.handlePlaying,onProgress:this.handleProgress,onTimeUpdate:this.handleTimeUpdate,onVolumeChange:this.handleVolumeChange,autoPlay:this.props.autoPlay},p.default.t(1115)))}return t?u.createElement("img",{key:"floating-media",src:t.url(),draggable:"false"}):null}},{key:"isMediaRenderable",value:function(){switch(this.props.type){case l.PLAYER_TYPE.FLOATER:case l.PLAYER_TYPE.MEDIA_VIEWER:var e=this.props.msgVideoInfo;if(!e)return!1;var t=e.mediaData;return t.mediaStage===m.default.STAGE.RESOLVED||t.streamable&&t.isStreamable();case l.PLAYER_TYPE.OG_FLOATER:return!0}return!0}},{key:"renderMediaStage",value:function(){switch(this.props.type){case l.PLAYER_TYPE.FLOATER:case l.PLAYER_TYPE.MEDIA_VIEWER:var e=this.props.msgVideoInfo;return e?u.createElement("div",{className:O.default.mediaStageWrapper},u.createElement(g.MediaStage,{msg:e.msg,mediaData:e.mediaData})):null;case l.PLAYER_TYPE.OG_FLOATER:var t=this.props.ogVideoInfo;return t&&""===t.videoUrl?u.createElement("div",{className:O.default.mediaStageWrapper},u.createElement(b.Pending,null)):null}return null}},{key:"renderVideoControls",value:function(){if(!this.isMediaRenderable())return null;var e=this.state.videoMetadata;return e?u.createElement(C.default,{refVideo:this.refVideo,videoMetadata:e,isFullscreenMode:this.state.isFullscreenMode,isVideoPlaying:this.state.isVideoPlaying}):null}},{key:"renderErrorMessage",value:function(){return u.createElement(E.default,null,p.default.t(882),this.renderErrorMessageLink())}},{key:"renderErrorMessageLink",value:function(){if(this.props.type!==l.PLAYER_TYPE.OG_FLOATER)return null;if(!this.props.ogVideoInfo)return null;var e=this.props.ogVideoInfo.videoMsg.matchedText;return u.createElement(c.default,{className:O.default.errorLink,href:e},u.createElement("span",null,p.default.t(883)),u.createElement(S.default,{directional:!0,display:"inline",name:"chevron-right-text",className:O.default.errorLinkChevron}))}},{key:"render",value:function(){var e=this,t=void 0,n=void 0,r=void 0,a=this.isMediaRenderable();a&&(n=u.createElement(d.default,{isFullscreenMode:this.state.isFullscreenMode,onClick:this.handleFullscreenToggleButtonClick}));var o=u.createElement(s.default,{isFullscreenMode:this.state.isFullscreenMode,onClick:function(t){t.stopPropagation(),e.props.onClose()}});switch(this.props.type){case l.PLAYER_TYPE.OG_FLOATER:case l.PLAYER_TYPE.FLOATER:t=u.createElement(u.Fragment,null,w.default.isSafari?null:n,o);break;case l.PLAYER_TYPE.MEDIA_VIEWER:var c=void 0;c=this.state.isFullscreenMode?o:a?u.createElement(_.default,{onClick:function(t){t.stopPropagation(),e.props.onClose&&e.props.onClose(),e.props.onOpenVideoFloater&&e.props.onOpenVideoFloater()},theme:y.PIP_BUTTON_THEME.PLAYER}):null,t=u.createElement(u.Fragment,null,n,c),r=function(t){t.stopPropagation(),e.refVideo&&(e.state.isVideoPlaying?e.refVideo.pause():e.refVideo.play())}}var f=void 0;f=this.state.isFullscreenMode?u.createElement(u.Fragment,null,u.createElement(j.default,{theme:"upper"}),u.createElement(j.default,{theme:"lower"})):this.props.type===l.PLAYER_TYPE.MEDIA_VIEWER?u.createElement(j.default,{theme:"full-sharp"}):u.createElement(j.default,{theme:"full-rounded"});var p=this.state.isVideoError?this.renderErrorMessage():null;return u.createElement("div",{ref:this.setRefContainer,key:"elementsWrapped",className:(0,i.default)(O.default.container,{[O.default.fullscreen]:this.state.isFullscreenMode}),onMouseEnter:function(t){e.setState({isMouseOver:!0})},onMouseLeave:function(t){e.setState({isMouseOver:!1})},onMouseDown:function(t){e.state.isFullscreenMode&&t.stopPropagation()},onMouseMove:function(t){e.state.isMouseOver||e.setState({isMouseOver:!0}),e.state.mouseMoveRecently||e.setState({mouseMoveRecently:!0}),e.resetMouseMoveRecently()},onClick:r},u.createElement("div",{className:O.default.videoFloaterMedia},this.renderMedia()),this.renderMediaStage(),p,u.createElement(M.default,{transitionName:"fade-fast"},this.state.isMouseOver&&this.state.mouseMoveRecently?u.createElement(u.Fragment,null,f,this.renderVideoControls(),t):null))}}]),t}();L.displayName="SharedVideoPlayer";var D=(0,h.default)(L),x=function(e){function t(){var e,n,r;N(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=k(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.getCurrentTimeFromVideo=function(){return r.getComponent().getCurrentTimeFromVideo()},k(r,n)}return I(t,D),t}();t.default=x},bedfbecdgd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediaListener=t.SelectionListener=t.WhileFocusedListener=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("bbchdeehff")),i=s(n("eceadcicaf")),u=s(n("ihfccfgdf"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){function t(){var e,n,r;l(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.scrollMsg=function(e,t){r.props.parent.scrollMsg(e,t)},r.flashFocusedMsg=function(e){r.props.parent.highlight(e)},c(r,n)}return f(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(o.default,"scroll_to_focused_msg",this.scrollMsg),this.props.listeners.add(o.default,"flash_focused_msg",this.flashFocusedMsg)}},{key:"render",value:function(){return null}}]),t}();d.displayName="WhileFocused";t.WhileFocusedListener=(0,i.default)(d);var p=function(e){function t(){var e,n,r;l(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.onSelectChange=function(e){r.props.parent.onSelectChange(e)},c(r,n)}return f(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.listeners,n=e.msgId,r=e.selectedMessages;t.add(r,n,this.onSelectChange)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.listeners,r=t.msgId,a=t.selectedMessages;e.selectedMessages!==a&&(n.remove(e.selectedMessages,r,this.onSelectChange),n.add(a,r,this.onSelectChange))}},{key:"render",value:function(){return null}}]),t}();p.displayName="Selection";t.SelectionListener=(0,i.default)(p);var h=function(e){function t(){return l(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,a.PureComponent),r(t,[{key:"componentDidUpdate",value:function(){this.props.parent.forceUpdate()}},{key:"render",value:function(){return null}}]),t}();h.CONCERNS={mediaData:["isGif"]},h.displayName="MediaListenerClass";t.MediaListener=(0,u.default)(h,h.CONCERNS)},beebhcdhhh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=c(n("cfaiaibca")),i=c(n("dhfbfehaef")),u=c(n("djhbegbdaf")),s=c(n("chcadgfgad")),l=c(n("bhheahajjg"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.blockContact=function(e){e.stopPropagation(),e.preventDefault(),r.props.onBlock()},r.onCancel=function(e){e.stopPropagation(),e.preventDefault(),r.props.onCancel()},r.reportSpamBlock=function(e){e.stopPropagation(),e.preventDefault(),r.props.onReportSpamBlock()},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=a.createElement(o.default,{a8nText:"popup-controls-block",type:"primary",onClick:this.blockContact,key:0},l10n.t(213)),t=a.createElement(o.default,{a8nText:"popup-controls-report-spam",type:"plain",onClick:this.reportSpamBlock,key:1},l10n.t(928)),n=a.createElement(o.default,{a8nText:"popup-controls-cancel",type:"plain",onClick:this.onCancel,key:2},l10n.t(1153)),r={enter:this.blockContact,escape:this.onCancel},c=[t,e,n],f=a.createElement(l.default,{contact:this.props.contact}),d=a.createElement(u.default,{id:215,params:{contact:f}});return a.createElement(i.default,{handlers:r},a.createElement(s.default,{children:d,actions:c}))}}]),t}();d.displayName="BlockContactPopup",t.default=d},beecadabde:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n("iffjgahba"),o=(r=a)&&r.__esModule?r:{default:r};var i=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.contact=n,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,(0,o.default)("ContactBlocked")),t}();t.default=i},beeecgdjce:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!Array.isArray(e))return void s.default.assert(!1,"ws2:invalid-msg","ws2: Invalid message, not an array")();var t=e.shift(),h=void 0;switch(t){case"Blocklist":return void(0,r.default)(e);case"Contact":return void(0,u.default)(e);case"Props":h=n("bfgbdiffgd").default;break;case"Location":h=d.default.LiveLocation;break;case"Chat":return void(0,a.default)(e);case"Msg":return void(0,l.default)(e);case"Stream":return void(0,p.default)(e);case"Conn":return void(0,i.default)(e);case"Cmd":return void(0,o.default)(e);case"Presence":return void(0,f.default)(e);case"MsgInfo":return void(0,c.default)(e);default:h=d.default[t]}h?h.handle(e):s.default.error("ws2: Invalid type received",e)()};var r=h(n("difacfecfb")),a=h(n("beafbeighe")),o=h(n("bffejifief")),i=h(n("cjgfiijjee")),u=h(n("bjddijedhj")),s=h(n("bdiiahhjbe")),l=h(n("dgicehhija")),c=h(n("ceegagjdfb")),f=h(n("chjfbhjejb")),d=h(n("bhggeigghg")),p=h(n("bgebiidch"));function h(e){return e&&e.__esModule?e:{default:e}}},beeieigghj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.commandeerFile=function(e,t,n,r){throw new Error("OpaqueData:commandeerFile unimplemented")},t.copyFile=function(e,t,n,r){throw new Error("OpaqueData:copyFile unimplemented")},t.getOrCreateOpaqueDataForPath=function(e,t){throw new Error("OpaqueData::getOrCreateOpaqueDataForPath unimplemented")},t.deleteFileAtPath=function(e){throw new Error("OpaqueData::deleteFileAtPath unimplemented")},t.constructData=function(e,t,n){throw new Error("OpaqueData::constructData unimplemented")},t.getNextFileName=function(e){throw new Error("OpaqueData::getNextFileName unimplemented")},t.getAudioDuration=function(e){throw new Error("OpaqueData::getAudioDuration unimplemented")},t.getFileHash=function(e){throw new Error("OpaqueData::getFileHash unimplemented")},t.getFileSize=function(e){throw new Error("OpaqueData::getFileSize unimplemented")},t.compressIfIsFolder=function(e){throw new Error("OpaqueData::compressIfIsFolder unimplemented")};var a=u(n("dgdahfddff")),o=u(n("hgjcbccfg")),i=n("cgffhfegce");function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._b64=void 0,r._blob=void 0,r._url=void 0,r._mimetype=void 0,r._released=void 0,s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"url",value:function(){return this.throwIfReleased("OpaqueData:url"),this._url?this._url:this._b64?this._url=`data:image/jpeg;base64,${this._b64}`:this._url=window.URL.createObjectURL(this._blob)}},{key:"filepath",value:function(){throw new Error("OpaqueData:filepath can not be implemented on web")}},{key:"wavFilepath",value:function(){throw new Error("OpaqueData:wavFilepath can not be implemented on web")}},{key:"setWavFilepath",value:function(e){throw new Error("OpaqueData:setWavFilepath can not be implemented on web")}},{key:"validate",value:function(){return this._released?Promise.resolve(!1):this._blob?(0,i.validateBlob)(this._blob):Promise.resolve(!0)}},{key:"size",value:function(){return this.throwIfReleased("OpaqueData:size"),this._blob?this._blob.size:o.default.sizeWhenDecoded(this._b64)}},{key:"formData",value:function(e){return this.throwIfReleased("OpaqueData:formData"),this.forceToBlob()}},{key:"type",value:function(){return this.throwIfReleased("OpaqueData:type"),this._mimetype||"undefined"}},{key:"forceToBlob",value:function(){this.throwIfReleased("OpaqueData:forceToBlob");var e=this._blob;if(e)return e;var t=this._b64;if(t){this._b64=void 0,this._url=void 0;var n=this._mimetype;return this._blob=new Blob([o.default.decode(t)],n?{type:n}:void 0)}throw new Error("OpaqueData:forceToBlob no b64 or blob")}},{key:"_releaseImpl",value:function(){this._mimetype=void 0,this._blob?(this._blob=void 0,this._url&&(window.URL.revokeObjectURL(this._url),this._url=void 0)):(this._b64=void 0,this._url=void 0)}},{key:"isBlobEqual",value:function(e){return e?this._blob===e._blob:!this._blob}}]),t}();l.createFromBase64Jpeg=function(e){return new Promise(function(t){var n=new l;return n._b64=e,n._mimetype="image/jpeg",t(n)})},l.createFromData=function(e,t){return new Promise(function(n){var r=new l;return r._blob=e instanceof Blob&&e.type===t?e:new Blob([e],{type:t}),r._mimetype=t,n(r)})},t.default=l},beejfjjdjf:function(e,t){e.exports={bubble:"-N6Gq",meta:"_1RNhZ",isPSA:"_35jKp",isPsa:"_35jKp"}},begdabbfeh:function(e,t){e.exports={panel:"_1ebw2",body:"FkdAD",cancelButton:"OWYLS"}},begjfegacj:function(e,t){e.exports={commentInput:"k7wLF",search:"cIdsW",groupInfo:"_2MxY2",onSendInvite:"aSzLC"}},behbcejhad:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=y(n("ceffhbhahb")),i=v(n("ddhijeejag")),u=n("dghhefgjhc"),s=y(n("jjhbchhce")),l=v(n("cajijabhgb")),c=y(n("dgjacfgggf")),f=y(n("cajbifjffe")),d=y(n("eceadcicaf")),p=y(n("cgjijjgidi")),h=n("igiffibee"),m=y(n("bjbedjfe")),b=y(n("bfdcadbbif")),g=y(n("edbaidcaf"));function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function y(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return E.call(n),n.state={imgSrcUrl:null,hiResAvail:!1},n.updateImgSrcUrl(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.PureComponent),a(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(window,"dpichange",function(){return e.updateImgSrcUrl(e.props)})}},{key:"componentDidUpdate",value:function(){this.updateImgSrcUrl(this.props)}},{key:"render",value:function(){var e=this.props,t=e.lat,n=e.lng,r=e.name,a=e.width,u=e.height,s=e.className,l=e.linkify,c={pointerEvents:"none",width:a,height:this.state.hiResAvail?void 0:u},d=(0,o.default)(s,{[p.default.hidden]:!this.state.hiResAvail}),m=this.state.hiResAvail?null:i.createElement(b.default,{name:"map-placeholder",display:"inline"}),g=i.createElement(f.default,{src:this.state.imgSrcUrl||"",className:d,style:c,hasPrivacyChecks:!1,onLoad:this.onImgLoaded,noXHR:!0});return l?i.createElement("a",{href:(0,h.getMapUrl)(t,n,r),target:"_blank",className:p.default.container},m,g):i.createElement("span",{className:p.default.container},m,g)}}]),t}();_.defaultProps={linkify:!0,showMarker:!0};var E=function(){var e=this;this.updateImgSrcUrl=function(t){var n=t.height+50,a="color:red|"+t.lat+", "+t.lng,o=t.lat+", "+t.lng,i=t.width+"x"+n,f=s.default.currentRes===s.default.RES.HIGH?2:1,d=l10n.getLocale(),p=g.default.GSM_NAME,h=g.default.build(u.G_MAPS_IMG_URL,r({zoom:15,size:i,scale:f,language:d,client:p},t.showMarker?{markers:a}:null,t.showMarker?null:{center:o}));e.lastURL!==h&&(e.lastURL=h,g.default.gsmURL(h,g.default.GSM_NUMS).checkpoint(t.rejectOnUnmount()).then(function(t){e.setState({imgSrcUrl:t,hiResAvail:c.default.isCached(t)})}).catch(l.Unmount,function(){}))},this.onImgLoaded=function(t){e.state.hiResAvail||e.setState({hiResAvail:!0}),e.props.onLoad&&e.props.onLoad()}};_.displayName="Map",t.default=(0,d.default)((0,m.default)(_))},beiahcfigb:function(e,t,n){"use strict";e.exports={"#":1,"":1,"*":2,"0":3,"":3,"1":4,"":4,"2":5,"":5,"3":6,"":6,"4":7,"":7,"5":8,"":8,"6":9,"":9,"7":10,"":10,"8":11,"":11,"9":12,"":12,"":13,"":14,"":15,"":17,"":18,"":19,"":20,"":21,"":23,"":25,"":26,"":28,"":30,"":31,"":80,"":90,"":103,"":110,"":112,"":145,"":149,"":156,"":225,"":269,"":287,"":288,"":289,"":290,"":292,"":294,"":295,"":296,"":297,"":298,"":299,"":300,"":302,"":304,"":305,"":306,"":307,"":308,"":309,"":310,"":312,"":327,"":333,"":352,"":353,"":355,"":356,"":357,"":358,"":359,"":362,"":364,"":365,"":366,"":367,"":369,"":370,"":373,"":374,"":378,"":382,"":383,"":387,"":388,"":389,"":390,"":391,"":392,"":393,"":394,"":396,"":397,"":398,"":401,"":402,"":411,"":412,"":413,"":414,"":415,"":416,"":417,"":419,"":421,"":422,"":427,"":428,"":429,"":430,"":436,"":437,"":438,"":439,"":440,"":443,"":444,"":445,"":446,"":447,"":448,"":449,"":450,"":459,"":460,"":462,"":463,"":464,"":465,"":466,"":467,"":469,"":470,"":473,"":474,"":475,"":479,"":480,"":482,"":486,"":487,"":488,"":501,"":513,"":515,"":522,"":535,"":579,"":581,"":582,"":584,"":585,"":586,"":587,"":588,"":589,"":590,"":591,"":592,"":594,"":595,"":600,"":601,"":602,"":603,"":627,"":628,"":631,"":632,"":634,"":637,"":638,"":639,"":640,"":641,"":645,"":646,"":650,"":652,"":653,"":654,"":657,"":658,"":659,"":660,"":661,"":662,"":664,"":665,"":666,"":667,"":668,"":669,"":670,"":671,"":672,"":677,"":685,"":691,"":692,"":699,"":705,"":711,"":717,"":723,"":729,"":735,"":741,"":747,"":753,"":759,"":760,"":761,"":763,"":764,"":766,"":767,"":768,"":771,"":774,"":775,"":776,"":777,"":785,"":791,"":932,"":1069,"":1071,"":1085,"":1096,"":1115,"":1121,"":1133,"":1139,"":1145,"":1151,"":1163,"":1169,"":1172,"":1178,"":1179,"":1180,"":1181,"":1182,"":1193,"":1206,"":1212,"":1213,"":1219,"":1230,"":1238,"":1240,"":1241,"":1242,"":1243,"":1245,"":1246,"":1247,"":1248,"":1249,"":1250,"":1251,"":1252,"":1255,"":1256,"":1257,"":1258,"":1259,"":1260,"":1261,"":1263,"":1265,"":1266,"":1267,"":1268,"":1270,"":1272,"":1273,"":1279,"":1285,"":1286,"":1294,"":1295,"":1296,"":1297,"":1298,"":1300,"":1301,"":1323,"":1330,"":1333,"":1334,"":1335,"":1336,"":1342,"":1344,"":1347,"":1350,"":1351,"":1352,"":1354,"":1355,"":1358,"":1359,"":1360,"":1373,"":1376,"":1380,"":1381,"":1382,"":1383,"":1391,"":1392,"":1399,"":1402,"":1405,"":1409,"":1410,"":1411,"":1412,"":1413,"":1414,"":1429,"":1430,"":1431,"":1432,"":1433,"":1434,"":1435,"":1436,"":1437,"":1438,"":1439,"":1440,"":1526,"":1527,"":1528,"":1532,"":1533,"":1534,"":1535,"":1540,"":1541,"":1543,"":1544,"":1546,"":1549,"":1550,"":1551,"":1553,"":1555,"":1557,"":1559,"":1560,"":1561,"":1563,"":1564,"":1565,"":1566,"":1568,"":1571,"":1572,"":1575,"":1578,"":1579,"":1580,"":1581,"":1585,"":1609,"":1621,"":1634,"":1655,"":1685,"":1686,"":1689,"":1690,"":1691,"":1693,"":1695,"":1698,"":1701,"":1703,"":1704,"":1705,"":1707,"":1709,"":1711,"":1712,"":1719,"":1726,"":1727,"":1729,"":1734,"":1735,"":1740,"":1777,"":1780,"":1781,"":1782,"":1783,"":1784,"":1785,"":1792,"":2304,"":2305,"":2306,"":2307,"":2309,"":2310,"":2320,"":2347,"":2351,"":2352,"":2353,"":2354,"":2361,"":2362,"":2378,"":2379,"":2384,"":2385,"":2389,"":2391,"":2392,"":2399,"":2409,"":2412,"":2413,"":2414,"":2415,"":2416,"":2417,"":2418,"":2419,"":2420,"":2421,"":2422,"":2423,"":2425,"":2426,"":2427,"":2428,"":2429,"":2432,"":2442,"":2443,"":2449,"":2450,"":2451,"":2454,"":2460,"":2463,"":2464,"":2466,"":2481,"":2482,"":2483,"":2485,"":2492,"":2498,"":2504,"":2517,"":2518,"":2519,"":2522,"":2524,"":2525,"":2526,"":2527,"":2529,"":2533,"":2535,"":2538,"":2539,"":2542,"":2543,"":2544,"":2546,"":2547,"":2548}},beifdajhid:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoMediaHostsError=t.AbortError=void 0;var r=n("cgijjjgici");Object.defineProperty(t,"AbortError",{enumerable:!0,get:function(){return o(r).default}});var a=o(n("iffjgahba"));function o(e){return e&&e.__esModule?e:{default:e}}t.NoMediaHostsError=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,(0,a.default)("NoMediaHostsError")),t}()},beifejbdga:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(e,t){if(1===e.length)return e;var n=[],a=void 0;for(;a=e.pop();){for(var o=a,i=r(o,5),u=i[0],s=i[3],l=i[4],c=r(t[l],3),f=c[0],d=f.nestable,p=f.compatibility,h=c[2],m=!0,b=n.length,g=b-1;g>=0;--g){var v=r(n[g],5),y=v[2],_=v[3],E=v[4];if(u>_)break;var j=r(t[E],3),O=j[0],S=O.mutates,w=O.format,P=O.compatibility,M=j[2];if(s>y){if(h<M&&n.splice(g,1))continue;m=!1;break}if(S&&!(m=!1))break;if(p)break;if((d||P||!(h<M)||!n.splice(g,1))&&(!p&&!w)){m=!1;break}}m&&n.push(a)}return n}},beiggaad:function(e,t,n){"use strict";var r,a=n("ddfeabiaci"),o=(r=a)&&r.__esModule?r:{default:r};var i=n("cccfbheica");e.exports=(0,o.default)({version:"17",supportsFeatureFlags:!0,implementedFeatures:{}},i)},beijddaacj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=d(n("ebjaejiaba")),i=n("iaibjaeb"),u=d(i),s=d(n("dacdidjdfi")),l=d(n("ccjbgacbad")),c=d(n("eceadcicaf")),f=d(n("deabjbejhf"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={selected:r.props.selections.isSelected(r.props.chat)||!!r.props.checked},r.onSelectChange=function(e){r.state.selected!==e&&r.setState({selected:e})},r.onSelect=function(){if(!r.props.disabled){var e=r.props.onSelect;e&&e(r.props.chat,!r.state.selected,!1)}},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(this.props.selections,this.props.chat.id.toString(),this.onSelectChange)}},{key:"render",value:function(){var e=this.props,t=e.chat,n=e.active,r=e.customSecondaryText,c=e.disabled,d=void 0;if(t instanceof o.default)d=a.createElement(u.default,{theme:c?"chat-checkbox-no-delete":"chat-checkbox",active:n,chat:t,mode:i.Mode.INFO,noContext:!0,onClick:this.props.disabled?null:this.onSelect,secondary:r});else{var p=this.props.chat;d=a.createElement(f.default,{contact:p,disabled:c,onSelect:this.onSelect,customSecondaryText:r,active:n,allowBlockedContacts:this.props.allowBlockedContacts})}return a.createElement("div",{className:l.default.checkboxChatWrapper},a.createElement("div",{className:l.default.checkboxChatControl},a.createElement(s.default,{onChange:this.onSelect,checked:this.state.selected,disabled:c})),d)}}]),t}();h.displayName="CheckboxChatWrapper",t.default=(0,c.default)(h)},bejbgaghc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryGroupInviteCode=function(e){return function(e){if(e.groupInviteCodePromise)return e.groupInviteCodePromise;return e.groupInviteCodePromise=(0,i.sendQueryGroupInviteCode)(e.id).then(function(t){e.inviteCode=t}).finally(function(){e.groupInviteCodePromise=null})}((0,s.unproxy)(e))},t.revokeGroupInvite=function(e){return function(e){if(e.revokeGroupInvitePromise)return e.revokeGroupInvitePromise;return e.revokeGroupInvitePromise=(0,i.sendRevokeGroupInviteCode)(e.id).then(function(t){e.inviteCode=t}).catch(a.ServerStatusCodeError,function(e){throw e}).catch(function(e){u.default.error("models:groupMetadata:participantCollection:revokeGroupInvite dropped")(e)}).finally(function(){e.revokeGroupInvitePromise=null})}((0,s.unproxy)(e))},t.joinGroupViaInvite=function(e){return(0,i.sendJoinGroupViaInvite)(e).then(function(e){return o.default.supportsFeature(o.default.F.MD_BACKEND)?r.default.gadd(e):r.default.find(e)})};var r=l(n("dbdfbgehgj")),a=n("ddjgcfjicj"),o=l(n("bjbdcigbdi")),i=n("bcbfebgcic"),u=l(n("bdiiahhjbe")),s=n("bheafeifce");function l(e){return e&&e.__esModule?e:{default:e}}},bejccccege:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=g;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=n("dbhfachiij"),o=m(n("bbchdeehff")),i=(m(n("baagejbchg")),m(n("dgjddffcfg"))),u=m(n("fffdgbfji")),s=m(n("bdiiahhjbe")),l=m(n("cfiighfhhg")),c=m(n("dbabefhajh")),f=n("bfjajhbdf"),d=m(f),p=m(n("egibbfjcd")),h=m(n("cbbhbjebii"));function m(e){return e&&e.__esModule?e:{default:e}}function b(){if(e.mas||e.windowsStore)return h.default.manualDownload();o.default.openToast(r.createElement(d.default,{msg:u.default.t(1089),id:(0,f.genId)()})),h.default.update().then(function(e){e===a.DownloadState.UPDATE_NOT_AVAILABLE?(s.default.error("Got unsupported message but no newer release found")(),o.default.openToast(r.createElement(d.default,{msg:u.default.t(854),id:(0,f.genId)()}))):e===a.DownloadState.UPDATE_DOWNLOADED?h.default.restart():s.default.error("Got unsupported message but updater errored")()})}function g(e){var t=e.msg,n=e.displayAuthor,a=(e.displayType,t.isSentByMe||!t.subtype?r.createElement("span",{className:p.default.action,role:"button",onClick:b},u.default.t(1082)):null);return r.createElement(c.default,{msg:t,displayAuthor:n},r.createElement(l.default,{iconName:"unknown",msg:t},i.default.msgText(t)," ",a))}window.updater=h.default,g.displayName="UnsupportedMsg"}).call(t,n("ddghcccjbh"))},bejfdgbdag:function(e,t,n){"use strict";var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("cgffhfegce"),i=n("bdiiahhjbe"),u=(r=i)&&r.__esModule?r:{default:r};var s=n("fdhajffgc"),l=n("dbajccegac"),c=void 0,f=0;var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.oggBlob=t}return a(e,[{key:"generateBlob",value:function(){return this.oggBlobToWAVBlob(this.oggBlob,1)}},{key:"oggBlobToWAVBlob",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return new Promise(function(r,a){var i=new s,l=[],d=[],p=(f++,c||new window.AudioContext),h={outputBufferSampleRate:p.sampleRate,bufferLength:4096};i.onmessage=function(e){if(null==e.data){for(var a=function(e){l.forEach(function(t,n){for(var r=t[e]||t[0],a=0;a<r.length;a++)d.push(r[a])})},o=0;o<n;o++)a(o);var i=t.encodeWAV(d,p,n),u=new Blob([i.readByteArray()],{type:"audio/wav"});0==--f&&c&&(c.close&&c.close(),c=void 0),r(u)}else l.push(e.data),n=l[0].length},i.postMessage({command:"decode-init",config:h}),(0,o.blobToArrayBuffer)(e).then(function(e){i.postMessage({command:"decode",pages:new Uint8Array(e)}),i.postMessage({command:"decode-done"})}).catch(function(e){u.default.error(`Player::oggBlobToWAVBlob error: ${e}`)(e)})})}},{key:"encodeWAV",value:function(e,t,n){var r=new l(void 0,!0);r.ensureCapacity(44+2*e.length),r.writeString("RIFF"),r.writeUint32(36+2*e.length),r.writeString("WAVE"),r.writeString("fmt "),r.writeUint32(16),r.writeUint16(1),r.writeUint16(n),r.writeUint32(t.sampleRate),r.writeUint32(t.sampleRate*n*2),r.writeUint16(2*n),r.writeUint16(16),r.writeString("data"),r.writeUint32(2*e.length);for(var a=0;a<e.length;a++){var o=Math.max(-1,Math.min(e[a],1));o*=o>0?32767:32768,r.writeInt16(Math.floor(o))}return r}}]),e}();e.exports=d},bfababcidc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.msgFindQuery=function(e,t,n,o,i,l){if("before"===e)return function(e,t,n,o,i){return(0,a.getBefore)(e,e.count).then(function(a){var l=a.messages;if(0===a.remaining)return l;var c=void 0;return l.length?((c=l[0].id.clone()).direction="before",c.count=e.count-a.remaining):c=e,s("before",c,t,n,o,i).then(function(e){if(e.status>=400)return r.default.error(`msgFindQuery returned ${e.status}, returning local results if possible`)(),l.length?l:e;var t=e;return[].concat(u(t),u(l))})})}(t,n,o,i,l);return s(e,t,n,o,i,l)},t.queryVCard=function(e){return o.default.queryVCard(e).then(function(e){var t=e;return(0,a.storeMessages)(t).then(function(){return e})})};var r=i(n("bdiiahhjbe")),a=n("ecdfgaagba"),o=i(n("bihdhbjih"));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e,t,n,r,i,u){return o.default.msgFindQuery(e,t,r,i).then(function(r){if(r.status>=400)return r;var o="media"===e||"search"===e?r.messages:r;return(0,a.storeMessages)(o).then(function(){return(0,a.addMessagesToHistory)(t.remote,o,n,u)}).then(function(){return r})})}},bfabbhgjga:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=y(n("dcdehfghdi"));t.sendRevoke=function(e,t){return function(e,t){if(!o.default.supportsFeature(o.default.F.REVOKE))return Promise.reject("revoke feature unsupported");var n=e.id,r=e.t;if(!n.fromMe)return Promise.reject("revoking received message");var i=new f.default({id:(0,p.default)(),remote:e.id.remote,fromMe:!0}),u={id:i,to:n.remote,t:r,type:a.MSG_TYPE.PROTOCOL,subtype:"revoke",protocolMessageKey:n,clearMedia:!!t,local:!0};return(0,s.appendMessage)(e.chat.id,u).then(function(){return(0,h.sendMsgRecord)(new c.default(u))}).then(function(t){if("success"===t){var n=Math.trunc(Date.now()/1e3-e.t);return new l.default.SendRevokeMessage({messageType:e.getWamMessageType(),messageMediaType:e.getWamMediaType(),revokeSendDelay:n}).commit(),_(e,i).then(function(){return"success"})}return Promise.reject("dropped")})}((0,m.unproxy)(e),t)},t.revoke=_;var a=n("baagejbchg"),o=y(n("bjbdcigbdi")),i=y(n("bdiiahhjbe")),u=v(n("ddgbhifaji")),s=n("ecdfgaagba"),l=y(n("bfbggcdbfb")),c=y(n("cbcbdjdah")),f=y(n("cffajefeag")),d=v(n("ccbagdhfbb")),p=y(n("cfejjfjhca")),h=n("bdgehigfig"),m=n("bheafeifce"),b=y(n("bhggeigghg")),g=y(n("jccfhaecf"));function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function y(e){return e&&e.__esModule?e:{default:e}}function _(e,t){return function(e,t){return(0,s.removeMessagesFromHistory)([e.id]).then(function(){d.typeIsMMS(e.type)&&u.deregisterMsg(e),e.chat&&e.chat.removeFromCollection(e);var n=e.getCollection(),o=e.id;e.msgChunk&&e.msgChunk.replaceId(o,t),n.replaceId(o,t);var s={id:t,type:a.MSG_TYPE.REVOKED,body:void 0,caption:void 0,clientUrl:void 0,loc:void 0,lat:void 0,lng:void 0,isLive:void 0,accuracy:void 0,speed:void 0,degrees:void 0,comment:void 0,sequence:void 0,shareDuration:void 0,finalLat:void 0,finalLng:void 0,finalAccuracy:void 0,finalThumbnail:void 0,finalSpeed:void 0,finalDegrees:void 0,finalTimeOffset:void 0,title:void 0,description:void 0,canonicalUrl:void 0,matchedText:void 0,thumbnail:void 0,richPreviewType:void 0,doNotPlayInline:void 0,quotedMsg:void 0,quotedStanzaID:void 0,quotedRemoteJid:void 0,quotedParticipant:void 0,mediaData:void 0,mentionedJidList:void 0,vcardList:void 0,star:!1};if(e.set(s),e.trigger("change:msgKey",{newKey:t,oldKey:o}),e.chat&&e.chat.updateMediasCountOnMsg(e,!0),e.chat&&o.equals(e.chat.lastReceivedKey)&&(e.chat.lastReceivedKey=t),e.isLive&&b.default.LiveLocation.removeMsg(e),g.default.isBroadcast(o.remote)){var l=d.getBroadcastFanoutKeys(o),c=d.getBroadcastFanoutKeys(t);if(!l||!c||l.length!==c.length)return void i.default.log(`cannot fanout revoke: ${String(l)} ${String(c)}`)(l,c);(0,r.default)(l,c).forEach(function(e){var t=n.get(e[0]);t&&_(t,e[1])})}})}((0,m.unproxy)(e),t)}},bfajcggcdf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Gallery=void 0;var r=_(n("hhegggegb")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=_(n("ceffhbhahb")),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=_(n("effbcehec")),s=_(n("bbchdeehff")),l=_(n("baagejbchg")),c=n("cicgeajfge"),f=_(n("fffdgbfji")),d=_(n("eceadcicaf")),p=_(n("bffjfbgbg")),h=_(n("bicjggdg")),m=_(n("eiiicijcj")),b=_(n("cifjfjfegc")),g=_(n("becfabjeeg")),v=_(n("ihfccfgdf")),y=n("bheafeifce");function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var S=function(e){function t(){var e,n,a;E(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=a=j(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.onScroll=function(e){a.handleScroll(e.currentTarget)},a.handleScroll=(0,r.default)(function(e){var t=a.props.mediaMsgs;t.hasMediaBefore&&e.scrollTop+l.default.SCROLL_FUDGE>e.scrollHeight-e.clientHeight&&a.queryMedia(t.head())},100),j(a,n)}return O(t,i.Component),a(t,[{key:"componentDidMount",value:function(){var e=this;this.props.mediaMsgs.hasMediaBefore&&this.queryMedia(),this.props.listeners.add(this.props.mediaMsgs,"add"),this.props.listeners.add(this.props.mediaMsgs,"remove",function(t){var n=e.props.selectedMessages;n&&n.isSelected(t)&&n.setVal(t,!1),e.forceUpdate()}),this.props.listeners.add(this.props.mediaMsgs,"reset",function(){e.props.selectedMessages&&e.props.selectedMessages.unsetAll(),e.forceUpdate()}),this.props.listeners.add(this.props.mediaMsgs,"query_media_before")}},{key:"componentWillUnmount",value:function(){this.handleScroll.cancel()}},{key:"queryMedia",value:function(e){var t=this,n=this.props.mediaMsgs;n.hasMediaBefore&&this.props.listeners.uiIdle(function(){n.queryMedia((0,y.unproxy)(t.props.chat),e)})}},{key:"render",value:function(){var e=this,t=this.props.mediaMsgs,n=this.props,r=n.fullCollection,a=n.selectedMessages,o=n.chat,u=t.map(function(n,o){var u=void 0;return!e.props.fullCollection&&o>=t.length-6&&o<=t.length-4&&(u="hideableSecondRow"),i.createElement(C,{msg:n,hoverEvent:r,selectable:e.props.selectable,selectedMessages:a,onMessageSelect:e.props.onMessageSelect,theme:u,key:n.id.toString()})});return u.reverse(),r||(u=u.slice(0,6)),i.createElement(T,{medias:u,mediaCollection:t,fullCollection:r,chat:(0,y.unproxy)(o),onScroll:this.onScroll})}}]),t}();S.CONCERNS={chat:["linkCount","docCount"]},S.displayName="MediaGallery";var w=function(e){function t(){E(this,t);var e=j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));P.call(e);var n=e.props,r=n.msg,a=n.selectedMessages;return e.state={selected:!(!a||!a.isSelected(r))},e}return O(t,i.Component),a(t,[{key:"componentDidMount",value:function(){this.props.selectedMessages&&this.props.listeners.add(this.props.selectedMessages,this.props.msg.id.toString(),this.onSelectChange)}},{key:"render",value:function(){var e=this.props.msg,t=e.mediaData,n=t.type===p.default.TYPE.IMAGE&&t.renderableUrl?this.onDragStart:null,r=(0,o.default)(this.props.className);return i.createElement(b.default,{classes:r,onClick:this.onClick,hoverEvent:this.props.hoverEvent,selectable:this.props.selectable,selected:this.state.selected,onMessageSelect:this.props.onMessageSelect,onDragStart:n,msg:e,theme:this.props.theme,imgRef:this.setRefImg})}}]),t}(),P=function(){var e=this;this.setRefImg=function(t){e.img=t},this.onSelectChange=function(t){e.state.selected!==t&&e.setState({selected:t})},this.onClick=function(t){var n=e.props,r=n.msg,a=n.selectable,o=n.onMessageSelect,u=r.mediaData;if(a&&o)o(r,!e.state.selected);else if(u.mediaStage!==p.default.STAGE.ERROR_MISSING){t&&t.stopPropagation();var l=void 0,c=r.id;if(u.isGif||u.type===p.default.TYPE.IMAGE){var f=e.img;l=function(e){return c.equals(e)&&f?f:null}}s.default.mediaViewerModal({msg:(0,y.unproxy)(r),getZoomNode:l})}else s.default.openModal(i.createElement(m.default,{msg:r}))},this.onDragStart=function(t){t.nativeEvent.dataTransfer.setData("text/uri-list",e.props.msg.mediaData.renderableUrl)}};function M(e,t){if(null!=e&&e>0&&null!=t&&t>0){var n=[];return n.push(f.default.t(625,{count:t,_plural:t})),n.push(f.default.t(391,{count:e,_plural:e})),n.join(f.default.t(421))}return null!=t&&t>0?f.default.t(625,{count:t,_plural:t}):null!=e&&e>0?f.default.t(391,{count:e,_plural:e}):f.default.t(849)}w.displayName="MediaCanvas";var C=(0,d.default)(w),T=t.Gallery=function(e){function t(){return E(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O(t,i.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.mediaCollection,n=e.fullCollection,r=e.chat,a=e.onScroll,s=this.props.medias||this.props.productMedias;if(!s)return null;var l=(0,o.default)(h.default.container,{[h.default.drawer]:n,[h.default.galleryEmpty]:0===t.length}),f=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(s));if(t.queryMediaBefore&&(n||f.length<6)){var d=(0,o.default)(h.default.more,h.default.canvasComponent,{[h.default.canvasSecondRow]:!n&&f.length>=3,[h.default.canvasFirst]:0===t.length});f.push(i.createElement("div",{className:d,key:"spinner"},i.createElement(g.default,{stroke:6,size:24})))}if(0===t.length){if(n)return t.queryMediaBefore?i.createElement("div",{className:(0,o.default)(h.default.drawer,h.default.drawerBody)},i.createElement(c.Loading,null)):i.createElement(c.MediaMsgs,null);t.queryMediaBefore||t.hasMediaBefore||(l=(0,o.default)(l,h.default.galleryEmpty),f=[M(Math.max(r?r.docCount:0,0),Math.max(r?r.linkCount:0,0))])}else for(var p=0;p<6;p++)f.push(i.createElement("div",{className:h.default.canvasEmpty,key:"empty"+p}));return i.createElement("div",{onScroll:a,"data-a8n":u.default.key("media-gallery"),className:l},f)}}]),t}();T.displayName="Gallery",t.default=(0,d.default)((0,v.default)(S,S.CONCERNS))},bfajhabbdf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sectionIdToIcon=void 0,t.default=s;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=i(n("bheebijggd")),o=i(n("bfdcadbbif"));function i(e){return e&&e.__esModule?e:{default:e}}var u=t.sectionIdToIcon={[a.default.RECENT]:"panel-recent",[a.default.SMILEYS_PEOPLE]:"panel-emoji-people",[a.default.ANIMALS_NATURE]:"panel-emoji-nature",[a.default.FOOD_DRINK]:"panel-emoji-food",[a.default.ACTIVITY]:"panel-emoji-activity",[a.default.TRAVEL_PLACES]:"panel-emoji-travel",[a.default.OBJECTS]:"panel-emoji-objects",[a.default.SYMBOLS]:"panel-emoji-symbols",[a.default.FLAGS]:"panel-emoji-flags"};function s(e){return r.createElement(o.default,{name:u[e.sectionId]})}s.displayName="EmojiSectionIcon"},bfccafhbbb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeOptions=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=v(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=v(n("djeajhjhb")),u=v(n("bbhhbdicgc")),s=v(n("cicjcfabii")),l=v(n("bggeiidigb")),c=v(n("ccajjgdjf")),f=v(n("chgaccicf")),d=n("cdgeeegaih"),p=v(n("dhbghcbcbi")),h=v(n("ihfccfgdf")),m=v(n("djhhbaegjb")),b=v(n("caffijjhc")),g=v(n("didfdhbecg"));function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=t.ThemeOptions=(0,f.default)({MEDIA_CAPTION:null}),E={active:!1,offset:0,omitted:"",query:"",results:[],scrollTop:0},j=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return n=r=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state=E,r.flatListController=new l.default,r.setRefList=function(e){r.list=e},r.onEnter=O(function(){return r.handleSelect(r.state.offset)},r),r.onInactive=O(function(){return r.setState(E)},r),r.onSearch=function(e){var t=r.state.omitted;if((!t||!e.startsWith(t))&&r.props.chat&&r.props.chat.isGroup){var n=r.props.chat.groupMetadata.participants;r.setState({active:!0,offset:0,omitted:null,query:e,results:(0,d.getResults)(e,n)})}},r.onEscape=function(){r.setState({active:!1,offset:0,omitted:r.state.query,query:"",results:[]})},r.onUp=O(function(){var e=Math.max(r.state.offset-1,0);r.setOffset(e)},r),r.onDown=O(function(){var e=r.state.results.length-1,t=Math.min(r.state.offset+1,e);r.setOffset(t)},r),r.renderItem=function(e){var t=e.index,n=e.contact;return o.createElement(p.default,{key:n.id.toString(),contact:n,term:r.state.query,selected:t===r.state.offset,theme:r.props.theme===_.MEDIA_CAPTION?"mediaCaption":null,onMouseDown:function(e){return e.preventDefault()},onMouseUp:function(){return r.handleSelect(t)},onMouseEnter:function(){return r.setOffset(t,!0)}})},y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props.plugin;e.registerHandler(this,i.default.ENTER,this.onEnter),e.registerHandler(this,i.default.TAB,this.onEnter),e.registerHandler(this,i.default.SEARCH,this.onSearch),e.registerHandler(this,i.default.INACTIVE,this.onInactive),e.registerHandler(this,i.default.UP,this.onUp),e.registerHandler(this,i.default.DOWN,this.onDown)}},{key:"componentWillUnmount",value:function(){var e=this.props.plugin;e.unregisterHandler(this,i.default.ENTER),e.unregisterHandler(this,i.default.TAB),e.unregisterHandler(this,i.default.SEARCH),e.unregisterHandler(this,i.default.INACTIVE),e.unregisterHandler(this,i.default.UP),e.unregisterHandler(this,i.default.DOWN)}},{key:"handleSelect",value:function(e){var t=this.state.results[e];if(t&&t.id){var n=this.props.chat.assignedColor(t.id);this.props.plugin.handleSelect(t,n+"")}}},{key:"setOffset",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e!==this.state.offset&&this.setState({offset:e},function(){!n&&t.list&&t.list.scrollIntoViewIfNeeded(e)})}},{key:"renderList",value:function(){var e=this.state,t=e.results,n=e.query,r=e.offset;if(!e.active||!t.length)return null;var i=t.map(function(e,t){return{height:52,itemKey:e.id.toString(),contentKey:`${n}${t===r?"-selected":""}`,index:t,contact:e}});return o.createElement(b.default,{displayName:"MentionSuggestions",escapable:!0,requestDismiss:this.onEscape,requestRecentFocusOnUnmount:!1},o.createElement("div",{className:(0,a.default)(m.default.overlayContainer,{[m.default.mediaCaption]:this.props.theme===_.MEDIA_CAPTION})},o.createElement(s.default,{className:m.default.resultsContainer,flatListControllers:[this.flatListController]},o.createElement(u.default,{ref:this.setRefList,data:i,flatListController:this.flatListController,direction:"vertical",renderItem:this.renderItem}))))}},{key:"render",value:function(){return o.createElement(g.default,{component:"div",className:m.default.positioningContainer,transitionName:"slide-up"},this.renderList())}}]),t}();function O(e,t){return function(n,r){return!(!t.state.active||!t.state.results.length)&&((!n||!(0,c.default)(n))&&(e.call(t,n,r),!0))}}j.CONCERNS={chat:["groupMetadata","isGroup"]},j.displayName="Suggestions",t.default=(0,h.default)(j,j.CONCERNS)},bfcjfjfjjj:function(e,t){e.exports={spinner:"_38l_q"}},bfdbhfjbdd:function(e,t,n){e.exports=function(){return new Worker(n.p+"index.a6f08c1d468d7f079e68.js")}},bfdhjgffdh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=R(n("ceffhbhahb")),o=R(n("cgeeeeddea")),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=R(n("cdbddjfbcd")),s=R(n("dfabffebdg")),l=n("deibcghej"),c=R(n("cehjjfagii")),f=n("dacdidjdfi"),d=R(n("bbchdeehff")),p=R(n("baagejbchg")),h=R(n("biddiiafgd")),m=R(n("bjjjdidhhi")),b=n("cgejchjdhj"),g=n("bhhdeihhhf"),v=R(g),y=R(n("ghbbeafj")),_=R(n("dfeecdfijg")),E=R(n("bfhbfhhceg")),j=R(n("dbajgaecej")),O=R(n("deifjeacc")),S=n("ddbddjjgia"),w=R(n("dbfbdfhfee")),P=n("bheafeifce"),M=R(n("bfdcadbbif")),C=R(n("caffijjhc")),T=R(n("dbjbhajgfd")),A=R(n("bcifhbgija")),N=R(n("didfdhbecg")),k=R(n("cighigadh")),I=n("bedfbecdgd");function R(e){return e&&e.__esModule?e:{default:e}}var L=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));D.call(n);var r=n.computeSelectedCount();return n.state={contextMenu:null,hover:!1,highlighting:!1,selectedCount:r},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentWillUnmount",value:function(){this.refBubble&&(0,A.default)(this.refBubble,"finish",!0)}},{key:"shouldComponentUpdate",value:function(e,t){return!(0,u.default)(t,this.state)||!(0,u.default)(e,this.props,function(e,t,n){if("msgs"===n)return(0,u.default)(e,t)})}},{key:"onSelectChange",value:function(e){var t=void 0;t=this.isGroupedSticker()?this.computeSelectedCount():e?this.props.msgs.length:0,this.state.selectedCount!==t&&this.setState({selectedCount:t})}},{key:"contextOpen",value:function(){this.onMenu(void 0,!0)}},{key:"contextClose",value:function(){this.setState({contextMenu:null})}},{key:"onHighlightComplete",value:function(e){this.setState({highlighting:!1},function(){e&&e()})}},{key:"isGroupedSticker",value:function(){return this.props.msgs[0].type===p.default.MSG_TYPE.STICKER}},{key:"render",value:function(){var e=this,t=this.props,n=t.msgs,r=t.position,o=t.isMsgVisible,u=t.albumId,d=t.isFocusedAlbum,h=t.focusedMsgIndex,m=t.selectedMessages,b=n[0],g=n[1],v=b.isSentByMe,y=b.isGroupMsg,A=this.isGroupedSticker(),R=n.length>p.default.ALBUM_MIN_SIZE?n.length-p.default.ALBUM_MIN_SIZE+1:null,L=r===S.MsgPosition.FRONT||r===S.MsgPosition.SINGLE||A,D=A&&L&&(v||!y),x=(0,a.default)(k.default.msg,{[k.default.msgContinuation]:r===S.MsgPosition.FRONT||r===S.MsgPosition.MID,"message-out":v,"message-in":!v}),U=!v&&y,G=void 0;if(U){var F=(0,a.default)(k.default.author,{[k.default.groupStickerAuthor]:A});G=i.createElement("div",{className:F},i.createElement(c.default,{msg:n[0],contact:n[0].senderObj,albumId:u}))}var B=(0,a.default)(k.default.message,{[k.default.messageTransparent]:A,tail:L,[k.default.tailOverrideHide]:D,[k.default.hasAuthor]:!this.isGroupedSticker()&&U,[k.default.forwarded]:!this.isGroupedSticker()&&n[0].showForwarded()}),$=(0,a.default)(k.default.albumBubbleContainer,{[k.default.messageBackground]:!A,[k.default.hasBorderBox]:!A}),V=void 0,H=void 0;L&&(V=i.createElement("span",{className:"tail-container"}),H=i.createElement("span",{className:"tail-container highlight",ref:this.setRefHighlightTail}));var W=void 0;b.canQuickForward()&&(W=i.createElement("div",{className:(0,a.default)(k.default.btnForward,{[k.default.authorForward]:U}),onClick:function(){e.openForwardFlow(!1)},role:"button"},i.createElement(M.default,{name:"forward-chat"})));var Y=void 0;(this.state.hover||this.state.contextMenu)&&(Y=i.createElement(O.default,{msg:b,position:r,key:"icon-context",ref:this.setRefContext,onToggle:function(t){e.onMenu(t)}}));var K=void 0;K=this.state.contextMenu?"none":b.isRTL?"pop-fast-reverse":"pop-fast";var q=void 0;this.state.contextMenu&&(q=i.createElement(C.default,{displayName:"MsgContextMenu",escapable:!0,popable:!0,requestDismiss:function(){return e.contextClose()}},i.createElement(T.default,{contextMenu:this.state.contextMenu})));var z=this.props.selectable?i.createElement(w.default,{checked:this.state.selectedCount>0,theme:this.state.selectedCount>0&&this.state.selectedCount<n.length?f.CHECKBOX_THEME.PARTIAL:void 0,onClick:function(t){e.onSelectClick({event:t})}}):null,Q=void 0;this.props.isFocusedAlbum&&(Q=i.createElement(I.WhileFocusedListener,{parent:this}));var J=n.length>p.default.ALBUM_MIN_SIZE?n[0]:null;if(A){var Z=n.map(function(t){return i.createElement(I.SelectionListener,{key:t.id.toString(),parent:e,msgId:t.id.toString(),selectedMessages:m})}),X=this.props.selectable?i.createElement(j.default,{checked:this.props.selectedMessages.isSelected((0,P.unproxy)(b)),onClick:function(t){e.onSelectClick({selectedMsg:b})}}):null,ee=this.props.selectable?i.createElement(j.default,{checked:this.props.selectedMessages.isSelected((0,P.unproxy)(g)),onClick:function(t){e.onSelectClick({selectedMsg:g})}}):null;return i.createElement("div",{ref:this.refAlbumWrapper,className:x},i.createElement(N.default,{transitionName:"delay-leave"},z),i.createElement("div",{className:B,onContextMenu:this.contextMenu},V,G,i.createElement("div",{className:k.default.groupStickerContainer},i.createElement("div",{className:k.default.singleGroupedStickerContainer,ref:this.setRefLeftStickerBubble},i.createElement(N.default,{transitionName:"delay-leave"},X),i.createElement(E.default,{msg:b,menuTransition:K,onOpenForwardFlow:this.openForwardFlow,isMsgVisible:o,scrollMsg:this.scrollMsg,highlight:this.highlight,isFocused:d&&0===h})),i.createElement("div",{className:k.default.singleGroupedStickerContainer,ref:this.setRefRightStickerBubble},i.createElement(N.default,{transitionName:"delay-leave"},ee),i.createElement(E.default,{msg:g,menuTransition:K,onOpenForwardFlow:this.openForwardFlow,isMsgVisible:o,scrollMsg:this.scrollMsg,highlight:this.highlight,isFocused:d&&1===h})))),Z)}var te=n[0].showForwarded()?i.createElement(_.default,{msg:n[0],className:k.default.forwardedIndicator}):null;return i.createElement("div",{ref:this.refAlbumWrapper,className:x},i.createElement(N.default,{transitionName:"delay-leave"},z),i.createElement("div",{className:B,onContextMenu:this.contextMenu,onMouseOver:this.mouseOver,onMouseDown:this.mouseDown,onMouseUp:this.mouseOver,onMouseLeave:this.mouseDown},V,H,i.createElement("div",{className:$,ref:this.setRefBubble},G,te,i.createElement("div",{className:k.default.gridContainer},i.createElement(s.default,{msg:n[0],albumMsgs:n,albumPosition:l.AlbumPosition.TOP_LEFT,isMsgVisible:o,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){e.onAlbumGridRendered(t,n[0])})}),i.createElement(s.default,{msg:n[1],albumMsgs:n,albumPosition:l.AlbumPosition.TOP_RIGHT,isMsgVisible:o,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){e.onAlbumGridRendered(t,n[1])})}),i.createElement(s.default,{msg:n[2],albumMsgs:n,albumPosition:l.AlbumPosition.BOTTOM_LEFT,isMsgVisible:o,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){e.onAlbumGridRendered(t,n[2])})}),i.createElement(s.default,{msg:n[3],albumMsgs:n,albumPosition:l.AlbumPosition.BOTTOM_RIGHT,isMsgVisible:o,zoomMsg:J,numAdditionalMedia:R,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){e.onAlbumGridRendered(t,n[3])})}))),i.createElement(N.default,{transitionName:K},Y),W),q,Q,i.createElement(I.SelectionListener,{parent:this,msgId:n[0].id.toString(),selectedMessages:m}))}}]),t}(),D=function(){var e=this;this.refAlbumWrapper=i.createRef(),this.refAlbumComponents={},this.setRefContext=function(t){e.refContext=t},this.didCancel=!1,this.highlightAnimation=null,this.setRefHighlightTail=function(t){e.refHighlightTail=t},this.setRefBubble=function(t){e.refBubble=t},this.setRefLeftStickerBubble=function(t){e.refLeftStickerBubble=t},this.setRefRightStickerBubble=function(t){e.refRightStickerBubble=t},this.mouseOver=function(t){t.buttons||e.state.hover||e.setState({hover:!0})},this.mouseDown=function(){e.state.hover&&e.setState({hover:!1})},this.contextMenu=function(e){e.stopPropagation()},this.openForwardFlow=function(t,n){for(var r=e.props.msgs,a=void 0,o=0;o<r.length;o++)if(r[o].isUnsentMedia){a=l10n.t(446,{_plural:1});break}a?d.default.openModal(i.createElement(h.default,{title:l10n.t(449),onOK:function(){return d.default.closeModal()},okText:l10n.t(1287)},a)):t?e.onSelectClick({selectedMsg:n}):d.default.openModal(i.createElement(y.default,{msgs:r}),{transition:"modal-flow"})},this.onSelectClick=function(t){var n=t.selectedMsg,r=t.event;if(r&&r.stopPropagation(),n)e.props.onMessageSelect((0,P.unproxy)(n),!e.props.selectedMessages.isSelected((0,P.unproxy)(n)),r);else{var a=0===e.state.selectedCount;e.props.msgs.forEach(function(t){e.props.onMessageSelect((0,P.unproxy)(t),a,r)})}},this.computeSelectedCount=function(){var t=e.props,n=t.msgs,r=t.selectedMessages,a=0;return n.forEach(function(e){r.isSelected((0,P.unproxy)(e))&&a++}),a},this.onDeleteMessage=function(){var t=e.props.msgs;d.default.openModal(i.createElement(m.default,{chat:t[0].chat,msgList:t,deletePrompt:!0,revokePrompt:t[0].canRevoke(),isMsgVisible:e.props.isMsgVisible}))},this._getMenuRefContext=function(){if(e.refContext)return e.refContext.getComponent().refContext},this.onMenu=function(t,n){var r=e.props.msgs;if(n&&e.state.contextMenu)e.setState({contextMenu:null});else{var a=n?e._getMenuRefContext():t,o=[];r.every(function(e){return e.canForward()})&&o.push(i.createElement(v.default,{key:"forward",a8n:"mi-msg-forward",action:function(){e.openForwardFlow(!0)}},l10n.t(461))),o.push(i.createElement(v.default,{key:"delete",a8n:"mi-msg-delete",action:e.onDeleteMessage},l10n.t(365))),e.setState({contextMenu:{menu:o,anchor:a,theme:g.ThemeOptions.COMPACT}})}},this.onAlbumGridRendered=function(t,n){t?e.refAlbumComponents[n.id.toString()]=t:delete e.refAlbumComponents[n.id.toString()]},this.scrollMsg=function(t,n){var r=e.refAlbumWrapper.current;if(r){var a=r.offsetParent;a&&((0,o.default)(a instanceof HTMLElement,"DOM offset parent is not a valid HTMLElement"),(0,b.scrollAt)(r,a,n).then(t))}},this.highlight=function(t){var n=e.isGroupedSticker(),r=e.refHighlightTail,a=void 0;n?(0===e.props.focusedMsgIndex&&(a=e.refLeftStickerBubble),1===e.props.focusedMsgIndex&&(a=e.refRightStickerBubble)):a=e.refBubble,a&&(e.setState({highlighting:!0}),e.highlightAnimation&&(e.didCancel=!0,e.highlightAnimation.cancel()),e.highlightAnimation=(e.highlightAnimation||Promise.resolve()).then(function(){var t=void 0,o=void 0;r&&(t=(0,A.default)(r,{opacity:[1,0]},{duration:250}),o=(0,A.default)(r,{opacity:[0,1]},{duration:250,delay:250}));var i=void 0,u=void 0,s=void 0;if(n){i={tween:[.75,1]},u={tween:[1,.75]},s=function(e,t,n,r,a){e.forEach(function(e){e.style.filter=1===a?"":`brightness(${a})`})}}else{var l=e.props.msgs[0].isSentByMe,c=l?"#dcf8c6":"#ffffff",f=l?"#b3cba1":"#cccccc";i={backgroundColor:[f,c]},u={backgroundColor:[c,f]}}var d=(0,A.default)(a,i,{duration:250,progress:s}),p=(0,A.default)(a,u,{duration:250,delay:250,progress:s});return Promise.all(r?[t,o,d,p]:[d,p])}).cancellable().then(function(){e.onHighlightComplete(t)}).catch(Promise.CancellationError,function(){(0,A.default)(r,"stop",!0),(0,A.default)(a,"stop",!0)}).finally(function(){e.didCancel?e.didCancel=!1:e.highlightAnimation=null}))}};L.displayName="AlbumWrapper",t.default=L},bfdijdeegj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=p(n("bhiafccjai")),i=p(n("bjbdcigbdi")),u=p(n("hgeacfdgi")),s=p(n("eceadcicaf")),l=p(n("didfdhbecg")),c=p(n("djdgcejjgf")),f=p(n("gigddihfd")),d=p(n("dbjfgbgci"));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={isOpen:!1},r.openVoipWindow=function(){i.default.supportsFeature(i.default.F.WEB_VOIP_VOICE_CALL)&&r.setState({isOpen:!0})},r.closeVoipWindow=function(){r.setState({isOpen:!1})},r.onCallAccept=function(){},r.onCallReject=function(){r.setState({isOpen:!1})},r.onCallEnd=function(){r.setState({isOpen:!1})},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){c.default.register(this)}},{key:"componentWillUnmount",value:function(){c.default.unregister()}},{key:"render",value:function(){return this.state.isOpen?a.createElement(l.default,{transitionName:"voip",className:f.default.wrapper,component:"div"},a.createElement(o.default,null,a.createElement(d.default,{callUi:u.default,onCallAccept:this.onCallAccept,onCallReject:this.onCallReject,onCallEnd:this.onCallEnd}))):null}}]),t}();m.displayName="VoipModalManager",t.default=(0,s.default)(m)},bfdjgcjbeh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("dfdebdgdei"),i=y(n("beebhcdhhh")),u=y(n("bbchdeehff")),s=y(n("biddiiafgd")),l=y(n("dcjaicbbhg")),c=y(n("dbgdaechch")),f=y(n("bhhdeihhhf")),d=y(n("djhbegbdaf")),p=y(n("fffdgbfji")),h=y(n("dhhcghbjeb")),m=y(n("bhheahajjg")),b=y(n("dadhidfcfe")),g=n("dcbafbaejf"),v=y(n("ihfccfgdf"));function y(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,c=Array(l),f=0;f<l;f++)c[f]=arguments[f];return n=r=_(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.reportSpam=function(){(0,g.sendSpamReport)(r.props.chat),u.default.closeModal()},r.reportSpamBlock=function(){var e=r.props,t=e.chat,n=e.contact;(0,g.sendSpamReport)(t),(0,o.blockContact)(n),u.default.closeModal()},r.reportSpamBlockClear=function(){(0,g.sendSpamBlockClear)(r.props.chat),u.default.closeModal()},r.onReportSpam=function(){u.default.openModal(a.createElement(b.default,{isBusiness:r.props.contact.isBusiness,isGroupChat:!1,onReport:r.reportSpam,onReportBlockClear:r.reportSpamBlockClear,onCancel:function(){return u.default.closeModal()}}))},r.blockContact=function(){(0,o.blockContact)(r.props.contact),u.default.closeModal()},r.unblockContact=function(){(0,o.unblockContact)(r.props.contact),u.default.closeModal()},r.onBlockContact=function(){u.default.openModal(a.createElement(i.default,{contact:r.props.contact,onCancel:function(){return u.default.closeModal()},onBlock:r.blockContact,onReportSpamBlock:r.reportSpamBlock}))},r.onUnblockContact=function(){var e=a.createElement(m.default,{contact:r.props.contact});u.default.openModal(a.createElement(s.default,{okText:p.default.t(1066),onOK:r.unblockContact,cancelText:p.default.t(1153),onCancel:function(){return u.default.closeModal()}},a.createElement(d.default,{id:1067,params:{contact:e}})))},_(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"menus",value:function(){var e=this.props,t=e.chat,n=e.contact,r=e.onSelectMessages,o=[];return t.isPSA||o.push(a.createElement(f.default,{key:"info",a8n:"mi-contact",action:function(){return u.default.chatInfoDrawer(t)}},p.default.t(1159))),n.isBusiness&&o.push(a.createElement(f.default,{key:"report",a8n:"report",action:this.onReportSpam},p.default.t(929)),a.createElement(f.default,{key:"block",a8n:"block",action:n.isBlocked()?this.onUnblockContact:this.onBlockContact},n.isBlocked()?p.default.t(1066):p.default.t(213))),o.push(a.createElement(f.default,{a8n:"mi-select-messages",key:"select",action:r},p.default.t(1351))),t.mute.canMute()&&o.push(a.createElement(h.default,{key:"mute",onMute:function(e){return u.default.muteChat(t,e)},mute:t.mute})),o.push(a.createElement(f.default,{key:"clear",a8n:"mi-clear",action:function(){return u.default.clearChatMsgs(t)}},p.default.t(306))),o.push(a.createElement(l.default,{key:"delete",onDeleteOrExit:function(){return u.default.deleteOrExitChat(t)},chat:t})),o}},{key:"render",value:function(){return this.props.toContextMenuManager?a.createElement("div",null,this.menus()):a.createElement(c.default,{type:"dropdown_menu",key:"ContactMenuDropdown",flipOnRTL:!0,dirX:"LEFT"},this.menus())}}]),t}();E.CONCERNS={chat:["isPSA","mute"],contact:["isBusiness"]},E.displayName="ContactMenuDropdown",t.default=(0,v.default)(E,E.CONCERNS)},bfebbjhgbh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=S(n("bebajedcaf")),a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=S(n("ceffhbhahb")),u=O(n("ddhijeejag")),s=O(n("dfhjacfbjg")),l=S(n("bbchdeehff")),c=n("baagejbchg"),f=S(n("biddiiafgd")),d=S(n("bjigbaghc")),p=n("cfffidafid"),h=S(n("dhfbfehaef")),m=S(n("fffdgbfji")),b=O(n("dbcedfihd")),g=S(n("djaachhgag")),v=S(n("ceghehfgdc")),y=S(n("bfdcadbbif")),_=S(n("hfhhcchgj")),E=n("bfjajhbdf"),j=S(E);function O(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var P=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),f=0;f<o;f++)i[f]=arguments[f];return n=a=w(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.state={email:"",emailError:void 0,confirmEmail:"",confirmEmailError:void 0,subject:d.default.isSMB?m.default.t(1013):m.default.t(1014),subjectError:void 0,description:"",descriptionError:void 0,screenshots:[],isDragging:!1},a.setAttachButton=function(e){a.attachButton=e},a.setEmailAddr=function(e){a.emailAddrInput=e},a.onSend=function(){var e={},t=a.state,n=t.email,o=t.confirmEmail,i=t.subject,c=t.description,f=t.screenshots,p=n.trim(),h=o.trim();if(a.validateEmail(p)||(e.emailError=m.default.t(1e3)),a.validateConfirmEmail(h)||(e.confirmEmailError=m.default.t(1001)),a.validateDescription(c)||(e.descriptionError=m.default.t(1012)),a.validateSubject(i)||(e.subjectError=m.default.t(1009)),(0,r.default)(e)){a.setState({email:p,confirmEmail:h,emailError:void 0,confirmEmailError:void 0,descriptionError:void 0,subjectError:void 0}),f.map(function(e){e.url&&(URL.revokeObjectURL(e.url),delete e.url)});var b=d.default.me?(0,g.default)(d.default.me.user):null,v=i.trim()||m.default.t(997);s.uploadUserReport(b,p,v,c,f),a.props.onSend&&a.props.onSend({subject:v,description:c,numScreenshots:f.length}),l.default.closeModal(),l.default.openToast(u.createElement(j.default,{msg:m.default.t(1008),id:(0,E.genId)()}))}else e.email=p,e.confirmEmail=h,a.setState(e)},a.onCancel=function(){a.props.onCancel&&a.props.onCancel(),l.default.closeModal()},a.onSubjectChange=function(e){var t={subject:e,subjectError:a.state.subjectError};a.state.subjectError&&a.validateSubject(t.subject)&&(t.subjectError=void 0),a.setState(t)},a.onSubjectBlur=function(){var e=void 0;a.validateSubject(a.state.subject)||(e=m.default.t(1009)),a.state.subjectError!==e&&a.setState({subjectError:e})},a.onDescriptionChange=function(e){var t={description:e,descriptionError:a.state.descriptionError};a.state.descriptionError&&a.validateDescription(t.description)&&(t.descriptionError=void 0),a.setState(t)},a.onDescriptionBlur=function(){var e=void 0;!a.state.description&&!a.state.descriptionError||a.validateDescription(a.state.description)||(e=m.default.t(1012)),a.state.descriptionError!==e&&a.setState({descriptionError:e})},a.onEmailChange=function(e){var t={email:e,emailError:a.state.emailError};a.state.emailError&&a.validateEmail(t.email)&&(t.emailError=void 0),a.setState(t)},a.onEmailBlur=function(){var e=void 0,t=a.state.email.trim(),n={};!a.state.email&&!a.state.emailError||a.validateEmail(t)||(e=m.default.t(1e3)),a.state.emailError!==e&&(n.emailError=e),a.state.email!==t&&(n.email=t),(0,r.default)(n)||a.setState(n)},a.onConfirmEmailChange=function(e){var t={confirmEmail:e,confirmEmailError:a.state.confirmEmailError};a.state.confirmEmailError&&a.validateConfirmEmail(t.confirmEmail)&&(t.confirmEmailError=void 0),a.setState(t)},a.onConfirmEmailBlur=function(){var e=void 0,t=a.state.confirmEmail.trim(),n={};!a.state.confirmEmail&&!a.state.confirmEmailError||a.validateConfirmEmail(t)||(e=m.default.t(1001)),a.state.confirmEmailError!==e&&(n.confirmEmailError=e),a.state.confirmEmail!==t&&(n.confirmEmail=t),(0,r.default)(n)||a.setState(n)},a.validateEmail=function(e){return b.validateEmail(e)},a.validateConfirmEmail=function(e){return a.state.email===e},a.validateDescription=function(e){return e.length>c.SEND_LOGS_MIN_DESC_LENGTH},a.validateSubject=function(e){return!0},a.onFilePick=function(e){e.preventDefault(),e.stopPropagation(),a.reachMaxScreenshots()||(0,p.getFiles)(e,"image/*").then(function(e){a.attachButton&&(a.attachButton.value="");var t=e.filter(function(e){return e.size<=c.SEND_LOGS_MAX_SCREENSHOT_SIZE});t.length<e.length&&l.default.openToast(u.createElement(j.default,{msg:m.default.t(1003),id:(0,E.genId)()}));var n=a.state.screenshots.concat(t).slice(0,c.SEND_LOGS_MAX_SCREENSHOTS);n.map(function(e){e.url||(e.url=URL.createObjectURL(e))}),a.setState({screenshots:n})})},a.onDragChange=function(e,t){a.setState({isDragging:e})},a.handleAttachClick=function(e){a.attachButton&&!a.reachMaxScreenshots()&&a.attachButton.click()},a.stopPropagation=function(e){e.stopPropagation()},w(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),o(t,[{key:"componentDidMount",value:function(){this.emailAddrInput&&this.emailAddrInput.restoreFocus()}},{key:"componentWillUnmount",value:function(){this.state.screenshots.map(function(e){var t=e.url;return t&&URL.revokeObjectURL(t)})}},{key:"reachMaxScreenshots",value:function(){return this.state.screenshots.length>=c.SEND_LOGS_MAX_SCREENSHOTS}},{key:"deleteScreenshot",value:function(e){var t=this.state.screenshots.slice(),n=t.splice(e,1),r=a(n,1)[0];r.url&&URL.revokeObjectURL(r.url),this.setState({screenshots:t})}},{key:"getScreenshotsList",value:function(){var e=this,t=this.state.screenshots.map(function(t,n){if(!t.url)return null;var r=`url(${t.url})`,a=`screenshot-${n}`;return u.createElement("div",{key:a,className:v.default.screenshotsImg,style:{backgroundImage:r}},u.createElement("button",{className:v.default.btnDelete,onClick:function(){e.deleteScreenshot(n)}},u.createElement(y.default,{name:"x-alt-light"})))});return t.length?u.createElement("div",{className:v.default.screenshotPreview},t):null}},{key:"getScreenshotAction",value:function(){if(this.reachMaxScreenshots()){var e=c.SEND_LOGS_MAX_SCREENSHOTS;return u.createElement("div",{className:(0,i.default)(v.default.action,v.default.disabled)},m.default.t(1011,{count:e,_plural:e}))}return this.state.isDragging?u.createElement("div",{className:v.default.action},m.default.t(1006)):u.createElement("div",{className:v.default.action,onClick:this.handleAttachClick},m.default.t(1007))}},{key:"render",value:function(){var e={enter:this.stopPropagation},t=u.createElement("div",{className:v.default.screenshots},this.getScreenshotsList(),this.getScreenshotAction(),u.createElement("input",{accept:"image/*",type:"file",multiple:!0,onClick:this.stopPropagation,onChange:this.onFilePick,ref:this.setAttachButton,disabled:this.reachMaxScreenshots()}));return u.createElement(f.default,{title:m.default.t(1010),okText:m.default.t(996),onOK:this.onSend,onCancel:this.onCancel,onDrop:this.onFilePick,onDragChange:this.onDragChange},u.createElement(h.default,{handlers:e},u.createElement(_.default,{ref:this.setEmailAddr,value:this.state.email,error:this.state.emailError,maxLength:c.SEND_LOGS_MAX_EMAIL_LENGTH,onChange:this.onEmailChange,onBlur:this.onEmailBlur,placeholder:m.default.t(998)}),u.createElement(_.default,{editable:!0,value:this.state.confirmEmail,error:this.state.confirmEmailError,maxLength:c.SEND_LOGS_MAX_EMAIL_LENGTH,onChange:this.onConfirmEmailChange,onBlur:this.onConfirmEmailBlur,placeholder:m.default.t(999)}),u.createElement(_.default,{value:this.state.subject,error:this.state.subjectError,maxLength:c.SEND_LOGS_MAX_SUBJECT_LENGTH,onChange:this.onSubjectChange,onBlur:this.onSubjectBlur,placeholder:m.default.t(1002)}),u.createElement(_.default,{value:this.state.description,error:this.state.descriptionError,maxLength:c.SEND_LOGS_MAX_DESC_LENGTH,onChange:this.onDescriptionChange,onBlur:this.onDescriptionBlur,placeholder:m.default.t(374),multiline:!0}),t))}}]),t}();P.displayName="SendLogsPopup",t.default=P},bffadhdafi:function(e,t){e.exports=[65,26,32,26,73,1,11,1,5,1,6,23,24,31,32,449,451,7,21,2,16,5,14,1,130,4,6,2,4,4,5,1,7,1,2,3,4,1,2,20,21,83,84,140,147,166,167,38,40,49,55,-1,46,-1,2,-1,3,-1,3,-1,2,-56,64,-1,3,-1,2,-1,14,-48,82,-3,4,-101,116,-2,9,-2,12,-23,24,-30,57,-91,102,-58,67,-2,6,-3,4,-24,28,-1,10,-1,4,-1,6,-43,46,-119,167,55,56,1,2,4,12,4,5,3,10,10,12,29,30,2,3,8,10,2,4,22,23,7,8,1,4,4,7,4,10,2,4,2,3,1,9,1,5,2,3,3,7,12,14,7,8,2,7,1,2,6,10,2,4,22,23,7,8,2,3,2,3,2,6,3,27,4,5,1,8,10,12,3,4,1,13,1,2,9,10,3,4,22,23,7,8,2,3,5,8,4,12,1,2,2,5,1,16,2,6,11,19,1,9,2,3,8,10,2,4,22,23,7,8,2,3,5,8,2,3,1,7,2,4,2,12,1,5,2,3,3,7,18,29,1,2,6,9,3,4,4,7,2,3,1,2,2,5,2,5,3,6,12,16,2,3,2,5,3,4,3,6,1,7,1,15,13,27,3,4,8,9,3,4,23,24,16,19,1,4,4,23,3,8,2,6,10,25,2,3,11,12,3,4,23,24,10,11,5,8,8,9,3,4,2,11,2,9,1,2,2,6,10,11,2,17,2,3,8,9,3,4,41,43,4,9,3,4,3,4,2,6,14,18,26,28,2,3,18,21,24,25,9,10,1,3,7,15,3,9,8,14,10,12,3,15,48,49,2,14,7,15,13,50,2,3,1,3,2,3,1,3,1,7,4,5,7,8,3,4,1,2,1,3,2,3,4,5,2,11,1,3,5,6,1,10,10,12,4,36,24,26,27,28,1,2,1,6,10,11,36,54,1,6,1,3,5,54,8,9,6,7,13,50,45,49,1,7,1,3,2,4,25,27,4,7,16,20,13,14,2,4,6,7,15,16,40,41,1,6,1,3,377,378,4,6,7,8,1,2,4,6,41,42,4,6,33,34,4,6,7,8,1,2,4,6,15,16,57,58,4,6,67,72,29,32,16,32,86,88,6,9,639,640,26,31,89,96,13,14,4,18,18,21,2,11,18,32,13,14,3,18,52,54,1,8,8,9,2,13,7,8,1,4,10,48,10,16,89,96,5,7,34,35,1,6,70,80,31,35,4,6,3,7,2,3,6,19,40,42,5,16,44,48,26,32,11,48,23,25,2,5,56,57,1,10,1,2,2,10,6,19,10,16,10,16,14,100,48,49,1,6,1,2,5,6,9,13,27,36,9,14,32,36,2,4,1,4,56,57,1,3,3,4,1,4,2,10,48,56,2,7,15,18,60,67,43,45,11,22,1,14,1,8,4,5,6,7,3,11,192,256,278,280,6,8,38,40,6,8,8,9,1,2,1,2,1,2,31,33,53,54,7,8,1,4,3,4,7,10,4,6,6,10,13,18,3,4,7,24,1,1,-1,98,1,14,1,17,13,114,1,5,1,3,10,11,1,4,5,11,1,2,1,2,1,2,4,5,11,13,4,9,5,9,2,18,41,470,69,95,1,263,78,528,1,340,256,1024,47,48,47,48,133,139,4,7,2,14,38,39,1,6,1,3,56,63,2,17,23,32,7,8,7,8,7,8,7,8,7,8,7,8,7,8,7,557,3,28,9,13,2,3,5,7,5,9,86,92,3,4,90,91,4,9,43,44,94,95,43,96,45,48,48,64,28,31,50,65,12,16,47,48,119,123,99,101,31,32,6582,6656,20976,20992,1165,1232,317,320,28,48,47,64,30,32,80,82,6,48,102,103,49,110,11,12,3,4,4,5,25,27,1,9,8,16,52,64,68,78,12,36,13,14,38,46,25,36,2,13,30,36,48,49,2,6,2,3,17,18,11,15,7,8,25,26,41,47,2,4,2,13,3,4,8,9,1,3,10,12,32,33,51,52,1,4,2,4,5,7,1,2,1,25,17,19,8,19,6,8,6,8,6,15,7,8,7,8,54,64,117,118,2,3,4,7,10,16,11172,11184,23,27,49,2101,6766,6768,106,144,7,19,5,10,-1,2,-10,11,-532,534,-144,176,-13,14,-2,114,-143,177,26,32,26,37,89,92,6,8,6,8,6,8,3,38,12,13,26,27,19,20,2,3,15,17,14,48,123,128,1,2,1,5,45,48,9,86,2,67,45,176,29,32,49,96,36,45,30,35,38,48,30,31,37,41,14,56,158,160,10,16,36,40,36,40,40,48,52,63,1,145,311,320,22,32,8,160,-287,288,-225,228,-1,3,-5,9,-40,43,-4,5,-165,167,-82,89,-484,488,-8,18,-294,325,-199,210,-175,175,1,2,54,69,7,31,10,28,49,53,2,4,7,18,1,3,25,32,10,19,36,41,1,10,17,26,35,36,3,14,52,61,10,14,1,3,16,17,20,31,18,19,28,31,2,3,1,3,6,72,7,8,1,2,4,5,15,16,11,17,47,48,3,16,10,18,2,3,8,10,2,4,22,23,7,8,2,3,5,8,3,4,4,6,2,4,3,5,1,7,1,6,7,163,56,64,2,5,1,2,19,20,1,2,1,35,51,57,1,2,4,6,1,3,4,12,10,176,50,56,4,6,1,3,27,63,51,59,2,3,1,3,4,15,10,48,43,44,1,2,2,8,1,10,10,64,27,32,2,6,1,10,16,208,47,56,1,3,1,101,83,95,1,257,1,7,2,4,40,46,2,6,8,17,1,7,2,5,40,42,4,17,1,3,9,38,57,320,9,10,38,52,8,18,29,32,32,57,1,8,1,3,1,76,7,8,2,3,38,59,1,10,10,16,6,7,2,3,37,41,2,3,1,2,1,8,10,320,19,21,4,267,922,1024,111,112,5,16,196,2944,1071,5120,583,9216,569,576,31,32,10,14,2,98,30,37,1,11,48,55,15,25,10,11,7,8,21,26,19,707,91,192,69,80,47,67,13,77,2,32,6130,6144,755,10240,287,368,396,2704,107,112,13,16,9,16,10,12,1,3,1,4961,246,256,39,41,62,65,9,25,2,9,30,34,59,306,20,128,25,160,85,86,71,72,2,4,1,3,2,4,4,5,12,13,1,2,7,8,65,66,4,6,8,9,7,8,28,29,4,5,5,6,1,4,7,8,340,342,51,52,57,58,57,58,57,58,57,58,8,60,512,567,4,54,8,9,14,15,7,3451,-208,215,-109,116,-1445,1447,-270,542,31,32,58,64,61,118,29,42,44,48,9,16,2,3504,42711,42752,4149,4160,222,224,5762,5776,7473,10576,542,788480,65534,65536,65534]},bffbahfgga:function(e,t){e.exports={inputContainer:"_12h2d",label:"_2rGJA",input:"_1EoYL"}},bffbhdadij:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new Promise(function(t,n){var r=new o.default;r.onerror=function(e){r.terminate(),n(new i.DecodeWebpResultsError("worker error",e))},r.onmessageerror=function(e){r.terminate(),n(new i.DecodeWebpResultsError("worker message error",e))},r.onmessage=function(e){r.terminate();var n=e.data;t(n)},r.postMessage({webpBuffer:e},[e])})};var r,a=n("dachjgjeda"),o=(r=a)&&r.__esModule?r:{default:r},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cajijabhgb"))},bffcbhabha:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=p(n("dgdjiicfdg")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=p(n("bbchdeehff")),u=p(n("biddiiafgd")),s=p(n("fifhbjiec")),l=p(n("fffdgbfji")),c=p(n("djhbfghcdb")),f=p(n("ihfccfgdf")),d=p(n("egjjcjcg"));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(){i.default.closeModal()}var b=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,u=Array(o),s=0;s<o;s++)u[s]=arguments[s];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={},r.onChange=function(e){var t=e.target;t instanceof HTMLInputElement&&r.setState({mute:parseInt(t.value,10)})},r.onMute=function(){i.default.closeModal();var e=r.getMuteDuration();d.default.setLastChatMuteDuration(e),r.props.onMute(3600*e+(0,a.default)().unix(),!0)},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"getMuteDuration",value:function(){return null!=this.state.mute&&0!==this.state.mute?this.state.mute:d.default.getLastChatMuteDuration()||8}},{key:"render",value:function(){var e=this,t=this.props.onCancel||m,n=this.getMuteDuration(),r=[{label:l.default.t(1279),duration:8},{label:l.default.t(1277),duration:168},{label:l.default.t(1278),duration:8760}].map(function(t){var r=t.duration;return o.createElement("li",{key:"mute-"+r},o.createElement("label",{className:c.default.label},o.createElement("input",{type:"radio",name:"duration",className:c.default.input,value:t.duration,checked:n===r,onChange:e.onChange}),t.label))}),a=o.createElement(s.default,{text:l.default.t(760,{name:this.props.chat.title()})});return o.createElement(u.default,{title:a,okText:l.default.t(1263),onOK:this.onMute,onCancel:t},o.createElement("form",null,o.createElement("ol",null,r)))}}]),t}();b.CONCERNS={chat:["id","formattedTitle"]},b.displayName="MutePopup",t.default=(0,f.default)(b,b.CONCERNS)},bffejifief:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.shift();switch(t.type){case"picture":(0,i.changeProfilePicThumb)(t.jid,t.tag);break;default:o.default.handle([t])}return Promise.resolve()};var r,a=n("dhggbbghfb"),o=(r=a)&&r.__esModule?r:{default:r},i=n("cdghjejjij")},bffhabgiib:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag"));function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var i=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r._onRefChange=function(e){e?(r._ctx=e.getContext("2d"),r._imageData=r._ctx.createImageData(r.props.width,r.props.height)):(r._ctx=null,r._imageData=null)},o(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"_updateCanvas",value:function(){var e=this._ctx,t=this._imageData,n=this.props.rgbaBuffer;e&&t&&n&&(t.data.set(new Uint8Array(n)),e.putImageData(t,0,0))}},{key:"componentDidMount",value:function(){this._updateCanvas()}},{key:"componentDidUpdate",value:function(){this._updateCanvas()}},{key:"render",value:function(){return a.createElement("canvas",{className:this.props.className,width:this.props.width,height:this.props.height,onClick:this.props.onClick,onMouseEnter:this.props.onMouseEnter,ref:this._onRefChange})}}]),t}();i.displayName="RGBACanvas",t.default=i},bffjfbgbg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0};t.cleanFilename=g,t.cleanIncomingFilename=function(e){if(!e)return e;var t=g(e);if(e!==t&&t){var n=t.split("."),r=n.length>=2&&n.pop();["bat","exe","cmd","com","lnk","pif","scr","vb","vbe","vbs","wsh","js","ps1","hta","sh","csh","msi","app","scpt","applescript","reg","vbe","wsf","sct"].includes(r)&&(l.default.logVerbose(`cleanIncomingFilename:extension: ${r||""}`)(),l.default.assert(!1,"rtlo char in executable filename")())}return t};var i=n("dcaifjegcg"),u=p(i),s=p(n("baagejbchg")),l=p(n("bdiiahhjbe")),c=p(n("cjieghfgda")),f=n("daichdjff"),d=p(n("bjbdcigbdi"));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.type=(0,i.prop)(f.OUTWARD_TYPES.UNKNOWN),r.mmsUrl=(0,i.prop)(),r.directPath=(0,i.prop)(),r.mediaKey=(0,i.prop)(),r.mediaKeyTimestamp=(0,i.prop)(),r.uploadHash=(0,i.prop)(),r.mediaStage=(0,i.prop)(f.STAGE.INIT),r.size=(0,i.prop)(),r.filehash=(0,i.prop)(),r.mimetype=(0,i.prop)(),r.mediaBlob=(0,i.prop)(),r.renderableUrl=(0,i.prop)(),r.fullHeight=(0,i.prop)(),r.fullWidth=(0,i.prop)(),r.aspectRatio=(0,i.prop)(),r.rgbaBuffer=(0,i.prop)(),r.rgbaHeight=(0,i.prop)(),r.rgbaWidth=(0,i.prop)(),r.animationDuration=(0,i.prop)(0),r.animatedAsNewMsg=(0,i.prop)(!1),r.isAnimated=(0,i.prop)(),r.firstFrameLength=(0,i.prop)(),r.firstFrameSidecar=(0,i.prop)(),r.preview=(0,i.prop)(),r.sidecar=(0,i.prop)(),r.duration=(0,i.prop)(),r.durationFloat=(0,i.prop)(),r.isGif=(0,i.prop)(),r.gifAttribution=(0,i.prop)(),r.streamable=(0,i.derived)(r._isStreamable,["isGif","mediaStage","sidecar","type","_swStreamingSupported"]),r._swStreamingSupported=(0,i.prop)(!1),r._listeningToSwSupport=(0,i.prop)(!1),r.filename=(0,i.prop)(),r.pageCount=(0,i.prop)(),r.documentPreview=(0,i.prop)(),r.subtype=(0,i.prop)(),h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),a(t,[{key:"initialize",value:function(){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this)}},{key:"set",value:function(e,n,a){var i=void 0,u=a;return"string"==typeof e?i={[e]:n}:(i=e,u=n),i=function(e){var t=e.type,n=e.subtype,a=void 0;if("template"===t){switch(n){case s.default.TEMPLATE_SUBTYPE.IMAGE:a=f.OUTWARD_TYPES.IMAGE;break;case s.default.TEMPLATE_SUBTYPE.VIDEO:a=f.OUTWARD_TYPES.VIDEO;break;case s.default.TEMPLATE_SUBTYPE.DOCUMENT:a=f.OUTWARD_TYPES.DOCUMENT;break;case s.default.TEMPLATE_SUBTYPE.LOCATION:a=f.OUTWARD_TYPES.IMAGE}return r({},e,{type:a})}return e}(i=function(e){var t=e.filename||e.caption;if(t&&e.type===b.TYPE.DOCUMENT)return t=g(t),r({},e,{filename:t,caption:t});return e}(i)),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"set",this).call(this,i,u)}},{key:"_isStreamable",value:function(){return this.isStreamable()}},{key:"isStreamable",value:function(){return this.isStreamableType()&&this.listenToServiceWorkerSupport()}},{key:"_updateStreamingSupported",value:function(e){this._swStreamingSupported=e}},{key:"listenToServiceWorkerSupport",value:function(){if(this._listeningToSwSupport)return this._swStreamingSupported;var e=n("gcbhjhjhg").default;return this.listenTo(e,"change:streamingSupported",this._updateStreamingSupported),this._swStreamingSupported=Boolean(e.streamingSupported),this._listeningToSwSupport=!0,this._swStreamingSupported}},{key:"isStreamableType",value:function(){var e=!1;return e=d.default.supportsFeature(d.default.F.VIDEO_STREAMING)&&Boolean(this.type===f.OUTWARD_TYPES.VIDEO)&&!this.isGif&&(this.mediaStage===f.STAGE.INIT||this.mediaStage===f.STAGE.RESOLVED)&&null!=this.fullWidth&&null!=this.fullHeight&&Boolean(this.sidecar&&this.sidecar.byteLength>0),e}},{key:"isDownloadable",value:function(){return null!=this.renderableUrl||c.default.has(this.filehash)}}]),t}();m.Proxy="mediaData";var b=(0,i.defineModel)(m);function g(e){return e?e.replace(/[\u202a-\u202e\u2066-\u2068]/g,""):e}b.TYPE=f.OUTWARD_TYPES,b.STAGE=f.STAGE,t.default=b},bfgacchdii:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryBusinessProfile=function(e){return(0,r.queryBusinessProfile)(e)};var r=n("eccjgeceej")},bfggfbdghf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={TRENDING:"TRENDING",HAHA:"HAHA",SAD:"SAD",LOVE:"LOVE",REACTIONS:"REACTIONS",SPORTS:"SPORTS",TV:"TV"}},bfgjcdgecg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendConversationArchive=function(e,t,n){return o.default.sendConversationArchive(e,t,n).then(function(n){if(r.default.supportsFeature(r.default.F.MODEL_STORAGE)&&200===n.status&&!n._duplicate){var o={archive:t};return t&&(o.pin=void 0),a.Chat.merge(e.toString(),o).then(function(){return n})}return n})};var r=i(n("bjbdcigbdi")),a=n("cefcddgdgg"),o=i(n("bihdhbjih"));function i(e){return e&&e.__esModule?e:{default:e}}},bfhbfhhceg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=_(n("dbdfbgehgj")),i=_(n("bbchdeehff")),u=_(n("bjjjdidhhi")),s=n("bhhdeihhhf"),l=_(s),c=_(n("cijjejhjfh")),f=_(n("eceadcicaf")),d=_(n("deifjeacc")),p=n("ddbddjjgia"),h=n("bheafeifce"),m=_(n("dghebhejhb")),b=_(n("caffijjhc")),g=_(n("dbjbhajgfd")),v=_(n("didfdhbecg")),y=n("bedfbecdgd");function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var j=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,f=Array(c),d=0;d<c;d++)f[d]=arguments[d];return n=r=E(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(f))),r.addRevokeListener=function(){r.props.listeners.add(r.props.msg,"change:isRevoked",r.handleRevoke)},r.handleRevoke=function(){i.default.refreshMessages()},r.state={contextMenu:null,hover:!1},r.setRefContext=function(e){return r.refContext=e},r.mouseOver=function(e){e.buttons||r.state.hover||r.setState({hover:!0})},r.mouseDown=function(){r.state.hover&&r.setState({hover:!1})},r.onOpenInfoDrawer=function(){i.default.msgInfoDrawer((0,h.unproxy)(r.props.msg))},r.onReplyMessage=function(){var e=(0,h.unproxy)(r.props.msg),t=e.chat;t.composeQuotedMsg=e,i.default.focusChatTextInput(t)},r.onPrivateReplyMessage=function(){var e=(0,h.unproxy)(r.props.msg);o.default.find(e.sender).then(function(e){return Promise.props({ok:i.default.openChatBottom(e),chat:e})}).then(function(t){var n=t.ok,a=t.chat;n&&(a.composeQuotedMsg=e,r.props.msg&&r.props.msg.chat&&(a.composeQuotedMsgRemoteJid=r.props.msg.chat.id))})},r.onStarMessage=function(){var e=(0,h.unproxy)(r.props.msg);i.default.sendStarMsgs(e.chat,[e])},r.onUnstarMessage=function(){var e=(0,h.unproxy)(r.props.msg);i.default.sendUnstarMsgs(e.chat,[e])},r.onDeleteMessage=function(){var e=r.props,t=e.msg,n=e.isMsgVisible;i.default.openModal(a.createElement(u.default,{chat:t.chat,msgList:[t].map(h.unproxy),deletePrompt:!0,revokePrompt:t.canRevoke(),isMsgVisible:n}))},r.openContactChat=function(){o.default.find(r.props.msg.author).then(function(e){i.default.openChatFromUnread(e).then(function(t){t&&i.default.focusChatTextInput(e)})})},r._getMenuRefContext=function(){if(r.refContext)return r.refContext.getComponent().refContext},r.onMenu=function(e,t){if(t&&r.state.contextMenu)r.setState({contextMenu:null});else{var n=t?r._getMenuRefContext():e,o=(0,h.unproxy)(r.props.msg),i=[];o.isSentByMe&&!o.isRevoked&&i.push(a.createElement(l.default,{key:"info",a8n:"mi-msg-info",action:r.onOpenInfoDrawer},l10n.t(712))),o.canReply()&&i.push(a.createElement(l.default,{key:"reply",a8n:"mi-msg-reply",action:r.onReplyMessage},l10n.t(926))),(o.canPrivateReply()||o.canPrivateReplyInRestrictedGrp())&&i.push(a.createElement(l.default,{key:"private_reply",a8n:"mi-msg-reply",action:r.onPrivateReplyMessage},l10n.t(889))),o.canForward()&&i.push(a.createElement(l.default,{key:"forward",a8n:"mi-msg-forward",action:function(){r.props.onOpenForwardFlow(!0,o)}},l10n.t(464))),o.canStar()&&(o.star?i.push(a.createElement(l.default,{key:"star",a8n:"mi-msg-unstar",action:r.onUnstarMessage},l10n.t(1077))):i.push(a.createElement(l.default,{key:"star",a8n:"mi-msg-star",action:r.onStarMessage},l10n.t(1027)))),i.push(a.createElement(l.default,{key:"delete",a8n:"mi-msg-delete",action:r.onDeleteMessage},l10n.t(371))),o.isGroupMsg&&o.author&&!o.isSentByMe&&i.push(a.createElement(l.default,{key:"author",a8n:"mi-msg-author",action:r.openContactChat},l10n.t(708,{author:o.displayName()}))),r.setState({contextMenu:{menu:i,anchor:n,theme:s.ThemeOptions.COMPACT}})}},E(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){this.addRevokeListener()}},{key:"componentDidUpdate",value:function(e){this.props.msg.id.equals(e.msg.id)||(this.props.listeners.remove(e.msg,"change:isRevoked",this.handleRevoke),this.addRevokeListener())}},{key:"contextOpen",value:function(){this.onMenu(void 0,!0)}},{key:"contextClose",value:function(){this.setState({contextMenu:null})}},{key:"scrollMsg",value:function(e,t){this.props.scrollMsg(e,t)}},{key:"highlight",value:function(e){this.props.highlight(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.msg,r=t.menuTransition,o=void 0;(this.state.hover||this.state.contextMenu)&&(o=a.createElement(d.default,{msg:n,position:p.MsgPosition.SINGLE,key:"icon-context",ref:this.setRefContext,onToggle:function(t){e.onMenu(t)},isGroupedSticker:!0}));var i=void 0;this.props.isFocused&&(i=a.createElement(y.WhileFocusedListener,{parent:this}));var u=void 0;return this.state.contextMenu&&(u=a.createElement(b.default,{displayName:"MsgContextMenu",escapable:!0,popable:!0,requestDismiss:function(){return e.contextClose()}},a.createElement(g.default,{contextMenu:this.state.contextMenu}))),a.createElement("div",{className:c.default.stickerItem,onMouseOver:this.mouseOver,onMouseDown:this.mouseDown,onMouseUp:this.mouseOver,onMouseLeave:this.mouseDown},a.createElement(m.default,{mediaData:n.mediaData,msg:n}),a.createElement("div",{className:c.default.stickerMenu},a.createElement(v.default,{transitionName:r},o)),u,i)}}]),t}();j.displayName="GroupedSticker",t.default=(0,f.default)(j)},bfhcddbbhg:function(e,t){e.exports={albumGridClass:"_36Yqt",albumTopLeft:"_1b8RS",albumTopRight:"_2ip-H",albumBottomLeft:"_3mNmN",albumBottomRight:"_125Xa",numberText:"_1XSxP"}},bfhdbejjbg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DownloadManager=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=g(n("cgeedcdffb")),o=g(n("cchfggidbj")),i=g(n("cecfgggbdj")),u=n("bafdjibgig"),s=g(n("bdiiahhjbe")),l=n("chfghiiefb"),c=n("daichdjff"),f=n("fabajdgab"),d=g(n("cjbdijighi")),p=g(n("bfbggcdbfb")),h=g(n("cgdfjifbb")),m=n("bcjidabgad"),b=g(n("dejcgejdhb"));function g(e){return e&&e.__esModule?e:{default:e}}var v=t.DownloadManager=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.downloadAndDecrypt=(0,o.default)(function(e){return e.filehash},{get:function(e,t){return(0,f.shouldUseLruMediaStore)(t.type)?b.default.get(e).catch(function(e){return s.default.error("downloadManager.asyncCache.get error: ",e)(),null}):Promise.resolve(null)},set:function(e,t,n){return(0,f.shouldUseLruMediaStore)(n.type)?b.default.put(e,t).catch(function(e){s.default.error("downloadManager.asyncCache.set error: ",e)()}):Promise.resolve()}},function(e){var t=e.directPath,n=e.encFilehash,r=e.filehash,o=e.mediaKey,l=e.onDecryptStart,c=e.type,f=e.signal||(new a.default).signal,d={directPath:t,encFilehash:n,type:c};return s.default.log("downloadManager.download: start",d)(),h.default.download({directPath:t,encFilehash:n,type:c,signal:f}).then(function(e){return l&&l(),(0,i.default)({mediaKey:o,ciphertextHmac:e,expectedPlaintextHash:r,type:c})}).then(function(e){return s.default.log("downloadManager.download: success",d,e)(),e}).catch(function(e){throw e instanceof u.MediaNotFoundError?s.default.log("downloadManager.download: expected error",d,e)():s.default.error("downloadManager.download: error",d,e)(),e})}),this.rmr=(0,d.default)(function(e){return e.object.filehash||""},function(e){var t=e.object,n={filehash:t.filehash,type:t.type};s.default.log("downloadManager.rmr: start",n)(),t.consolidate({downloadStage:c.DOWNLOAD_STAGE.REUPLOADING});var a=performance.now(),o=new p.default.WebcMediaRmr(r({},e.rmrData,{webcRmrReason:e.rmrReason})),i=(0,m.getEffectiveNetworkType)();return null!=i&&(o.webcBrowserNetworkType=i),t.type&&(o.messageMediaType=(0,l.webMediaTypeToWamMediaType)(t.type)),null!=t.size&&(o.webcMediaSize=t.size),t.rmr({onMsgSelect:function(e){null==o.webcChatType&&e.chat&&(o.webcChatType=e.chat.getWebcChatType()),null==o.webcMessageT&&(o.webcMessageT=e.t),o.messageMediaType=e.getWamMediaType()}}).then(function(e){if(o.webcRmrStatusCode=e.status,s.default.log("downloadManager.rmr: reply",n,e)(),404===e.status)throw new u.MediaNotOnPhone;if(200!==e.status)throw new u.ServerStatusCodeError(e.status);s.default.log("downloadManager.rmr: success",n)()}).catch(function(e){throw o.webcMediaRmrError=!0,e instanceof u.MediaNotOnPhone?(s.default.log("downloadManager.rmr: expected error",n,e)(),e):(s.default.error("downloadManager.rmr: error",n,e)(),new u.MediaNeedsReupload)}).finally(function(){o.webcMediaRmrT=Math.ceil(performance.now()-a),o.commit()})})};t.default=new v},bfiaijhcgh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("dbhhbejbcb"),i=l(o),u=l(n("dgbdeadddb")),s=n("eagfdbhhhh");function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this,t=this.props.emojis,n=t?t.length:0;if(0===n)return null;var r=void 0;switch(n){default:case 3:r=o.SIZE.MEDIUM;break;case 2:r=o.SIZE.LARGE;break;case 1:r=o.SIZE.XLARGE}var l=t.map(function(t,n){return a.createElement(i.default,{animation:e.props.animation,size:r,emoji:t,key:t+n,selectable:!0})});return a.createElement(s.SelectableDiv,{selectable:!0,className:u.default.wrapper},l)}}]),t}();c.displayName="MultiEmoji",t.default=c},bfidcjhfda:function(e,t,n){"use strict";var r=s(n("dbajccegac")),a=s(n("dicfecifhd")),o=s(n("bdiiahhjbe")),i=s(n("jccfhaecf")),u=n("dcbdjheea");function s(e){return e&&e.__esModule?e:{default:e}}e.exports=function(e){var t=void 0,n={},s=e.nibbleEncode;for(t=0;t<e.singleByte.length;t++)e.singleByte[t]&&(n[e.singleByte[t]]=t);for(t=0;t<e.doubleByte.length;t++)e.doubleByte[t]&&(n[e.doubleByte[t]]=t+a.default.SINGLE_BYTE_MAX);this.writeNode=function(e,t){if(t){if(3!==t.length)throw new Error("invalid node");var n=t[1]?2*Object.keys(t[1]).filter(function(e){return!!t[1][e]}).length:0;this.writeListStart(e,1+n+(t[2]?1:0)),this.writeString(e,t[0]),this.writeAttributes(e,t[1]),this.writeChildren(e,t[2])}},this.writeString=function(e,t,r){if("string"!=typeof t&&!(t instanceof i.default))throw o.default.error(`writer:writeString passed non-string/wid type: ${typeof t}`)(t),new Error("invalid string");if(t instanceof i.default)this.writeJid(e,t);else{var s=n.hasOwnProperty(t)?n[t]:void 0,l=void 0,c=void 0;if("c.us"!==t||r)if(void 0===s)if(t.indexOf("@")<1)this.writeStringRaw(e,t);else try{var f=(0,u.createWid)(t);this.writeJid(e,f)}catch(n){this.writeStringRaw(e,t)}else{if(s<a.default.SINGLE_BYTE_MAX)this.writeToken(e,s);else{var d=s-a.default.SINGLE_BYTE_MAX;switch(c=d%256,d>>8){case 0:l=a.default.DICTIONARY_0;break;case 1:l=a.default.DICTIONARY_1;break;case 2:l=a.default.DICTIONARY_2;break;case 3:l=a.default.DICTIONARY_3;break;default:throw new Error("double byte dictionary token out of range: "+t+" "+s)}}this.writeToken(e,l),this.writeToken(e,c)}else this.writeToken(e,n["s.whatsapp.net"])}},this.writeStringRaw=function(e,t){var n=r.default.numUtf8Bytes(t);if(n>=4294967296)throw new Error("string too large to encode (len = "+n+"): "+t);n>=1<<20?(e.pushByte(a.default.BINARY_32),e.pushInt32(n)):n>=256?(e.pushByte(a.default.BINARY_20),e.pushInt20(n)):(e.pushByte(a.default.BINARY_8),e.pushByte(n)),e.pushString(t)},this.writeJid=function(e,t){var n=t.user,r=t.server,o=t.agent,i=t.device;if(o||i){if(o>255||i>255||"c.us"!==r&&"s.whatsapp.net"!==r)throw new Error(`invalid agent:${o} or device:${i} or server:${r} for wid ${t.toString()}`);e.pushByte(a.default.JID_AD),e.pushByte(o||0),e.pushByte(i||0),n?this.writePackedBytesStringFallback(e,n):this.writeToken(e,a.default.LIST_EMPTY)}else e.pushByte(a.default.JID_PAIR),n?this.writePackedBytesStringFallback(e,n):this.writeToken(e,a.default.LIST_EMPTY),this.writeString(e,r)},this.writeToken=function(e,t){if(t<245)e.pushByte(t);else if(t<=500)throw new Error("invalid token")},this.writeAttributes=function(e,t){if(t){for(var n in this.isAttr=!0,t)t[n]&&(this.writeString(e,n),this.writeString(e,t[n]));this.isAttr=!1}},this.writeChildren=function(e,t){var n=void 0;if(t)if("string"==typeof t)this.writeString(e,t,!0);else if(t instanceof ArrayBuffer){if((n=t.byteLength)>=4294967296)throw new Error("invalid children; too long (len = "+n);n>=1<<20?(e.pushByte(a.default.BINARY_32),e.pushInt32(n)):n>=256?(e.pushByte(a.default.BINARY_20),e.pushInt20(n)):(e.pushByte(a.default.BINARY_8),e.pushByte(n)),e.pushBytes(t)}else{if(!Array.isArray(t))throw new Error("invalid children");n=t.length,this.writeListStart(e,n);for(var r=0;r<n;r++)this.writeNode(e,t[r])}},this.writeListStart=function(e,t){0===t?e.pushByte(a.default.LIST_EMPTY):t<256?(e.pushByte(a.default.LIST_8),e.pushByte(t)):(e.pushByte(a.default.LIST_16),e.pushInt16(t))},this.writePackedBytesStringFallback=function(e,t){try{this.writePackedBytes(e,t)}catch(n){o.default.warnVerbose(`writer:encode-fallback "${n.message}"`)(t),this.writeString(e,t)}},this.writePackedBytes=function(e,t){try{this.writePackedBytesImpl(e,t,a.default.NIBBLE_8)}catch(n){o.default.warn(`writer:enc nib fail, try hex "${n.message}"`)(t),this.writePackedBytesImpl(e,t,a.default.HEX_8)}},this.writePackedBytesImpl=function(e,t,n){var o=r.default.numUtf8Bytes(t);if(o>a.default.PACKED_MAX)throw new Error("too many bytes to nibble-encode: len = "+o);var i=[],u=void 0,s=0;o%2>0&&(s=128);var l=s|Math.ceil(o/2);i.push(n),i.push(l);for(var c=Math.floor(o/2),f=0;f<c;f++)u=this.packBytePair(n,t[2*f],t[2*f+1]),i.push(u);s>0&&(u=this.packBytePair(n,t[o-1],"\0"),i.push(u));var d=new Uint8Array(i);e.pushUint8Array(d)},this.packBytePair=function(e,t,n){var r=void 0,o=void 0;switch(e){case a.default.NIBBLE_8:r=this.packNibble(t),o=this.packNibble(n);break;case a.default.HEX_8:r=this.packHex(t),o=this.packHex(n);break;default:throw new Error("invalid byte pack type: "+e)}return r<<4|o},this.packNibble=function(e){if(!s.hasOwnProperty(e))throw new Error("invalid byte to nibble-pack: "+e);return s[e]},this.packHex=function(e){switch(e){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"A":case"B":case"C":case"D":case"E":case"F":return parseInt(e,16);case"\0":return 15;default:throw new Error("packHex:invalid byte: "+e)}}}},bfidigcji:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=u(n("ihfccfgdf")),i=u(n("dgacgafafa"));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props.stickerPack,t=e.id,n=e.name,r=e.url;return a.createElement(i.default,{id:t,name:n,url:r})}}]),t}();s.CONCERNS={stickerPack:["id","name","url"]},s.displayName="StickerPackIconFirstParty",t.default=(0,o.default)(s,s.CONCERNS)},bfifafibjc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=l(n("ceffhbhahb")),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=l(n("dcicgjefd")),s=l(n("dbhcbbgdji"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=a=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a._setRefResizeObserver=function(e){a._refResizeObserver=e,a.props.onRef&&a.props.onRef(e),a._handleResize()},a._handleResize=function(){var e=a._refResizeObserver;if(e){var t={height:e.offsetHeight,width:e.offsetWidth};a._prevDimensions&&a._prevDimensions.width===t.width&&a._prevDimensions.height===t.height||(a._prevDimensions=t,a.props.onResize(r({},t)))}},c(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.PureComponent),a(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,a=(e.onResize,e.onRef,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["children","className","onResize","onRef"]));return i.createElement("div",r({className:(0,o.default)(u.default.container,n),ref:this._setRefResizeObserver},a),t,i.createElement(s.default,{onResize:this._handleResize}))}}]),t}();f.displayName="ResizeObserver",t.default=f},bfifighhia:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("bhhdiiaihb")),i=s(n("caegbedegd")),u=s(n("ceggedffg"));function s(e){return e&&e.__esModule?e:{default:e}}var l=(0,o.default)("*"),c=(0,u.default)(/(?:^|[\s\W_])\*([^\s\u20e3]|[^\s\u20e3][^\n]*?\S)\*(?=$|[[\s\W_])/g,1,l),f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c),r(t,null,[{key:"jsx",value:function(e,t,n){var r=n.selectable,o=void 0!==r&&r;return a.createElement(i.default,{selectable:o},e)}}]),t}();t.default=f},bfihjhiege:function(e,t){e.exports={fit:"_3NteO",fitRelative:"_1kgcV",fitScaledown:"_3eeXM",fitZoomin:"_14CNR",nativeCover:"_3WAy7",nativeScaleDown:"_39KgN"}},bfjbdahdag:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=f(n("fifhbjiec")),i=f(n("dafiibaihc")),u=n("gaifbabbj"),s=f(n("dbbbgjbbgf")),l=f(n("ihfccfgdf")),c=f(n("dgdadejebh"));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.msg,n=e.spacer,r=e.trusted,l=(r?u.Configuration.TrustedConversation:u.Configuration.UntrustedConversation)({mentions:t.mentionMap(),links:t.getLinks(),selectable:!0}),f=t.text;if(!f)return null;var d=!(!t.dir||t.rtl===l10n.isRTL());return a.createElement(a.Fragment,null,a.createElement(c.default,{msg:t}),a.createElement(s.default,{msg:t,"data-id":t.id,spacer:n},a.createElement(i.default,{text:f,textLimit:t.initialPageSize},function(e){return a.createElement(o.default,{direction:t.dir,dirMismatch:d,formatters:l,inferLinesDirection:!0,noInvisibleSpace:d&&null!=t.footer,selectable:!0,text:t.text,textLimit:e.textLimit})})))}}]),t}();d.CONCERNS={msg:["t","id","dir","rtl","text","initialPageSize","footer"]},d.displayName="Caption",t.default=(0,l.default)(d,d.CONCERNS)},bfjchhccjd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!e)return!1;var n=e.parentElement;if(!n)return!1;var r=t>=0?t:n.childNodes.length+t;return e===n.childNodes[r]}},bfjegcdcag:function(e,t){e.exports={container:"_2LSbZ",title:"_3EN0l","padding-large":"_1ur1f",paddingLarge:"_1ur1f",padding:"_2ZVEo","group-desc-padding":"ujWpH",groupDescPadding:"ujWpH","padding-product":"_2x5h1",paddingProduct:"_2x5h1",animate:"_2j5ir","well-animation2":"_3e_bD",wellAnimation2:"_3e_bD"}},bfjeggfcij:function(e,t){e.exports={playerWrapper:"_2sTOw"}},bfjfgcfade:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n("digcccheca")),o=c(n("jjjdieajj")),i=c(n("bjgibbgbai")),u=c(n("debfbiicee")),s=c(n("bidcddiaag")),l=c(n("decdhbjfjc"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d={ArrowLeft:i.default.EMOJI_LEFT,ArrowRight:i.default.EMOJI_RIGHT,Enter:i.default.EMOJI_ENTER,Tab:i.default.EMOJI_TAB},p=50,h=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.hooks={[u.default.CHANGE](e,t){""===t.refInput.textContent&&this.handle(i.default.EMOJI_INACTIVE)}},r.handlers={onKeyDown(e,t){var n=this;8!==e.keyCode&&e.repeat&&(this._lastSyncKeyDownWasRepeat=!0,setTimeout(function(){delete n._lastSyncKeyDownWasRepeat},0));var r=d[e.key];return!!r&&this.handle(r,[e,t])},onSelect(e,t){if(this.ctx.isComposing)return!1;if(this._lastSyncKeyDownWasRepeat)return!1;var n=window.getSelection();if(!n.modify)return!1;var r=m(t,n);return r?(r=r.slice(1),this.handle(i.default.EMOJI_SEARCH,[r]),!1):this.handle(i.default.EMOJI_INACTIVE)}},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"handleSelect",value:function(e){this.ctx.forceFocus(),m(this.ctx,window.getSelection(),!0)&&(this.ctx.replaceSelection(e),this.handle(i.default.EMOJI_INACTIVE))}}]),t}();function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=null,a=null,i="",u=0,c=null;return(0,s.default)(e,t,function(e,t,n){if("@"===e||" "===e&&" "===a)return!0;if(":"===a)if(" "===r);else{if(s=e,Boolean(o.default[s]))return c=i,!0;if(/\W/.test(e))return c=n.slice(t+1)+i,!0}var s;return 0===t&&(i=n+i),r=a,a=e,(u+=1)>=p||void 0}),!c&&u<p&&":"===a&&(c=i),n&&c&&c.length&&(0,l.default)(t,c.length),c}e.exports=h},bgabieacgg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.find=function(e,t){var n=performance.now();return i.default.chatFindQuery(e,function(e){t.binarySize=e.binarySize}).then(function(e){return"preempted"!==e&&(t.timing=Math.ceil(performance.now()-n),t.size=e.length,o.default.supportsFeature(o.default.F.MODEL_STORAGE))?a.default.bulkCreateOrMerge(e.map(function(e){return r({},e,{id:e.id.toString()})})).then(function(){return e}):e})};var a=u(n("begbbgieee")),o=u(n("bjbdcigbdi")),i=u(n("bihdhbjih"));function u(e){return e&&e.__esModule?e:{default:e}}},bgaeiiadg:function(e,t){e.exports={border:"_2DxRd"}},bgaigbgdgj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n=atob(e),r=0,a=0;a<n.length;a++){var o=n.charCodeAt(a),i=o>>4,u=15&o;r=(((r=((r<<4)+i)%t)<<4)+u)%t}return r}},bgajdijche:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=E(n("ddhijeejag")),o=_(n("effbcehec")),i=_(n("cfadcbbiie")),u=_(n("baagejbchg")),s=n("ddjgcfjicj"),l=E(n("cajijabhgb")),c=_(n("bjbdcigbdi")),f=_(n("fffdgbfji")),d=_(n("eceadcicaf")),p=_(n("bdiiahhjbe")),h=_(n("eigdejjai")),m=_(n("bjbedjfe")),b=_(n("becfabjeeg")),g=_(n("cdeaahaeee")),v=n("hjbcfjaai"),y=_(n("bfdcadbbif"));function _(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w=function(e){function t(){return j(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return S(t,a.Component),r(t,[{key:"render",value:function(){var e=a.createElement(M,{statusV3:this.props.status,onOpenStatus:this.props.onOpenStatus}),t=void 0,n=void 0;return c.default.supportsFeature(c.default.F.STATUS_V3_UI_SENDING)&&(t=a.createElement("div",{className:g.default.updateWrapper},a.createElement("div",{className:g.default.updateTitle},f.default.t(1046)),a.createElement("div",{className:g.default.uploadButtons},a.createElement("div",{className:g.default.buttonContainer},a.createElement(y.default,{name:"status-v3-upload"}),a.createElement("p",null,f.default.t(1047))),a.createElement("div",{className:g.default.buttonContainer},a.createElement(y.default,{name:"status-v3-camera"}),a.createElement("p",null,f.default.t(1033))))),n=a.createElement("hr",null)),a.createElement("div",{className:g.default.outStatusPanel},t,n,e)}}]),t}();w.displayName="StatusV3OutStatusPanel";var P=function(e){function t(){return j(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return S(t,a.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props,t=e.statusV3,n=e.listeners;t&&(n.add(t,"change:msgsChanged"),t.loadMore(t.totalCount).catch(function(e){p.default.error(`error while loading all out status: ${String(e)}`)()}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.statusV3!==e.statusV3&&(this.props.statusV3&&this.props.listeners.remove(this.props.statusV3,"change:msgsChanged"),e.statusV3&&this.props.listeners.add(e.statusV3,"change:msgsChanged"))}},{key:"render",value:function(){var e=this,t=this.props.statusV3;if(t&&t.msgs.length>0){var n=t.msgs.map(function(n){return a.createElement(T,{key:n.id.toString(),msg:n,status:t,onOpenStatus:e.props.onOpenStatus})});return a.createElement("div",{className:g.default.viewWrapper},a.createElement("div",{className:g.default.viewTitle},f.default.t(1048)),a.createElement("div",{className:g.default.viewUpdates},n))}return a.createElement("div",{className:g.default.viewWrapper},a.createElement("div",{className:g.default.placeholderIcon},a.createElement("div",{className:g.default.placeholderIcon},a.createElement(y.default,{name:"status-v3-placeholder"}))),a.createElement("div",{"data-a8n":o.default.key("status-placeholder"),className:g.default.placeholderText},f.default.t(1042)))}}]),t}();P.displayName="StatusV3OutViewerImpl";var M=(0,d.default)(P),C=function(e){function t(){j(this,t);var e=O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={},e}return S(t,a.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;h.default.find(this.props.msg.id).checkpoint(this.props.rejectOnUnmount()).then(function(t){e.props.listeners.add(t.read,"add remove",function(){e.setState({seenCount:t.read.length})}),e.setState({seenCount:t.read.length})}).catch(l.Unmount,function(){}).catch(s.EphemeralDrop,function(){})}},{key:"render",value:function(){var e=this,t=this.props,n=t.msg,r=t.status,o=n.mediaData,s=void 0;if(o&&o.preview)s={backgroundImage:`url(${o.preview.url()})`};else if(n.type===u.default.MSG_TYPE.CHAT){s={backgroundColor:n.statusV3TextBg}}var l=void 0;n.type===u.default.MSG_TYPE.CHAT&&(l=a.createElement(v.StatusV3Text,{msg:n,theme:"status-panel"}));var c=void 0;return c=void 0!==this.state.seenCount?a.createElement(a.Fragment,null,a.createElement(y.default,{name:"status-v3-seen"}),a.createElement("div",{className:g.default.seenCount},this.state.seenCount)):a.createElement(b.default,{stroke:3,size:12}),a.createElement("div",{className:g.default.outDetail},a.createElement("div",{className:g.default.statusImage,style:s,onClickCapture:function(t){e.props.onOpenStatus(r,n),t.preventDefault(),t.stopPropagation()}},l),a.createElement("div",{className:g.default.seen},c),a.createElement("div",{className:g.default.timestamp},i.default.relativeDateAndTimeStr(n.t)))}}]),t}();C.displayName="StatusV3OutDetailImpl";var T=(0,m.default)((0,d.default)(C));t.default=w},bgcdajbhif:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatusV3Collection=void 0;var r=O(n("bebajedcaf")),a=O(n("iidhbgeed")),o=O(n("dbafiicfja")),i=O(n("cbeddgjfaj")),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},l=O(n("cgcgbfbffj")),c=O(n("cfadcbbiie")),f=O(n("baagejbchg")),d=O(n("bjigbaghc")),p=n("ddjgcfjicj"),h=O(n("bjbdcigbdi")),m=O(n("bdiiahhjbe")),b=O(n("bfbggcdbfb")),g=O(n("biecbbiiee")),v=O(n("beeieigghj")),y=O(n("bfgbdiffgd")),_=O(n("jcfjeeiii")),E=O(n("bihdhbjih")),j=n("dcbdjheea");function O(e){return e&&e.__esModule?e:{default:e}}var S=t.StatusV3Collection=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default),u(t,[{key:"delete",value:function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),delete this.checksum}},{key:"_find",value:function(e){return Promise.resolve({id:e})}},{key:"findQuery",value:function(e,n){var r=this;return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"findQuery",this).call(this,e,n).then(function(e){var t=e||[];return Promise.all(t.map(function(e){if(e){var t=0;return e.msgs.forEach(function(n){t<e._msgs.length&&e._msgs[t].id.toString()===n.id.toString()?++t:n.delete()}),e._msgs.length>0?r.addStatusMessages(e.id,e._msgs):Promise.resolve()}})).then(function(){return t})})}},{key:"_findQuery",value:function(e){var t=this;return E.default.statusQuery().then(function(e){return t.checksum=e.checksum,Promise.map(e.statuses,function(e){e.totalCount!==e._msgs.length&&e.totalCount<=20&&m.default.warn(`Received ${e._msgs.length} status V3 messages when total count is ${e.totalCount} for ${e.id}`)();var t=e.pic;return t?v.default.createFromData(t,"image/jpeg").then(function(t){return e.pic=t,e}):e})})}},{key:"loadMore",value:function(e,t,n){return E.default.statusQuery(e,t,n&&n.id,"after").then(function(e){return e.status>=400?(m.default.error("model:statusv3:findQuery error "+e.status)(),Promise.reject(e.status)):(e.forEach(function(e){e.invis=!0}),m.default.log(`model:statusv3:loadMore:${e.length}`)(),g.default.processMultipleMessages((0,j.createWid)(f.default.STATUS_WID),e,{add:"after",isHistory:!0}))})}},{key:"sync",value:function(e){var t=this,n=window.performance.now();return!e||this.checksum&&this.checksum!==e?this.findQuery({},{set:this.hasSynced()}).catch(p.WapDrop,function(){}).finally(function(){t.trigger("sync")}).tap(function(e){var r=window.performance.now(),a=Math.round(r-n);t.logMetrics({type:"sync",syncTime:a}),t.forEach(function(e){e.msgs.length>e.totalCount&&m.default.log(`Total count: ${e.totalCount}, msgs length: ${e.msgs.length}`)()})}):Promise.resolve(void 0)}},{key:"logMetrics",value:function(e){var t=void 0;t="sync"===e.type?new b.default.WebcStatusSync({webcStatusSyncT:e.syncTime}):new b.default.WebcStatusSession({webcStatusSessionId:e.sessionId});var n=this.filter(function(e){return!e.contact.isMe}),r=n.filter(function(e){return!e.contact.statusMute}),a=r.filter(function(e){return e.hasUnread}),o=r.filter(function(e){return!e.hasUnread}),u=n.filter(function(e){return e.contact.statusMute}),s=(0,i.default)(r.map(function(e){return e.unreadCount})),l=(0,i.default)(r.map(function(e){return e.readCount})),c=(0,i.default)(u.map(function(e){return e.totalCount}));t.webcStatusRecentItemCount=s,t.webcStatusRecentRowCount=a.length,t.webcStatusViewedItemCount=l,t.webcStatusViewedRowCount=o.length,t.webcStatusMutedItemCount=c,t.webcStatusMutedRowCount=u.length,t.commit()}},{key:"hasSynced",value:function(){return!!this.checksum}},{key:"handleUpdate",value:function(e,t,n){var r=e.id.fromMe?d.default.me:e.author;if(this.updateChecksum(t),this.hasSynced()){if(n)return!0;var a=this.get(r);if(a){var i=a.totalCount===a.msgs.length;if("revoke"===e.subtype){var u=a.msgs.toArray().slice(0,a.totalCount-a.unreadCount),s=(0,o.default)(u,function(e){return e.id.toString()}),l={totalCount:a.totalCount-1};s.find(function(t){return t===e.protocolMessageKey.toString()})||a.readKeys[e.protocolMessageKey.toString()]||(l.unreadCount=a.unreadCount-1),a.set(l)}else{var c={totalCount:a.totalCount+1};e.invis||(c.unreadCount=a.unreadCount+1),c.t=e.t,a.set(c)}return!i&&e.body&&v.default.createFromBase64Jpeg(e.body).then(function(e){a.pic=e}),i}return this.add({id:r,t:e.t,unreadCount:e.invis?0:1,totalCount:1}),!0}return!1}},{key:"handleScore",value:function(e,t){var n=this.get(e);n?n.score=t:m.default.log("models:statusV3:score:no_status:"+[e,t].join())()}},{key:"updateChecksum",value:function(e){e?this.hasSynced()&&(this.checksum=e):m.default.info("models:statusV3:no_checksum")()}},{key:"handle",value:function(e){var t=e.shift();if(Array.isArray(t))m.default.warn("models:statusV3:unexpected update")(t);else switch(t.type){case"read":this.updateChecksum(t.checksum);var n=this.get(t.chat);n?n.handleReadStatus(t.key):m.default.log("models:statusV3:read:no_status:"+[t.chat,t.key].join())(t);break;case"privacy":break;case"score":for(var r=0;r<t.scores.length;r++){var a=t.scores[r],o=a.jid,i=a.score;this.handleScore(o,i)}this.sort();break;default:m.default.warn("models:statusV3:unknown:"+t.type,t)()}}},{key:"addStatusMessages",value:function(e,t){return g.default.processMultipleMessages((0,j.createWid)(f.default.STATUS_WID),t,{add:"after",isHistory:!0})}},{key:"getUnexpired",value:function(e){var t=this.filter(function(e){return e.totalCount>0&&c.default.globalUnixTime()-e.t<=86400&&e.contact.isMyContact&&!e.contact.isMe});return e?(0,a.default)(t,function(e){return e.unreadCount>0}):(0,a.default)(t,function(e){return 0===e.unreadCount})}},{key:"getMyStatus",value:function(){var e=this.filter(function(e){return e.contact.isMe});return(0,r.default)(e)?void 0:c.default.globalUnixTime()-e[0].t>86400?void 0:e[0]}}]),t}();S.model=_.default,S.comparator=function(e,t){return y.default.statusRanking&&h.default.supportsFeature(h.default.F.STATUS_RANKING)&&e.score!==t.score?t.score-e.score:t.t-e.t},t.default=new S},bgcibhihaj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(e,t){if(e.size!==t.size)return!1;for(var n of e){var a=r(n,2),o=a[0],i=a[1];if(t.get(o)!==i)return!1}return!0}},bgdcgdigif:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CALL_TYPES=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("dcaifjegcg"),i=(r=o)&&r.__esModule?r:{default:r},u=n("cgejjichfa");function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.CALL_TYPES={VOICE:"VOICE",VIDEO:"VIDEO"};var l=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.callId=(0,o.session)(),r.state=(0,o.session)(u.CALL_UI_STATES.NONE),r.from=(0,o.session)(),r.to=(0,o.session)(),r.type=(0,o.session)(),r.muted=(0,o.session)(),r.peerMuted=(0,o.session)(),r.speaker=(0,o.session)(),r.outgoing=(0,o.session)(),r.startTime=(0,o.session)(),r.showFullscreenCallView=(0,o.session)(!1),r.showCallStatusBar=(0,o.session)(!1),r.externalInputAvailable=(0,o.session)(),r.interrupted=(0,o.session)(),r.peerBusy=(0,o.session)(),r.peerVideoState=(0,o.session)(),r.voipWindowId=(0,o.session)(),s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"onStateChange",value:function(){}},{key:"onAudioOutputChange",value:function(){}},{key:"overrideOutputRoute",value:function(e){return Promise.resolve()}}]),t}();l.Proxy="callUi",t.default=l},bgdibijceg:function(e,t){e.exports={1:["AS","AI","AG","BS","BB","BM","VG","CA","KY","DM","DO","GD","GU","JM","MS","MP","PR","KN","LC","VC","SX","TT","TC","VI","US"],7:["KZ","RU"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CX","CC"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["YT","RE"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["AX","FI"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],379:["VA"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["BQ","CW"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]}},bgebiidch:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(e){switch(e[0]){case"asleep":break;case"update":var t=e[2],n=void 0,i=void 0;"number"==typeof e[1]?i=e[1]:n=!!e[1],o.default.update(t,n,i);break;case"killsw":o.default.killServiceWorker();break;case"update_desktop":var u=r(e,5),s=(u[0],u[1]),l=u[2],c=u[3],f=u[4],d=o.default.activeVersion.lt(s)?Number.parseInt(l,10):void 0,p=o.default.activeVersion.lt(c);o.default.update(void 0,p,d,f);break;case"desktop_manual_download":break;default:a.default.error("Stream:handle unknown cmd "+e[0],e)()}};var a=i(n("bdiiahhjbe")),o=i(n("cbbhbjebii"));function i(e){return e&&e.__esModule?e:{default:e}}},bgedbhhbbg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=b(n("ceffhbhahb")),o=b(n("dgdjiicfdg")),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=b(n("effbcehec")),s=b(n("dacdidjdfi")),l=b(n("bbchdeehff")),c=b(n("ejdjhbacj")),f=b(n("bdiiahhjbe")),d=b(n("dagdiahdfi")),p=b(n("eedjbihej")),h=n("bfjajhbdf"),m=b(h);function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v={title:0,hour:1,day:24,week:168},y=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return n=r=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={notifications:d.default.getGlobalNotifications(),sounds:d.default.getGlobalSounds(),previews:d.default.getGlobalPreviews(),collapseMuted:d.default.getCollapseMuted(),dnd:v.title},r.onSounds=function(){var e=!r.state.sounds;r.setState({sounds:e}),d.default.setGlobalSounds(e)},r.onNotifications=function(){var e=!r.state.notifications;r.setState({notifications:e}),d.default.setGlobalNotifications(e)},r.onPreviews=function(){var e=!r.state.previews;r.setState({previews:e}),d.default.setGlobalPreviews(e)},r.onCollapseMuted=function(){var e=!r.state.collapseMuted;r.setState({collapseMuted:e}),d.default.setCollapseMuted(e)},r.onDND=function(e){if(e.target&&e.target.value){var t=parseInt(e.target.value,10);if(0===t)return r.setState({dnd:v.title}),void d.default.globalMute().unmute();r.setState({dnd:t});var n=(0,o.default)().unix()+60*t*60;d.default.globalMute().mute(n)}},r.onClose=function(){l.default.closeModal()},g(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentWillUnmount",value:function(){this.state.dnd!==v.title&&l.default.openToast(i.createElement(m.default,{msg:this.globalMuteDurationLabel(this.state.dnd),id:(0,h.genId)()}))}},{key:"globalMuteDurationLabel",value:function(e){switch(this.state.dnd){case 1:return l10n.t(495);case 24:return l10n.t(494);case 168:return l10n.t(496);default:return f.default.log("DoNotDisturbSettings:globalMuteDurationLabel non standard global mute duration:"+e)(),l10n.t(493)}}},{key:"render",value:function(){var e=[];if(window.Notification){e.push(i.createElement("div",{className:c.default.section,onClick:this.onNotifications,key:0},i.createElement("div",{"data-a8n":u.default.key("menu-icon-notifications"),className:c.default.control},i.createElement(s.default,{onChange:this.onNotifications,checked:this.state.notifications})),i.createElement("div",{"data-a8n":u.default.key("option-desktop-notifications"),className:c.default.label},l10n.t(869))));var t=(0,a.default)(c.default.section,{[c.default.disabled]:!this.state.notifications});e.push(i.createElement("div",{className:t,onClick:this.onPreviews,key:1},i.createElement("div",{"data-a8n":u.default.key("menu-icon-notifications"),className:c.default.control},i.createElement(s.default,{onChange:this.onPreviews,checked:this.state.previews})),i.createElement("div",{"data-a8n":u.default.key("option-msg-previews"),className:c.default.label},l10n.t(870),i.createElement(p.default,{theme:"muted",block:!0},l10n.t(871)))))}return i.createElement("div",{className:c.default.container},i.createElement("div",{className:c.default.section,onClick:this.onSounds},i.createElement("div",{"data-a8n":u.default.key("menu-icon-notifications"),className:c.default.control},i.createElement(s.default,{onChange:this.onSounds,checked:this.state.sounds})),i.createElement("div",{"data-a8n":u.default.key("option-sounds"),className:c.default.label},l10n.t(873))),e,void 0,i.createElement("div",{className:(0,a.default)(c.default.section,c.default.sectionWide)},i.createElement("div",{className:c.default.select},i.createElement("select",{"data-a8n":u.default.key("alert-dnd-options"),value:this.state.dnd,onChange:this.onDND},i.createElement("option",{value:v.title},l10n.t(872)),i.createElement("option",{value:v.hour},l10n.t(757)),i.createElement("option",{value:v.day},l10n.t(756)),i.createElement("option",{value:v.week},l10n.t(758))))))}}]),t}();y.displayName="DoNotDisturbSettings",t.default=y},bgefgjjhb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("fifhbjiec")),i=l(n("eahbabfhi")),u=l(n("didfdhbecg")),s=n("caceaafdic");function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={date:void 0,visible:!0},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"updateDateMarkerText",value:function(e){this.setState({date:e})}},{key:"setVisibility",value:function(e){this.setState({visible:e})}},{key:"render",value:function(){var e=void 0;return this.state.date&&this.state.visible&&(e=a.createElement("div",{className:i.default.sticky},a.createElement(s.SystemBubble,null,a.createElement(o.default,{direction:"auto",text:this.state.date})))),a.createElement(u.default,{transitionName:"slide-down-date"},e)}}]),t}();f.displayName="StickyDateMarker",t.default=f},bgfcjjddjf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlocklistCollection=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=i(n("cgcgbfbffj")),o=i(n("chghgadcbg"));function i(e){return e&&e.__esModule?e:{default:e}}var u=t.BlocklistCollection=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.listenTo(e,"add",e.blockContact),e.listenTo(e,"remove",e.unblockContact),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"blockContact",value:function(e){e.contact().isContactBlocked=!0}},{key:"unblockContact",value:function(e){e.contact().isContactBlocked=!1}}]),t}();u.model=o.default,t.default=new u},bgfebdjaae:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.auth,n=e.encFilehash,u=e.hostname,s=e.signal,l=e.type,c=e.onProgress,f=(0,o.default)({auth:t,encFilehash:n,hostname:u,query:{resume:1},type:l}),d={encFilehash:e.encFilehash,type:e.type,url:f};return i.default.log("mmsGetUploadProgress: start",d)(),(0,a.default)(f,{method:"post",signal:s,onProgress:c}).then(function(e){if(e.ok)return e.json();switch(e.status){case 401:throw new r.MMSUnauthorizedError("mmsGetUploadProgress",{url:f});case 404:throw new r.MediaNotFoundError("mmsGetUploadProgress",{url:f});default:throw new r.HttpStatusCodeError(e.status,"mmsGetUploadProgress",{url:f})}}).then(function(e){if(!e.resume)throw new r.HttpInvalidResponseError("mmsGetUploadProgress: missing resume",{url:f});return{directPath:e.direct_path,resume:e.resume,url:e.url}}).then(function(e){return i.default.log("mmsGetUploadProgress: success",d)(),e}).catch(function(e){throw e instanceof r.MediaNotFoundError?i.default.log("mmsGetUploadProgress: expected error",d,e)():i.default.error("mmsGetUploadProgress: error",d,e)(),e})};var r=n("fgeddfbg"),a=u(n("dgjijbgdai")),o=u(n("cfgbadhada")),i=u(n("bdiiahhjbe"));function u(e){return e&&e.__esModule?e:{default:e}}},bgffafigi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateMsgAck=c,t.processOrphanAck=function(e,t){var n=o.default.get(e);if(!n)return Promise.reject(`processOrphanAck: no msg found for id ${e.toString()}`);if(!n.to.isUser())return a.default.error("linkOrphanAck: not implemented for group/broadcast message")(),Promise.resolve();return(0,r.linkOrphanAck)(n).then(function(e){e.forEach(function(e){c(n,t,e)})}).catch(function(e){a.default.assert(!1,"processOrphanAck failed")(e)})};var r=n("chhjhdffbh"),a=l(n("bdiiahhjbe")),o=l(n("biecbbiiee")),i=l(n("eigdejjai")),u=l(n("jccfhaecf")),s=n("dcbdjheea");function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){var r=n.ack,a=n.t,l=n.from,c=n.to,f=e.id,d=f.remote,p=f.id;if(e.updateAck(r,a),o.default.updateLastReceipt(d,a),u.default.isUser(d)){if(i.default.updateInfo(p,l,c,r,d,a),t&&u.default.isBroadcast(t)){var h=t instanceof u.default?t:(0,s.createWid)(t);i.default.updateInfo(p,l,h,r,d,a)}}else u.default.isStatusV3(d)&&i.default.updateInfo(p,l,d,r,c,a)}},bggbjfdbhg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleGroupAction=function(e,t){var n=e.chatId,s=i.default.Chat.get(n);if(!s)return void o.default.error(`model:chat: unknown chat for ${n.toString()}, action ${JSON.stringify(t)}`)();if(!r.default.supportsFeature(r.default.F.MD_BACKEND))return function(e,t,n){var r=t.author,o=Promise.resolve();if(n.action===a.GROUP_ACTIONS.SUBJECT){var i={name:n.subject};o=(0,u.updateLocal)(e.contact.id,i)}return o.then(function(){(0,a.handleGroupAction)(e,r,n)})}(s,e,t)};var r=s(n("bjbdcigbdi")),a=n("cicdfhbegf"),o=s(n("bdiiahhjbe")),i=s(n("bhggeigghg")),u=n("dcjbdhhjge");function s(e){return e&&e.__esModule?e:{default:e}}},bggcifcgdc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=D(n("ceffhbhahb")),o=L(n("ddhijeejag")),i=D(n("ejegihaeh")),u=D(n("djbgihfhif")),s=D(n("dbdfbgehgj")),l=D(n("bbchdeehff")),c=D(n("bjigbaghc")),f=D(n("bjjiehdfge")),d=D(n("djcchigfih")),p=D(n("djbhiedbef")),h=n("dajffajabh"),m=D(h),b=n("ddjgcfjicj"),g=L(n("cajijabhgb")),v=n("cgffhfegce"),y=D(n("fffdgbfji")),_=D(n("eceadcicaf")),E=n("bgjddhffji"),j=D(n("bdiiahhjbe")),O=n("cbcbdjdah"),S=n("cjcghajbag"),w=D(n("caaaaajeei")),P=D(n("bhfgbcfeae")),M=D(n("cacbgbjgef")),C=D(n("bjbedjfe")),T=D(n("gicgagfjj")),A=n("becfabjeeg"),N=D(A),k=D(n("ihfccfgdf")),I=n("bheafeifce"),R=D(n("eedjbihej"));function L(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function D(e){return e&&e.__esModule?e:{default:e}}var x=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));U.call(n);var r=e.product.fetchedFromServer?"SUCCESS":"PENDING",a=null,o="NONE";return e.refreshCarousel&&((a=i.default.get(e.product.catalogWid))&&a.productCollection&&a.fetchedFromServer?o="SUCCESS":(a=null,o="PENDING")),n.state={productCatalog:a,productFetchState:r,productCatalogFetchState:o},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.product,n=e.sessionId,r=t.catalogWid,a=t.id.toString();if(r&&a){var o=this.state,i=o.productFetchState,u=o.productCatalogFetchState;"PENDING"===i&&this._fetchProduct(),"PENDING"===u&&this._fetchProductCatalog(),(0,E.logProductDetailView)((0,I.unproxy)(t),n)}}},{key:"_fetchProduct",value:function(){var e=this,t=this.props,n=t.product,r=t.rejectOnUnmount,a=n.catalogWid,o=n.id.toString();i.default.findProduct(a,o).checkpoint(r()).then(function(){return e.setState({productFetchState:"SUCCESS"})}).catch(g.Unmount,function(){}).catch(b.ServerStatusCodeError,function(t){"not_found"===t.status?e.setState({productFetchState:"NOT_FOUND"}):(e.setState({productFetchState:"ERROR"}),j.default.error("Failed to fetch product from server",t)())}).catch(b.WapDrop,function(t){e.setState({productFetchState:"ERROR"}),j.default.error("Failed to fetch product",t)()})}},{key:"_fetchProductCatalog",value:function(){var e=this,t=this.props,n=t.product,r=t.rejectOnUnmount,a=n.catalogWid;i.default.findCarouselCatalog(a).checkpoint(r()).then(function(t){var n=Array.isArray(t)?t[0]:t;e.setState({productCatalog:n||null,productCatalogFetchState:n?"SUCCESS":"NONE"})}).catch(g.Unmount,function(){}).catch(b.ServerStatusCodeError,function(t){"not_found"===t.status?e.setState({productCatalog:null,productCatalogFetchState:"NOT_FOUND"}):(e.setState({productCatalog:null,productCatalogFetchState:"ERROR"}),j.default.error("Failed to fetch product catalog from server",t)())}).catch(b.WapDrop,function(t){e.setState({productCatalog:null,productCatalogFetchState:"ERROR"}),j.default.error("Failed to fetch product catalog",t)()})}},{key:"componentWillUnmount",value:function(){var e=this.props.product,t=e.catalogWid,n=e.id.toString();if(t&&n){var r=i.default.get(t),a=r&&r.msgProductCollection.get(n);a&&a.fetchedFromServer&&r&&r.msgProductCollection.remove(a)}}},{key:"renderTopBar",value:function(){var e=this.state,t=e.productFetchState,n=e.productCatalogFetchState,r=this.isAvailable(),i=void 0;i="ERROR"===t?o.createElement(R.default,{className:w.default.text,theme:"small",color:"danger"},y.default.t(893)):r?[o.createElement(N.default,{size:14,color:A.colorOptions.highlight,key:"DetailDrawer-loadingBar-spinner"}),o.createElement(R.default,{className:(0,a.default)(w.default.text,w.default.loadingText),theme:"small",key:"DetailDrawer-loadingBar-msg"},y.default.t(911))]:o.createElement(R.default,{className:w.default.text,theme:"small",color:"danger"},y.default.t(898));var u="PENDING"===t||"PENDING"===n||!r;return o.createElement("div",{className:(0,a.default)({[w.default.loadingContainer]:u,[w.default.shiftUp]:!u})},i)}},{key:"renderDrawerMenu",value:function(){return this.isAvailable()?o.createElement(f.default,{onSendProduct:this.onSendProduct,onReportProduct:this.onReportProduct}):null}},{key:"renderDrawerHeader",value:function(){return o.createElement(m.default,{a8n:"drawer-title-profile",title:y.default.t(895),onBack:this.onBack,type:h.DRAWER_HEADER_TYPE.SMALL,menu:this.renderDrawerMenu()})}},{key:"render",value:function(){var e=this.props,t=e.product,n=e.sessionId,r=this.state,a=r.productCatalog,i=r.productFetchState,s=this.isAvailable();return o.createElement(d.default,{onDrop:this.onBack,key:"product-details-drawer"},this.renderDrawerHeader(),o.createElement(p.default,null,this.renderTopBar(),o.createElement(M.default,{product:t,isAvailable:s,fetching:"PENDING"===i,sessionId:n}),o.createElement(P.default,{product:t,onSendChat:this.onSendChat,isAvailable:s,sessionId:n}),a?o.createElement(u.default,{catalog:a,onProductCatalog:this.onProductCatalog,onProductDetail:this.onProductDetail,filterProductId:t.id.toString(),title:y.default.t(891),animation:!1,sessionId:n}):null))}}]),t}();x.CONCERNS={product:["id","catalogWid","productImageCollection","fetchedFromServer","name","reviewStatus"]};var U=function(){var e=this;this.onReportProduct=function(){var t=e.props,n=t.product,r=t.sessionId;l.default.openModal(o.createElement(T.default,{product:n,sessionId:r}))},this.onSendChat=function(){var t=e.props.product,n=t.catalogWid,r=i.default.get(n);if(r){var a=r.productCollection.get(t.id),o=a?(0,I.unproxy)(a):(0,I.unproxy)(t);if(o){if(n.toString()===c.default.me.toString())return e.onSendProduct();var u=o.productImageCollection.head(),f=u&&u.mediaData;f&&s.default.find(n).then(function(e){l.default.openChatFromUnread(e).then(function(t){if(t){var r=(0,I.unproxy)((0,O.createProductInquiry)(o,n,f));e.composeQuotedMsg=r,l.default.focusChatTextInput(e),window.innerWidth<=1024&&l.default.closeDrawerRight()}})})}}},this.onSendProduct=function(){var t=e.props,n=t.chat,r=t.product,a=r.catalogWid,o=r.productImageCollection,u=r.name,s=i.default.get(a);if(s){var c=s.productCollection.get(r.id),f=c?(0,I.unproxy)(c):(0,I.unproxy)(r);if(f){var d=o.head();if(d){var p=void 0;if(d.mediaData&&d.mediaData.mediaBlob&&d.mediaData.mediaBlob._blob&&(p=d.mediaData.mediaBlob._blob),f&&a&&p){var h=(0,v.createFile)([p],`${u}.jpg`,{type:"image/jpeg"});0===f.priceAmount1000&&(f.priceAmount1000=null,f.currency=null),l.default.attachProduct({chat:n,fileOrigin:1,file:h,product:f,catalogWid:a})}}}}},this.onBack=function(){var t=e.props.onBack;if(t)return t()},this.onProductCatalog=function(){var t=e.props,n=t.onProductCatalog,r=t.sessionId,a=t.product;n&&n(a.catalogWid,r)},this.onProductDetail=function(t){var n=e.props,r=n.onProductDetail,a=n.sessionId;if(r)return r(t,a)},this.isRejected=function(){return e.props.product.reviewStatus===S.PRODUCT_REVIEW_STATUS.REJECTED},this.isAvailable=function(){var t=e.state.productFetchState;return"ERROR"!==t&&"NOT_FOUND"!==t&&!e.isRejected()}};x.displayName="ProductDetails",t.default=(0,C.default)((0,_.default)((0,k.default)(x,x.CONCERNS)))},bggdbeiaie:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=s(n("ihfccfgdf")),u=s(n("cjfiaefceb"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),a(t,[{key:"genCircle",value:function(e){var t=100+this.props.stroke;return o.createElement("circle",r({cx:t/2,cy:t/2,r:50,fill:"none",strokeLinecap:"round",strokeWidth:this.props.stroke},e))}},{key:"genDasharray",value:function(e,t,n,r){for(var a="",o=0;o<e;o++)a+=o===e-1?`${t} ${n-e*(r+t)+r} `:`${t} ${r} `;return a}},{key:"render",value:function(){var e=this.props,t=e.statusV3,n=e.stroke,r=e.size,a=100+n,i=`0 0 ${a} ${a}`,s=t.totalCount,l=10,c=50*Math.PI*2;c-10*s<1&&(l=c/s/1.2);var f=(c-l*s)/s,d=c/4-l/2,p=t.contact.isMe?0:t.unreadCount,h=s-p,m=void 0;if(p){var b=d+s*(l+f),g=void 0;1!==s&&(g=this.genDasharray(p,f,c,l)),m=this.genCircle({strokeDashoffset:b,strokeDasharray:g,className:u.default.unread})}var v=void 0;if(h){var y=d+h*(l+f),_=void 0;1!==s&&(_=this.genDasharray(h,f,c,l)),v=this.genCircle({strokeDashoffset:y,strokeDasharray:_,className:u.default.read})}return o.createElement("svg",{className:u.default.ring,width:r,height:r,viewBox:i},m,v)}}]),t}();l.CONCERNS={statusV3:["unreadCount","totalCount","contact"]},l.defaultProps={size:48,stroke:4},l.displayName="StatusV3ImageRing",t.default=(0,i.default)(l,l.CONCERNS)},bggdhciede:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPushname=function(e){return function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,a.genId)();var f=(0,l.default)(t);var d=new a.ActionType(l10n.t(146));var p=i.default.pushname;var h=f.then(function(t){return new a.ActionType(l10n.t(143),l10n.t(158),function(){return e(p,n)})}).catch(u.ServerStatusCodeError,function(e){if(e.status>=400)return new a.ActionType(l10n.t(144))}).catch(function(t){throw s.default.error("models:conn:setPushname dropped")(t),new a.ActionType(l10n.t(144),l10n.t(154),function(){return e(status,n)})});o.default.openToast(r.createElement(a.ActionToast,{id:n,initialAction:d,pendingAction:h}));return f.then(function(e){e._duplicate||(i.default.pushname=t,c.default.setPushname(t))})}(e)};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=n("ccihhdchab"),o=f(n("bbchdeehff")),i=f(n("bjigbaghc")),u=n("ddjgcfjicj"),s=f(n("bdiiahhjbe")),l=f(n("gfhdfcfge")),c=f(n("egjjcjcg"));function f(e){return e&&e.__esModule?e:{default:e}}},bggeiidigb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"registerContainer",value:function(e){this._containerAPI=e,this._listHandlers&&e.onRegisterList()}},{key:"unregisterContainer",value:function(){delete this._containerAPI}},{key:"triggerScroll",value:function(){this._listHandlers&&this._listHandlers.handleScroll()}},{key:"triggerLayout",value:function(e){this._listHandlers&&this._listHandlers.handleLayout(e)}},{key:"registerList",value:function(e){this._listHandlers=e,this._containerAPI&&this._containerAPI.onRegisterList()}},{key:"unregisterList",value:function(){delete this._listHandlers}},{key:"getScrollFromStart",value:function(){if(this._containerAPI)return this._containerAPI.getScrollFromStart()}},{key:"setScrollFromStart",value:function(e){this._containerAPI&&this._containerAPI.setScrollFromStart(e)}}]),e}();t.default=a},bgghfidcfh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=b(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=b(n("bbibiacbfd")),u=b(n("djebbfefcf")),s=b(n("dcaiaeaebb")),l=b(n("cgchdicacf")),c=b(n("cjdaccjhdg")),f=b(n("bbjadhadbg")),d=b(n("didbbgcjac")),p=b(n("bjbedjfe")),h=b(n("bffhabgiib")),m=b(n("ihfccfgdf"));function b(e){return e&&e.__esModule?e:{default:e}}function g(e){var t=e.className,n=e.loopAnimation,r=e.mediaData,a=e.startAnimation,i=e.renderPreview,s=e.downloadMedia,l=e.onClick;if(r.animationDuration>0&&!n)return o.createElement(u.default,{className:t,mediaData:r,startAnimation:a,onClick:l,placeholderRenderer:i,downloadMedia:s});return o.createElement(f.default,{mediaData:r,placeholderRenderer:i,downloadMedia:s},function(e){return o.createElement("img",{className:t,draggable:"false",onClick:l,src:e})})}function v(e){var t=e.className,n=e.loopAnimation,r=e.mediaData,a=e.startAnimation,u=e.renderPreview,s=e.downloadMedia,l=e.onClick;return r.animationDuration>0?o.createElement(c.default,{mediaData:r,render:function(e){return o.createElement(i.default,{className:t,loopAnimation:n,blob:e,renderPreview:u,startAnimation:a,onClick:l})},renderPlaceholder:u,downloadMedia:s}):r.rgbaBuffer?o.createElement(h.default,{className:t,height:r.rgbaHeight,onClick:l,rgbaBuffer:r.rgbaBuffer,width:r.rgbaWidth}):u()}var y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.state={},n._animatedAsNewMsg=n.props.mediaData.animatedAsNewMsg,n._renderPreview=function(){var e=n.props.mediaData.preview,t=e&&e.url(),r=n._getClassName();return t?o.createElement("img",{className:r,draggable:"false",onClick:n.props.onClick,src:t}):o.createElement(d.default,{className:(0,a.default)(l.default.placeholder,r)})};var r=(0,s.default)();return r.isFulfilled()?n.state.supportsWebp=r.value():r.checkpoint(n.props.rejectOnUnmount()).then(function(e){return n.setState({supportsWebp:e})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"_getClassName",value:function(){return(0,a.default)({[l.default.conversation]:"conversation"===this.props.theme,[l.default.quoted]:"quoted"===this.props.theme,[l.default.composeBoxQuoted]:"composeBoxQuoted"===this.props.theme,[l.default.stickerPanel]:"stickerPanel"===this.props.theme,[l.default.clickable]:Boolean(this.props.onClick)})}},{key:"render",value:function(){var e=this.state.supportsWebp;if(null==e)return this._renderPreview();var t=this._getClassName(),n=this.props.mediaData,r=Boolean(this.props.isNewMsg&&!this._animatedAsNewMsg),a=Boolean(this.props.loopAnimation);return e?o.createElement(g,{className:t,mediaData:n,loopAnimation:a,startAnimation:r,renderPreview:this._renderPreview,onClick:this.props.onClick,downloadMedia:this.props.downloadMedia}):o.createElement(v,{className:t,mediaData:n,loopAnimation:a,startAnimation:r,renderPreview:this._renderPreview,onClick:this.props.onClick,downloadMedia:this.props.downloadMedia})}}]),t}();y.CONCERNS={mediaData:["animatedAsNewMsg","animationDuration","mediaBlob","preview","renderableUrl","rgbaBuffer","rgbaHeight","rgbaWidth"]},y.displayName="Sticker",t.default=(0,p.default)((0,m.default)(y,y.CONCERNS))},bggjbiacd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.className,n=e.element,o=e.emoji,u=e.selectable,f=e.selected,d=e.size,p=e.src,h=e.onLoad,m=e.tabIndex,b=s(o);if(!b)return null;var g=void 0,v=void 0;p||(g=l(b,d),v=c(b,d));var y=(0,a.default)(t,v,{selected:f});return"span"===n?r.createElement("span",{className:y,style:g,onLoad:h,tabIndex:m,"data-unicode":e["data-unicode"],"data-variant":e["data-variant"],"data-emoji-index":e["data-emoji-index"]}):r.createElement(i.default,{alt:o,className:y,draggable:!1,onLoad:h,plainText:o,selectable:u,style:g,src:p})};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=u(n("ceffhbhahb")),o=u(n("djegeegcbf")),i=u(n("cajbifjffe"));function u(e){return e&&e.__esModule?e:{default:e}}var s=o.default.getEmojiFromUnicode,l=o.default.getStyle,c=o.default.getClasses},bghjfahjfd:function(e,t){e.exports={cursorAuto:"_2W3Ap"}},bgidiahdfc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(e===l)return;l=e;var t=i.default.skinToneVariations,a=void 0,u=void 0,f=void 0;e===o.EMOJI_TYPE.APPLE?(a=n("jjjdieajj"),u=n("cjjefedaad"),f=n("hddfjdhii")):(a=n("dacbiajefj"),u=n("beiahcfigb"),f=n("cifhabcfgj"));var d=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(a),p=c(c({},u),a),h={};Object.keys(a).forEach(function(e){var n=i.default.variantToUnicode(e,t[0]);a[n]&&(h[e]=e,t.map(function(t){var n=i.default.variantToUnicode(e,t);h[n]=e}))}),i.default.skinToneEmojis=h;var m={},b=Object.keys(d).length,g=b-b%s,v=Math.floor(Math.sqrt(b-g));Object.keys(f).forEach(function(e){var t=o.CATEGORY_ORDERING.indexOf(e),n=f[e];n.forEach(function(e,n){m[e]=t})}),i.default.configure({emojiType:e,emojiMap:p,emojiToUnicode:d,emojiCategory:f,emojiCached:new r.default(b),emojiIdToCategory:m,lastBucketId:g,lastBucketCols:v})};var r=u(n("ifbfjgchd")),a=u(n("dghhefgjhc")),o=n("bbicdddbdj"),i=u(n("djegeegcbf"));function u(e){return e&&e.__esModule?e:{default:e}}var s=a.default.EMOJI.BUCKET_SIZE,l=void 0;function c(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}},bgiegbhhbf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,a=[],o=0;o<t.length;++o){for(var i=r(t[o],2),u=i[0],s=i[1],l=u.match(e,s,n),c=[],f=l.length,d=0,p=l[d];d<f;p=l[++d])c[d]=[p[0],p[1],p[2],p[3],o,p[4]];c.length&&a.push(c)}for(var h=0;h<a.length;h++){var m=t[a[h][0][4]][0].conflictResolvers;if(m)for(var b=0;b<a.length;b++){var g=t[a[b][0][4]][0],v=m.get(g);v&&v(a[h],a[b])}}for(var y=[],_=0;_<a.length;++_)y[_]=a[_].length-1;var E=[],j=0;for(;a.length;){for(var O=0,S=-1;O<a.length;++O)a[O][y[O]][0]>S&&(j=O,S=a[O][y[O]][0]);E.push(a[j][y[j]]),--y[j]<0&&(a.splice(j,1),y.splice(j,1))}return E}},bgjaficfde:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=u(n("bhhdeihhhf")),i=u(n("ihfccfgdf"));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.chat,n=e.disabled,r=this.props.onArchive.bind(null,!t.archive);return a.createElement(o.default,{a8n:"mi-archive",action:r,key:"ArchiveMenuItem",disabled:n},t.archive?l10n.t(1065):l10n.t(182))}}]),t}();s.CONCERNS={chat:["archive"]},s.displayName="ArchiveMenuItem",t.default=(0,i.default)(s,s.CONCERNS)},bgjddhffji:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logBusinessProfileCatalogView=function(e,t){new o.default.CatalogView({catalogViewAction:o.default.CATALOG_VIEW_ACTION.ACTION_CARD_IMPRESSION,catalogEntryPoint:o.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PROFILE,catalogOwnerJid:e,catalogSessionId:t}).commit()},t.logProfileProductClick=function(e,t){new o.default.CatalogView({catalogViewAction:o.default.CATALOG_VIEW_ACTION.ACTION_CARD_ITEM_CLICK,catalogEntryPoint:o.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PROFILE,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logCarouselViewMoreClick=function(e,t){new o.default.CatalogView({catalogViewAction:o.default.CATALOG_VIEW_ACTION.ACTION_CARD_MORE_CLICK,catalogOwnerJid:e,catalogSessionId:t}).commit()},t.logCatalogListView=function(e,t){new o.default.CatalogView({catalogViewAction:o.default.CATALOG_VIEW_ACTION.ACTION_LIST_IMPRESSION,catalogOwnerJid:e,catalogSessionId:t}).commit()},t.logCatalogListDetailClick=function(e,t){new o.default.CatalogView({catalogViewAction:o.default.CATALOG_VIEW_ACTION.ACTION_LIST_ITEM_CLICK,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logDetailImageClick=function(e,t){new o.default.CatalogView({catalogViewAction:o.default.CATALOG_VIEW_ACTION.ACTION_DETAIL_IMAGE_CLICK,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logDetailLinkClick=function(e,t){new o.default.CatalogView({catalogViewAction:o.default.CATALOG_VIEW_ACTION.ACTION_DETAIL_LINK_CLICK,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logFullImageView=function(e,t){new o.default.CatalogView({catalogViewAction:o.default.CATALOG_VIEW_ACTION.ACTION_FULL_IMAGE_IMPRESSION,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logImageNavigate=function(e,t){new o.default.CatalogView({catalogViewAction:o.default.CATALOG_VIEW_ACTION.ACTION_FULL_IMAGE_SWIPE,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logProductDetailView=function(e,t){new o.default.CatalogView({catalogViewAction:o.default.CATALOG_VIEW_ACTION.ACTION_DETAIL_IMPRESSION,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logReportProduct=function(e,t){new o.default.CatalogView({catalogViewAction:o.default.CATALOG_VIEW_ACTION.ACTION_REPORT_PRODUCT,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logReportProductSuccess=function(e,t){new o.default.CatalogView({catalogViewAction:o.default.CATALOG_VIEW_ACTION.ACTION_REPORT_PRODUCT_SUCCESS,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logReportProductFailure=function(e,t){new o.default.CatalogView({catalogViewAction:o.default.CATALOG_VIEW_ACTION.ACTION_REPORT_PRODUCT_FAILURE,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logProductInquiryClick=function(e,t){new o.default.CatalogView({catalogViewAction:o.default.CATALOG_VIEW_ACTION.ACTION_QUOTED_PRODUCT_IN_CONVERSATION_CLICK,catalogEntryPoint:o.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_MESSAGE,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logProductMsgClick=function(e,t){new o.default.CatalogView({catalogViewAction:o.default.CATALOG_VIEW_ACTION.ACTION_PRODUCT_IN_CONVERSATION_CLICK,catalogEntryPoint:o.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_MESSAGE,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logProductDeepLinkOpen=function(e,t,n){new o.default.CatalogView({catalogViewAction:o.default.CATALOG_VIEW_ACTION.ACTION_SHARE_PRODUCT_LINK_CLICK,catalogEntryPoint:o.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_DEEPLINK,productId:e,catalogOwnerJid:t,catalogSessionId:n}).commit()};var r,a=n("bfbggcdbfb"),o=(r=a)&&r.__esModule?r:{default:r}},bhaaifddjf:function(e,t){e.exports={container:"qiFt5",wrapper:"FXIEb",mask:"_1HTIY",bg:"_3MP3K",foreground:"_2ON21",filled:"_3u9U6",empty:"_2KImX",active:"xiH0N"}},bhacbjbjic:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;return e.every(function(e,n){return e===t[n]})}},bhacdidjbh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=i(n("cgeeeeddea")),o=i(n("cahfddcdga"));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"init",value:function(){var e=this;return this._promise||(this._promise=new Promise(function(t){e._resolver=t}).timeout(5e3)),this._promise}},{key:"isConnected",value:function(){return null!=this._port}},{key:"getPort",value:function(){return this._port}},{key:"waitForConnection",value:function(){return(0,o.default)(this._promise,"ConnectionManager Initialization Promise")}},{key:"connectVia",value:function(e){this.isConnected()?(0,a.default)(!1,"Connection already established"):((0,a.default)(this._resolver,"ConnectionManager not initialized"),this._port=e,this._resolver())}}]),e}();t.default=new u},bhagdhdadd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=3988292384,a=void 0;function o(e,t){var n=t;for(a||(a=function(){for(var e=new Uint32Array(256),t=0,n=0,a=0;t<256;n=++t){for(a=0;a<8;++a)n=1&n?n>>>1^r:n>>>1;e[t]=n}return e}());e.size();)n=a[255&(n^e.readUint8())]^n>>>8;return~n>>>0}t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4294967295;return e.peek(o,t)}},bhaigiibeh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=L(n("ceffhbhahb")),o=R(n("ddhijeejag")),i=L(n("cdcfgefbba")),u=L(n("bbchdeehff")),s=L(n("baagejbchg")),l=L(n("djcchigfih")),c=L(n("djbhiedbef")),f=n("dajffajabh"),d=L(f),p=R(n("cajijabhgb")),h=n("ffchhcfdj"),m=L(h),b=n("ejbdjaifi"),g=L(n("dgjacfgggf")),v=L(n("bdiiahhjbe")),y=L(n("bbcjhfahhb")),_=L(n("jgcieiibj")),E=n("dcecgegjfc"),j=R(E),O=n("bfbggcdbfb"),S=L(n("dgfecega")),w=L(n("beeieigghj")),P=L(n("bjbedjfe")),M=L(n("cdjhjdcbeg")),C=L(n("ceddibdhdb")),T=L(n("becfabjeeg")),A=L(n("bfdcadbbif")),N=L(n("edbaidcaf")),k=L(n("didfdhbecg")),I=L(n("ccfdaijebj"));function R(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function L(e){return e&&e.__esModule?e:{default:e}}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function U(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var G="CAPTURE_MEDIA",F={ANIMATING:"ANIMATING",LOADING:"LOADING",RECORDING:"RECORDING",SENDING:"SENDING"},B=function(e){function t(){var e,n,r;D(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=x(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={state:F.ANIMATING,stream:void 0,img:void 0,caption:void 0,videoSize:void 0},r.videoRef=null,r.startTimer=new C.default(function(e){r.loadNewStream(e)}),r.loadNewStream=function(e){e?(r.setState({state:F.LOADING,stream:e}),(0,E.isSrcObjectInVideoElement)()||(e?(window.URL.revokeObjectURL(r.url),r.url=window.URL.createObjectURL(e)):(window.URL.revokeObjectURL(r.url),r.url=void 0))):r.state.state===F.ANIMATING&&r.setState({state:F.LOADING})},r.stopStreamTimer=new C.default(function(e){e&&j.stop(e),(0,E.isSrcObjectInVideoElement)()||(r.url=window.URL.revokeObjectURL(r.url))}),r.onCapture=function(){if(r.videoRef){var e=r.videoRef.underlyingVideo();if(e){var t=r.props.chat,n=document.createElement("canvas");n.height=e.videoHeight,n.width=e.videoWidth;var a=n.getContext("2d");if(a){a.translate(n.width,0),a.scale(-1,1),a.drawImage(e,0,0,e.videoWidth,e.videoHeight);var o=r.props.onCaptured;if(o)g.default.canvasToBlob(n).then(function(e){o(e)});else{r.stopStreamTimer.onOrBefore(500,r.state.stream),r.mediaLogger=new y.default,r.mediaLogger.logAdd(G,"image",O.MEDIA_PICKER_ORIGIN_TYPE.MENU_CAMERA_CAPTURE),r.mediaLogger.chatRecipients=t&&t.groupMetadata?t.groupMetadata.participants.length:1;var i=n.toDataURL("image/jpeg");r.setState({state:F.SENDING,stream:void 0,img:i})}}else v.default.warn("CaptureDrawer:onCapture can not get 2d context")()}}},r.onVideoLoaded=function(e){r.setState({state:F.RECORDING,videoSize:{width:e.videoWidth,height:e.videoHeight}})},r.onRetake=function(){r.setState({state:F.LOADING,caption:void 0});var e=j.start("camera");Promise.race([e,r.props.rejectOnUnmount()]).checkpoint(r.props.rejectOnUnmount()).then(function(e){e&&((0,E.isSrcObjectInVideoElement)()||(r.url=window.URL.createObjectURL(e)),r.setState({stream:e}))}).catch(p.Unmount,function(){e.then(function(e){return j.stop(e)}).catch(function(){})}).catch(p.GUM.NotAllowedError,function(){r.props.onBack(),u.default.openModal(o.createElement(m.default,{messaging:h.Messaging.CAMERA_FAIL,type:m.default.TYPE.GUIDE_UNBLOCK}))}).catch(p.GUM.GUMError,function(){r.props.onBack(),u.default.openModal(o.createElement(m.default,{messaging:h.Messaging.CAMERA_MISSING,type:m.default.TYPE.GUIDE_NONE}))})},r.onSend=function(){var e=r.state,t=e.img,n=e.caption,a=r.props.onSend;if(a)if(t){var o=t,i=r.refCaptionInput&&r.refCaptionInput.refInput,u=[];if(n&&i){var s=i.serialize(n),l=[s[0].trim(),s[1]],c=l[0],f=l[1];c.length&&(n=c,u=f.mentionedJidList||[])}a({getImg:w.default.createFromBase64Jpeg(N.default.parseDataURL(o).data),caption:n,mentionedJidList:u}),r.mediaLogger.logSend()}else v.default.assert(t,"capture-drawer-no-img")();else v.default.assert(a,"capture-drawer-no-onSend")()},r.onCaptionChange=function(e){r.setState({caption:e})},r.setRefCaptionInput=function(e){r.refCaptionInput=e},x(r,n)}return U(t,o.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.startTimer.onOrBefore(300,this.props.stream)}},{key:"componentWillUnmount",value:function(){this.startTimer.cancel(),this.url&&window.URL.revokeObjectURL(this.url),this.state.stream&&j.stop(this.state.stream),this.mediaLogger&&this.mediaLogger.logCancel()}},{key:"render",value:function(){var e=void 0,t=void 0,n=void 0,r=void 0,u=void 0;switch(this.state.state){case F.ANIMATING:case F.LOADING:if(u=o.createElement(T.default,{stroke:4,size:50}),this.state.state===F.ANIMATING)break;case F.RECORDING:var p=(0,a.default)(i.default.video,{[i.default.videoInactive]:this.state.stream&&this.state.state===F.LOADING}),h=this.state.stream?o.createElement(I.default,{autoPlay:!0,ref:(0,b.GetRef)("videoRef",this),onPlay:this.onVideoLoaded,src:this.url?this.url:void 0,srcObject:this.url?void 0:this.state.stream}):null;n=this.state.stream?o.createElement("div",{key:"webcam"},o.createElement(S.default,{type:this.props.layoutType,size:this.state.videoSize},o.createElement("div",{className:p,"data-animage-capture-webcam":!0},h))):null,e=this.state.state===F.RECORDING?o.createElement("div",{className:i.default.btn,key:"btn-capture"},o.createElement(M.default,{large:!0,onClick:this.onCapture},o.createElement(A.default,{name:"camera-light"}))):null;break;case F.SENDING:n=o.createElement(S.default,{type:this.props.layoutType,size:this.state.videoSize},o.createElement("img",{className:i.default.image,"data-animate-capture-snapshot":!0,src:this.state.img})),e=o.createElement("div",{className:(0,a.default)(i.default.btn,i.default.btnSend),key:"btn-send"},o.createElement(M.default,{large:!0,onClick:this.onSend},o.createElement(A.default,{name:"send-light",directional:!0}))),t=o.createElement("div",{className:i.default.retakeBtn,onClick:this.onRetake},o.createElement("div",{className:i.default.retakeIcon},o.createElement(A.default,{name:"return-light"})),l10n.t(949)),r=this.props.chat?o.createElement(_.default,{ref:this.setRefCaptionInput,chat:this.props.chat,maxLength:s.default.MAX_CAPTION_LENGTH,multiline:!0,onEnter:this.onSend,onChange:this.onCaptionChange,placeholder:l10n.t(159),showRemaining:!0,spellCheck:!0,supportsEmoji:!0,value:this.state.caption}):null;break;default:v.default.log("captureDrawer:render Unhandled video capture state "+this.state.state)()}var m=this.props.caption?o.createElement(k.default,{transitionName:"media-caption",className:i.default.caption},r):null;return o.createElement(l.default,{key:"attach-capture-modal",theme:"capture"},o.createElement(d.default,{title:l10n.t(1057),type:f.DRAWER_HEADER_TYPE.OFFSET,onCancel:this.props.onBack},t),o.createElement(c.default,{overflow:"hidden"},o.createElement("div",{className:i.default.container},u,o.createElement("div",{className:i.default.body},o.createElement(k.default,{transitionName:"capture",className:i.default.videoContainer},n))),o.createElement("div",{className:i.default.footer},m,o.createElement(k.default,{transitionName:"pop_delay"},e))))}}]),t}();B.defaultProps={caption:!1},B.displayName="CaptureDrawer";var $=(0,P.default)(B),V=function(e){function t(){var e,n,r;D(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=x(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.loadNewStream=function(e){r.getComponent().loadNewStream(e)},x(r,n)}return U(t,$),t}();t.default=V},bhbihjaicd:function(e,t,n){"use strict";var r=n("fdhajffgc"),a=function e(t){var n=t;if(!e.isRecordingSupported())throw"Recording is not supported in this browser";this.audioContext=new window.AudioContext,this.config=n=n||{},this.config.command="encode-init",this.config.bufferLength=n.bufferLength||4096,this.config.monitorGain=n.monitorGain||0,this.config.numberOfChannels=n.numberOfChannels||1,this.config.originalSampleRate=this.audioContext.sampleRate,this.config.encoderSampleRate=n.encoderSampleRate||48e3,this.config.streamPages=n.streamPages||!1,this.config.leaveStreamOpen=n.leaveStreamOpen||!1,this.config.maxBuffersPerPage=n.maxBuffersPerPage||40,this.config.encoderApplication=n.encoderApplication||2049,this.config.encoderFrameSize=n.encoderFrameSize||20,this.config.streamOptions=n.streamOptions||{optional:[],mandatory:{googEchoCancellation:!1,googAutoGainControl:!1,googNoiseSuppression:!1,googHighpassFilter:!1}},this.storePage=this._storePage.bind(this),this.streamPage=this._streamPage.bind(this),this.state="inactive",this.eventTarget=document.createDocumentFragment(),this.createAudioNodes()};a.isRecordingSupported=function(){return window.AudioContext&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia},a.prototype.addEventListener=function(e,t,n){this.eventTarget.addEventListener(e,t,n)},a.prototype.clearStream=function(){this.stream&&(this.stream.getTracks().forEach(function(e){e.stop()}),delete this.stream)},a.prototype.createAudioNodes=function(){var e=this;this.scriptProcessorNode=this.audioContext.createScriptProcessor(this.config.bufferLength,this.config.numberOfChannels,this.config.numberOfChannels),this.scriptProcessorNode.onaudioprocess=function(t){e.encodeBuffers(t.inputBuffer)},this.monitorNode=this.audioContext.createGain(),this.setMonitorGain(this.config.monitorGain),this.config.sampleRate<this.audioContext.sampleRate&&this.createButterworthFilter()},a.prototype.createButterworthFilter=function(){this.filterNode=this.audioContext.createBiquadFilter(),this.filterNode2=this.audioContext.createBiquadFilter(),this.filterNode3=this.audioContext.createBiquadFilter(),this.filterNode.type=this.filterNode2.type=this.filterNode3.type="lowpass";var e=this.config.sampleRate/2;this.filterNode.frequency.value=this.filterNode2.frequency.value=this.filterNode3.frequency.value=e-e/3.5355,this.filterNode.Q.value=.51764,this.filterNode2.Q.value=.70711,this.filterNode3.Q.value=1.93184,this.filterNode.connect(this.filterNode2),this.filterNode2.connect(this.filterNode3),this.filterNode3.connect(this.scriptProcessorNode)},a.prototype.encodeBuffers=function(e){if("recording"===this.state){for(var t=[],n=0;n<e.numberOfChannels;n++)t[n]=e.getChannelData(n);this.encoder.postMessage({command:"encode",buffers:t}),this.duration+=e.duration,this.eventTarget.dispatchEvent(new CustomEvent("duration",{detail:this.duration}))}},a.prototype.initStream=function(e){if(this.stream)this.eventTarget.dispatchEvent(new Event("streamReady"));else{if(e)return this.stream=e,this.sourceNode=this.audioContext.createMediaStreamSource(e),this.sourceNode.connect(this.filterNode||this.scriptProcessorNode),this.sourceNode.connect(this.monitorNode),void this.eventTarget.dispatchEvent(new Event("streamReady"));var t=this;navigator.mediaDevices&&navigator.mediaDevices.getUserMedia({audio:this.config.streamOptions}).then(function(e){t.stream=e,t.sourceNode=t.audioContext.createMediaStreamSource(e),t.sourceNode.connect(t.filterNode||t.scriptProcessorNode),t.sourceNode.connect(t.monitorNode),t.eventTarget.dispatchEvent(new Event("streamReady"))}).catch(function(e){t.eventTarget.dispatchEvent(new ErrorEvent("streamError",{error:e}))})}},a.prototype.pause=function(){"recording"===this.state&&(this.state="paused",this.eventTarget.dispatchEvent(new Event("pause")))},a.prototype.removeEventListener=function(e,t,n){this.eventTarget.removeEventListener(e,t,n)},a.prototype.resume=function(){"paused"===this.state&&(this.state="recording",this.eventTarget.dispatchEvent(new Event("resume")))},a.prototype.setMonitorGain=function(e){this.monitorNode.gain.value=e},a.prototype.start=function(){"inactive"===this.state&&this.stream&&(this.encoder=new r,this.config.streamPages?this.encoder.addEventListener("message",this.streamPage):(this.recordedPages=[],this.totalLength=0,this.encoder.addEventListener("message",this.storePage)),this.encodeBuffers=function(){delete this.encodeBuffers},this.duration=0,this.state="recording",this.monitorNode.connect(this.audioContext.destination),this.scriptProcessorNode.connect(this.audioContext.destination),this.eventTarget.dispatchEvent(new Event("start")),this.eventTarget.dispatchEvent(new CustomEvent("duration",{detail:this.duration})),this.encoder.postMessage(this.config))},a.prototype.stop=function(){"inactive"!==this.state&&(this.state="inactive",this.audioContext.close&&this.audioContext.close(),this.monitorNode.disconnect(),this.scriptProcessorNode.disconnect(),this.config.leaveStreamOpen||this.clearStream(),this.encoder.postMessage({command:"encode-done"}))},a.prototype._storePage=function(e){var t=e.data;if(this.recordedPages.push(t),this.totalLength+=t.length,4&t[5]){this.encoder.removeEventListener("message",this.storePage);for(var n=new Uint8Array(this.totalLength),r=0,a=0;a<this.recordedPages.length;a++)n.set(this.recordedPages[a],r),r+=this.recordedPages[a].length;this.eventTarget.dispatchEvent(new CustomEvent("dataAvailable",{detail:new Blob([n],{type:"audio/ogg; codecs=opus"})})),this.recordedPages=[],this.eventTarget.dispatchEvent(new Event("stop"))}},a.prototype._streamPage=function(e){var t=e.data;this.eventTarget.dispatchEvent(new CustomEvent("dataAvailable",{detail:new Blob([t],{type:"audio/ogg; codecs=opus"})})),4&t[5]&&(this.encoder.removeEventListener("message",this.streamPage),this.eventTarget.dispatchEvent(new Event("stop")))},e.exports=a},bhcacchcde:function(e,t){e.exports={section:"_2eMOq",control:"_3__0E",label:"DiGkU"}},bhcdajjdgi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=v(n("beijddaacj")),i=v(n("bbchdeehff")),u=v(n("dhigahgdjb")),s=n("cicgeajfge"),l=n("bbhhbdicgc"),c=v(l),f=v(n("dgjddffcfg")),d=n("dhfbfehaef"),p=v(d),h=v(n("bdebgadbea")),m=v(n("cbgeijgefb")),b=n("bfjajhbdf"),g=v(b);function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _={SEC_CONTACTS:"SEC_CONTACTS"},E={ROW_CONTACTS:"ROW_CONTACTS"},j=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return n=r=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.setList=function(e){r.list=e},r.state={filteredData:r.calculateFilteredData(r.props.searchText)},r.renderItem=function(e){switch(e.type){case _.SEC_CONTACTS:return a.createElement(m.default,{header:l10n.t(1164)});case E.ROW_CONTACTS:var t=e.data,n=r.props,i=n.isDisabled,u=n.customSecondaryText;return a.createElement(o.default,{key:t.id.toString(),customSecondaryText:u&&u(t.id),chat:t,active:r.props.activeChat,selections:r.props.selectedChats,disabled:i&&i(t.id),checked:!!r.props.isSelected&&r.props.isSelected(t.id),onSelect:r.handleSelect,allowBlockedContacts:r.props.allowBlockedContacts});default:throw new l.UnknownDataError(e)}},r.handleSelect=function(e,t,n){var o=r.props,u=o.selectedChats,s=o.maxContacts,l=o.activeChat,c=o.onSelectionChanged;t&&"number"==typeof s&&u.getSelected().length>=s?i.default.openToast(a.createElement(g.default,{id:(0,b.genId)(),msg:l10n.t(754,{count:s,_plural:s})})):(u.setVal(e,t,n),l.setVal(e,n),c&&c(e,t))},r.onFocusList=function(e){e.preventDefault(),e.stopPropagation(),(0,d.shouldIndicateFocus)(),r.props.activeChat.setFirst(!0),r.list&&r.list.scrollIntoViewIfNeeded(r.props.activeChat.index)},r.onNext=function(e){e.preventDefault(),e.stopPropagation(),r.props.activeChat.setNext(!0),r.list&&r.list.scrollIntoViewIfNeeded(r.props.activeChat.index)},r.onPrev=function(e){e.stopPropagation(),e.preventDefault(),r.props.activeChat.prev()>-1?(r.props.activeChat.setPrev(!0),r.list&&r.list.scrollIntoViewIfNeeded(r.props.activeChat.index)):r.props.onLeaveList&&(r.props.onLeaveList(e),r.clearActive())},y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;this.props.activeChat.init(this.flattenData(this.state.filteredData)),this.props.getInitialItems&&this.props.getInitialItems().forEach(function(t){return e.props.selectedChats.setVal(t,!0)})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(e.searchText!==this.props.searchText){var t=this.calculateFilteredData(e.searchText);this.setState({filteredData:t}),this.props.activeChat.init(this.flattenData(t))}}},{key:"calculateFilteredData",value:function(e){return{contacts:this.calculateFilteredContacts(e)}}},{key:"calculateFilteredContacts",value:function(e){var t=e,n=this.props,r=n.filter,a=n.useAllContacts?u.default.toArray():u.default.getFilteredContacts();if(r&&(a=a.filter(function(e){return r(e)})),!t)return a;t=l10n.accentFold(t);var o=f.default.numberSearch(t);return a.filter(function(e){return e.searchMatch(t,o)})}},{key:"flattenData",value:function(e){return e.contacts}},{key:"isEmpty",value:function(){return!this.state.filteredData.contacts.length}},{key:"getData",value:function(){var e=[],t=this.state.filteredData.contacts;return t.length&&(e.push({itemKey:_.SEC_CONTACTS,type:_.SEC_CONTACTS}),e.push.apply(e,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t.map(function(e){return{itemKey:e.id.toString(),type:E.ROW_CONTACTS,data:e}})))),e}},{key:"getList",value:function(){return this.isEmpty()?null:a.createElement(c.default,{ref:this.setList,flatListController:this.props.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:this.getData(),renderItem:this.renderItem})}},{key:"toggleFirst",value:function(e){if(this.state.filteredData.contacts.length){var t=this.state.filteredData.contacts[0],n=!this.props.selectedChats.isSelected(t);this.handleSelect(t,n,e)}}},{key:"clearActive",value:function(){this.props.activeChat.unset()}},{key:"render",value:function(){var e=this.getList();null==e&&(e=this.props.searchText?a.createElement(s.Search,null):a.createElement(s.ListChats,null));var t={down:this.onNext,up:this.onPrev};return a.createElement(p.default,{handlers:t,className:h.default.column,onFocus:this.onFocusList},e)}}]),t}();j.displayName="ContactsSelectModal",t.default=j},bhcdbgbbad:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=y(n("dbdfbgehgj")),i=y(n("bbchdeehff")),u=y(n("bjigbaghc")),s=y(n("fifhbjiec")),l=n("jegbhjbde"),c=y(n("chjdbchg")),f=y(n("cffhcdjiff")),d=y(n("jheedhagg")),p=y(n("djhbegbdaf")),h=y(n("bdiiahhjbe")),m=y(n("ihfccfgdf")),b=y(n("bfdcadbbif")),g=y(n("jccfhaecf")),v=y(n("djbfhebjhe"));function y(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"stopEvent",value:function(e){e.stopPropagation(),e.preventDefault()}},{key:"openInfoDrawer",value:function(){var e=this;return function(t){e.stopEvent(t),i.default.chatInfoDrawer(e.props.msg.chat)}}},{key:"openGroupInviteLinkDrawer",value:function(){var e=this;return function(t){e.stopEvent(t);var n=e.props.msg.chat;i.default.openDrawerRight(a.createElement(c.default,{chat:n,groupMetadata:n.groupMetadata,onBack:function(){return i.default.closeDrawerRight()}}),"slide-left",e.props.uim)}}},{key:"openExpandedGroupDesc",value:function(){var e=this;return function(t){e.stopEvent(t);var n=e.props.msg.chat;i.default.chatInfoDrawer(n,!0)}}},{key:"openChat",value:function(e){var t=this;return function(n){t.stopEvent(n),o.default.find(e).then(function(e){i.default.openChatFromUnread(e).then(function(t){t&&i.default.focusChatTextInput(e)})})}}},{key:"getFormattedText",value:function(e){return a.createElement(s.default,{direction:"auto",text:e})}},{key:"isMe",value:function(e){return g.default.equals(e,u.default.me)}},{key:"_renderGroupNotificationL10n",value:function(e,t,n,r){var o=t?(0,l.getFormattedName)(t,!this.props.clickable):null;switch(e){case"add":return this.isMe(t)?a.createElement(p.default,{id:1227}):a.createElement(p.default,{id:1226,params:{name:o}});case"remove":return this.isMe(t)?a.createElement(p.default,{id:1239}):a.createElement(p.default,{id:1238,params:{name:o}});case"leave":return this.isMe(t)?a.createElement(p.default,{id:1235}):a.createElement(p.default,{id:1234,params:{name:o}});case"picture":return"remove"===r?this.isMe(t)?a.createElement(p.default,{id:1339}):a.createElement(p.default,{id:1338,params:{name:o}}):this.isMe(t)?a.createElement(p.default,{id:1337}):a.createElement(p.default,{id:1336,params:{name:o}});case"subject":var i=this.getFormattedText(r);return this.isMe(t)?a.createElement(p.default,{id:1251,params:{subject:i}}):a.createElement(p.default,{id:1250,params:{subject:i,name:o}});case"modify":if(this.isMe(t)){var u=(0,v.default)(r);return a.createElement(p.default,{id:1229,params:{new_number:u,name:o}})}return a.createElement(p.default,{id:1228,params:{name:o}});default:h.default.log("wa:groupNotification:unknown message subtype: "+e)()}}},{key:"_renderGp2L10n",value:function(e,t,n,r,o){var i=t?(0,l.getFormattedName)(t,!this.props.clickable):null,u=o?o[0]:void 0,s=u?(0,l.getFormattedName)(u,!this.props.clickable):null,c=(0,l.getFormattedNames)(o,!this.props.clickable);switch(e){case"add":return t?this.isMe(t)?a.createElement(p.default,{id:1244,params:{participants:c}}):this.isMe(u)?a.createElement(p.default,{id:1241,params:{name:i}}):a.createElement(p.default,{id:1240,params:{participants:c,name:i}}):this.isMe(u)?a.createElement(p.default,{id:1227}):a.createElement(p.default,{id:1226,params:{name:s}});case"remove":return t?g.default.equals(t,u)?a.createElement(p.default,{id:1239}):this.isMe(t)?a.createElement(p.default,{id:1245,params:{participants:c}}):this.isMe(u)?a.createElement(p.default,{id:1243,params:{name:i}}):a.createElement(p.default,{id:1242,params:{participants:c,name:i}}):this.isMe(u)?a.createElement(p.default,{id:1239}):a.createElement(p.default,{id:1238,params:{name:s}});case"leave":return this.isMe(u)?a.createElement(p.default,{id:1235}):a.createElement(p.default,{id:1234,params:{name:c}});case"picture":return"remove"===r?this.isMe(t)?a.createElement(p.default,{id:1339}):a.createElement(p.default,{id:1338,params:{name:i}}):this.isMe(t)?a.createElement(p.default,{id:1337}):a.createElement(p.default,{id:1336,params:{name:i}});case"subject":var f=this.getFormattedText(r);return this.isMe(t)?a.createElement(p.default,{id:1251,params:{subject:f}}):a.createElement(p.default,{id:1250,params:{name:i,subject:f}});case"modify":var d=(0,v.default)(t),m=(0,v.default)(u);return d===n?a.createElement(p.default,{id:1229,params:{name:n,new_number:m}}):a.createElement(p.default,{id:1228,params:{name:n}});case"create":return this.isMe(t)?r?a.createElement(p.default,{id:1206,params:{subject:this.getFormattedText(r)}}):a.createElement(p.default,{id:1207}):r?a.createElement(p.default,{id:1204,params:{subject:this.getFormattedText(r),name:i}}):a.createElement(p.default,{id:1205,params:{name:i}});case"delete":return this.isMe(t)?a.createElement(p.default,{id:1216}):a.createElement(p.default,{id:1215,params:{name:i}});case"promote":var b=o.length;return 1===b&&this.isMe(u)?a.createElement(p.default,{id:1237}):a.createElement(p.default,{id:1236,params:{count:b,participants:c},plural:b});case"demote":var y=o.length;return 1===y&&this.isMe(u)?a.createElement(p.default,{id:1231}):a.createElement(p.default,{id:1230,params:{count:y,participants:c},plural:y});case"invite":return this.isMe(u)?a.createElement(p.default,{id:1233}):a.createElement(p.default,{id:1232,params:{name:s}});case"revoke_invite":return this.isMe(t)?a.createElement(p.default,{id:1221}):a.createElement(p.default,{id:1220,params:{name:i}});case"description":return this.isMe(t)?a.createElement(p.default,{id:1211}):a.createElement(p.default,{id:1209,params:{name:i}});case"announce":return"on"===r?this.isMe(t)?a.createElement(p.default,{id:1203}):a.createElement(p.default,{id:1202,params:{name:i}}):this.isMe(t)?a.createElement(p.default,{id:1201}):a.createElement(p.default,{id:1200,params:{name:i}});case"restrict":return"on"===r?this.isMe(t)?a.createElement(p.default,{id:1249}):a.createElement(p.default,{id:1248,params:{name:i}}):this.isMe(t)?a.createElement(p.default,{id:1247}):a.createElement(p.default,{id:1246,params:{name:i}});case"no_frequently_forwarded":return"on"===r?this.isMe(t)?a.createElement(p.default,{id:1225}):a.createElement(p.default,{id:1224,params:{name:i}}):this.isMe(t)?a.createElement(p.default,{id:1223}):a.createElement(p.default,{id:1222,params:{name:i}});case"announce_msg_bounce":return a.createElement(p.default,{id:1199});case"v4_add_invite_sent":return a.createElement(p.default,{id:1094,params:{participants:c,count:o.length}});case"v4_add_invite_join":return a.createElement(p.default,{id:1093,params:{participants:c,count:o.length}});default:h.default.log("wa:groupNotification:unknown message subtype: "+e)()}}},{key:"_renderIcon",value:function(e,t){if("gp2"===e&&"announce"===t)return a.createElement("div",{className:f.default.icon},a.createElement(b.default,{name:"megaphone"}))}},{key:"_getClickHandler",value:function(e,t){if(this.props.clickable)switch(t){case"picture":case"subject":return this.openInfoDrawer();case"revoke_invite":return this.openGroupInviteLinkDrawer();case"description":return this.openExpandedGroupDesc()}}},{key:"render",value:function(){var e=this.props.msg,t=e.type,n=e.subtype,r=e.author,o=e.body,i=e.recipients,u=e.displayName();if("group_notification"!==t&&"gp2"!==t)return null;var s="gp2"===t?this._renderGp2L10n(n,r,u,o,i):this._renderGroupNotificationL10n(n,r,u,o);if(!s)return null;var l=this._getClickHandler(t,n);return l&&(s=a.cloneElement(s,{onClick:l})),a.createElement("span",{role:l?"button":void 0,className:f.default.notification},this._renderIcon(t,n),s)}}]),t}();_.CONCERNS={msg:["type","subtype","author","body","recipients","chat"]},_.displayName="GroupNotification",t.default=(0,d.default)((0,m.default)(_,_.CONCERNS))},bhcdgaheib:function(e,t){e.exports={ellipsify:"_19RFN",inlineblock:"_1ovWX",dirMismatch:"_1wsdb",clickable:"_18GNg"}},bhcegecbha:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=d(n("bbchdeehff")),i=d(n("biddiiafgd")),u=d(n("dfijbgdefb")),s=d(n("fffdgbfji")),l=d(n("bdiiahhjbe")),c=d(n("cjieghfgda")),f=d(n("cfdjcihjjd"));function d(e){return e&&e.__esModule?e:{default:e}}var p=n("bfigfgcaaj"),h=n("bbhejgbajf"),m=n("dgdjiicfdg"),b=n("baagejbchg"),g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"_getDownloadData",value:function(e){var t=this,n=Array.isArray(e)?e:[e];return Promise.map(n,function(e){if(e.isGif)return t._mp4ToGif(e);if(e.type===b.MSG_TYPE.VCARD)return t._getVcardDownloadData(e);if(e.mediaData.mediaBlob)return{name:u.default.getDefaultName(e),url:e.mediaData.renderableUrl,blob:e.mediaData.mediaBlob.forceToBlob()};var n=e.mediaData.filehash,r=c.default.get(n);return r?{name:u.default.getDefaultName(e),url:c.default.getOrCreateURL(n),blob:r}:Promise.reject("Unable to download because blob cannot be found")}).then(function(e){return e.length>1?h(e).then(function(e){var t={t:Math.round(Date.now()/1e3),type:"unknown",mimetype:"application/zip"};return{blob:e,name:u.default.getDefaultName(t)}}):e[0]}).catch(function(e){l.default.error("Failed to get download data!")(e)})}},{key:"_mp4ToGif",value:function(e){return new Promise(function(e,t){throw new Error("unimplemented")}).then(function(t,n){return{url:t,blob:n,name:`WhatsApp-Image-${m.unix(e.t).format("YYYYMMDD")}.gif`}}).catch(function(){return{url:e.mediaData.renderableUrl,blob:e.mediaData.mediaBlob.forceToBlob(),name:u.default.getDefaultName(e)}})}},{key:"_getVcardDownloadData",value:function(e){return{name:u.default.getDefaultName(e),blob:new Blob([e.body],{type:"text/vcard"})}}},{key:"initDownload",value:function(e){var t=e;if(!window.Modernizr.adownload){var n=s.default.t(1425,{chrome_homepage:b.BROWSER_LINK.CHROME,firefox_homepage:b.BROWSER_LINK.FIREFOX,opera_homepage:b.BROWSER_LINK.OPERA});return o.default.openModal(a.createElement(i.default,{onOK:function(){return o.default.closeModal()},okText:s.default.t(1287)},n)),void l.default.assert(!1,"safari, adownload is false in download mgr")()}p.startDownloading();var r=document.createElement("a");this._getDownloadData(t).then(function(e){l.default.assert(e.url||e.blob,"download-url-creation-error",Array.isArray(t)?"download a zip file":`download ${t.id.toString()} type ${t.type} with state ${t.mediaData&&t.mediaData.mediaStage}`)(),r.href=e.url||window.URL.createObjectURL(e.blob),r.download=e.name,r.style.display="none",Array.isArray(t)&&1===t.length&&(t=t[0]),l.default.assert(r.href,"no-download-url",Array.isArray(t)?"download a zip file":`download ${t.id.toString()} type ${t.type} with state ${t.mediaData&&t.mediaData.mediaStage}`)(),document.body&&document.body.appendChild(r),r.click(),document.body&&document.body.removeChild(r),e.url||(0,f.default)(100).then(function(){window.URL.revokeObjectURL(r.href)})}).catch(function(e){l.default.error(`Download failed, error: ${String(e)}`)()})}}]),e}();t.default=new g},bhdgigicfd:function(e,t){e.exports={container:"_3b8_6",fullscreen:"_2V_gW",videoFloaterMedia:"Rxe5u",videoTag:"_2vGFe",mediaStageWrapper:"_2-Jil",preview:"JZ2FH",errorLink:"_2MfdM",errorLinkChevron:"ooG8r"}},bhedcifgbg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=u(n("bcbahjefec")),i=u(n("ccdhdfebfj"));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"componentDidMount",value:function(){this.push(a.createElement(i.default,{chat:this.props.chat,onConfirm:this.props.onConfirm}))}}]),t}();t.default=s},bheebijggd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var a=n("dghhefgjhc").EMOJI,o=a.CATEGORIES,i=a.ORDERED_CATEGORY_IDS,u=r({RECENT:"RECENT"},o,{SEARCH_RESULT:"SEARCH_RESULT"});t.default=u;var s={[u.RECENT]:u.RECENT,[u.SMILEYS_PEOPLE]:u.SMILEYS_PEOPLE,[u.ANIMALS_NATURE]:u.ANIMALS_NATURE,[u.FOOD_DRINK]:u.FOOD_DRINK,[u.ACTIVITY]:u.ACTIVITY,[u.TRAVEL_PLACES]:u.TRAVEL_PLACES,[u.OBJECTS]:u.OBJECTS,[u.SYMBOLS]:u.SYMBOLS,[u.FLAGS]:u.FLAGS};t.ORDERED_TAB_SECTION_IDS=[s.RECENT].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(i))},bheehfahbe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=F(n("iidhbgeed")),a=F(n("bebajedcaf")),o=F(n("bhdddbafig")),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=F(n("ceffhbhahb")),s=G(n("ddhijeejag")),l=F(n("effbcehec")),c=n("dfdebdgdei"),f=F(n("bbchdeehff")),d=F(n("biddiiafgd")),p=F(n("dhigahgdjb")),h=F(n("chdfbgffgh")),m=F(n("djcchigfih")),b=F(n("djbhiedbef")),g=n("dajffajabh"),v=F(g),y=n("cicgeajfge"),_=G(n("cajijabhgb")),E=F(n("cicjcfabii")),j=F(n("bggeiidigb")),O=F(n("ddajbaceej")),S=F(n("dgjddffcfg")),w=n("dhfbfehaef"),P=F(w),M=F(n("fffdgbfji")),C=F(n("cacgcabfhd")),T=F(n("dfigcajgai")),A=F(n("bjbedjfe")),N=F(n("cdjhjdcbeg")),k=n("eagfdbhhhh"),I=F(n("bfgbdiffgd")),R=F(n("becfabjeeg")),L=F(n("bfdcadbbif")),D=n("bfjajhbdf"),x=F(D),U=F(n("didfdhbecg"));function G(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function F(e){return e&&e.__esModule?e:{default:e}}function B(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var $=(0,D.genId)("max_participant_toast"),V=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,u=Array(i),l=0;l<i;l++)u[l]=arguments[l];return n=o=B(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.state={searchText:"",participants:o.props.participants,shouldFocus:!0,isBusy:!1},o.flatListController=new j.default,o.setRefParticipantList=function(e){o.refParticipantList=e},o.setRefList=function(e){o.refList=e},o.onKeyDown=function(e){if("Backspace"===e.key&&!o.state.searchText&&!(0,a.default)(o.state.participants)){e.preventDefault();var t=o.state.participants;o.setState({participants:t.slice(0,t.length-1),shouldFocus:!0})}},o.onInput=function(e){o.setState({searchText:e.target.value})},o.onReset=function(){o.setState({searchText:"",shouldFocus:!0})},o.focus=function(){O.default.focus(o.refInput)},o.onBack=function(){o.props.onBack()},o.onContinue=function(){o.props.onContinue(o.state.participants)},o.onDelete=function(e,t){var n=(0,r.default)(o.state.participants,function(e){return!e.id.equals(t.id)});o.setState({participants:n,shouldFocus:!n.length})},o.onContactClick=function(e,t){o.state.participants.find(function(e){return e.id.equals(t.id)})?o.removeContact(t):t.isBlocked()?f.default.openModal(s.createElement(d.default,{title:M.default.t(164),onOK:function(){o.unblockAndAddContact(t),f.default.closeModal()},onCancel:function(){return f.default.closeModal()},okText:M.default.t(1411),cancelText:M.default.t(1282)},M.default.t(160))):o.addContact(t)},o.onFocusList=function(e){o.refList&&(e.preventDefault(),e.stopPropagation(),(0,w.shouldIndicateFocus)(),o.refList&&o.refList.focusFirst())},o.onFocusParticipants=function(e){e.repeat||o.refInput&&0!==o.refInput.selectionStart||o.refParticipantList&&(e.preventDefault(),e.stopPropagation(),P.default.flashFocus=0,o.refParticipantList&&o.refParticipantList.focusLast())},o.onSelectFirst=function(e){e.preventDefault(),e.stopPropagation();var t=o.getFilteredContacts()[0];t&&o.onContactClick(e,t)},o.onFocusSearch=function(e){(0,w.shouldIndicateFocus)(),O.default.focus(o.refInput)},o.setRefInput=function(e){o.refInput=e},o.setRefSizer=function(e){o.refSizer=e},B(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"componentDidMount",value:function(){this.focus()}},{key:"componentDidUpdate",value:function(){this.adjustInput()}},{key:"getFilteredContacts",value:function(){var e=(0,o.default)(p.default.getFilteredContacts(),this.state.participants),t=this.state.searchText;if(!t)return e;t=M.default.accentFold(t);var n=S.default.numberSearch(t);return e.filter(function(e){return e.searchMatch(t,n)})}},{key:"adjustInput",value:function(){if(this.refInput){var e=this.refInput.offsetParent.offsetWidth-10,t=this.refSizer.offsetWidth,n=t>e?e:t;this.refInput.style.width=n+"px";var r=void 0;r=e-this.refInput.offsetLeft-n>0?e-this.refInput.offsetLeft:e,this.refInput.style.width=r+"px",this.state.shouldFocus&&this.focus()}}},{key:"addContact",value:function(e){var t=this.state.participants;if(t.length>=I.default.maxParticipants){var n=M.default.t(53,{max:I.default.maxParticipants});f.default.openToast(s.createElement(x.default,{msg:n,id:$}))}else this.setState({participants:t.concat(e),searchText:"",shouldFocus:!0})}},{key:"removeContact",value:function(e){var t=this.state.participants;this.setState({participants:(0,r.default)(t,function(t){return!e.id.equals(t.id)}),shouldFocus:!0})}},{key:"unblockAndAddContact",value:function(e){var t=this;this.setState({isBusy:!0}),(0,c.unblockContact)(e).checkpoint(this.props.rejectOnUnmount()).then(function(){t.addContact(e),t.setState({isBusy:!1})}).catch(_.Unmount,function(){}).catch(function(e){t.setState({isBusy:!1})})}},{key:"render",value:function(){var e=void 0;this.state.isBusy?e=s.createElement("div",{className:C.default.spinner},s.createElement(R.default,{stroke:6,size:24})):this.state.participants&&this.state.participants.length&&(e=s.createElement(N.default,{a8nText:"group-participants-btn",onClick:this.onContinue},s.createElement(L.default,{name:"forward-light",directional:!0})));var t=this.state.participants&&this.state.participants.length?" ":M.default.t(539),n={down:this.onFocusList,enter:this.state.searchText?this.onSelectFirst:this.state.participants&&this.state.participants.length?this.onContinue:function(){},up:this.onFocusParticipants};n[M.default.LR("left","right")]=this.onFocusParticipants;var r=this.getFilteredContacts(),a=void 0;return a=0===r.length?s.createElement(y.SearchContacts,null):s.createElement(h.default,{ref:this.setRefList,flatListController:this.flatListController,contacts:r,onClick:this.onContactClick,onFocusSearch:this.onFocusSearch,showPersonGroupDivisionHeader:!1}),s.createElement(m.default,null,s.createElement(v.default,{title:M.default.t(1436),type:g.DRAWER_HEADER_TYPE.LARGE,onBack:this.onBack}),s.createElement(b.default,null,s.createElement("div",{className:C.default.search},s.createElement("div",null,s.createElement(P.default,{handlers:n,className:C.default.inputLine},s.createElement("div",{"data-list-scroll-container":!0},s.createElement(T.default,{ref:this.setRefParticipantList,theme:"list-names",contacts:this.state.participants,onDelete:this.onDelete,onFocusSearch:this.onFocusSearch})),s.createElement("input",{"data-a8n":l.default.key("inputarea"),className:(0,u.default)(C.default.inputarea,k.SELECTABLE_INPUT_CSS_CLASS),ref:this.setRefInput,placeholder:t,onKeyDown:this.onKeyDown,onChange:this.onInput,value:this.state.searchText,type:"text"}),s.createElement("span",{className:C.default.inputareaSizer,ref:this.setRefSizer},this.state.searchText)))),s.createElement(E.default,{className:C.default.contacts,flatListControllers:[this.flatListController]},a),s.createElement(U.default,{transitionName:"btn",className:C.default.drawerSection},e)))}}]),t}();V.defaultProps={participants:[]},V.displayName="NewGroupParticipantsDrawer",t.default=(0,A.default)(V)},bhfajidgce:function(e,t){e.exports={container:"_3OmmQ",isQuoted:"_2gu3h"}},bhfcdbibdf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e.parentNode)return;e.parentNode.removeChild(e)}},bhfdfhefca:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MenuBarItem=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.MenuBar=f;var a=c(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=c(n("effbcehec")),u=c(n("daddjfeaa")),s=c(n("caffijjhc")),l=c(n("didfdhbecg"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){var t=e.children;return o.createElement("div",{className:u.default.menu},t)}f.displayName="MenuBar";var d=t.MenuBarItem=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClose=function(){n.setState({active:!1})},n.handleClick=function(e){n.props.onClick&&n.props.onClick(e),e.isDefaultPrevented()||(e.preventDefault(),n.state.active||n.onOpen())},n.state={active:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"onOpen",value:function(){this.props.children&&this.setState({active:!0})}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.icon,r=e.transitionName,c=e.title,f=e.selected,d=e.disabled,p=this.state.active,h=t&&p?o.createElement(s.default,{displayName:"MenuBarMenuItem",escapable:!0,popable:!0,requestDismiss:this.onClose},o.Children.only(t)):null,m=(0,a.default)(u.default.item,{[u.default.selected]:f,[u.default.active]:p,[u.default.disabled]:d});return o.createElement("div",{"data-a8n":i.default.key(this.props.a8nText),className:m},o.createElement("div",{role:"button",onMouseDown:this.handleClick,title:c},n),o.createElement(l.default,{transitionName:r},h))}}]),t}();d.defaultProps={transitionName:"dropdown",disabled:!1},d.displayName="MenuBarItem"},bhfeffjbfg:function(e,t){e.exports={searchContainer:"_2wmGC",section:"SI-QE",blank:"XWe4-",row:"_1Yyly",noResults:"_2Vtro"}},bhfgbcfeae:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=E(n("ddhijeejag")),o=_(n("cfaiaibca")),i=_(n("baagejbchg")),u=_(n("bjigbaghc")),s=_(n("bjgiedaj")),l=_(n("fijafegab")),c=_(n("fifhbjiec")),f=n("bidfjbaebi"),d=n("gaifbabbj"),p=_(n("fffdgbfji")),h=E(n("dbcedfihd")),m=n("bgjddhffji"),b=_(n("cbidhfhhbb")),g=_(n("ihfccfgdf")),v=n("bheafeifce"),y=_(n("eedjbihej"));function _(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var j=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onReadMore=function(){n.setState({isDescExpanded:!0})},n.onClickUrl=function(e,t){e.stopPropagation();var r=n.props,a=r.product,o=r.sessionId;(0,m.logDetailLinkClick)((0,v.unproxy)(a),o);var i=t&&h.findLink(t);i&&(0,f.openExternalLink)(i.url)},n.state={isDescExpanded:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"renderMessageBusinessButton",value:function(){var e=this.props,t=e.onSendChat,n=e.product,r=e.isAvailable;if(!n.fetchedFromServer||!r)return null;var i=p.default.t(896);return a.createElement("div",{className:b.default.buttonContainer,title:i},a.createElement(o.default,{onClick:t,type:"primary"},i))}},{key:"renderLink",value:function(e){var t=this,n=this.props,r=n.product,o=n.isAvailable;if(!r.fetchedFromServer||!e||!o)return null;var i=d.Configuration.TrustedGroupDesc({links:h.findLinks(e)});return a.createElement("div",{className:b.default.descBlock},a.createElement(c.default,{selectable:!0,formatters:i,text:e,onClick:function(n){return t.onClickUrl(n,e)}}))}},{key:"renderDesc",value:function(){var e=this.props.product,t=this.state.isDescExpanded;if(!e.description&&!e.url&&!e.retailerId)return null;var n=!(!e||!e.description)&&e.description.length>i.default.GROUP_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH,r=void 0;return e.description&&(r=a.createElement("div",{className:b.default.descBlock},a.createElement(c.default,{selectable:!0,text:e.description,textLimit:t?1/0:i.default.GROUP_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH}),n&&!t?a.createElement("span",{className:b.default.more,role:"button",onClick:this.onReadMore},` ${p.default.t(918)}`):null)),a.createElement(y.default,{theme:"plain",block:!0,className:b.default.description},r,this.renderLink(e.url),e.retailerId?a.createElement("div",{className:b.default.descBlock},a.createElement(c.default,{text:e.retailerId,selectable:!0,direction:"inherit"})):null)}},{key:"render",value:function(){var e=this.props.product,t=e.catalogWid.equals(u.default.me)?null:this.renderMessageBusinessButton();return a.createElement(l.default,{theme:"padding-product",animation:!1},a.createElement(y.default,{theme:"title",block:!0,className:b.default.name},a.createElement(c.default,{text:e.name,selectable:!0})),e.currency&&null!=e.priceAmount1000&&0!==e.priceAmount1000?a.createElement(y.default,{block:!0,className:b.default.price,color:"dark",theme:"plain"},a.createElement(c.default,{text:s.default.format(e.currency,e.priceAmount1000),selectable:!0,direction:"inherit"})):null,this.renderDesc(),t)}}]),t}();j.CONCERNS={product:["name","url","description","currency","priceAmount1000","fetchedFromServer","retailerId","catalogWid"]},j.displayName="ProductDetailsInfo",t.default=(0,g.default)(j,j.CONCERNS)},bhgfchijhg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryProduct=function(e,t,n,o){var i=void 0;if(r.default.supportsFeature(r.default.F.MD_BACKEND))i=Promise.reject(new Error("Shoudl not reach here"));else{var u=e.toString({legacy:!0});i=a.default.queryProduct(u,t,n,o)}return i},t.queryCatalog=function(e,t,n,o,i){var u=void 0;if(r.default.supportsFeature(r.default.F.MD_BACKEND))u=Promise.reject(new Error("Should not reach here"));else{var s=e.toString({legacy:!0});u=a.default.queryProductCatalog(s,t,n,o,i)}return u},t.reportProduct=function(e,t,n){var o=void 0;o=r.default.supportsFeature(r.default.F.MD_BACKEND)?Promise.reject(new Error("Should not reach here")):a.default.reportBusinessCatalogProduct(e,t,n);return o};var r=o(n("bjbdcigbdi")),a=o(n("bihdhbjih"));function o(e){return e&&e.__esModule?e:{default:e}}},bhgjdccfde:function(e,t){e.exports={tile:"fzCXy",backgroundColor:"_3GHFH"}},bhhdeihhhf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeOptions=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=p(n("ceffhbhahb")),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=p(n("effbcehec")),s=p(n("ddchejfidi")),l=p(n("jheedhagg")),c=p(n("dhfbfehaef")),f=p(n("chgaccicf")),d=n("hjbbdjjdf");function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=t.ThemeOptions=(0,f.default)({COMPACT:null}),b=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={hover:!1,focus:!1},r.onMouseEnter=function(){r.setState({hover:!0})},r.onMouseLeave=function(){r.setState({hover:!1})},r.onFocus=function(){r.setState({focus:!0})},r.onBlur=function(){r.setState({focus:!1})},r.onClick=function(e){r.onAction(e)},r.onEnter=function(e){e.repeat||r.onAction(e)},r.onAction=function(e){var t=r.props.action;if(t&&!(!1===t(e))){var n=r.props.uim;n&&n.uie.requestDismiss()}},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.PureComponent),a(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.tooltip,a=e.type,l=e.disabled,f=void 0!==l&&l,p=e.theme,h=this.state,b=h.hover,v=h.focus,y=(b||v)&&n?n:null,_=(0,d.isString)(t)?i.createElement("div",{className:(0,o.default)(s.default.ellipsify,s.default.action,{[s.default.compact]:p===m.COMPACT}),role:"button",title:t},t):t,E={enter:this.onEnter},j=(0,o.default)(s.default.item,s.default.shortcut,{[s.default.hover]:b||v,[s.default.text]:"text"===a,[s.default.emoji]:"emoji"===a,[s.default.icon]:"icon"===a,[s.default.disabled]:f}),O=f?{}:{handlers:E,onContextMenu:g,onMouseDown:g,onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onFocus,onBlur:this.onBlur};return i.createElement(c.default,r({component:"li","data-a8n":u.default.key(this.props.a8n),className:j,"data-animate-dropdown-item":!0},O),_,y)}}]),t}();function g(e){e.preventDefault()}b.defaultProps={type:"text"},b.displayName="DropdownItem",t.default=(0,l.default)(b)},bhhdiiaihb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n){var r=2*e.length+t[1].length,a=t[0].length-r;return a>0&&(t.index+=a,t[0]=t[0].slice(a)),n.lastIndex--,t}}},bhheahajjg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GroupNameClass=t.ContactNameClass=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=S;var o=b(n("ceffhbhahb")),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=b(n("fifhbjiec")),s=b(n("dgjddffcfg")),l=b(n("bjbdcigbdi")),c=n("gaifbabbj"),f=b(n("icghcjegh")),d=b(n("bdiiahhjbe")),p=b(n("haehdhfbi")),h=b(n("ihfccfgdf")),m=b(n("bfdcadbbif"));function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=t.ContactNameClass=function(e){function t(){return g(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,i.PureComponent),a(t,[{key:"render",value:function(){var e=this.props,t=e.element,n=e.contact,r=e.highlightText,a=e.titlify,h=e.ellipsify,b=e.you,g=e.selectable,v=e.useShortName,y=e.useDisplayName,_=e.onClick,E=e.showLabel,j=e.showBusinessCheckmark,O=e.showNotifyName,S=void 0;r&&(S=c.Configuration.Search({terms:[r]}));var w=(0,o.default)(n.isPSA?p.default.psa:null),P=void 0;if(!(P=y&&n.displayName?n.displayName:v&&n.formattedShortName?n.formattedShortName:b&&n.isMe?n.formattedName:O&&!n.name&&n.notifyName?`~${n.notifyName}`:n.formattedUser))return d.default.assert(!1,"display name is null or undefined",`displayName:${P},\n                formattedName:${n.formattedName},\n                name:${n.name},\n                formattedShortName:${n.formattedShortName},\n                formattedUser:${n.formattedUser}`)(),"";var M=i.createElement(u.default,{text:s.default.replaceMultipleSpaces(P),element:t,className:w,formatters:S,titlify:a,ellipsify:h,direction:"auto",selectable:g,inlineblock:!0,onClick:_}),C=E&&(n.labels||this.props.labels)?i.createElement("div",{className:p.default.labels},i.createElement(f.default,{labels:this.props.labels||n.labels,showName:!1})):null;return n.isPSA||l.default.supportsFeature(l.default.F.VNAME_V_2)&&j&&n.showBusinessCheckmark?i.createElement("span",{className:p.default.verified},M,i.createElement("div",{className:p.default.icon},i.createElement(m.default,{name:"psa-verified"})),C):C?i.createElement("span",{className:p.default.hasLabels},M,C):M}}]),t}();_.CONCERNS={contact:["isPSA","formattedUser","formattedName","formattedShortName","displayName","showBusinessCheckmark","labels","name","notifyName","isMe"]},_.defaultProps={element:"span"},_.displayName="ContactNameClass";var E=(0,h.default)(_,_.CONCERNS),j=t.GroupNameClass=function(e){function t(){return g(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,i.PureComponent),a(t,[{key:"render",value:function(){var e=this.props,t=e.element,n=e.chat,r=e.highlightText,a=e.titlify,o=e.ellipsify,l=e.onClick,d=e.showLabel,h=void 0;r&&(h=c.Configuration.Search({terms:[r]}));var m=d&&(n.labels||this.props.labels)?i.createElement("div",{className:p.default.labels},i.createElement(f.default,{labels:this.props.labels||n.labels,showName:!1})):null,b=i.createElement(u.default,{text:s.default.replaceMultipleSpaces(n.title()),element:t,formatters:h,titlify:a,ellipsify:o,direction:"auto",inlineblock:!0,onClick:l});return m?i.createElement("div",{className:m?p.default.hasLabels:null},b,m):b}}]),t}();j.CONCERNS={chat:["formattedTitle","labels"]},j.displayName="GroupNameClass";var O=(0,h.default)(j,j.CONCERNS);function S(e){var t=e.chat,n=e.contact,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["chat","contact"]);if(t&&!t.isUser)return i.createElement(O,r({chat:t},a));var o=n||t.contact;return i.createElement(E,r({contact:o},a))}S.displayName="Name"},bhhgagadei:function(e,t,n){"use strict";var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("dfeigdcjhi"),i=(r=o)&&r.__esModule?r:{default:r},u=n("ddjfcdfihc");var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),document.addEventListener("keydown",function(e){var t=(0,u.getAction)(e);t&&(0,i.default)(t)})}return a(e,[{key:"trigger",value:function(e){}},{key:"menuBatchRenderWith",value:function(e){}}]),e}();e.exports=new s},bhiafccjai:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("bbchdeehff")),i=s(n("cahefccjdd")),u=(s(n("bffjfbgbg")),s(n("gejffefga")));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=n.getInitialMediaStyle(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"getInitialMediaStyle",value:function(){if(this.props.initialStyle)return{initialStyle:this.props.initialStyle,aspectRatio:.67};var e=void 0;o.default.getConversationHeaderOffset(function(t){e=t});return e||(e={right:window.innerWidth,bottom:0}),{initialStyle:{width:330*.67,left:e.right<window.innerWidth?e.right-330*.67-10:window.innerWidth-330*.67-10,bottom:window.innerHeight-10-330-e.bottom},aspectRatio:.67}}},{key:"render",value:function(){var e={x:10,y:10};return a.createElement(u.default,{aspectRatio:.67,margin:e,minWidth:145,className:i.default.voipFloater,initialStyle:this.state.initialStyle},this.props.children)}}]),t}();l.displayName="FloatingVoipWindow",t.default=l},bhibhdeccd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.backwardsEmojiTextsTrie=void 0,t.default=function(e){var t=u[e],n=void 0;t&&(n=r.default.skinToneEmojis[t]&&a.default.getVariant(t));return n||t};var r=i(n("djegeegcbf")),a=i(n("dfbhcehadj")),o=i(n("cjdfbfihbe"));function i(e){return e&&e.__esModule?e:{default:e}}var u={"(y)":"","(Y)":"","(n)":"","(N)":"",":-)":"",":-(":"",":-p":"",":-P":"",":-|":"",":-\\":"",":-D":"",":-*":"",":-o":"","<3":"","^_^":"",">_<":"",";-)":""};var s=Object.keys(u);t.backwardsEmojiTextsTrie=o.default.fromBackwardsStrings(s)},bhichefhgf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cancelUploadMedia=function(e){e.uploadPromise&&e.uploadPromise.control.cancel()},t.uploadMedia=function(e,t,n){if(t.uploadPromise)return t.uploadPromise;var g=new r.default,v=g.signal,y=new m.default.MediaUpload2;function _(e){y.set({overallMediaSize:e.byteLength})}function E(e){e instanceof o.HttpStatusCodeError&&y.set({resumeHttpCode:e.status})}function j(){y.set({overallUploadResult:m.default.MEDIA_UPLOAD_RESULT_TYPE.DUPLICATE,overallIsFinal:!0,resumeHttpCode:200}),y.markOverallCumT(),y.commit()}function O(e){var t=e.hostName,n=e.hostClass,r=e.failCount;y.set({overallDomain:t,overallConnectionClass:n,overallRetryCount:r})}function S(){y.set({resumeHttpCode:404,overallUploadResult:m.default.MEDIA_UPLOAD_RESULT_TYPE.OK,overallIsFinal:!0}),y.markOverallCumT(),y.commit()}function w(e){y.set({overallUploadResult:(0,p.getMetricUploadErrorResultType)(e),overallIsFinal:!0}),y.markOverallCumT(),y.commit()}function P(e){y.set({overallT:e})}function M(e,t,n){var r=new m.default.MediaUpload2(y);r.set({overallUploadResult:(0,p.getMetricUploadErrorResultType)(e),overallIsFinal:!1,overallT:t,overallRetryCount:n}),y.markOverallCumT(),r.commit()}return t.uploadPromise=Promise.resolve().then(function(){t.consolidate({uploadStage:d.UPLOAD_STAGE.UPLOADING});var r=t.mediaBlob;if(r)return r.formData();if(t.filehash){var a=l.default.get(t.filehash);if(a)return a}return(0,s.downloadMedia)({mimetype:e,object:t,downloadEvenIfExpensive:!0,mediaType:n,signal:v,rmrReason:m.default.WEBC_RMR_REASON_CODE.UPLOAD}).then(function(){if(t.downloadStage===d.DOWNLOAD_STAGE.ERROR_MISSING)throw new i.MediaNotOnPhone;var e=t.mediaBlob;if(e)return e.formData();if(t.filehash){var n=l.default.get(t.filehash);if(n)return n}throw new Error("cant upload media w/out mediaBlob after download")})}).then(function(e){var r,a=t.entries.getUploadEntry();return r=n,y.set({connectionType:m.default.CONNECTION_TYPE.HOSTNAME,overallMediaType:(0,p.getMetricMediaType)(r),overallMmsVersion:4,overallAttemptCount:t.userAttemptCount,networkStack:m.default.NETWORK_STACK_TYPE.NATIVE,overallUploadMode:m.default.MEDIA_UPLOAD_MODE_TYPE.REGULAR}),b.default.encryptAndUpload({blob:e,mediaKey:a&&a.mediaKey,mediaKeyTimestamp:a&&a.mediaKeyTimestamp,type:n,signal:v,onArrayBufferCreated:_,onCheckExistingSuccess:j,onCheckExistingError:E,onUploadHostFound:O,onUploadAttemptSuccess:P,onUploadAttemptError:M,onUploadSuccess:S,onUploadError:w}).then(function(e){var r=e.directPath,a=e.encFilehash,o=e.mediaKey,i=e.mediaKeyTimestamp,u=e.url,s=e.sidecar,d=e.firstFrameSidecar,p=t.entries.addEntry(u,o,i,a,n,s,r,d);if(!p)throw new Error("could not create media entry");if((n===f.default.PTT||n===f.default.AUDIO)&&!h.canPlayOgg())if(h.shouldUseMediaCache(n)){var m=t.filehash;if(m&&t.mediaBlob)return(0,c.transcode)(t.mediaBlob.formData()).then(function(e){l.default.put(m,e)}).then(function(){return p})}else if(t.mediaBlob)return h.gatherAndSetMetadata(t,t.mediaBlob).then(function(){return p});return p})}).addRawControl("cancel",function(){return g.abort()}).then(function(e){if(v.aborted)throw new a.AbortError;return t.consolidate({uploadStage:d.UPLOAD_STAGE.UPLOADED}),u.default.log("MediaAlgo.uploadMedia: success",e.uploadHash)(),e}).catch(function(e){throw u.default.error("MediaAlgo.uploadMedia: error",e)(),e}).finally(function(){delete t.uploadPromise}).catch(i.MediaNotOnPhone,function(e){t.consolidate({uploadStage:d.UPLOAD_STAGE.ERROR_MISSING})}).catch(a.MediaTooLargeError,function(e){t.consolidate({uploadStage:d.UPLOAD_STAGE.ERROR_TOO_LARGE})}).catch(function(e){t.consolidate({uploadStage:d.UPLOAD_STAGE.NEED_UPLOAD})}).endWithControls("cancel"),t.uploadPromise};var r=g(n("cgeedcdffb")),a=n("ddbdaadcgc"),o=n("fgeddfbg"),i=n("bafdjibgig"),u=g(n("bdiiahhjbe")),s=n("dahcghhcfg"),l=g(n("cjieghfgda")),c=n("baffhfhhda"),f=g(n("gbjefdbgb")),d=n("daichdjff"),p=n("dcihijcig"),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("fabajdgab")),m=g(n("bfbggcdbfb")),b=(g(n("beeieigghj")),g(n("dejgiicjih")));function g(e){return e&&e.__esModule?e:{default:e}}},bhifaggjcb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=i(n("ceffhbhahb")),o=i(n("dhhbgegf"));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.children,n=e.side,i=e.ellipsify,u=e.onClick,s=(0,a.default)({[o.default.clickable]:u}),l=(0,a.default)(o.default.main,{[o.default.mainEllipsify]:i}),c=n?r.createElement("div",{className:o.default.side},n):null;return r.createElement("div",{className:s,onClick:u},r.createElement("div",{className:o.default.body},r.createElement("div",{className:l},t),c))};u.displayName="Row",t.default=u},bhihgacbic:function(e,t){e.exports={container:"_1EHsn",thumb:"CMB4l",amount:"_2CpXP",amountCurrency:"_1wFgH",amountInteger:"_1G71p",amountDecimal:"B9T1x",isQuoted:"_2ecUv",isQuotedInComposeBox:"_57jWu"}},bhjegffigh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateLocal=function(e,t){if(a.default.supportsFeature(a.default.F.MODEL_STORAGE))return r.default.merge(e.toString(),t);return Promise.resolve()};var r=o(n("begbbgieee")),a=o(n("bjbdcigbdi"));function o(e){return e&&e.__esModule?e:{default:e}}},biadgfadhh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PREVIEW_HEIGHT=void 0;var r=j(n("bebajedcaf")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=j(n("ceffhbhahb")),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=j(n("cehjjfagii")),s=j(n("jhcabjcaf")),l=j(n("bfjbdahdag")),c=j(n("dfeecdfijg")),f=j(n("cjeajhjegi")),d=j(n("bdiiahhjbe")),p=j(n("behbcejhad")),h=n("igiffibee"),m=j(n("dbbbgjbbgf")),b=j(n("cieaeggjg")),g=n("eagfdbhhhh"),v=j(n("ihfccfgdf")),y=j(n("deibgadgic")),_=j(n("cbjacjjfgc")),E=j(n("edbaidcaf"));function j(e){return e&&e.__esModule?e:{default:e}}var O=t.PREVIEW_HEIGHT=150,S=["foursquare.com","facebook.com","maps.google.com"],w=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.loc=function(){var e=n.props.msg.get("loc");if(e)return 2===(e=e.split("\n")).length?{name:e[0],addr:e[1]}:{name:e}},n.getLocationDetails=function(e){var t=n.props.msg,a=n.loc(),u=t.clientUrl||e,s=void 0,l=void 0,c=void 0,p=E.default.hostname(u),h=(0,r.default)(S.filter(function(e){return p.includes(e)})),b=h?i.createElement("span",{className:f.default.link},p):null,v=E.default.isHttp(u);if(!v)return u.toLowerCase().startsWith("javascript:")&&d.default.assert(!1,"URL error",`Bad url: ${u}`)(),null;if(!h&&v&&a&&!u.includes("javascript")){s=a.name?i.createElement(g.SelectableLink,{className:f.default.title,dir:"auto",href:u,plainText:`${a.name}\n${u}`,selectable:!0,target:"_blank",title:a.name},a.name):null;var y=(0,o.default)(f.default.address,{[f.default.hasURL]:b});l=a.addr?i.createElement(g.SelectableDiv,{className:y,selectable:!0,title:a.addr},a.addr):null}return(s||l||b)&&(c=i.createElement("div",{className:f.default.text},i.createElement(m.default,{msg:t,"data-id":t.id},s,l,b))),c},n.onClick=function(e){e.stopPropagation()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.PureComponent),a(t,[{key:"render",value:function(){var e=this.props.msg,t=e.lat,n=e.lng,r=this.loc(),a=r&&r.name,d=(0,h.getMapUrl)(t,n,a),m=this.getLocationDetails(d),v=null!=m||e.hsmEnabled?null:i.createElement(_.default,null),E=this.props.displayAuthor&&!e.isSentByMe&&e.isGroupMsg,j=e.showForwarded(),S=E?i.createElement("div",{className:f.default.author},i.createElement(u.default,{msg:e,contact:e.senderObj})):null,w=j?i.createElement(c.default,{msg:e,className:f.default.forwardedIndicator}):null,P=(0,o.default)(f.default.container,{[f.default.hasCaption]:m,[f.default.hasAuthor]:E,[f.default.forwarded]:j}),M={height:O},C=this.props.quotedMsg?i.createElement("div",{className:f.default.quote},this.props.quotedMsg):null,T=void 0,A=void 0;return e.hsmEnabled&&(T=e.caption?i.createElement("div",{className:f.default.caption},i.createElement(l.default,{msg:e,spacer:!e.footer})):null,A=i.createElement(y.default,{msg:e})),i.createElement("div",null,i.createElement(s.default,{className:P,contact:e.senderObj,msg:e},S,w,C,i.createElement(g.SelectableDiv,{className:f.default.thumb,onClick:this.onClick,plainText:d,selectable:!0,style:M},i.createElement(p.default,{lat:e.lat,lng:e.lng,width:270,height:O,name:a,className:f.default.thumbBody}),v),m,T,A,i.createElement("div",{className:f.default.meta},i.createElement(b.default,{msg:e}))))}}]),t}();w.CONCERNS={msg:["caption","clientUrl","dir","footer","hsmEnabled","id","isGroupMsg","isSentByMe","lat","lng","rtl","senderObj","subtype","type"]},w.displayName="Location",t.default=(0,v.default)(w,w.CONCERNS)},biahchiahj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("ddajbaceej"),i=p(n("bjbdcigbdi")),u=p(n("febicjijd")),s=p(n("eceadcicaf")),l=p(n("fagbfehid")),c=n("cgjafchgje"),f=p(c),d=p(n("bbcccehdad"));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){var e,n,r;h(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={hasFetchedData:l.default.hasFetchedData(),hasStickers:l.default.length>0,menuShadow:!1,selectedStickerPackIndex:r._getInitialStickerPackIndex()},r._setRefEmptyContent=function(e){r._refEmptyContent=e},r._setRefContent=function(e){r._refContent=e},r._setRefMenu=function(e){r._refMenu=e},r._handleContainerClick=function(e){r._stopEvent(e),r.restoreFocus()},r._handleContentFocusNext=function(e){r._stopEvent(e),r._refMenu&&r._refMenu.focus()},r._handleContentFocusPrev=function(e){r._stopEvent(e),r._refMenu&&r._refMenu.focus()},r._handleEmptyFocusPrev=function(e){r._stopEvent(e),r._focusPrev()},r._handleEmptyFocusNext=function(e){r._stopEvent(e),r._focusNext()},r._handleItemClick=function(e){r.setState({selectedStickerPackIndex:e})},r._handleMenuFocusBelow=function(e){r._stopEvent(e),r._refContent&&r._refContent.focus()},r._handleMenuFocusNext=function(e){r._stopEvent(e),r._focusNext()},r._handleMenuFocusPrev=function(e){r._stopEvent(e),r._focusPrev()},r._handleScroll=function(e){r._lastScrollTop=e,r.setState({menuShadow:e>0})},r._handleStickerPacksChange=function(){r.setState({hasFetchedData:l.default.hasFetchedData(),hasStickers:l.default.length>0})},m(r,n)}return b(t,a.PureComponent),r(t,[{key:"_getInitialStickerPackIndex",value:function(){var e=this.props.displayCache;return e&&null!=e.selectedStickerPackIndex?e.selectedStickerPackIndex:0}},{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(l.default,"change:length",this._handleStickerPacksChange),this.props.listeners.add(l.default,"change:pageFetchStates",this._handleStickerPacksChange),this.props.listeners.uiIdle(function(){e.restoreFocus(),l.default.fetchAt(0)})}},{key:"componentWillUnmount",value:function(){this.props.onDisplayCache&&this.props.onDisplayCache({scrollTop:this._lastScrollTop,selectedStickerPackIndex:this.state.selectedStickerPackIndex})}},{key:"restoreFocus",value:function(){var e=this;this.props.listeners.uiIdle(function(){if(e._refEmptyContent){if(document.activeElement===e._refEmptyContent)return;(0,o.focus)(e._refEmptyContent)}else e._refMenu&&e._refMenu.focus()})}},{key:"_focusPrev",value:function(){this.props.onFocusPrev&&this.props.onFocusPrev()}},{key:"_focusNext",value:function(){this.props.onFocusNext&&this.props.onFocusNext()}},{key:"_stopEvent",value:function(e){e&&(e.preventDefault(),e.stopPropagation())}},{key:"render",value:function(){var e=i.default.isRecentStickersEnabled(),t=e?1:0,n=this.state.selectedStickerPackIndex;return e||!this.state.hasFetchedData||this.state.hasStickers?a.createElement("div",{className:u.default.panelContainer,onClick:this._handleContainerClick},a.createElement(d.default,{ref:this._setRefMenu,onFocusBelow:this._handleMenuFocusBelow,onFocusNext:this._handleMenuFocusNext,onFocusPrev:this._handleMenuFocusPrev,onItemClick:this._handleItemClick,selectedStickerPackIndex:n,shadow:this.state.menuShadow,recentStickersEnabled:e,specialItemsCount:t}),a.createElement(f.default,{ref:this._setRefContent,onFocusNext:this._handleContentFocusNext,onFocusPrev:this._handleContentFocusPrev,onScroll:this._handleScroll,onSticker:this.props.onSticker,selectedStickerPackIndex:n,recentStickersEnabled:e,specialItemsCount:t})):a.createElement(c.StickerPanelEmpty,{containerClassName:u.default.panelContainer,onClick:this._handleContainerClick,onFocusPrev:this._handleEmptyFocusPrev,onFocusNext:this._handleEmptyFocusNext,onRef:this._setRefEmptyContent})}}]),t}();g.displayName="StickerPanel";var v=(0,s.default)(g),y=function(e){function t(){return h(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,v),r(t,[{key:"restoreFocus",value:function(){this.getComponent().restoreFocus()}}]),t}();t.default=y},biahggehgf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.requestDeletePicture=function(e){var t=void 0;t=o.default.supportsFeature(o.default.F.MD_BACKEND)?Promise.reject(new Error("Should not reach here")):s.default.deletePicture(e).then(function(e){return e.status&&200!==e.status?Promise.reject(new a.ServerStatusCodeError(e.status)):e});return t.then(function(t){return t._duplicate?t:o.default.supportsFeature(o.default.F.MODEL_STORAGE)?i.ProfilePicThumb.remove(e.toString()).then(function(){return t}):t})},t.sendSetPicture=function(e,t,n){var r=void 0;r=o.default.supportsFeature(o.default.F.MD_BACKEND)?Promise.reject(new Error("Should not reach here")):s.default.sendSetPicture(e,t,n).then(function(e){return 200!==e.status?Promise.reject(new a.ServerStatusCodeError(e.status)):e});return r.then(function(t){if(t._duplicate)return t;if(o.default.supportsFeature(o.default.F.MODEL_STORAGE)){var n=e.toString();return i.ProfilePicThumb.createOrMerge(n,{id:n,tag:t.tag,eurl:t.eurl}).then(function(){return t})}return t})},t.profilePicFindThumbFromPhone=function(e,t){return s.default.profilePicFindThumbFromPhone(e,t).then(function(e){if(o.default.supportsFeature(o.default.F.MODEL_STORAGE)){var t=e.id.toString();return i.ProfilePicThumb.createOrMerge(t,{id:t,tag:e.tag,raw:e.raw}).then(function(){return e})}return e})},t.profilePicFind=function(e){var t=void 0;t=o.default.supportsFeature(o.default.F.MD_BACKEND)?Promise.reject(new Error("Should not reach here")):s.default.profilePicFind(e).then(function(e){return null!=e.status&&200!==e.status?Promise.reject(new a.ServerStatusCodeError(e.status)):e});var n=function(t){return u.default.lock(["profile-pic-thumb"],function(n){var a=r(n,1),o=a[0];return o.get(e.toString()).then(function(n){return n?o.merge(e.toString(),t):o.create(t)})})},i={id:e.toString(),tag:void 0,eurl:void 0,raw:void 0};return t.then(function(e){return o.default.supportsFeature(o.default.F.MODEL_STORAGE)?(i.tag=e.tag,i.eurl=e.eurl,i.raw=null,n(i).then(function(){return e})):e}).catch(a.ServerStatusCodeError,function(e){if(!o.default.supportsFeature(o.default.F.MODEL_STORAGE))throw e;return o.default.supportsFeature(o.default.F.MD_BACKEND)&&404===e.status||!o.default.supportsFeature(o.default.F.MD_BACKEND)&&401===e.status?(i.tag="",i.raw=null):(i.tag=null,i.eurl=null),n(i).then(function(){throw e})})};var a=n("ddjgcfjicj"),o=l(n("bjbdcigbdi")),i=n("cefcddgdgg"),u=l(n("ffjiicch")),s=l(n("bihdhbjih"));function l(e){return e&&e.__esModule?e:{default:e}}},biaifggagf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallCollection=void 0;var r=v(n("gcfidijgh")),a=v(n("fcdbffdgh")),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=v(n("cgcgbfbffj")),s=v(n("daejhdfjb")),l=v(n("bjbdcigbdi")),c=v(n("hgeacfdgi")),f=v(n("bdiiahhjbe")),d=n("bhgjacgcdd"),p=v(d),h=n("ddcbacabaj"),m=v(h),b=n("baigjdbded"),g=n("cgejjichfa");function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=t.CallCollection=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.pendingOffers={},r.pendingVoipCapChecks={},y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),i(t,[{key:"handleQuery",value:function(e){return Promise.resolve()}},{key:"handle",value:function(e){var t=this,r=e.shift();if(r.data&&r.data[0]){var a=m.default.parseCallSignalingMsg(r);if(!a)return;var i={};n("bfgbdiffgd").default.getWebVoipInternalTester()&&l.default.supportsFeature(l.default.F.DESKTOP_VOIP_VOICE_CALL)&&(Array.isArray(r.data[0])&&(r.data=r.data[0]),(0,h.base64DecodeRecursively)(r.data),i={peer_jid:a.peer_jid,payload:r.data,peer_platform:a.peer_platform,peer_app_version:a.peer_version,epoch_msec:null!=a.t?String(1e3*a.t):void 0,elapsed_msec:null!=a.e?String(1e3*a.e):void 0,is_offline:r.data[1].offline});var u=a.call_id,s=void 0,v=null,y=null,_=null;switch(a.type){case b.TYPE.OFFER:if(s=g.CALL_STATES.INCOMING_RING,v=a.isVideoCall,y=a.isGroupCall,_=a.t,p.default.isInitialized()){this.pendingVoipCapChecks[u]=(0,d.checkVoipCapability)(o({},a));var E=r.data[2]&&r.data[2].find(function(e){return"enc"===e[0]});this.pendingOffers[u]=Promise.sit("receivedKey",function(e){return m.default.receiveCallOfferKey(e,E),r}).endWithControls("receivedKey")}break;case b.TYPE.OFFER_RECEIPT:s=g.CALL_STATES.OUTGOING_CALLING;break;case b.TYPE.PREACCEPT:s=g.CALL_STATES.OUTGOING_RING;break;case b.TYPE.ACCEPT_RECEIPT:case b.TYPE.ACCEPT:s=g.CALL_STATES.ACTIVE;break;case b.TYPE.REJECT:s=g.CALL_STATES.REJECTED,c.default.callId===u&&p.default.endCall(),this.cleanupPendingOffer(u);break;case b.TYPE.TERMINATE:s=g.CALL_STATES.ENDED,c.default.callId===u&&p.default.endCall(),this.cleanupPendingOffer(u)}this.pendingVoipCapChecks[u]?this.pendingVoipCapChecks[u].then(function(e){var o=void 0;o=!y&&(v?e&&l.default.supportsFeature(l.default.F.DESKTOP_VOIP_VIDEO_CALL):e),t.processIncomingCall(u,r.from,s,{isVideo:v,isGroupCall:y,canHandleLocally:o,offerTime:_}),o&&t.pendingOffers[u]&&n("bfgbdiffgd").default.getWebVoipInternalTester()&&l.default.supportsFeature(l.default.F.DESKTOP_VOIP_VOICE_CALL)?t.pendingOffers[u].then(function(){p.default.handleIncomingSignalingMessage(a,i)}):t.cleanupPendingOffer(u)}).finally(function(){delete t.pendingVoipCapChecks[u]}):this.pendingOffers[u]?(this.processIncomingCall(u,r.from,s),n("bfgbdiffgd").default.getWebVoipInternalTester()&&l.default.supportsFeature(l.default.F.DESKTOP_VOIP_VOICE_CALL)&&this.pendingOffers[u].then(function(){p.default.handleIncomingSignalingMessage(a,i)})):(this.processIncomingCall(u,r.from,s,{isVideo:v,isGroupCall:y,canHandleLocally:!1,offerTime:_}),p.default.isInitialized()&&n("bfgbdiffgd").default.getWebVoipInternalTester()&&l.default.supportsFeature(l.default.F.DESKTOP_VOIP_VOICE_CALL)&&p.default.handleIncomingSignalingMessage(a,i))}else{var j=void 0;switch(r.type){case"offer_key":var O=this.pendingOffers[r.id];O?O.control.receivedKey(r.key):f.default.warn("received offer_key: no pending offer")();break;case"accept":j=g.CALL_STATES.ACTIVE,this.cleanupPendingOffer(r.id);break;case"reject":j=g.CALL_STATES.REJECTED,this.cleanupPendingOffer(r.id);break;case"terminate":j=g.CALL_STATES.ENDED,this.cleanupPendingOffer(r.id)}this.processIncomingCall(r.id,void 0,j)}}},{key:"processIncomingCall",value:function(e,t,n,o){var i=o;if(n){var u={id:e};null!=t&&(u.peerJid=t),i&&(i=(0,a.default)(i,function(e){return null==e}),(0,r.default)(u,i)),this.add(u,{merge:!0}),this.assertGet(e).setState(n)}}},{key:"cleanupPendingOffer",value:function(e){delete this.pendingOffers[e]}}]),t}();_.model=s.default,t.default=new _},bibjgdifc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("ifijdebbd")),i=s(n("ddjcbfehh")),u=s(n("ihfccfgdf"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props.chatPreference;return a.createElement("div",{className:i.default.container},a.createElement("div",{className:i.default.body},a.createElement(o.default,{wallpaperColor:e.wallpaperColor}),this.props.children))}}]),t}();l.CONCERNS={chatPreference:["wallpaperColor"]},l.displayName="MsgPreview",t.default=(0,u.default)(l,l.CONCERNS)},bicbaggehc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Dir=t.Transition=void 0;var r=v(n("dbegcaehed")),a=v(n("dhgeffcgbg")),o=v(n("cifjgjcead")),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),s=v(n("bbchdeehff")),l=v(n("caiifejggg")),c=n("bgddggdhc"),f=v(n("ddajbaceej")),d=v(n("eceadcicaf")),p=v(n("dhfbjgicha")),h=n("hjbbdjjdf"),m=v(n("caffijjhc")),b=v(n("dfefggiaaf")),g=v(n("didfdhbecg"));function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=t.Transition={LEFT:"drawer-left",MID:"slide-up",NONE:"none",RIGHT:"slide-left"},E=(t.Dir={LEFT:"left",MID:"mid",RIGHT:"right"},function(e){return _[e.toUpperCase()]}),j=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,u=Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=r=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={drawer:void 0,drawerId:null,transition:E(r.props.direction),uim:void 0,option:void 0},r.blockTransition=null,r.flowDismissPending=!1,r.setRefUIE=function(e){r.refUIE=e},r.openFlow=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E(r.props.direction),n=arguments[2],i=arguments[3],u=(0,o.default)(`DrawerManager${r.props.direction}`);if(!r.flowDismissPending&&r.state.drawer){if(null!=e.key&&(0,a.default)(r.state.drawer.key,e.key))return;r.blockTransition=_.NONE,r.setState({drawer:e,drawerId:u,transition:t,uim:n,option:i},function(){r.blockTransition=t})}else r.props.onDrawerIn&&r.props.onDrawerIn(),r.setState({drawer:e,drawerId:u,transition:t,uim:n,option:i})},r.existsFlow=function(e){e(!0!==r.flowDismissPending&&!!r.state.drawer)},r.closeFlow=function(e){e&&r.state.drawerId!==e||r.state.drawer&&(r.props.onDrawerOut&&r.props.onDrawerOut(),r.flowDismissPending=!0,r.setState({drawer:void 0},function(){r.flowDismissPending=!1}))},r.requestFocus=function(){var e=(0,c.forbiddenFindDOMNode)(r.refUIE);e&&!e.contains(document.activeElement)&&f.default.focus(e)},r.onAnimationComplete=function(){var e=r.props.onDrawerAnimationComplete;e&&e();var t=r.state,n=t.option,a=t.drawer;n&&(a&&(0,h.isFunction)(n.onEnterAnimationComplete)&&n.onEnterAnimationComplete(),!a&&(0,h.isFunction)(n.onLeaveAnimationComplete)&&n.onLeaveAnimationComplete())},y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.PureComponent),i(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(s.default,`open_drawer_${this.props.direction}`,this.openFlow),this.props.listeners.add(s.default,`exists_drawer_${this.props.direction}`,this.existsFlow),this.props.listeners.add(s.default,`close_drawer_${this.props.direction}`,this.closeFlow)}},{key:"componentDidUpdate",value:function(e){this.props.direction!==e.direction&&(e.listeners.remove(s.default,`open_drawer_${e.direction}`,this.openFlow),e.listeners.remove(s.default,`exists_drawer_${e.direction}`,this.existsFlow),e.listeners.remove(s.default,`close_drawer_${e.direction}`,this.closeFlow),this.props.listeners.add(s.default,`open_drawer_${this.props.direction}`,this.openFlow),this.props.listeners.add(s.default,`exists_drawer_${this.props.direction}`,this.existsFlow),this.props.listeners.add(s.default,`close_drawer_${this.props.direction}`,this.closeFlow))}},{key:"render",value:function(){var e=this,t=this.props.direction,n=this.state,a=n.drawer,o=n.drawerId,i=n.transition,s=n.option,c=this.blockTransition||i,f=s&&s.noFocus?null:this.requestFocus;return a&&(a=u.createElement(m.default,{displayName:`Drawer${(0,r.default)(t)}`,escapable:!0,key:o,ref:this.setRefUIE,requestFocus:f,requestDismiss:this.closeFlow.bind(null,o)},u.createElement(p.default,{style:{height:"100%"}},a))),u.createElement(b.default.Consumer,null,function(t){return u.createElement(b.default.Provider,{value:e.state.uim||t},u.createElement(g.default,{className:l.default.container,transitionName:c,onAnimationComplete:e.onAnimationComplete},a))})}}]),t}();j.displayName="DrawerManager",t.default=(0,d.default)(j)},bicbefgjgg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("dagibffcjf")),i=s(n("cjijbdhgbf")),u=s(n("biehbcgiib"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n._handleAspectRatio=function(e){((null==n.state.aspectRatio||0===n.state.aspectRatio)&&e||null!=n.state.aspectRatio&&0!==n.state.aspectRatio&&e&&Math.abs(e-n.state.aspectRatio)>.01)&&n.setState({aspectRatio:e})};var r=(0,i.default)(n.props.ogVideoInfo.previewUrl),a=r.width&&r.height?r.width/r.height:void 0;return n.state={aspectRatio:a},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){return a.createElement(o.default,{aspectRatio:this.state.aspectRatio,previewUrl:this.props.ogVideoInfo.previewUrl,animationStartStyle:this.props.animationStartStyle},a.createElement(u.default,{ogVideoInfo:this.props.ogVideoInfo,startTime:this.props.startTime,onClose:this.props.onClose,onError:this.props.onError,onAspectRatio:this._handleAspectRatio,autoPlay:!0}))}}]),t}();l.displayName="FloatingOgVideoPlayer",t.default=l},bicjggdg:function(e,t){e.exports={canvasComponent:"_3iJaK",canvasEmpty:"_1L19m",canvasSecondRow:"_3ChBw",canvasFirst:"_1uPx1",more:"_2raSX",container:"_26Nvu",galleryEmpty:"_1goQ0",drawer:"_2BqsJ",drawerBody:"aA-bE"}},bidcddiaag:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(1!==t.rangeCount)return;if(!t.getRangeAt(0).collapsed)return;var u=t.anchorNode,l=t.anchorOffset;if(u&&u===e.refInput){if(-1===(l-=1))return;u=u.childNodes[l],l=u.textContent.length}u=(0,i.default)(u)?s(u):u,(0,r.default)(u,function(e){var t=s(e);return t?[t]:[]},function(e){var t=void 0,r=void 0;if((0,o.isEmojiEl)(e))return t=a.default.fromNode(e,!0).toPlainString(),n(t,0,t);var i=(r=e===u?e.textContent.slice(0,l):e.textContent).lastIndexOf("\n"),s=i>=0;s&&(r=r.slice(i+1));for(var c=r.length-1;c>=0;c--)if(t=r.charAt(c),n(t,c,r))return!0;return!!s||void 0})};var r=u(n("bbiacghfif")),a=u(n("cebdcdcgja")),o=n("dfcggebdjj"),i=u(n("ccagfiehde"));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e;do{if((t=t&&t.previousSibling)&&t.nodeType!==Node.TEXT_NODE&&!(0,o.isEmojiEl)(t))return null}while(t&&(0,i.default)(t));return t}},biddahcajc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.IS_MMS_URL_SEARCH_PARAM="__wa-mms",t.MMS_URL_MEDIA_TYPE_SEARCH_PARAM="mms-type"},bidgicbbjf:function(e,t){e.exports={"-open-menu-width":"110px",openMenuWidth:"110px",menu:"_3GnEH",button:"_1rWTA",open:"_19THG",full:"_1rv_w",closeButton:"_3Kbqm",firstButton:"Kwld2",secondButton:"OoTjh",thirdButton:"_2pZnl"}},biecbbiiee:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MsgCollection=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},i=P(n("cgcgbfbffj")),u=P(n("baagejbchg")),s=P(n("bjigbaghc")),l=n("ddjgcfjicj"),c=n("bfababcidc"),f=P(n("bdiiahhjbe")),d=P(n("cbcbdjdah")),p=P(n("djhiiadbhh")),h=P(n("cffajefeag")),m=P(n("cahfddcdga")),b=n("dfjijdgbhd"),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ebggjhghhi")),v=P(n("bhggeigghg")),y=P(n("ggdiceega")),_=n("hjbbdjjdf"),E=P(n("bihdhbjih")),j=P(n("jccfhaecf")),O=n("dcbdjheea"),S=n("eaaehfdjdg"),w=P(S);function P(e){return e&&e.__esModule?e:{default:e}}var M=t.MsgCollection=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.lastReceivedReceipt={},e.lastReceivedPaymentTransaction={},e.preAck={},e.pendingAdd={},e.ftsCache={},e.onSearchTag=function(t){e.pendingSearchTag=t},e.listenTo(w.default,"change:stream",function(){w.default.stream===S.STREAM.DISCONNECTED&&(this.preAck={})}),e.listenTo(e,"remove",e.removeFromCollection),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"removeFromCollection",value:function(e){e.chat&&e.chat.removeFromCollection(e)}},{key:"_findQuery",value:function(e,t){var n=this,r=void 0;switch(e.direction){case"before":case"after":r=e.direction;break;default:r="before"}var a={add:r,isHistory:!0};return(0,c.msgFindQuery)(r,e,a,t,void 0,this.get(e)).then(function(t){if(t.status>=400)return f.default.error("model:Msg:findQuery error "+t.status)(),Promise.reject(t.status);return t.forEach(function(e){e.invis=!0}),f.default.log(`model:Msg:findQuery:got:${t.length}:${e.direction}`)(),n.processMultipleMessages(e.remote,t,a,function(){var t=n.get(e),r=v.default.Chat.get(e.remote);return t?t.msgChunk:r?r.msgs:void 0})})}},{key:"add",value:function(e,n){var r=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,n);return this._syncTemplateButtonClickState(r),r}},{key:"_syncTemplateButtonClickState",value:function(e){for(var t=this,n=function(n){var r=e[n];if(!r)return"continue";var a=r.chat;if(r.type===u.default.MSG_TYPE.TEMPLATE_BUTTON_REPLY&&null!=r.selectedIndex&&r.sender.equals(s.default.me)){null==a.msgUnsyncedButtonReplyMsgs&&(a.msgUnsyncedButtonReplyMsgs=new p.default);var o=a.msgUnsyncedButtonReplyMsgs,i=r.quotedMsgObj();if(!i)return"continue";var l=o.get(i.id);l||(o.add({id:i.id,unsyncedButtonReplies:new y.default}),l=o.get(i.id));var c=(0,m.default)(l).unsyncedButtonReplies;c.add(r);var f=t.get(i.id);if(f&&f.buttons){var d=f.buttons.get(`${(0,m.default)(r.selectedIndex)}`);d&&(d.selected=!0),c.remove(r)}}else if(r.type===u.default.MSG_TYPE.TEMPLATE&&r.buttons){var h=a.msgUnsyncedButtonReplyMsgs;if(null==h)return"continue";var b=h.get(r.id);b&&(b.unsyncedButtonReplies.forEach(function(e){var t=(0,m.default)(r.buttons).get(`${(0,m.default)(e.selectedIndex)}`);t&&(t.selected=!0)}),b.unsyncedButtonReplies.delete())}},r=0;r<e.length;r++)n(r)}},{key:"getStarred",value:function(e,t,n,r){var a=this,o={count:"number"!=typeof t||isNaN(t)?u.default.PAGE_SIZE:t,chat:e||void 0,remote:n&&n.remote,id:n&&n.id,fromMe:n&&n.fromMe,participant:n&&n.participant,media:r?"gif":void 0},i={add:"search"};return(0,c.msgFindQuery)("star",o,i).then(function(e){var t=e.status;return e.status>=400?(499===t?f.default.log("model:Msg:getStarred error 499 (unimplemented)")():f.default.error(`model:Msg:getStarred error ${t}`)(),Promise.reject(t)):a.processMultipleMessages(void 0,e,i)})}},{key:"queryVCard",value:function(e){var t=this;return(0,c.queryVCard)(e).then(function(e){return 499===e.status?(f.default.log("model:Msg:queryVCard error 499 (unimplemented)")(),Promise.reject(new l.E499)):t.processMultipleMessages(void 0,e,{add:"search"})})}},{key:"incrementalStarredUpdate",value:function(e){return this.processMultipleMessages(void 0,e,{add:"search"})}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments[2],r=this,a=arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=`${e}__${o.label||o.kind||""}`;if(1!==t||a)return this._search(e,t,n,a,o.label,o.kind);var s=this.ftsCache[i];if(s)return s;var l=this._search(e,t,n,a,o.label,o.kind);this.ftsCache[i]=l;var c=function(){r.ftsCache[i]=null};return setTimeout(c,u.default.FTS_TTL),l.catch(c),l}},{key:"_search",value:function(e,t,n,r,a,o){var i=this,s={searchTerm:e,page:(0,_.isNumber)(t)&&0!==t?t:1,count:(0,_.isNumber)(n)&&0!==n?n:u.default.PAGE_SIZE,remote:r,tagToCancel:r?this.pendingSearchTag:void 0,label:a,kind:o},d={add:"search"};return(0,c.msgFindQuery)("search",s,d,void 0,this.onSearchTag).then(function(e){if(s.tagToCancel===i.pendingSearchTag&&(i.pendingSearchTag=void 0),499===e.status)return Promise.props({messages:Promise.resolve([]),eof:!1,canceled:!0});if(404===e.status)return Promise.reject(new l.E404);if(e.status>=400)return f.default.error("model:Msg:search error "+e.status)(),Promise.reject(e.status);var t=Array.isArray(e)?e:e.messages,n=!!Array.isArray(e)||e.eof;return Promise.props({messages:i.processMultipleMessages(void 0,t,d),eof:n,canceled:!1})})}},{key:"queryMedia",value:function(e,t,n,r,a){var o=this,i={remote:e,count:(0,_.isNumber)(t)&&0!==t?t:u.default.PAGE_SIZE,id:r&&r.id,fromMe:r&&r.fromMe,participant:r&&r.participant,direction:n||"before",media:a},s={add:"search"};return(0,c.msgFindQuery)("media",i,s).then(function(e){return e.status>=400?(f.default.error("model:Msg:media error "+e.status)(),Promise.reject(e.status)):a?o.processMultipleMessages(void 0,e,{add:"search"}):Promise.props({docCount:e.docCount,linkCount:e.linkCount,mediaCount:e.mediaCount,messages:o.processMultipleMessages(void 0,e.messages,s)})})}},{key:"getContext",value:function(e,t,n){var r=this,a=this.get(e);if(a)return Promise.all([(0,c.msgFindQuery)("before",e,{add:"before",isHistory:!0},n),(0,c.msgFindQuery)("after",e,{add:"after",isHistory:!0},n)]).spread(function(n,o){return Array.isArray(n)&&Array.isArray(o)?(a.search=!1,Promise.all([r.processMultipleMessages(e.remote,n,{add:"before",isHistory:!0},t),r.processMultipleMessages(e.remote,o,{add:"after",isHistory:!0},t)])):(f.default.error("model:msg:getContext fetch error",n,o)(),Promise.reject(n.status||o.status))});var o={add:"after",isHistory:!0};return(0,c.msgFindQuery)("after",e,o,n).then(function(n){return Array.isArray(n)?j.default.isStatusV3(n[0].id.remote)?Promise.reject("statusV3, stop querying before the msg"):r.processMultipleMessages(e.remote,n,o,t):(f.default.error("model:msg:getContext:after fetch error",n)(),Promise.reject(n.status))}).then(function(t){var a=(0,m.default)(t[0]),o=a.id.clone();o.count=e.count+1;var i={add:"before",isHistory:!0};return Promise.all([(0,c.msgFindQuery)("before",o,i,n).then(function(t){if(!Array.isArray(t))return f.default.error("model:msg:getContext:before fetch error",t)(),Promise.reject(t.status);if(!t[t.length-1].id.equals(e))return f.default.error("model:msg:getContext:before ctx message mismatch",t)(),Promise.reject(405);return r.processMultipleMessages(e.remote,t,i,function(){return a.msgChunk})}),Promise.resolve(t)])})}},{key:"hasSynced",value:function(){return g.waitForBBEvent(this,u.default.COLLECTION_HAS_SYNCED)}},{key:"delete",value:function(){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),this.lastReceivedReceipt={},this.lastReceivedPaymentTransaction={},this.preAck={}}},{key:"getKeysForResyncReceipts",value:function(){var e=[],t=r({},this.lastReceivedReceipt,this.lastReceivedPaymentTransaction);for(var n in t){var a=(0,O.createWid)(n),o=v.default.Chat.get(a),i=void 0;if(o&&(i=o.getFirstMsgWithStatus()),i){var u=i.id;u.t=this.lastReceivedReceipt[a]||i.t||0,u.payT=this.lastReceivedPaymentTransaction[a],e.push(u)}else f.default.error("Msg:resyncReceipts wid in lastReceivedReceipt, but no msg: "+a.toString())()}return e}},{key:"resyncReceipts",value:function(){var e=this;f.default.log("Msg:resyncReceipts")();var t=this.getKeysForResyncReceipts();return 0===t.length?Promise.resolve():E.default.resyncReceipts(t).then(function(t){Array.isArray(t)?(f.default.log("Msg:resyncReceipts success")(),t.forEach(function(t){e.updateLastReceipt(t.id,t.t),e.updateLastTransactionTime(t.id,t.payT),t.acks.forEach(function(n){if(4===n.length){var r=new h.default({fromMe:n[1],remote:t.id,id:n[0],participant:n[2]}),a=e.get(r);a&&a.updateAck(n[3])}else f.default.error("Msg:resyncReceipts invalid response: "+JSON.stringify(n))()}),t.msgs.length>0&&e.processMultipleMessages(t.id,t.msgs,{update:!0,isHistory:!1}).catch(l.LogoutDrop,function(){})})):f.default.error("Msg:resyncReceipts error",t)()}).catch(l.LogoutDrop,l.EphemeralDrop,l.BrowserReplacedDrop,function(){}).catch(function(e){throw f.default.error(`Msg:resyncReceipts dropped ${String(e)} ${e?e.stack:"no stack"}`)(),new Error("Msg:resyncReceipts dropped")})}},{key:"updateLastReceipt",value:function(e,t){var n=this.lastReceivedReceipt[e];t&&(!n||t>n)&&(this.lastReceivedReceipt[e]=t)}},{key:"updateLastTransactionTime",value:function(e,t){var n=this.lastReceivedPaymentTransaction[e];t&&(!n||t>n)&&(this.lastReceivedPaymentTransaction[e]=t)}},{key:"processMultipleMessages",value:function(e,t,n,r){var a=this,o=function(){return(0,b._processMultipleMessages)(e,t,n,r)};if(e){var i=void 0,u=this.pendingAdd[e];return(i=u?u.then(o):o()).finally(function(){e&&a.pendingAdd[e]===i&&(a.pendingAdd[e]=null)}).catch(function(){}),this.pendingAdd[e]=i}return o()}},{key:"markAllAsStale",value:function(){this.forEach(function(e){return e.unset("recvFresh")})}}]),t}();M.model=d.default,t.default=new M},biedfadfag:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProductImageCollection=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=i(n("cgcgbfbffj")),o=i(n("diafggiefe"));function i(e){return e&&e.__esModule?e:{default:e}}var u=t.ProductImageCollection=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"toArray",value:function(){var e=this;return function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"filter",this).call(this,function(t){return t.old&&e.remove(t),t})}}]),t}();u.model=o.default,t.default=u},biehbcgiib:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=n("cgecdbiihg"),u=n("beddiafhbh"),s=(r=u)&&r.__esModule?r:{default:r};var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),a(t,[{key:"render",value:function(){return o.createElement(s.default,{type:i.PLAYER_TYPE.OG_FLOATER,ogVideoInfo:this.props.ogVideoInfo,startTime:this.props.startTime,onClose:this.props.onClose,onVideoEnded:this.props.onVideoEnded,onError:this.props.onError,onAspectRatio:this.props.onAspectRatio,autoPlay:this.props.autoPlay})}}]),t}();l.displayName="OgVideoPlayer",t.default=l},bieicghjif:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},o=y(n("ddhijeejag")),i=n("ccihhdchab"),u=n("dcaifjegcg"),s=v(u),l=v(n("dbdfbgehgj")),c=v(n("bbchdeehff")),f=v(n("bjigbaghc")),d=n("ddjgcfjicj"),p=y(n("cajijabhgb")),h=v(n("bdiiahhjbe")),m=v(n("gabccaieg")),b=v(n("bihdhbjih")),g=v(n("jccfhaecf"));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=_(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.id=(0,u.prop)(),r.duration=(0,u.prop)(),r.participants=(0,u.collection)(m.default),r.active=(0,u.session)(!1),r.keepAliveTimer=(0,u.session)(),r.stopPromise=(0,u.session)(),_(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),r(t,[{key:"initialize",value:function(){var e=this;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this),this.listenTo(this.participants,"remove reset",function(){e.hasParticipants()||e.delete()});var n=l.default.get(this.id);n&&!n.liveLocation&&(n.liveLocation=this)}},{key:"delete",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),this.stopViewingMap(),this.participants.delete(),this.getCollection().remove(this.id);var e=l.default.get(this.id);e&&(e.liveLocation=void 0)}},{key:"hasParticipants",value:function(){return this.participants.length>0}},{key:"startViewingMap",value:function(){this.active||(this.active=!0,this._updateLiveLocations(),this._startKeepAlive())}},{key:"stopViewingMap",value:function(){this.active&&(this.active=!1,this._pauseLiveLocations(),this._stopKeepAlive())}},{key:"userHasLiveLocation",value:function(e){return!!this.participants.get(e)}},{key:"iHaveLiveLocation",value:function(){return this.userHasLiveLocation(f.default.me)}},{key:"stopMyLiveLocation",value:function(e){var t=this;if(!this.iHaveLiveLocation())return Promise.reject(new p.ActionError);if(this.stopPromise)return this.stopPromise;var n=this.stopPromise=b.default.disableLiveLocation(this.id),r=new i.ActionType(l10n.t(95)),a=e||(0,i.genId)(),u=n.then(function(e){return 200===e.status?new i.ActionType(l10n.t(94)):e.status>=400?new i.ActionType(l10n.t(91)):void 0}).catch(function(e){return h.default.error("models:liveLocation:disableLiveLocation dropped")(e),new i.ActionType(l10n.t(91),l10n.t(154),t.stopMyLiveLocation.bind(t,a))});return c.default.openToast(o.createElement(i.ActionToast,{id:a,initialAction:r,pendingAction:u})),n.then(function(e){if(200===e.status&&!e._duplicate){var n=t.participants.get(f.default.me);n&&n.disable()}}).finally(function(){t.stopPromise=null})}},{key:"_updateLiveLocations",value:function(){this.getCollection().update(this.id).catch(function(){})}},{key:"_pauseLiveLocations",value:function(){b.default.unsubscribeLiveLocation(this.id).catch(d.WapDrop,function(){})}},{key:"_sendKeepAlive",value:function(){b.default.subscribeLiveLocation(this.id,!1).catch(d.WapDrop,function(){})}},{key:"_startKeepAlive",value:function(){if(null==this.keepAliveTimer){var e=this.duration;null!=e&&0!==e&&(this.keepAliveTimer=window.setInterval(this._sendKeepAlive.bind(this),1e3*e))}}},{key:"_stopKeepAlive",value:function(){null!=this.keepAliveTimer&&(window.clearInterval(this.keepAliveTimer),this.keepAliveTimer=null)}},{key:"getCollection",value:function(){return n("cdcijfdgje").default}}]),t}();E.Proxy="liveLocation",E.idClass=g.default,t.default=(0,u.defineModel)(E)},bifahbdaeg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=v(n("dgibicjjj")),i=n("cgejchjdhj"),u=n("bgddggdhc"),s=v(n("ddajbaceej")),l=n("dhfbfehaef"),c=v(l),f=v(n("dgiechcbec")),d=v(n("eceadcicaf")),p=v(n("ihfccfgdf")),h=n("bheafeifce"),m=v(n("cbeecgcage")),b=n("hjbbdjjdf"),g=v(n("bcifhbgija"));function v(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));_.call(n);var r=e.msg,a=e.author,o=e.active;return n.state={active:!!o&&o.value===r,author:a||null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.active&&this.props.listeners.add(this.props.active,this.props.msg.id.toString(),this.onActiveChange)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.author!==this.props.author&&this.setState({author:e.author})}},{key:"render",value:function(){var e=this.props.msg,t=a.createElement(m.default,{msg:e}),n=a.createElement(f.default,{msg:e,msgType:"Search",author:this.state.author,searchQuery:this.props.searchText?[this.props.searchText]:[]}),r={enter:this.onEnter};return a.createElement(c.default,{handlers:r,onFocus:this.indicateFocus,onBlur:this.onBlur},a.createElement(o.default,{ref:this.setRefCell,contextEnabled:this.contextEnabled,theme:"chat-search",active:!!this.state.active,primaryDetail:t,secondary:n,primary:void 0,onClick:this.onClick}))}}]),t}();y.CONCERNS={msg:["id","chat","isSentByMe","senderObj","rtl","dir","type"]};var _=function(){var e=this;this.onActiveChange=function(t,n){if("focus"===t){var r=(0,u.forbiddenAssertDOMNode)(e);s.default.focus(r),n&&(0,i.scrollIntoViewIfNeeded)(r)}e.setState({active:!!t})},this.onClick=function(t){if((0,b.isFunction)(e.props.onClick)){var n=(0,h.unproxy)(e.props.msg),r=n.chat,a=r.getSearchContext(n);a.msg=n,e.props.onClick(t,r,a)}},this.onEnter=function(t){t.preventDefault(),t.stopPropagation(),(0,l.shouldIndicateFocus)(),e.onClick(t)},this.indicateFocus=function(t){(0,l.indicateFocus)(e.refCell,["#e9eaeb","#cbdde7"],{complete:e.onBlur})},this.onBlur=function(t){var n=(0,u.forbiddenAssertDOMNode)(e.refCell);(0,g.default)(n,"stop"),n.style.backgroundColor=""},this.contextEnabled=function(){return!1},this.setRefCell=function(t){e.refCell=t}};y.displayName="MessageClass",t.default=(0,d.default)((0,p.default)(y,y.CONCERNS))},bifbhbbiie:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n("dfacahcafg"),o=(r=a)&&r.__esModule?r:{default:r},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag"));var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.PureComponent),i(t,[{key:"_renderColumns",value:function(){var e=this,t=this.props,n=t.numColumns,r=t.numItems,a=t.offset,i=t.renderItem,u=t.selectedIndex,s=0,l=r-n;return 1===a&&(n+=1,s=-1),a===l-1&&(n+=1),(0,o.default)(n,function(t){var n=t+s+a;return n<0?null:n>=r?null:i(n,n===u,e.props.menuWidth)})}},{key:"render",value:function(){return u.createElement(u.Fragment,null,this._renderColumns())}}]),t}();s.displayName="CarouselMenuItems",t.default=s},bifgjibich:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logFilterEvent=function(e){new o.default.QuickReply({quickReplyAction:o.default.QUICK_REPLY_ACTION.ACTION_CHAT_IMPRESSION,quickReplyCount:e}).commit()},t.logSelectEvent=function(){new o.default.QuickReply({quickReplyAction:o.default.QUICK_REPLY_ACTION.ACTION_CHAT_CLICK,quickReplyKeywordMatched:!1}).commit()},t.logCancelEvent=function(){new o.default.QuickReply({quickReplyAction:o.default.QUICK_REPLY_ACTION.ACTION_CHAT_CLICK_CANCEL}).commit()};var r,a=n("bfbggcdbfb"),o=(r=a)&&r.__esModule?r:{default:r}},bifjfdedi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("dhgeaaaega")),i=l(n("fifhbjiec")),u=l(n("dgiechcbec")),s=l(n("ihfccfgdf"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.chat,n=e.presence;if(n.isActive()){var r=n.getFormattedString();if(r)return a.createElement(i.default,{className:o.default.chatstateTyping,direction:"inherit",ellipsify:!0,titlify:!0,text:r})}var s=t.previewMessage;return s?a.createElement(u.default,{msg:s,msgType:"LastMessage"}):null}}]),t}();c.displayName="ChatStateInfo",c.CONCERNS={chat:["previewMessage"],chatstate:["id","type"]},c.WEAK_CONCERNS={presence:["hasData","withholdDisplay"]},c.displayName="ChatstateInfo";var f=(0,s.default)(c,c.CONCERNS,c.WEAK_CONCERNS);t.default=function(e){var t=e.chat;return a.createElement(f,{chat:t,presence:t.presence,chatstate:t.presence.chatstate})}},bigcibhibh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=s(n("dadagidhdg")),u=s(n("bfdcadbbif"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"render",value:function(){return o.createElement("div",{className:(0,a.default)(i.default.closeBtn,{[i.default.fullscreen]:this.props.isFullscreenMode}),onClick:this.props.onClick},o.createElement(u.default,{name:"video-x"}))}}]),t}();l.displayName="CloseButton",t.default=l},bigeebbfbi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hydrateMessage=function(e){var t=a.default.fromString(e.id);return(function e(t){if(Array.isArray(t))return t.map(function(t,n){return e((0,r.default)(n,t,o.isWidlike,o.createWidFromWidLike))});if(t&&"object"==typeof t){for(var n=Object.keys(t),a=0;a<n.length;a++){var i=n[a];t[i]=e((0,r.default)(i,t[i],o.isWidlike,o.createWidFromWidLike))}return t}return t}(e)).id=t,e};var r=i(n("eecdaegci")),a=i(n("cffajefeag")),o=n("dcbdjheea");function i(e){return e&&e.__esModule?e:{default:e}}},bigicfbcdh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=i(n("daahhbhaaf")),o=i(n("bfdcadbbif"));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){return r.createElement("div",{className:e.inactive?a.default.inactive:a.default.offline,onClick:e.onClick},r.createElement("div",null,r.createElement("div",{className:a.default.circle},r.createElement(o.default,{name:e.svgName})),r.createElement("div",{className:a.default.text},e.text)))}u.displayName="RetryOverlay"},bihbdchfhc:function(e,t){e.exports={hasText:"_3ZzfG",noText:"_1llsm",quote:"T55bS",hasAuthor:"_2zxsH",forwarded:"_2cLXT"}},bihdbbidff:function(e,t){e.exports={container:"_2fsn0",popupPanel:"QRsOy",wrapper:"aNhVd",emojiIcon:"_2dEi2",sendIcon:"_2Oy0E",lineWrapper:"_2Gbfq"}},biheibdage:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ATTACH_MEDIA_STATE=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},i=n("dcaifjegcg"),u=b(i),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cajijabhgb")),l=n("cgffhfegce"),c=b(n("bdiiahhjbe")),f=n("ddgbhifaji"),d=b(n("cieaaiahhf")),p=n("bfbggcdbfb"),h=n("cbcbdjdah"),m=b(n("beeieigghj"));function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v={READY:"ready",PROCESSING:"processing",ERROR:"error"};t.ATTACH_MEDIA_STATE=v;var y=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=r=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.id=(0,i.prop)(),r.file=(0,i.prop)(),r.uiProcessed=(0,i.prop)(),r.fileOrigin=(0,i.prop)(),r.state=(0,i.session)(),r.mediaPrep=(0,i.session)(),r.mimetype=(0,i.session)(),r.originalMimetype=(0,i.session)(),r.processPromise=(0,i.session)(),r.exception=(0,i.session)(),r.chat=(0,i.session)(),r.caption=(0,i.session)(),r.type=(0,i.session)(h.TYPE.UNKNOWN),r.preview=(0,i.session)(),r.fullPreview=(0,i.session)(),r.fullPreviewSize=(0,i.session)(),r.filename=(0,i.session)(),r.pdfPages=(0,i.session)(),r.isGif=(0,i.session)(),r.gifAttribution=(0,i.session)(),r.previewable=(0,i.derived)(r._previewable,["preview","fullPreview","type","filename","fullPreviewSize","mimetype"]),g(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),a(t,[{key:"_previewable",value:function(){if(!this.type||!this.mimetype||!this.fullPreview)return!1;switch(this.type){case h.TYPE.DOCUMENT:return!!this.filename;case h.TYPE.IMAGE:case h.TYPE.VIDEO:return!(!this.fullPreviewSize||!this.preview);case h.TYPE.AUDIO:case h.TYPE.PTT:case h.TYPE.UNKNOWN:return!0;default:throw new Error(`Unsupported attach media type ${this.type}`)}}},{key:"initialize",value:function(){if(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this),!(this.file instanceof Promise))throw new Error("cannot process non-promise file");this.processFile(this.file)}},{key:"processFile",value:function(e){this.state=v.PROCESSING,this.processPromise=this._processFilePromiseHelper(e)}},{key:"_processFileData",value:function(e){if(this.fileOrigin===p.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY&&e.file instanceof File){var t=e.file.name;return(0,l.copyFile)(e.file).then(function(n){return r({},e,{filename:t,file:n})})}return Promise.resolve(e)}},{key:"_processFilePromiseHelper",value:function(e){var t=this;return e.then(function(e){return t._processFileData(e)}).then(function(e){t.set(e);var n={},r=e.file,a=e.isGif,o=e.gifAttribution,i=e.filename;a?(n.asGif=a,n.gifAttribution=o):e.type===l.FILETYPE.DOCUMENT&&(n.asDocument=!0,n.filename=i),n.precomputedFields={fullHeight:e.fullPreviewSize?e.fullPreviewSize.height:void 0,fullWidth:e.fullPreviewSize?e.fullPreviewSize.width:void 0,preview:e.preview,duration:e.duration};var u=m.default.createFromData(r,r.type),s=(0,f.prepRawMedia)(u,n);return t.set({mediaPrep:s}),s.waitForPrep().then(function(n){var r=n.documentPreview,a=window.URL.createObjectURL(n.mediaBlob),o={file:n.mediaBlob,fullPreview:a,type:n.type,filename:n.filename,mimetype:n.mimetype,originalMimetype:e.mimetype,preview:n.preview,state:v.READY,isGif:n.isGif,fullPreviewSize:void 0,pdfPages:void 0};n.fullWidth&&n.fullHeight&&(o.fullPreviewSize={height:n.fullHeight,width:n.fullWidth}),n.type===h.TYPE.IMAGE&&(o.preview=a),n.type===h.TYPE.DOCUMENT&&r&&(o.fullPreview=r.url,o.preview=r.thumbUrl,o.fullPreviewSize={height:r.height,width:r.width},o.pdfPages=r.pdfPages),t.set(o),c.default.assert(t.previewable,"AttachMedia processFile","Invariant violated, processed file is not previewable")()})}).catch(s.InvalidMediaFileType,s.InvalidImageFileType,function(n){if(t.isGif||t.type===l.FILETYPE.DOCUMENT)throw n;return t._processFilePromiseHelper(e.then(function(e){return e.type=l.FILETYPE.DOCUMENT,e}))}).catch(d.default,s.MediaFileFailedLoad,s.MediaFileEmpty,function(e){return t.set({exception:e,state:v.ERROR}),t}).catch(function(e){return t.set({exception:new s.InvalidMediaFileType,state:v.ERROR}),t})}},{key:"sendToChat",value:function(e,t){if(!this.mediaPrep)throw new Error("MediaPrep not available");if(this.state===v.ERROR)throw new Error(this.exception);if(!(this.state!==v.PROCESSING||this.previewable&&t.addEvenWhilePreparing))throw new Error("Media still processing");if(this.state!==v.READY){var n={mimetype:this.mimetype};switch(this.type){case h.TYPE.VIDEO:n.isGif=this.isGif,n.gifAttribution=this.gifAttribution;case h.TYPE.IMAGE:n.width=this.fullPreviewSize.width,n.height=this.fullPreviewSize.height,n.body=this.preview,t.placeholderProps=n;break;case h.TYPE.DOCUMENT:n.pageCount=this.pdfPages,n.filename=this.filename,n.body=this.preview,t.placeholderProps=n;break;case h.TYPE.AUDIO:case h.TYPE.PTT:}this.mediaPrep.sendToChat(e,t)}else this.mediaPrep.sendToChat(e,t)}},{key:"getFileType",value:function(){if(!(this.file instanceof Blob||this.file instanceof File))throw new Error("expected file to be a Blob or File");return(0,l.typeFromMimetype)(this.file.type)}},{key:"delete",value:function(){this.fullPreview&&window.URL.revokeObjectURL(this.fullPreview),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this)}}]),t}();y.Proxy="attachMedia",t.default=(0,i.defineModel)(y)},bihjahgcja:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n("iffjgahba"),o=(r=a)&&r.__esModule?r:{default:r};var i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.reasons=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,(0,o.default)("ForwardError")),t}();t.default=i},biigiejiib:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendQueryGroup=function(e){var t=void 0;if(a.default.supportsFeature(a.default.F.MD_BACKEND))return Promise.reject(new Error("queryGroup: not supported when not build with MD_BACKEND"));t=c.default.groupMetadataFind(e);return t.then(function(t){if(t.id)return function(e,t){(0,u.isString)(t)&&i.default.Contact.find(e).then(function(e){if(!e.name){var n={name:t};(0,l.updateLocal)(e.id,n).then(function(){e.set(n)})}})}(e,t.subject),(0,s.updateParticipants)(t.id,t.participants).then(function(){return{id:t.id,owner:t.owner,creation:t.creation,desc:t.desc,descId:t.descId,descOwner:t.descOwner,descTime:t.descTime,restrict:t.restrict,announce:t.announce,noFrequentlyForwarded:t.noFrequentlyForwarded,ephemeralDuration:t.ephemeralDuration,participants:t.participants}});o.default.warn("Store:GroupMetadata Unexpected server response")(t)}).catch(r.ServerStatusCodeError,function(t){if(t.status>=400)return{id:e,stale:!1}})},t.sendQueryGroupInvite=function(e){var t=void 0;if(a.default.supportsFeature(a.default.F.MD_BACKEND))return Promise.reject(new Error("queryGroup: not supported when not build with MD_BACKEND"));t=c.default.groupInviteInfo(e).then(function(e){return 200!==e.status?Promise.reject(new r.ServerStatusCodeError(e.status)):e});return t},t.groupMetadataFindFromPhone=function(e){if(a.default.supportsFeature(a.default.F.MD_BACKEND))return Promise.reject(new Error("groupMetadataFindFromPhone: not supported in MD_BACKEND mode"));return c.default.groupMetadataFindFromPhone(e)};var r=n("ddjgcfjicj"),a=f(n("bjbdcigbdi")),o=f(n("bdiiahhjbe")),i=f(n("bhggeigghg")),u=n("hjbbdjjdf"),s=n("hhcfehghc"),l=n("dcjbdhhjge"),c=f(n("bihdhbjih"));function f(e){return e&&e.__esModule?e:{default:e}}},biiiheaiih:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reconnect=void 0;var r=n("dcdiaahjj"),a=i(r),o=i(n("eaaehfdjdg"));function i(e){return e&&e.__esModule?e:{default:e}}t.reconnect=(new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isReconnecting=!1,this.reconnectIfDisconnected=function(){t.isReconnecting||a.default.displayInfo!==r.StreamInfo.OFFLINE||(t.isReconnecting=!0,o.default.poke(),o.default.summary(),setTimeout(function(){return t.isReconnecting=!1},3e3))}}).reconnectIfDisconnected},biijfeijcb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TOTAL_SEARCH_HEIGHT=void 0;var r=b(n("ciajhadgcb")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.findEmojiRowAt=j,t.getNumColumns=O;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=b(n("dgbjhghjfc")),u=n("dfihaffaee"),s=b(u),l=b(n("bheebijggd")),c=b(n("bbhhbdicgc")),f=b(n("cicjcfabii")),d=b(n("bggeiidigb")),p=b(n("ecdffdifib")),h=b(n("ehjcaiibe")),m=b(n("bcifhbgija"));function b(e){return e&&e.__esModule?e:{default:e}}var g=t.TOTAL_SEARCH_HEIGHT=parseInt(h.default["-total-search-height"],10),v=parseInt(h.default["-title-height"],10),y={[l.default.SEARCH_RESULT]:function(){throw new Error("Search results should not be shown with a title.")},[l.default.RECENT]:function(){return l10n.t(416)},[i.default.SMILEYS_PEOPLE]:function(){return l10n.t(417)},[i.default.ANIMALS_NATURE]:function(){return l10n.t(411)},[i.default.FOOD_DRINK]:function(){return l10n.t(413)},[i.default.ACTIVITY]:function(){return l10n.t(410)},[i.default.TRAVEL_PLACES]:function(){return l10n.t(419)},[i.default.OBJECTS]:function(){return l10n.t(415)},[i.default.SYMBOLS]:function(){return l10n.t(418)},[i.default.FLAGS]:function(){return l10n.t(412)}},_=0;_=parseInt(h.default["-scrollbar-width"].replace(/px$/,""),10);var E=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._rowComponents=new Map,n._flatListController=new d.default,n._renderBlanks=!1,n._getRowsAndSectionDataMemoized=(0,p.default)(function(e){var t=e.numColumns,n=e.data,a=e.showTitles,o=g,i={},s=[];return n.forEach(function(e,l){var c=e.sectionId,f=e.emojiIds,d=0,p=o;if(0!==f.length){a&&(s.push({kind:"title",itemKey:`section_${c}_title`,index:s.length,title:y[c](),sectionId:c,height:v,offsetTop:o}),d+=v,o+=v);var m=(0,r.default)(f,t),b=l===n.length-1;m.forEach(function(e,t){var n=t===m.length-1&&!b?u.EMOJI_HEIGHT+parseInt(h.default["-section-bottom-margin"],10):u.EMOJI_HEIGHT;s.push({kind:"emojis",itemKey:`section_${c}_emoji_${t}`,index:s.length,emojiIds:e,sectionId:c,height:n,offsetTop:o}),d+=n,o+=n}),i[c]={height:d,offsetTop:p}}}),{rows:s,sectionData:i}}),n._handleEmojiFocus=function(e){var t=n._refScrollContainer;t&&n.props.onEmojiFocus(e,t)},n._handleScroll=function(e){n._animationFrameID||(n._animationFrameID=requestAnimationFrame(n._handleScrollOnAnimationFrame))},n._handleScrollOnAnimationFrame=function(){if(delete n._animationFrameID,n._refScrollContainer){var e=n._refScrollContainer.scrollTop;n.props.onScroll&&n.props.onScroll(e);var t=n._getSectionIdFromScrollTop(e);t&&n.props.onSection&&n.props.onSection(t)}},n._setRefScrollContainer=function(e){n._refScrollContainer=e},n._renderRow=function(e){switch(e.kind){case"title":return o.createElement("div",{className:h.default.title},e.title);case"emojis":return o.createElement(s.default,{emojiIds:e.emojiIds,focusAbove:function(t){n._focusEmojiAt(e.index,-1,t)},focusBelow:function(t){n._focusEmojiAt(e.index,1,t)},numColumns:n._getNumColumns(),onEmoji:n.props.onEmoji,onEmojiFocus:n._handleEmojiFocus,ref:function(t){t?n._rowComponents.set(e.itemKey,t):n._rowComponents.delete(e.itemKey)},allowVariantPrompt:e.sectionId!==l.default.RECENT});default:throw e.kind,new Error(`Invalid row kind: ${e.kind}`)}},n._getRowsAndSectionData(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),a(t,[{key:"componentDidMount",value:function(){this._refScrollContainer&&this._refScrollContainer.scrollTop!==this.props.initialScrollTop&&(this._refScrollContainer.scrollTop=this.props.initialScrollTop)}},{key:"focusFirstVisibleEmoji",value:function(e){var t=this._getFirstVisibleEmojiRowComponent(e||0);t&&t.focusEmojiAt(0)}},{key:"scrollToSection",value:function(e,t){var n=this,r=t||0,a=this._refScrollContainer;if(!a)return Promise.resolve();var o=this._getRowsAndSectionData().sectionData[e];if(!o)return Promise.resolve();var i=o.offsetTop;if(a.scrollTop===i)return Promise.resolve();if(this._activeAnimation){if(this._activeAnimation.sectionId===e)return this._activeAnimation.promise;(0,m.default)(this._activeAnimation.scrollTarget,"stop"),this._activeAnimation&&this._activeAnimation.promise.cancel()}if(a.scrollTop===i)return Promise.resolve();var u=document.createElement("div");u.style.position="absolute",u.style.top=`${i+r}px`,u.style.left="0px",a.appendChild(u);var s=(0,m.default)(u,"scroll",{container:a,duration:300,easing:[.99,.13,.13,.99]}).then(function(){}).delay(100);return this._activeAnimation={promise:s,sectionId:e,scrollTarget:u},s.finally(function(){a.removeChild(u),n._activeAnimation&&n._activeAnimation.promise===s&&delete n._activeAnimation}),s}},{key:"scrollToTop",value:function(){this._refScrollContainer&&(this._refScrollContainer.scrollTop=0)}},{key:"selectFirstVisibleEmoji",value:function(e){var t=this._getFirstVisibleEmojiRowComponent(e||0);t&&t.selectFirstEmoji()}},{key:"_getCurrentSearchInputHeight",value:function(){return this.props.searchInputVisible?g:0}},{key:"_getNumColumns",value:function(){return O(this.props.width)}},{key:"_getRowsAndSectionData",value:function(){return this._getRowsAndSectionDataMemoized({numColumns:this._getNumColumns(),data:this.props.data,showTitles:this.props.showTitles})}},{key:"_getFirstVisibleEmojiRowComponent",value:function(e){if(this._refScrollContainer){var t=this._refScrollContainer.scrollTop+e,n=this._getEmojiRowFromScrollTop(t);if(n)return this._rowComponents.get(n.itemKey)}}},{key:"_getEmojiRowFromScrollTop",value:function(e){return this._getRowsAndSectionData().rows.map(function(e){return"emojis"===e.kind?e:null}).filter(Boolean).find(function(t){return t.offsetTop+t.height>e})}},{key:"_getSectionIdFromScrollTop",value:function(e){var t=this._getEmojiRowFromScrollTop(e+this._getCurrentSearchInputHeight());if(t)return t.sectionId}},{key:"_focusEmojiAt",value:function(e,t,n){var r=j(this._getRowsAndSectionData().rows,e,t);if(r){var a=this._rowComponents.get(r.itemKey);a&&a.focusEmojiAt(n)}}},{key:"render",value:function(){var e=this._getRowsAndSectionData().rows,t=Math.min(e.length,2),n=void 0;return(this.props.onScroll||this.props.onSection)&&(n=this._handleScroll),o.createElement(f.default,{onScroll:n,className:h.default.container,onRef:this._setRefScrollContainer,flatListControllers:[this._flatListController]},o.createElement(c.default,{data:e,reorderAnimationsEnabled:!1,forceConsistentRenderCount:!1,flatListController:this._flatListController,direction:"vertical",extraItems:t,initialScrollFromStart:this.props.initialScrollTop,renderItem:this._renderRow}))}}]),t}();function j(e,t,n){for(var r=n<0?-1:1,a=t+n;a>=0&&a<e.length;){var o=e[a];if("emojis"===o.kind)return o;a+=r}}function O(e){var t=e-2*u.SIDE_MARGIN-_;return Math.floor(t/u.EMOJI_WIDTH)}E.displayName="EmojiSectionScrollList",t.default=E},bijdjchach:function(e,t){e.exports={count:"P6z4j"}},bijebbjggf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setArchive=function(e,t){return function e(t,n){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,a.genId)();if(t.archive===n)return Promise.reject(new u.ActionError);var c=t.promises;if(c.setArchive)return c.setArchive;var f=t.getLastMsgKeyForAction();var d=(0,o.sendConversationArchive)(t.id,n,f).cancellable();var p=n?new a.ActionType(l10n.t(14)):new a.ActionType(l10n.t(39));var h=d.then(function(r){var o=void 0;return 200===r.status?(o=n?l10n.t(13):l10n.t(38),new a.ActionType(o,l10n.t(158),function(){return e(t,!n,l)})):r.status>=400?n?new a.ActionType(l10n.t(12)):new a.ActionType(l10n.t(37)):void 0}).catch(function(r){s.default.error("models:chat:setArchive dropped")(r);var o=n?l10n.t(12):l10n.t(37);return new a.ActionType(o,l10n.t(154),function(){return e(t,n,l)})});i.default.openToast(r.createElement(a.ActionToast,{id:l,initialAction:p,pendingAction:h}));var m=c.setArchive=d.then(function(e){200!==e.status||e._duplicate||(t.archive=n,n&&(t.pin=void 0))}).finally(function(){c.setArchive=null});m.archive=n;return m}((0,l.unproxy)(e),t)};var r=f(n("ddhijeejag")),a=n("ccihhdchab"),o=n("bfgjcdgecg"),i=c(n("bbchdeehff")),u=f(n("cajijabhgb")),s=c(n("bdiiahhjbe")),l=n("bheafeifce");function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}},bijegdjcac:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Q(n("bebajedcaf")),a=Q(n("bejjegijhj")),o=Q(n("eaaagccfda")),i=Q(n("hhegggegb")),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=Q(n("ceffhbhahb")),c=z(n("ddhijeejag")),f=Q(n("djciiabagi")),d=Q(n("cdbddjfbcd")),p=Q(n("cgijjjgici")),h=Q(n("hgeacfdgi")),m=Q(n("cfadcbbiie")),b=Q(n("bbchdeehff")),g=Q(n("baagejbchg")),v=Q(n("bfdjgcjbeh")),y=Q(n("cbedjffdai")),_=Q(n("fciifhbdb")),E=Q(n("ccegbieicj")),j=Q(n("cbcchiaeeb")),O=n("ddjgcfjicj"),S=z(n("cajijabhgb")),w=n("bgddggdhc"),P=Q(n("ddajbaceej")),M=n("ejbdjaifi"),C=Q(n("fffdgbfji")),T=Q(n("eceadcicaf")),A=Q(n("cijhadicdb")),N=Q(n("bdiiahhjbe")),k=Q(n("ddchcbhaia")),I=Q(n("cbdehahifi")),R=Q(n("biecbbiiee")),L=Q(n("bjbedjfe")),D=Q(n("jcfhjhibi")),x=Q(n("ceddibdhdb")),U=Q(n("bgefgjjhb")),G=Q(n("bfdcadbbif")),F=n("bfjajhbdf"),B=Q(F),$=Q(n("bcjcbbafcj")),V=Q(n("caffijjhc")),H=Q(n("dbjbhajgfd")),W=Q(n("cdegfghcid")),Y=n("dgdhcdgffe"),K=Q(n("bcifhbgija")),q=Q(n("didfdhbecg"));function z(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function Q(e){return e&&e.__esModule?e:{default:e}}function J(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var Z=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));X.call(n);var r=e.chat;return n.state=u({},n._getInitialCursorAndFocusContext(e),{unreadCount:r.pendingSeenCount?0:r.unreadCount,isNearBottom:!0,newUnread:0,contextMenu:null,textsize:y.default.get().textsize,msgLoadState:te(e.msgCollection)}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.Component),s(t,[{key:"_getInitialCursorAndFocusContext",value:function(e){var t=e.focusCtx,n=e.chat,r=e.msgCollection,a=ee(t)||this.getUnreadFocusCtx(e),o=a&&a.msg,i=o&&o.id;return{cursor:D.default.create({msgCollection:r,focusedMsgKey:i,type:n.isGroup?g.default.RENDER_CURSOR.GROUP_CONVERSATION:g.default.RENDER_CURSOR.CONVERSATION}),focusCtx:a}}},{key:"componentWillUnmount",value:function(){null!=this._msgLoadStateChangeUnsubscribe&&this._msgLoadStateChangeUnsubscribe(),this.updateStickyDateMarker.cancel(),this.updateForCurrentPosition.cancel(),this.onResizeThrottle.cancel(),this.onResizeDebounce.cancel(),this.hideStickyDateMarker.cancel(),this.clearUnreadTimer&&clearTimeout(this.clearUnreadTimer),this.maybeSendSeen(),this.props.chat.markedUnread=!1}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.chat,r=t.listeners;r.add(b.default,"scroll_chat_to_bottom",function(t){e.scrollToBottom(t)}),r.add(b.default,"scroll_messages",this.scrollMessages),r.add(b.default,"textsize_change",function(t){return e.setState({textsize:t})}),r.add(b.default,"panes_will_change",this.onPanesWillChange),r.add(b.default,"panes_did_change",this.onPanesDidChange),r.add(b.default,"scroll_to_focused_msg",function(){e.chatOpenScrollTimestamp=Date.now()}),r.add(window,"focus",this.onWindowGainedFocus),r.add(window,"blur",this.onWindowLostFocus),r.add(window,"resize",this.onResizeThrottle),r.add(window,"resize",this.onResizeDebounce),r.add(R.default,"change:msgKey",this.onMsgKeyChange),this.attachMsgCollectionObservers(this.props);var a=this.props.rejectOnUnmount();(0,j.default)({signal:a}).then(function(){a.isRejected()||e.showStickyDateMarker()}).catch(p.default,function(){}),this.props.updateOpenedChatInfo({chat:n}),(0,Y.sendSeen)(n),this.updateForCurrentPosition(),this._notifyChatRendered()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.selectable===this.props.selectable&&(this.loadRecentMsgsPromise&&this.loadRecentMsgsPromise.cancel(),this.setState(u({msgLoadState:te(e.msgCollection)},this._getInitialCursorAndFocusContext(e))),this.attachMsgCollectionObservers(e))}},{key:"shouldComponentUpdate",value:function(e,t){if(!(0,d.default)(e,this.props))return!0;var n=this.state,r=n.msgLoadState,a=J(n,["msgLoadState"]),o=t.msgLoadState,i=J(t,["msgLoadState"]);return!(0,d.default)(o,r)||!(0,d.default)(i,a)}},{key:"componentDidUpdate",value:function(e){var t=this.props.chat;this.updateRenderedMsgCache(e.chat===t),this.props.updateOpenedChatInfo({chat:t}),e.msgCollection!==this.props.msgCollection&&this.updateForCurrentPosition(),this._notifyChatRendered()}},{key:"getMsgBottom",value:function(e,t){var n=e.scrollTop,r=e.scrollHeight,a=r-(n+e.clientHeight);return r-(t.offsetTop+t.clientHeight+a)}},{key:"setMsgBottom",value:function(e,t,n){var r=t.offsetTop+t.clientHeight+n-e.clientHeight;this.setScrollTop(e,r)}},{key:"getRenderedMessageCount",value:function(){return this.getMsgs().length}},{key:"isMostRecentCMC",value:function(){return this.props.chat.msgs===this.props.msgCollection}},{key:"setScrollBottom",value:function(e){var t=this.scrollContainer;t&&this.setScrollTop(t,t.scrollHeight-e-t.clientHeight)}},{key:"setScrollTop",value:function(e,t){this.programmaticScroll=Date.now(),e&&(e.scrollTop=t)}},{key:"showStickyDateMarker",value:function(){this.stickyDateMarker&&this.stickyDateMarker.setVisibility(!0),this.hideStickyDateMarker.debounce(3e3)}},{key:"nearBottom",value:function(){var e=this.scrollContainer;return!!e&&e.scrollTop+g.default.SCROLL_FUDGE>e.scrollHeight-e.clientHeight}},{key:"getUnreadFocusCtx",value:function(e){var t=e||this.props,n=t.chat,r=t.msgCollection,a=t.focusCtx,o=void 0;if(n.unreadCount?o=n.unreadCount:this.state&&this.state.unreadCount&&(o=this.state.unreadCount),(!a||this.isMostRecentCMC())&&o){var i=r.toArray().filter(function(e){return e.isUnreadType}).reverse().slice(0,o);if(i.length===o)return{msg:i=i[i.length-1],isUnreadDivider:n.shouldShowUnreadDivider,highlightMsg:!1}}}},{key:"getMsgs",value:function(){var e=this.props,t=e.focusCtx,n=e.msgCollection,r=this.state,a=r.cursor,o=r.msgLoadState;return t&&o.isLoadingAroundMsgs?[]:n.toArray().slice(a.getStart(n),a.getEnd(n))}},{key:"updateRenderedMsgCache",value:function(e){var t=this.messageList;if(t){for(var n=[],r=t.props.msgs,a=new Map,o={},i=0,u=r.length-1;i<u;){var s=Math.floor((i+u)/2),l=r[s].id.toString(),c=t.getMsgWrapperRef(l);t.getMsgVisibility(c).visibility===g.default.VISIBILITY.ABOVE?i=s+1:u=s}for(var f=i;f<r.length;f++){var d=r[f].id.toString(),p=t.getMsgWrapperRef(d);if(!p)throw new Error("msgRef not found!");var h=t.getMsgVisibility(p);if(h.visibility!==g.default.VISIBILITY.VISIBLE)break;o[d]={offset:h.offset,t:r[f].t},a.set(d,p),n.push(r[f].id)}if(this.scrollContainer){var m=this.scrollContainer.scrollTop;i=0,u=Object.keys(t.renderedDateMarkers).length-1;var b=t.getDateMarkerRef(0),v=b&&(0,w.forbiddenAssertDOMNode)(b);if(v&&v.offsetTop<=m+8.5)for(;i<u;){var y=Math.ceil((i+u)/2),_=t.getDateMarkerRef(y);if(!_)throw new Error(`DateMarkerRef: ${y} not found. ${Object.keys(t.renderedDateMarkers).toString()}}`);(0,w.forbiddenAssertDOMNode)(_).offsetTop>m+8.5?u=y-1:i=y}else i=-1;this.updateStickyDateMarker.onOrBefore(0,{dateMarkerIdx:i,silent:e}),this.dateMarkerIdx=i,this.pauseHiddenGifs(this.renderedMsgCache,a),this.renderedMsgCache=a,this.visibleMsgOrder=n,this.props.updateOpenedChatInfo({renderedMsgsInfo:o,visibleMsgOrder:n,clientHeight:this.scrollContainer?this.scrollContainer.clientHeight:0})}}else this.renderedMsgCache.clear()}},{key:"getMsgComponent",value:function(e){var t=this.messageList;if(t)return t.getMsgComponentRef(e.toString())}},{key:"pauseHiddenGifs",value:function(e,t){var n=this;e.forEach(function(e,r){if(!t.has(r)){var a=n.props.msgCollection.get(r);a&&a.isGif&&"function"==typeof e.pause&&e.pause()}})}},{key:"maybeSendSeen",value:function(e,t){var n=e,r=t,o=this.props,i=o.chat,u=o.msgCollection,s=this.state.cursor;if(i.isDirty()&&this.isMostRecentCMC()&&s.getEnd(u)>=u.length&&((0,a.default)(r)&&(r=document.hasFocus()),r&&((0,a.default)(n)&&(n=this.nearBottom()),n)))return(0,Y.sendSeen)(i),!0}},{key:"render",value:function(){var e=this,t=this.props,n=t.chat,r=t.msgCollection,a=t.selectable,o=t.onMessageSelect,i=this.state,u=i.focusCtx,s=i.msgLoadState,f=(0,l.default)(_.default.pane,{[_.default.selectable]:a}),d=this.isMostRecentCMC(),p=!!u,h=void 0,m=g.default.TEXTSIZE_CLASS_MAP.find(function(t){return t.scale===e.state.textsize});m&&(h=m.classname);var b=c.createElement(I.default,{ref:(0,M.GetRef)("messageList",this),unreadCount:this.state.unreadCount,selectable:a,onMessageSelect:o,msgs:this.getMsgs(),focusedMsgCtx:u,selectedMessages:this.props.selectedMessages,isMsgVisible:this.isMsgVisible,getSequentialMsg:this.getSequentialMsg}),v=c.createElement(A.default,{direction:"around",isMostRecentCMC:d,loadMoreMsgs:function(){},isLoadingEarlierMsgs:s.isLoadingEarlierMsgs,isLoadingRecentMsgs:s.isLoadingRecentMsgs,isLoadingAroundMsgs:s.isLoadingAroundMsgs}),y=void 0;(this.state.cursor.getStart(r)>0||!s.noEarlierMsgs||ne(n,d,s))&&(y=c.createElement(A.default,{direction:"earlier",isMostRecentCMC:d,loadMoreMsgs:this.loadEarlierMsgs,isLoadingEarlierMsgs:s.isLoadingEarlierMsgs,isLoadingRecentMsgs:s.isLoadingRecentMsgs,isLoadingAroundMsgs:s.isLoadingAroundMsgs}));var j=void 0;(this.state.cursor.getEnd(r)<r.length||!d)&&(j=c.createElement(A.default,{direction:"recent",isMostRecentCMC:d,loadMoreMsgs:this.loadRecentMsgs,isLoadingEarlierMsgs:s.isLoadingEarlierMsgs,isLoadingRecentMsgs:s.isLoadingRecentMsgs,isLoadingAroundMsgs:s.isLoadingAroundMsgs})),p&&s.isLoadingAroundMsgs?(j=void 0,y=void 0):v=void 0;var O=void 0,S=void 0,w=this.state,P=w.isNearBottom,C=w.newUnread;if(!P||!s.isLoadingAroundMsgs&&!d){C&&n.unreadCount&&(S=c.createElement(W.default,{count:this.state.newUnread,key:"icon-unread"}));var T=(0,l.default)(_.default.incoming,{[_.default.ffFix]:$.default.isGecko});O=c.createElement("div",{className:T,onClick:this.jumpToBottom,role:"button"},c.createElement(q.default,{transitionName:"pop",className:_.default.unread},S),c.createElement(G.default,{name:"down"}))}var N=void 0;return this.state.contextMenu&&(N=c.createElement(V.default,{displayName:"ConversationContextMenu",escapable:!0,popable:!0,requestDismiss:this.onContextClose},c.createElement(H.default,{contextMenu:this.state.contextMenu}))),c.createElement(E.default,{className:h},c.createElement(U.default,{ref:(0,M.GetRef)("stickyDateMarker",this)}),c.createElement(q.default,{transitionName:"pop"},O),c.createElement("div",{className:f,ref:this.setScrollContainer,onScroll:this.onScroll,onKeyPress:this.onKeyPress,onContextMenu:a?null:this.onContextMenu,onPaste:this.onPaste,tabIndex:"0"},c.createElement("div",{className:_.default.empty}),v,y,b,j),N)}}]),t}(),X=function(){var e=this;this.chatOpenScrollTimestamp=0,this.renderedMsgCache=new Map,this.visibleMsgOrder=[],this.setScrollContainer=function(t){return e.scrollContainer=t},this.onPanesWillChange=function(t){var n=e.visibleMsgOrder[e.visibleMsgOrder.length-1];if(n){var r=n.toString(),a=e.messageList;if(r&&a){var o=a.getMsgWrapperRef(r);if(o){var i=e.scrollContainer,u=(0,w.forbiddenAssertDOMNode)(o);if(!i)return;var s=e.getMsgBottom(i,u);e.panesChanging={msg:u,container:i,msgBottom:s}}}}},this.onPanesDidChange=function(t){if(e.panesChanging){var n=e.panesChanging,r=n.msg,a=n.container,o=n.msgBottom;e.setMsgBottom(a,r,o),e.panesChanging=void 0}},this.attachMsgCollectionObservers=function(t){var n=e.props,r=n.listeners,a=n.chat,o=n.msgCollection,i=t.focusCtx,u=t.chat,s=t.msgCollection;o&&(r.remove(o,"remove_msgs",e.onMsgsDelete),r.remove(a.msgs,"change:last",e.onLastMsgChanged)),r.remove(a,"change:unreadCount",e.onUnreadCount),null!=e._msgLoadStateChangeUnsubscribe&&e._msgLoadStateChangeUnsubscribe(),e._msgLoadStateChangeUnsubscribe=s.onMsgLoadStateChange(e._handleMsgLoadStateChange),r.add(u,"change:unreadCount",e.onUnreadCount),r.add(u.msgs,"change:last",e.onLastMsgChanged),r.add(s,"remove_msgs",e.onMsgsDelete),i&&s.loadAroundPromise&&s.loadAroundPromise.checkpoint(e.props.rejectOnUnmount()).catch(S.Unmount,function(){}).catch(O.E404,function(){b.default.openToast(c.createElement(B.default,{msg:C.default.t(722),id:(0,F.genId)()}))})},this.updateForCurrentPosition=(0,i.default)(function(){var t=e.props.rejectOnUnmount();(0,j.default)({signal:t}).then(function(){t.isRejected()||(e.updateRenderedMsgCache(),f.default.unstable_batchedUpdates(function(){var t=e.scrollContainer;if(null!=t){t.scrollTop<300&&e.loadEarlierMsgs();var n=e.state,r=n.isNearBottom,a=n.cursor,o=e.nearBottom();o?(e.maybeSendSeen(!0),e.isMostRecentCMC()&&r!==o&&e.setState({isNearBottom:o,newUnread:0}),(a.getEnd(e.props.msgCollection)<e.props.msgCollection.length||!e.isMostRecentCMC())&&e.loadRecentMsgs()):r!==o&&e.setState({isNearBottom:o})}}))}).catch(p.default,function(){})},100),this._handleMsgLoadStateChange=function(){var t=e.state.msgLoadState,n=te(e.props.msgCollection),r={msgLoadState:n};if(t.isLoadingAroundMsgs&&!n.isLoadingAroundMsgs){var a=ee(e.props.focusCtx),o=a&&a.msg;o&&(r=u({},r,{cursor:e.state.cursor.init(o.id,e.props.msgCollection),focusCtx:a}))}e.setState(r)},this.onResizeThrottle=(0,i.default)(function(){e.updateRenderedMsgCache()},100),this.onMsgKeyChange=function(t){var n=t.newKey,r=t.oldKey,a=r.toString(),o=n.toString(),i=e.renderedMsgCache.get(a);i&&(e.renderedMsgCache.delete(a),e.renderedMsgCache.set(o,i));for(var u=0;u<e.visibleMsgOrder.length;++u)if(e.visibleMsgOrder[u]===r){e.visibleMsgOrder[u]=n;break}},this.onResizeDebounce=(0,o.default)(function(){var t=e.nearBottom();e.nearBottom!==t&&e.setState({isNearBottom:t})},100),this.loadEarlierMsgs=function(){var t=e.props,n=t.chat,r=t.msgCollection,a=e.state,o=a.cursor,i=a.msgLoadState;if(o.getStart(r)>0)o.hasBefore(r)&&e.setState({cursor:o.loadBefore(r)});else{if(i.isLoadingEarlierMsgs||i.isLoadingAroundMsgs)return;if(ne(n,e.isMostRecentCMC(),i)&&(r.msgLoadState.noEarlierMsgs=!1),r.msgLoadState.noEarlierMsgs)return;n.loadEarlierMsgs(r).checkpoint(e.props.rejectOnUnmount()).then(function(){var t={};e.state.focusCtx||(t.focusCtx=e.getUnreadFocusCtx(e.props)),o.hasBefore(r)?(t.cursor=o.loadBefore(r),e.setState(t)):e.setState(t)}).catch(S.Unmount,function(){}).catch(function(e){N.default.log("ConversationMsgs:loadEarlierMsgs failed")(),N.default.log(e)()})}},this.loadRecentMsgs=function(){var t=e.props,n=t.chat,r=t.msgCollection,a=e.state,o=a.cursor,i=a.msgLoadState;if(o.getEnd(r)<r.length)e.setState({cursor:o.loadAfter(r)});else{if(i.isLoadingRecentMsgs||i.isLoadingAroundMsgs)return;e.loadRecentMsgsPromise=n.loadRecentMsgs(r).cancellable().checkpoint(e.props.rejectOnUnmount()).then(function(){o.hasAfter(r)?e.setState({cursor:o.loadAfter(r)}):e.state.cursor.getEnd(r)>=r.length&&e.isMostRecentCMC()&&e.forceUpdate()}).catch(S.Unmount,function(){}).catch(function(e){N.default.log("ConversationMsgs:loadRecentMsgs failed")(),N.default.log(e)()}).finally(function(){e.loadRecentMsgsPromise=null})}},this.onComposeHeightChange=function(t){var n=e.scrollContainer;if(n)if(t){if(n&&t<0&&n.scrollTop===n.scrollHeight-n.clientHeight)return;e.setScrollTop(n,n.scrollTop+t)}else{var r=n.scrollHeight-(n.scrollTop+n.clientHeight);(0,K.default)(n,{tween:18},{progress:function(){e.setScrollTop(n,n.scrollHeight-r-n.clientHeight)},duration:300},[.1,.82,.25,1])}},this.getScrollBottom=function(){var t=e.scrollContainer;return t?t.scrollHeight-(t.scrollTop+t.clientHeight):0},this.hideStickyDateMarker=new x.default(function(){e.stickyDateMarker&&e.stickyDateMarker.setVisibility(!1)}),this.updateStickyDateMarker=new x.default(function(t){var n=t||{},r=n.dateMarkerIdx,a=n.silent,o=void 0!==a&&a,i=e.messageList;if(i&&"number"==typeof r){o||Date.now()-(e.programmaticScroll||0)<200||e.showStickyDateMarker();var u=i.getDateMarkerRef(r);if(-1===r)e.stickyDateMarker.updateDateMarkerText();else if(u){var s=u.getTimestamp(),l=m.default.relativeDateStr(s).toUpperCase();e.stickyDateMarker.updateDateMarkerText(l)}if(e.dateMarkerIdx!==r){var c=i.getDateMarkerRef(e.dateMarkerIdx);c&&c.hide(!1),u&&u.hide(!0)}}}),this.isMsgVisible=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.renderedMsgCache.has(t.toString())&&(!!n||e.getMsgComponent(t))},this.getSequentialMsg=function(t){var n=e.getMsgs();if(n){var r=n.findIndex(function(e){return t.equals(e.id)});return r>=n.length-1?null:n[r+1]}},this.onScroll=function(t){e.updateForCurrentPosition()},this.onWindowGainedFocus=function(){var t=e.props.chat;!e.clearUnreadTimer&&t.isDirty()&&(e.clearUnreadTimer=setTimeout(function(){delete e.clearUnreadTimer,e.maybeSendSeen()},g.default.CLEAR_CHAT_DIRTY_WAIT))},this.onWindowLostFocus=function(){if(e.state.unreadCount&&e.isMostRecentCMC()){var t=e.props.chat;0===t.unreadCount&&e.setState({unreadCount:0}),t.markedUnread=!1}},this.jumpToBottom=function(){var t=e.props.msgCollection;e.isMostRecentCMC()&&e.state.cursor.getEnd(t)>=t.length?e.scrollToBottom():b.default.openChatBottom(e.props.chat).then(function(t){t&&b.default.focusChatTextInput(e.props.chat)})},this.scrollToBottom=function(t){var n=e.scrollContainer;n&&e.setScrollTop(n,n.scrollHeight),t&&t();var r=e.props.rejectOnUnmount();(0,j.default)({signal:r}).then(function(){r.isRejected()||e.setState({cursor:e.state.cursor.resetBeforeCursor(e.props.msgCollection)})}).catch(p.default,function(){})},this.onLastMsgChanged=function(t,n){var a=e.props.msgCollection,o=e.state.focusCtx,i=e.state.cursor,u=a.last();if(e.isMostRecentCMC()){var s={},l=document.hasFocus(),c=e.nearBottom(),f=c;l&&c?(s.unreadCount=0,s.focusCtx=void 0,i=i.setFocusedMsgKey(a)):u&&u.isSentByMe&&n&&(f=!0,e.state.unreadCount&&(s.unreadCount=0,s.focusCtx=void 0,i=i.setFocusedMsgKey(a)),e.jumpToBottom()),(i=o&&!s.hasOwnProperty("focusCtx")?i.loadAfter(a,{count:1}):i.loadBeforeCapped(a,{count:1}))!==e.state.cursor&&(s.cursor=i),(0,r.default)(s)||e.setState(s,function(){f&&e.scrollToBottom()})}else n&&t&&t.isSentByMe&&e.jumpToBottom()},this.onUnreadCount=function(){var t=e.props.chat,n=e.nearBottom(),a=document.hasFocus();e.maybeSendSeen(n,a);var o={};if(t.unreadCount&&!t.pendingSeenCount&&e.isMostRecentCMC()){o.unreadCount=t.unreadCount;var i=e.getUnreadFocusCtx();i&&(o.focusCtx=i,o.cursor=e.state.cursor.setFocusedMsgKey(e.props.msgCollection,i.msg&&i.msg.id))}var u=n&&o.unreadCount-e.state.unreadCount==1;(!n&&e.isMostRecentCMC()||!t.pendingSeenCount&&e.state.newUnread!==t.unreadCount)&&(o.newUnread=t.unreadCount),(0,r.default)(o)||e.setState(o,function(){u&&e.scrollToBottom()})},this.onMsgsDelete=function(){var t=e.state.cursor.ensureValidFocus(e.props.msgCollection);e.state.cursor!==t?e.setState({cursor:t}):e.forceUpdate()},this.onPageUpDown=function(t){P.default.focus(e.scrollContainer)},this.scrollMessages=function(){var t=e.visibleMsgOrder[e.visibleMsgOrder.length-1];if(t){var n=e.messageList;if(n){var r=n.getMsgWrapperRef(t.toString());if(r){var a=(0,w.forbiddenFindDOMNode)(r);if(a){var o=1===e.visibleMsgOrder.length?a.clientHeight:0,i=e.scrollContainer;(0,K.default)(a,"stop"),i&&(0,K.default)(i,"stop"),(0,K.default)(a,"scroll",{duration:300,container:i,offset:o})}}}}},this.onKeyPress=function(t){t.metaKey||t.ctrlKey||(t.preventDefault(),"Enter"!==t.key||t.shiftKey?b.default.pasteChatTextInput(e.props.chat,String.fromCharCode(t.charCode)):b.default.enterChatTextInput(e.props.chat))},this.onContextMenu=function(t){var n=e.props.chat,r=e.props.onSelectMessages,a=void 0;if(n.isUser)a=c.createElement(v.default,{callUi:h.default,chat:n,toContextMenuManager:!0,contact:n.contact,onSelectMessages:r});else if(n.isGroup)a=k.default.group(n,r);else{if(!n.isBroadcast)return;a=k.default.broadcast(n,r)}t.preventDefault(),t.stopPropagation(),t.persist(),e.setState({contextMenu:{menu:a,event:t}})},this.onContextClose=function(){e.setState({contextMenu:null})},this.onPaste=function(t){t.preventDefault(),t.persist(),b.default.sendPasteToCompose(e.props.chat,t)},this._notifyChatRendered=function(){e.props.notifyChatRendered&&e.props.notifyChatRendered(e.getMsgs())}};function ee(e){return null==e?null:null!=e.key?u({},e,{msg:R.default.get(e.key)}):e}function te(e){var t=e.msgLoadState;return{noEarlierMsgs:t.noEarlierMsgs,isLoadingEarlierMsgs:t.isLoadingEarlierMsgs,isLoadingRecentMsgs:t.isLoadingRecentMsgs,isLoadingAroundMsgs:t.isLoadingAroundMsgs,contextLoaded:t.contextLoaded}}function ne(e,t,n){var r=n.noEarlierMsgs&&e.shouldAppearInList&&t&&e.msgChunks.filter(function(e){return e.filter(function(t){return t.msgChunk===e}).length>0}).length>0;return r&&N.default.assert(!1,"noEarlierMsgs-error",`MRM noEarlierMsgs on chat ${String(e.id)} is true but chat.msgChunks has length: ${e.msgChunks.length},\n                    and chat.msgs.length: ${e.msgs.length}`)(),r}Z.displayName="ConversationMsgs",t.default=(0,L.default)((0,T.default)(Z))},bijffg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LabelCollection=t.LABEL_PROPERTIES=void 0;var r=w(n("jdjcgjgea")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=S(n("ddhijeejag")),i=n("ccihhdchab"),u=w(n("cgcgbfbffj")),s=w(n("bbchdeehff")),l=w(n("bjigbaghc")),c=n("ddjgcfjicj"),f=S(n("cajijabhgb")),d=w(n("fffdgbfji")),p=w(n("bbjjjbicfb")),h=n("bddhdheedf"),m=n("hciaejfjd"),b=w(n("bdiiahhjbe")),g=w(n("bfbggcdbfb")),v=S(n("ebggjhghhi")),y=w(n("bhggeigghg")),_=w(n("bgabgddgch")),E=w(n("egjjcjcg")),j=w(n("bihdhbjih")),O=w(n("eaaehfdjdg"));function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function w(e){return e&&e.__esModule?e:{default:e}}var P=t.LABEL_PROPERTIES=Object.freeze({NAME:"name",COLOR:"color"}),M=Object.freeze({UPDATING:"updating",SUCCEEDED:"succeeded",FAILED:"failed"}),C=t.LabelCollection=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.checksum=void 0,e.listenTo(e,"remove",e.handleRemove),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),a(t,[{key:"addNewLabel",value:function(e,t){(0,h.logLabelOperationEvent)(g.default.LABEL_OPERATIONS.ADD,1,g.default.LABEL_TARGETS.LABEL);var n=j.default.createLabel(e,t),r=new i.ActionType(d.default.t(4,{labelName:e})),a=(0,i.genId)(),u=n.then(function(t){return 200===t.status?new i.ActionType(d.default.t(112,{labelName:e})):new i.ActionType(d.default.t(111,{labelName:e}))}).catch(function(t){return b.default.error("addingNewLabel dropped")(t),new i.ActionType(d.default.t(111,{labelName:e}))});return s.default.openToast(o.createElement(i.ActionToast,{id:a,initialAction:r,pendingAction:u})),n}},{key:"addOrRemoveLabels",value:function(e,t){var n=j.default.addOrRemoveLabels(e,t),r=new i.ActionType(d.default.t(1,{count:e.length,_plural:e.length})),a=(0,i.genId)(),u=n.then(function(t){return 200===t.status?new i.ActionType(d.default.t(3,{count:e.length,_plural:e.length})):new i.ActionType(d.default.t(2))}).catch(function(e){return b.default.error("addingNewLabel dropped")(e),new i.ActionType(d.default.t(2))});return s.default.openToast(o.createElement(i.ActionToast,{id:a,initialAction:r,pendingAction:u})),n}},{key:"deleteLabel",value:function(e){(0,h.logLabelOperationEvent)(g.default.LABEL_OPERATIONS.DELETE,1,g.default.LABEL_TARGETS.LABEL);var t=j.default.deleteLabel(e),n=this.get(e);if(n){var r=n.name,a=new i.ActionType(d.default.t(49,{labelName:r})),u=(0,i.genId)(),l=t.then(function(e){return 200===e.status?new i.ActionType(d.default.t(48,{labelName:r})):new i.ActionType(d.default.t(47,{labelName:r}))}).catch(function(e){return b.default.error("addingNewLabel dropped")(e),new i.ActionType(d.default.t(47,{labelName:r}))});return s.default.openToast(o.createElement(i.ActionToast,{id:u,initialAction:a,pendingAction:l})),t}b.default.log("deleteLabel - label does not exist")()}},{key:"_getActionLabelUpdateString",value:function(e,t){switch(e){case P.NAME:return t===M.UPDATING?d.default.t(88):t===M.SUCCEEDED?d.default.t(90):d.default.t(89);case P.COLOR:return t===M.UPDATING?d.default.t(85):t===M.SUCCEEDED?d.default.t(87):d.default.t(86)}return""}},{key:"updateLabel",value:function(e,t){var n=this;(0,h.logLabelOperationEvent)(g.default.LABEL_OPERATIONS.EDIT,1,g.default.LABEL_TARGETS.LABEL);var r=j.default.editLabel(e.id,e.name,e.color),a=new i.ActionType(this._getActionLabelUpdateString(t,M.UPDATING)),u=(0,i.genId)(),l=r.then(function(e){return 200===e.status?new i.ActionType(n._getActionLabelUpdateString(t,M.SUCCEEDED)):new i.ActionType(n._getActionLabelUpdateString(t,M.FAILED))}).catch(function(e){return b.default.error("updatingLabel dropped")(e),new i.ActionType(n._getActionLabelUpdateString(t,M.FAILED))});return s.default.openToast(o.createElement(i.ActionToast,{id:u,initialAction:a,pendingAction:l})),r}},{key:"getNewLabelColor",value:function(){return j.default.queryNextLabelColor().then(function(e){return e.labelColors[0].color}).catch(function(e){})}},{key:"getLabelColorPalette",value:function(){return this.labelColorPalette=this.labelColorPalette||E.default.getSmbLabelPalette(),this.labelColorPalette&&this.labelColorPalette.waVersion===l.default.phone.wa_version?Promise.resolve(this.labelColorPalette.colors):this._getColorPaletteLoop().then(function(e){var t=e.labelColors.map(function(e){return e.color});return E.default.setSmbLabelPalette({colors:t,waVersion:l.default.phone.wa_version}),t}).catch(function(){})}},{key:"_getColorPaletteLoop",value:function(){return Promise.loop(function(e,t,n){var r=Promise.delay(_.default.expBackoff(n,12e4,1e3,.1));return("CONNECTED"===O.default.stream?Promise.resolve():v.waitForBBEvent(O.default,"change:stream",function(){return"CONNECTED"===O.default.stream})).then(function(){return j.default.queryLabelPalette().then(function(t){e(t)})}).catch(function(e){return!(e instanceof Promise.CancellationError)},function(e){return n>3||404===e?(b.default.error("labels:loadLabelPalette:error "+String(e))(),404===e?Promise.reject(new c.E404):Promise.reject(new f.GaveUpRetry(`Gave up loading label palette ${n} tries`))):r})},0)}},{key:"handleRemove",value:function(e){var t=this;e.labeltemColleciton.toArray().forEach(function(e){var n=e.parentId,a=e.parentType,o=e.labelId,i=t._getParentModel(a).get(n);i&&(i.labels=(0,r.default)(i.labels,function(e){return e!==o}))})}},{key:"_getParentModel",value:function(e){switch(e){case"Chat":return y.default.Chat;case"Contact":return y.default.Contact;case"Msg":return y.default.Msg;default:throw new Error(`invalid parentType ${e}`)}}},{key:"onResume",value:function(){var e=this;this.filter(function(e){return e.hasObservers()}).forEach(function(t){e.find(t.id).catch(c.WapDrop,function(){})})}},{key:"delete",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),delete this.checksum}},{key:"sync",value:function(e){if(!e||this.checksum!==e)return this.findQuery({}).catch(c.WapDrop,function(){})}},{key:"handle",value:function(e){var t=this;if(e.checksum&&this.updateChecksum(e.checksum),e.labels&&e.labels[0]&&e.labels[0].labelUpdates){var n=void 0;return e.labels[0].labelUpdates.forEach(function(e){e.collection.forEach(function(r){"Msg"!==r&&"Chat"!==r||(n=!0);var a=e.id,o=t._getParentModel(r).get(e.id);o&&(o.labels&&o.labels.forEach(function(t){e.labels.includes(t)||(0,m.removeLabelFromCollection)(a,t,r)}),o.labels=e.labels)})}),void(n&&this.trigger("bulk_msg_chat_label_change"))}var r=[],a=[];e.labels.forEach(function(e){"delete"===e.type?r.push(e.label):a.push(e.label)}),this.remove(r.map(function(e){return e.id})),this.add(a,{merge:!0})}},{key:"_findQuery",value:function(){var e=this;return j.default.queryLabels().then(function(t){return t.checksum&&e.updateChecksum(t.checksum),t.labels})}},{key:"_find",value:function(e){return this._findQuery()}},{key:"updateChecksum",value:function(e){this.checksum=e}}]),t}();C.model=p.default,C.staleCollection=!0,C.resumeOnAvailable=!0,t.default=new C},bijjheifie:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStatus=function(e){return(0,l.getStatus)(e).then(function(t){var n={id:e};if((0,f.isNumber)(t.status))switch(t.status){case 429:n.stale=!0;var r=c.default.Status.get(e);r&&!(0,f.isString)(r.status)&&(n.status="");break;default:n.status=""}else n.status=t.status;return n})},t.setMyStatus=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,a.genId)();var f=t.trim();if(!f)return Promise.reject(new u.ActionError);var d=(0,l.setMyStatus)(f);var p=new a.ActionType(l10n.t(153));var h=c.default.Status.assertGet(i.default.me).status;var m=d.then(function(t){return 200===t.status?new a.ActionType(l10n.t(151),l10n.t(158),function(){return e(h,n)}):t.status>=400?new a.ActionType(l10n.t(152)):void 0}).catch(function(r){throw s.default.error("models:statusCollection:setMyStatus dropped")(r),new a.ActionType(l10n.t(152),l10n.t(154),function(){return e(t,n)})});o.default.openToast(r.createElement(a.ActionToast,{id:n,initialAction:p,pendingAction:m}));return d.then(function(e){200!==e.status||e._duplicate||(c.default.Status.assertGet(i.default.me).status=t)})};var r=p(n("ddhijeejag")),a=n("ccihhdchab"),o=d(n("bbchdeehff")),i=d(n("bjigbaghc")),u=p(n("cajijabhgb")),s=d(n("bdiiahhjbe")),l=n("cbcjhabjci"),c=d(n("bhggeigghg")),f=n("hjbbdjjdf");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}},bjaehhfffd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initSessionId()}return r(e,[{key:"initSessionId",value:function(){this.sessionId=this.newSessionId()}},{key:"newSessionId",value:function(){return this.sessionId=Math.floor(2147483648*Math.random()),this.sessionId}}]),e}();t.default=a},bjbggbjed:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DISP_LOCATION=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=b(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=n("dbgdaechch"),u=b(n("dcfafchbae")),s=n("bheebijggd"),l=b(s),c=b(n("dibjgbdhfg")),f=b(n("eceadcicaf")),d=b(n("caciiaejed")),p=b(n("bjfecgfdgj")),h=b(n("defeghgfc")),m=b(n("egjjcjcg"));function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=t.DISP_LOCATION={COMPOSE_BOX:"COMPOSE_BOX",DROPDOWN:"DROPDOWN"},E=function(e){function t(e){g(this,t);var n=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n._sectionIds=0===p.default.length?s.ORDERED_TAB_SECTION_IDS.filter(function(e){return e!==l.default.RECENT}):s.ORDERED_TAB_SECTION_IDS,n._handleEmojiPanelFocusNext=function(){n.props.onFocusNext()},n._handleMenuTabClick=function(e){n._selectSection(e)},n._handleMouseDown=function(e){e.stopPropagation(),e.preventDefault(),n._focusSearchInput()},n._handlePanelSection=function(e){n._animationPromise||n.state.selectedSectionId!==e&&n.setState({selectedSectionId:e})},n._onEmoji=function(e){p.default.increment(e),n.props.onEmoji(e)},n._setRefContent=function(e){n._refContent=e},n.renderEmojiTab=function(e,t){return o.createElement(h.default,{key:e,onClick:n._handleMenuTabClick,sectionId:e,selected:t})},n._scrollSectionIds=n._sectionIds;var r=void 0;return r=n.props.displayCache?n.props.displayCache:{scrollTop:0,sectionId:n._sectionIds[0],showSearchInput:!0},n._displayCache=r,n.state={selectedSectionId:r.sectionId},n}return y(t,o.PureComponent),r(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.uiIdle(function(){e.restoreFocus()})}},{key:"restoreFocus",value:function(e){this._focusSearchInput(e)}},{key:"_focusSearchInput",value:function(e){this._refContent&&this._refContent.focusSearchInput(e)}},{key:"_selectSection",value:function(e){this.state.selectedSectionId!==e&&(m.default.setLastEmojiTab(e),this.setState({selectedSectionId:e}),this._focusSearchInput(),this._scrollToSection(e))}},{key:"_scrollToSection",value:function(e){var t=this;if(this._refContent){var n=this._refContent.scrollToSection(e);this._animationPromise=n,n.finally(function(){n===t._animationPromise&&delete t._animationPromise})}}},{key:"render",value:function(){var e=(0,a.default)(c.default.emojiPanel,{[c.default.panelDropdown]:this.props.displayLocation===_.DROPDOWN}),t=this.props.width,n=void 0===t?i.EMOJI_PICKER_WIDTH:t;return o.createElement("div",{className:e,onMouseDown:this._handleMouseDown},o.createElement(d.default,{selectedSectionId:this.state.selectedSectionId,sectionIds:this._sectionIds,renderSectionTab:this.renderEmojiTab}),o.createElement(u.default,{displayCache:this._displayCache,width:n,onDisplayCache:this.props.onDisplayCache,onFocusPrev:this.props.onFocusPrev,onFocusNext:this._handleEmojiPanelFocusNext,onEmoji:this._onEmoji,onSection:this._handlePanelSection,ref:this._setRefContent,sectionIds:this._scrollSectionIds}))}}]),t}();E.defaultProps={displayLocation:_.DROPDOWN},E.displayName="EmojiPanel";var j=(0,f.default)(E),O=function(e){function t(){return g(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,j),r(t,[{key:"restoreFocus",value:function(e){this.getComponent().restoreFocus(e)}}]),t}();t.default=O},bjcegba:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n("bgifaaggh"));t.queryGroupFromPhone=function(e){return(0,i.groupMetadataFindFromPhone)(e).then(function(t){return"ok"===t.status?t.data:"missing"!==t.status?"error"===t.status?(o.default.error("model:GroupMetadata:find error "+t.info)(),Promise.reject(new Error("model:GroupMetadata:find error"))):void 0:void(0,r.default)(function(){u.default.Chat.assertGet(e).delete()})})},t.queryGroupInviteInfo=function(e){return(0,i.sendQueryGroupInvite)(e).then(function(e){var t=e.status,n=e.subject,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["status","subject"]),o=new a.default(r);u.default.Contact.gadd(o.id);var i=u.default.Chat.get(o.id),s=!!i&&!i.isReadOnly;return{status:t,subject:n,groupMetadata:o,inGroup:s}})};var a=s(n("fcfchiagj")),o=s(n("bdiiahhjbe")),i=n("biigiejiib"),u=s(n("bhggeigghg"));function s(e){return e&&e.__esModule?e:{default:e}}},bjcfdghhfc:function(e,t){e.exports={"-item-spacing":"16px",itemSpacing:"16px","-item-width":"26px",itemWidth:"26px",container:"-XQxp",active:"_1oNFt",square24:"_1jjUV",square26:"UNg3F",btn:"_27Kg1",top:"_24zF5",padding:"_2NeJ7"}},bjcgcdejaa:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DIR=void 0,t.default=function(e,t){var n=e;if(!n)return;do{n=t===i.NEXT?n.nextSibling:n.previousSibling}while(n&&(0,o.default)(n));return n};var r,a=n("ccagfiehde"),o=(r=a)&&r.__esModule?r:{default:r};var i=t.DIR={NEXT:"NEXT",PREV:"PREV"}},bjddgjgae:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=h(n("ceffhbhahb")),o=p(n("ddhijeejag")),i=h(n("bbchdeehff")),u=h(n("eiiicijcj")),s=p(n("ecibddhig")),l=h(n("bfbggcdbfb")),c=h(n("dfhbgghjei")),f=h(n("ihfccfgdf")),d=h(n("bghjfahjfd"));function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,s=Array(a),c=0;c<a;c++)s[c]=arguments[c];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r._showMediaMissing=function(){i.default.openModal(o.createElement(u.default,{msg:r.props.msg}))},r._downloadMedia=function(){r.props.msg.downloadMedia(!0,l.default.WEBC_RMR_REASON_CODE.MSG_CLICK)},r._cancelDownload=function(){r.props.msg.cancelDownload()},r._cancelUpload=function(){r.props.msg.cancelUpload()},r._resumeUpload=function(){r.props.msg.resumeUpload()},r._resumeRemoteUpload=function(){r.props.msg.resumeRemoteUpload()},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"render",value:function(){var e=this.props.mediaData,t=void 0,n=void 0,r=e.mediaStage;switch(r){case"RESOLVED":t=null,n=null;break;case"FETCHING":t=this._cancelDownload,n=o.createElement(s.PendingCancel,null);break;case"NEED_POKE":t=this._downloadMedia,n=o.createElement(s.Download,{filesize:e.size});break;case"UPLOADING":t=this._cancelUpload,n=o.createElement(s.PendingCancel,null);break;case"NEED_UPLOAD":t=this._resumeUpload,n=o.createElement(s.Upload,{filesize:e.size});break;case"REMOTE_NEED_UPLOAD":t=this._resumeRemoteUpload,n=o.createElement(s.Upload,{filesize:e.size});break;case"ERROR_MISSING":t=this._showMediaMissing,n=o.createElement(s.Upload,{filesize:e.size});break;case"ERROR_UNSUPPORTED":t=this._showMediaMissing,n=o.createElement(s.Download,{filesize:e.size});break;case"SENDING":case"DECRYPTING":case"ERROR_TOO_LARGE":case"INIT":case"PREPARING":case"REMOTE_UPLOADING":case"REUPLOADING":n=o.createElement(s.Pending,null);break;default:throw new Error(`invalid value for sticker mediaStage '${r}'`)}return o.createElement("div",{className:(0,a.default)(c.default.thumb,d.default.cursorAuto),onClick:t},n,this.props.children)}}]),t}();b.CONCERNS={mediaData:["mediaStage","size"]},b.displayName="StickerMediaControl",t.default=(0,f.default)(b,b.CONCERNS)},bjddijedhj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.shift();if(Array.isArray(t)){var n=e.shift();!function(e,t){var n=l.default.Contact,r=t&&"remove"===t.missing?(0,s.getContactsToRemove)(e):[];(0,f.mungePSAContact)(e);var a=Promise.resolve();if(o.default.supportsFeature(o.default.F.MODEL_STORAGE)){if(r.length){var d=r.map(function(e){return e.id.toString()});a=u.Contact.bulkRemove(d)}a=a.then(function(){return(0,c.bulkCreateOrUpdateContacts)(e)})}a.then(function(){n.add(e,{merge:!0}),r.forEach(function(e){e.unset("name"),e.unset("shortName")}),t&&t.checksum&&(n.setChecksum(t.checksum),i.default.log("handle:Contact update checksum "+t.checksum)())}),i.default.log("handle:Contact updated "+e.map(function(e){return e.id}).join())()}(t,n)}else"preempt"===t.cmd?function(e){var t=l.default.Contact;(0,f.mungePSAContact)(e.response);var n=void 0;n=o.default.supportsFeature(o.default.F.MODEL_STORAGE)?(0,c.bulkCreateOrUpdateContacts)(e.response):Promise.resolve();n.then(function(){t.add(e.response,{merge:!0}),e.checksum&&(t.setChecksum(e.checksum),i.default.log("Store:Contact:handle update checksum "+e.checksum)()),t.trigger(r.default.COLLECTION_HAS_SYNCED,{count:e.response.length,binarySize:e.binarySize})})}(t):"frequent"===t.type?function(e){delete e.type;var t=void 0;t=o.default.supportsFeature(o.default.F.MODEL_STORAGE)?(0,a.setFrequent)(e):Promise.resolve();t.then(function(){l.default.Contact.updateFrequentContacts(e)})}(t):"sidelist"===t.type?function(e){var t=l.default.Contact,n=e.notification,r=e.action,a=e.hash,o=t._contactHashes.get(a);if(!o)return;"business"===n&&"profile"===r&&o.forEach(function(e){var n=t.get(e);if(n)n.businessProfile&&n.businessProfile.markStale();else{var r=t.getUserCount(),o=t._contactHashes.length;i.default.assert(!1,"Stale wid in contact hash index",`Hash: ${a} Users: ${r}, Hashes: ${o}`)()}})}(t):i.default.error("handle:Contact unknown: "+JSON.stringify(t))()};var r=d(n("baagejbchg")),a=n("cbecjajacd"),o=d(n("bjbdcigbdi")),i=d(n("bdiiahhjbe")),u=n("cefcddgdgg"),s=n("dbefabiacb"),l=d(n("bhggeigghg")),c=n("dbhhjaecch"),f=n("dafafigeih");function d(e){return e&&e.__esModule?e:{default:e}}},bjdfbiahbi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=u(n("ceffhbhahb")),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=u(n("hbfbchadb")),i=u(n("fifhbjiec"));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=(0,r.default)(o.default.chatSubtitle,{[o.default.chatSubtitleHeader]:"title"===e.location});return a.createElement("div",{className:t},a.createElement(i.default,{titlify:!0,className:o.default.chatSubtitleText,direction:"inherit",text:e.text}))}s.displayName="ChatSubtitleText"},bjdjbcefcc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n("bfjfgcfade")),a=h(n("dfcggebdjj")),o=h(n("cdheafhdbh")),i=h(n("ccchcigijb")),u=h(n("eccjbdjafd")),s=h(n("ciibfajghc")),l=h(n("eaecbgafff")),c=h(n("bafdbchefg")),f=h(n("bfccafhbbb")),d=h(n("ddibegacej")),p=h(n("ecidjifge"));function h(e){return e&&e.__esModule?e:{default:e}}var m=new i.default,b=new r.default,g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,(0,u.default)([a.default,b,l.default,m,c.default,s.default])),t}();g.Suggestions=(0,p.default)(f.default,{plugin:m}),g.EmojiSuggestions=(0,p.default)(o.default,{plugin:b}),g.QuickRepliesSuggestions=(0,p.default)(d.default,{plugin:s.default}),t.default=g},bjeccdffag:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("bbahcjdgfa")),i=s(n("becfabjeeg")),u=s(n("bfdcadbbif"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.children,n=e.onClick,i=n?{onClick:n}:{};return a.createElement("div",r({className:o.default.docState},i),t)};l.displayName="DocState";var c=function(e){var t=e.onClick;return a.createElement(l,{onClick:t||function(){}},a.createElement(u.default,{name:"audio-download"}))};c.displayName="Download";var f=function(e){var t=e.outgoingMsg;return a.createElement(l,null,a.createElement("div",{className:o.default.spinner},a.createElement(i.default,{stroke:3,size:32,outgoingMsg:t})))};f.displayName="Pending";var d=function(e){var t=e.outgoingMsg;return a.createElement(l,null,a.createElement("div",{className:o.default.spinner},a.createElement(i.default,{stroke:3,size:32,outgoingMsg:t})),a.createElement(u.default,{name:"audio-cancel-noborder"}))};d.displayName="PendingCancel";var p=function(){return a.createElement(l,null,a.createElement(u.default,{name:"audio-upload"}))};p.displayName="Upload",e.exports={Download:c,Pending:f,PendingCancel:d,Upload:p}},bjecicbiic:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendConversationDelete=function(e,t,n){return o.default.sendConversationDelete(e,t).then(function(o){if(r.default.supportsFeature(r.default.F.MODEL_STORAGE)&&200===o.status&&!o._duplicate){var i=n();if(t&&t.equals(i)||t===i)return a.Chat.remove(e.toString()).then(function(){return o})}return o})};var r=i(n("bjbdcigbdi")),a=n("cefcddgdgg"),o=i(n("bihdhbjih"));function i(e){return e&&e.__esModule?e:{default:e}}},bjfacgbcjj:function(e,t){e.exports={msg:"_1WMT2",hover:"_1lakC",current:"_2nA3s",active:"_2V_Wj"}},bjfecgfdgj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RecentEmojiCollection=void 0;var r=m(n("hhegggegb")),a=m(n("eaaagccfda")),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("cgcgbfbffj"),u=m(i),s=m(n("djegeegcbf")),l=n("ddjgcfjicj"),c=m(n("bjbdcigbdi")),f=m(n("bdiiahhjbe")),d=m(n("dghggcieid")),p=n("hjbbdjjdf"),h=m(n("bihdhbjih"));function m(e){return e&&e.__esModule?e:{default:e}}var b=100,g=36,v=t.RecentEmojiCollection=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.dirty=!1,e._throttledSync=(0,r.default)(function(e){e.sync()},g,{leading:!1}),e.listenTo(e,"change:weight change:length",(0,a.default)(e._sortTrimScale,b)),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),o(t,[{key:"_sortTrimScale",value:function(){var e=this.length;if(e){this.sort(),e>g&&this.remove(this.models.slice(g));var t=this.head(),n=this.last();t&&n&&t.weight<10&&n.weight>.01||this.forEach(function(t,n){t.weight=1+(e-n)/e*3})}}},{key:"delete",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),this.dirty=!1,this._throttledSync.cancel()}},{key:"sync",value:function(){var e=this;return this.findQuery({},{set:!0}).finally(function(){e.dirty=!1}).catch(l.WapDrop,function(){}).catch(p.isString,function(){})}},{key:"_findQuery",value:function(){return c.default.supportsFeature(c.default.F.RECENT_EMOJI_SYNC)?h.default.recentEmojiQuery(this.dirty?this.toArray():void 0).then(function(e){return Array.isArray(e)?(e.forEach(function(e){e.id=s.default.normalizeEmoji(e.id)}),Promise.resolve(e)):(f.default.error("models:recentEmoji:findQuery error",e)(),Promise.reject("recent emoji fetch error"))}):Promise.reject("gk recent emoji sync unsupported")}},{key:"throttledSync",value:function(){c.default.supportsFeature(c.default.F.RECENT_EMOJI_SYNC)&&(f.default.log(`models:RecentEmoji:throttledSync dirty: ${String(this.dirty)}`)(),this._throttledSync(this))}},{key:"increment",value:function(e){var t=s.default.skinToneEmojis[e]||e;this.get(t)||this.add({id:t,weight:0}),this.forEach(function(e){var n=e.weight;e.id===t?n+=1:n*=.9,e.weight=Math.round(1e3*n)/1e3}),this.dirty=!0,this.throttledSync()}}]),t}();v.cachePolicy={id:"recent_emoji_collection",policy:i.CACHE_POLICY.LOAD,delay:2e3},v.comparator=function(e,t){return e.weight>t.weight?-1:1},v.model=d.default,t.default=new v},bjfjacgeai:function(e,t){e.exports={sensor:"_2xINO"}},bjgdagjjci:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},o=h(n("djheacfeif")),i=n("dcaifjegcg"),u=h(i),s=h(n("cfadcbbiie")),l=h(n("bjigbaghc")),c=h(n("dhigahgdjb")),f=n("dfdhiegfdi"),d=n("hjbbdjjdf"),p=h(n("jccfhaecf"));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.id=(0,i.prop)(),r.msg=(0,i.prop)(),r.lat=(0,i.prop)(),r.lng=(0,i.prop)(),r.accuracy=(0,i.prop)(),r.speed=(0,i.prop)(),r.degrees=(0,i.prop)(),r.sequence=(0,i.prop)(),r.comment=(0,i.prop)(),r.expiration=(0,i.prop)(),r.lastUpdated=(0,i.prop)(),r.contact=(0,i.session)(),r.expireTimerId=(0,i.session)(),r.disabled=(0,i.session)(!1),r.isMe=(0,i.derived)(r._isMe,["id"]),r.valid=(0,i.derived)(r._valid,["lat","lng"]),m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),r(t,[{key:"_isMe",value:function(){return this.id.equals(l.default.me)}},{key:"_valid",value:function(){return t=this.lat,(0,d.isNumber)(t)&&t>=-90&&t<=90&&(e=this.lng,(0,d.isNumber)(e)&&e>=-180&&e<=180);var e,t}},{key:"initialize",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this),this.addChild("contact",c.default.gadd(this.id)),(0,f.addLiveLocation)(this.contact,this),this.listenTo(this,"change:expiration",this._setExpireTimer),this._setExpireTimer()}},{key:"delete",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),this._disableMsg(),(0,f.removeLiveLocation)(this.contact,this),this._clearExpireTimer()}},{key:"remainingTime",value:function(){return this.expiration-s.default.globalUnixTime()}},{key:"elapsedTime",value:function(){return s.default.globalUnixTime()-this.lastUpdated}},{key:"disable",value:function(){this.disabled=!0}},{key:"_disableMsg",value:function(){var e=this.msg;e&&(e.shareDuration=s.default.globalUnixTime()-e.t-1)}},{key:"_setExpireTimer",value:function(){this.expiration&&(this.remainingTime()<=0?this._expire():this.expireTimerId=o.default.setGlobalTimeout(this._expire.bind(this),1e3*this.expiration,this.expireTimerId))}},{key:"_clearExpireTimer",value:function(){o.default.clearTimeout(this.expireTimerId),this.expireTimerId=null}},{key:"_expire",value:function(){this.disable()}}]),t}();b.Proxy="liveLocationParticipant",b.idClass=p.default,t.default=(0,i.defineModel)(b)},bjghdijfjd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=u(n("bhhdeihhhf")),i=u(n("ihfccfgdf"));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.chat,n=e.disabled,r=this.props.onMarkUnread.bind(null,!t.unreadCount);return a.createElement(o.default,{a8n:"mi-mark-as",action:r,key:"MarkUnreadMenuItem",disabled:n},t.unreadCount?l10n.t(679):l10n.t(680))}}]),t}();s.CONCERNS={chat:["unreadCount"]},s.displayName="MarkUnreadMenuItem",t.default=(0,i.default)(s,s.CONCERNS)},bjgibbgbai:function(e,t,n){"use strict";var r,a=n("chgaccicf"),o=(r=a)&&r.__esModule?r:{default:r};e.exports=(0,o.default)({EMOJI_ENTER:void 0,EMOJI_INACTIVE:void 0,EMOJI_LEFT:void 0,EMOJI_RIGHT:void 0,EMOJI_SEARCH:void 0,EMOJI_TAB:void 0})},bjgiedaj:function(e,t,n){"use strict";var r,a=n("fffdgbfji"),o=(r=a)&&r.__esModule?r:{default:r};var i={IDR:"in-ID",MXN:"es-MX",INR:"en-IN"};function u(e,t,n){var r=n/1e3;return new Intl.NumberFormat(e,{style:"currency",currency:t}).format(r)}function s(e,t){return u(e,t,0).replace(/\d+([,.]\d+)?/g,"").trim()}e.exports={format:function(e,t){return u(o.default.getLocale(),e,t)},formatToParts:function(e,t){var n=o.default.getLocale(),r=function(e){return new Intl.NumberFormat(e).format(1.1).substring(1,2)}(n),a=s(n,e),i=u(n,e,t).replace(a,"").trim(),l=i.indexOf(r);return{symbol:a,integer:-1===l?i:i.substring(0,l),decimal:-1===l?"":i.substring(l)}},formatLocalSymbol:function(e){return s(i[e],e)}}},bjhbahjgdi:function(e,t,n){"use strict";var r=i(n("bdiiahhjbe")),a=i(n("cffajefeag")),o=i(n("cahfddcdga"));function i(e){return e&&e.__esModule?e:{default:e}}var u={chat:["Chat","Contact"],message:["Msg"],contact:["Contact"]},s={queryLabels:function(){var e=this;return new Promise(function(t,n){var a=e.queryNode({type:"label"});e.binSend("sendEphemeral",a,n,{onSend:e.binWrap(function(a){e.BinaryProtocol.read(a).then(function(n){var a={labels:[]};if(r.default.logColor("green","bin-recv: response,label",n)(),"response"===e.N.tag(n)&&"label"===e.N.attr("type",n)){a.checksum=e.N.attr("checksum",n);var o=e.N.children(n);if(Array.isArray(o))for(var i=0;i<o.length;i++){var u=e.parseLabel(o[i]),s=u&&u.label;s&&a.labels.push(s)}}t(a)}).catch(n)},t),onDrop:e.wrap(n)},{debugString:"query,labels",metricName:"QUERY_LABELS"})})},parseLabel:function(e){if("label"===this.N.tag(e)){var t=parseInt(this.N.attr("count",e),10),n=this.N.attr("id",e),r=this.N.attr("name",e),i=this.N.attr("color",e),s=isNaN(t)?void 0:t,c=this.N.attr("type",e),f=void 0;if("update"===c)for(var d=this.N.children(e),p=0;p<d.length;p++){var h=d[p],m=null;switch(this.N.tag(h)){case"chat":m=this.N.attr("jid",h);break;case"message":var b=this.N.attr("jid",h),g=this.N.attr("index",h),v="true"===this.N.attr("owner",h),y=this.N.attr("participant",h);m=new a.default({fromMe:v,remote:b,id:g,participant:y})}var _={id:(0,o.default)(m),labels:l(this.N.children(h),this.N.attr),collection:u[this.N.tag(h)]};f=f?f.concat(_):[_]}var E={label:{id:n,name:r,color:i,count:s},type:c,labelUpdates:f},j=[!(c||n&&r&&i),c&&"update"!==c&&"delete"!==c];return this.dropIfConditionMet(j,E)}}};function l(e,t){return e&&Array.isArray(e)?e.reduce(function(e,n){return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e),[(0,o.default)(t("id",n))])},[]):[]}e.exports=s},bjhcbbbjdc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MsgComponent=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=R(n("eacehgiidh")),i=R(n("ebhdjgicgg")),u=R(n("cbifffdech")),s=R(n("baagejbchg")),l=R(n("dibgadcjce")),c=R(n("bjbdcigbdi")),f=R(n("cfficaagef")),d=n("ejbdjaifi"),p=R(n("icbjhhidg")),h=R(n("biadgfadhh")),m=R(n("bdiiahhjbe")),b=R(n("djjgggigcf")),g=R(n("fccahhfch")),v=R(n("cfbeeihgea")),y=R(n("gddafccec")),_=R(n("dhccihecch")),E=R(n("cggajedfhg")),j=R(n("gigggciff")),O=R(n("jjbcbhhjh")),S=R(n("hichbacjh")),w=R(n("caigihje")),P=R(n("ihfccfgdf")),M=n("bheafeifce"),C=R(n("dghebhejhb")),T=R(n("chdggedfah")),A=R(n("dbifijhjeg")),N=R(n("bejccccege")),k=R(n("ccjgccbced")),I=R(n("dbgefjefac"));function R(e){return e&&e.__esModule?e:{default:e}}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var U=t.MsgComponent=function(e){function t(){return L(this,t),D(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return x(t,a.PureComponent),r(t,[{key:"getQuotedMsg",value:function(e){var t=this.props,n=t.displayType,r=t.msg,o=t.chat,i=void 0;if(c.default.supportsFeature(c.default.F.REPLIES_IN)&&n!==s.default.DISP_TYPE.GALLERY){var u=r.quotedMsgObj();if(u)i=a.createElement(O.default,{msg:u,key:u.id.toString(),rootMsg:(0,M.unproxy)(r),displayType:n,chat:(0,M.unproxy)(o),t:r.t});else{var l=r.getQuotedMsgAdminGroupJid();l&&(i=a.createElement(S.default,{quotedGroupJid:l}))}}return i}},{key:"getRef",value:function(){return this.ref}},{key:"render",value:function(){var e=this.props,t=e.chat,n=e.displayAuthor,r=e.displayType,c=e.isMsgVisible,O=e.msg;switch(O.type){case s.default.MSG_TYPE.CHAT:return a.createElement(A.default,{msg:(0,M.unproxy)(O),contact:O.senderObj,ref:(0,d.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(s.default.MSG_TYPE.CHAT),trusted:O.isTrusted(),displayType:r,displayAuthor:n});case s.default.MSG_TYPE.IMAGE:return a.createElement(_.default,{msg:O,displayType:r,mediaData:O.mediaData,ref:(0,d.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(s.default.MSG_TYPE.IMAGE),isMsgVisible:c,trusted:O.isTrusted(),displayAuthor:n});case s.default.MSG_TYPE.PRODUCT:return a.createElement(E.default,{msg:O,mediaData:O.mediaData,displayAuthor:n,trusted:O.isTrusted(),onProductClick:this.props.onProductClick});case s.default.MSG_TYPE.GROUP_NOTIFICATION:case s.default.MSG_TYPE.GP2:case s.default.MSG_TYPE.BROADCAST_NOTIFICATION:case s.default.MSG_TYPE.NOTIFICATION:case s.default.MSG_TYPE.NOTIFICATION_TEMPLATE:case s.default.MSG_TYPE.E2E_NOTIFICATION:case s.default.MSG_TYPE.CALL_LOG:return a.createElement(g.default,{contact:(0,M.unproxy)(t).contact,msg:O,ref:(0,d.GetRef)("ref",this)});case s.default.MSG_TYPE.AUDIO:return a.createElement(i.default,{msg:O,mediaData:O.mediaData,quotedMsg:this.getQuotedMsg(s.default.MSG_TYPE.AUDIO),displayAuthor:n,displayType:r,ref:(0,d.GetRef)("ref",this)});case s.default.MSG_TYPE.VIDEO:return O.isGif?a.createElement(f.default,{displayAuthor:n,displayType:r,isMsgVisible:c,maxWidth:this.props.maxWidth,mediaData:O.mediaData,msg:O,quotedMsg:this.getQuotedMsg(s.default.MSG_TYPE.VIDEO),ref:(0,d.GetRef)("ref",this),trusted:O.isTrusted()}):a.createElement(I.default,{displayAuthor:n,displayType:r,hover:this.props.hover,isMsgVisible:c,mediaData:O.mediaData,msg:O,quotedMsg:this.getQuotedMsg(s.default.MSG_TYPE.VIDEO),ref:(0,d.GetRef)("ref",this),trusted:O.isTrusted()});case s.default.MSG_TYPE.VCARD:return a.createElement(k.default,{msg:O,ref:(0,d.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(),displayType:r,displayAuthor:n});case s.default.MSG_TYPE.MULTI_VCARD:return a.createElement(b.default,{msg:O,ref:(0,d.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(),displayType:r,displayAuthor:n});case s.default.MSG_TYPE.GROUPS_V4_INVITE:return a.createElement(o.default,{msg:O,ref:(0,d.GetRef)("ref",this),displayAuthor:n});case s.default.MSG_TYPE.LOCATION:return O.isLive?a.createElement(p.default,{msg:(0,M.unproxy)(O),ref:(0,d.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(s.default.MSG_TYPE.LOCATION),trusted:O.isTrusted(),displayAuthor:n}):a.createElement(h.default,{msg:(0,M.unproxy)(O),ref:(0,d.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(s.default.MSG_TYPE.LOCATION),displayAuthor:n});case s.default.MSG_TYPE.PAYMENT:return a.createElement(y.default,{msg:O,ref:(0,d.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(s.default.MSG_TYPE.PAYMENT),displayAuthor:n});case s.default.MSG_TYPE.PTT:return a.createElement(j.default,{msg:O,mediaData:O.mediaData,quotedMsg:this.getQuotedMsg(s.default.MSG_TYPE.PTT),displayAuthor:n,displayType:r,ref:(0,d.GetRef)("ref",this),getSequentialMsg:this.props.getSequentialMsg});case s.default.MSG_TYPE.STICKER:return a.createElement(C.default,{msg:O,mediaData:O.mediaData,ref:(0,d.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(s.default.MSG_TYPE.IMAGE),displayAuthor:n,position:this.props.position});case s.default.MSG_TYPE.DOCUMENT:return a.createElement(l.default,{msg:O,displayType:r,mediaData:O.mediaData,ref:(0,d.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(s.default.MSG_TYPE.DOCUMENT),trusted:O.isTrusted(),displayAuthor:n});case s.default.MSG_TYPE.UNKNOWN:return a.createElement(N.default,{msg:(0,M.unproxy)(O),displayAuthor:n});case s.default.MSG_TYPE.CIPHERTEXT:return a.createElement(u.default,{msg:O,ref:(0,d.GetRef)("ref",this),displayAuthor:n});case s.default.MSG_TYPE.REVOKED:return a.createElement(w.default,{msg:(0,M.unproxy)(O),ref:(0,d.GetRef)("ref",this)});case s.default.MSG_TYPE.OVERSIZED:return a.createElement(v.default,{msg:(0,M.unproxy)(O),displayAuthor:n});case s.default.MSG_TYPE.TEMPLATE:if(!O.hsmEnabled)return a.createElement(T.default,{msg:(0,M.unproxy)(O),displayType:r,displayAuthor:n});switch(O.subtype){case s.default.TEMPLATE_SUBTYPE.IMAGE:return a.createElement(_.default,{msg:O,displayType:r,mediaData:O.mediaData,ref:(0,d.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(s.default.MSG_TYPE.TEMPLATE),isMsgVisible:c,trusted:O.isTrusted(),displayAuthor:n});case s.default.TEMPLATE_SUBTYPE.VIDEO:return a.createElement(I.default,{displayAuthor:n,displayType:r,hover:this.props.hover,isMsgVisible:c,mediaData:O.mediaData,msg:O,quotedMsg:this.getQuotedMsg(s.default.MSG_TYPE.TEMPLATE),ref:(0,d.GetRef)("ref",this),trusted:O.isTrusted()});case s.default.TEMPLATE_SUBTYPE.LOCATION:return a.createElement(h.default,{msg:(0,M.unproxy)(O),ref:(0,d.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(s.default.MSG_TYPE.TEMPLATE),displayAuthor:n});case s.default.TEMPLATE_SUBTYPE.DOCUMENT:return a.createElement(l.default,{msg:O,displayType:r,mediaData:O.mediaData,ref:(0,d.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(s.default.MSG_TYPE.TEMPLATE),trusted:O.isTrusted(),displayAuthor:n});case s.default.TEMPLATE_SUBTYPE.TEXT:return a.createElement(A.default,{msg:(0,M.unproxy)(O),contact:O.senderObj,ref:(0,d.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(s.default.MSG_TYPE.TEMPLATE),trusted:O.isTrusted(),displayType:r,displayAuthor:n});default:return a.createElement(T.default,{msg:(0,M.unproxy)(O),displayType:r,displayAuthor:n})}case s.default.MSG_TYPE.HSM:return a.createElement(A.default,{msg:(0,M.unproxy)(O),contact:O.senderObj,ref:(0,d.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(s.default.MSG_TYPE.HSM),trusted:O.isTrusted(),displayType:r,displayAuthor:n});case s.default.MSG_TYPE.TEMPLATE_BUTTON_REPLY:return O.hsmEnabled?a.createElement(A.default,{msg:(0,M.unproxy)(O),contact:O.senderObj,ref:(0,d.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(s.default.MSG_TYPE.TEMPLATE_BUTTON_REPLY),trusted:O.isTrusted(),displayType:r,displayAuthor:n}):a.createElement(T.default,{msg:(0,M.unproxy)(O),displayType:r,displayAuthor:n});default:return m.default.log("messageList:render Unknown message type: "+O.type)(),a.createElement(N.default,{msg:(0,M.unproxy)(O),ref:(0,d.GetRef)("ref",this),displayAuthor:n})}}}]),t}();U.CONCERNS={msg:["isGif","isLive","mediaData","senderObj","subtype","type","t","id","title","hsmEnabled"],chat:["trusted"]},U.displayName="MsgComponent";var G=(0,P.default)(U,U.CONCERNS),F=function(e){function t(){return L(this,t),D(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return x(t,G),r(t,[{key:"getRef",value:function(){return function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).getRef()}}]),t}();t.default=F},bjhdcidgah:function(e,t,n){e.exports=n.p+"img/animated-doodle_600127bdb5f7627ede5cd4ef320f55b0.png"},bjhfhjjdgd:function(e,t){e.exports={container:"_3W2zz",retryButton:"_3_cuW"}},bjhhaacbib:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=n("dddjddjahc"),u=(r=i)&&r.__esModule?r:{default:r};function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handlePlayByControls=function(){r.props.refVideo&&r.props.refVideo.play()},r.handlePauseByControls=function(){r.props.refVideo&&r.props.refVideo.pause()},r.handleSetCurrentTimeByControls=function(e){r.props.refVideo&&r.props.refVideo.setCurrentTime(e)},r.handleSetVolumeByControls=function(e){r.props.refVideo&&r.props.refVideo.setVolume(e)},r.handleSetMutedByControls=function(e){r.props.refVideo&&r.props.refVideo.setMuted(e)},s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),a(t,[{key:"render",value:function(){if(!this.props.refVideo)return null;var e=this.props.videoMetadata;return e?o.createElement(u.default,{duration:e.duration,progress:e.currentTime,volume:e.volume,muted:e.muted,bufferedTime:e.bufferedTime,onPlay:this.handlePlayByControls,onPause:this.handlePauseByControls,onProgressChange:this.props.handleSetCurrentTimeByControls?this.props.handleSetCurrentTimeByControls:this.handleSetCurrentTimeByControls,onVolumeValueChange:this.handleSetVolumeByControls,onMutedValueChange:this.handleSetMutedByControls,isVideoPlaying:this.props.isVideoPlaying,isFullscreenMode:this.props.isFullscreenMode,className:this.props.controlsClassName}):null}}]),t}();l.displayName="VideoRefControls",t.default=l},bjhjaiccai:function(e,t,n){"use strict";function r(e){var t=e.find(function(e){return!!e});return e.length?t?1===e.length?t:l10n.t(751,{contactName:t,count:e.length-1,_plural:e.length-1}):l10n.t(753,{count:e.length,_plural:e.length}):l10n.t(752)}Object.defineProperty(t,"__esModule",{value:!0}),t.getNameString=function(e){return r(e.map(function(e){return e.displayName}))},t.getNameStringFromNames=r},bjidaciaje:function(e,t){e.exports={body:"_2lIlo",text:"NXIBh",hidden:"_3TuOE",desc:"_3tsVg",more:"_2v0mb"}},bjjajbbcbi:function(e,t){e.exports={quotedMsg:"_3xviK",quotedMsgAuthor:"_39LDU",quotedMsgInComposeBox:"aZla8"}},bjjegiiahd:function(e,t,n){"use strict";var r=u(n("dgdjiicfdg")),a=u(n("bjigbaghc")),o=n("hjbbdjjdf"),i=u(n("eaaehfdjdg"));function u(e){return e&&e.__esModule?e:{default:e}}var s={setGroupDescription:function(e,t,n,u){var s=this;return new Promise(function(l,c){var f=i.default.tag(),d=s.wrap(l);d.tag=f;var p=void 0;p=(0,o.isString)(t)?[["description",{id:n,prev:u||"none"},t]]:[["description",{prev:u||"none",delete:"true"},void 0]];var h=["group",{id:f,jid:e,type:"description",author:a.default.me},p],m=s.actionNode("set",[h]);s.binSend("send",m,c,{clientCacheable:!0,onSend:d,onDrop:s.wrap(c)},{debugString:"action,group,desc",metricName:"GROUP",expires:(0,r.default)().unix()})})},setGroupProperty:function(e,t,n){var o=this;return"announcement"!==t&&"restrict"!==t&&"no_frequently_forwarded"!==t?Promise.reject("invalid group property"):new Promise(function(u,s){var l=i.default.tag(),c=o.wrap(u);c.tag=l;var f=void 0;switch(t){case"announcement":f=[["announcement",{value:(!!n).toString()},void 0]];break;case"restrict":f=[["locked",{value:(!!n).toString()},void 0]];break;case"no_frequently_forwarded":f=[["no_frequently_forwarded",{value:(!!n).toString()},void 0]]}var d=["group",{id:l,jid:e,type:"prop",author:a.default.me},f],p=o.actionNode("set",[d]);o.binSend("send",p,s,{clientCacheable:!0,onSend:c,onDrop:o.wrap(s)},{debugString:["action,group,prop",t,n].join(),metricName:"GROUP",expires:(0,r.default)().unix()})})},demoteParticipants:function(e,t){return this.setGroupParticipants("demote",e,t)}};e.exports=s},bjjhgbbeja:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.auth,n=e.ciphertextHmac,u=e.encFilehash,s=e.hostname,l=e.type,c=e.signal,f=e.onProgress,d=(0,o.default)({auth:t,encFilehash:u,hostname:s,type:l}),p={encFilehash:u,type:l,url:d};return i.default.log("mmsUpload: start",p)(),(0,a.default)(d,{method:"post",body:n,signal:c,onProgress:f}).then(function(e){if(!e.ok)switch(e.status){case 401:throw new r.MMSUnauthorizedError("mmsUpload",{url:d});case 413:throw new r.MediaTooLargeError("mmsUpload",{url:d});case 415:throw new r.MediaInvalidError("mmsUpload: hash mismatch",{url:d});case 507:throw new r.MMSThrottleError("mmsUpload",{url:d});default:throw new r.HttpStatusCodeError(e.status,"mmsUpload",{url:d})}return e.json()}).then(function(e){if(!e.direct_path)throw new r.HttpInvalidResponseError("mmsUpload: missing direct_path");if(!e.url)throw new r.HttpInvalidResponseError("mmsUpload: missing url");return{directPath:e.direct_path,url:e.url}}).then(function(e){return i.default.log("mmsUpload: success",p)(),e}).catch(function(e){throw i.default.error("mmsUpload: error",p,e)(),e})};var r=n("fgeddfbg"),a=u(n("dgjijbgdai")),o=u(n("cfgbadhada")),i=u(n("bdiiahhjbe"));function u(e){return e&&e.__esModule?e:{default:e}}},bjjiehdfge:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("dbgdaechch")),i=l(n("bhhdeihhhf")),u=n("bhfdfhefca"),s=l(n("bfdcadbbif"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.onSendProduct,n=e.onReportProduct;return a.createElement(u.MenuBarItem,{a8nText:"menu-bar-menu",icon:a.createElement(s.default,{name:"menu"}),title:l10n.t(704)},a.createElement(o.default,{type:"dropdown_menu",flipOnRTL:!0,key:"ProductDetailHeader",dirX:"LEFT"},a.createElement(i.default,{a8n:"mi-send menu-item",action:t},l10n.t(1017)),a.createElement(i.default,{a8n:"mi-report menu-item",action:n},l10n.t(939))))}}]),t}();c.displayName="DetailDrawerMenu",t.default=c},bjjjdidhhi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=g(n("cfaiaibca")),i=g(n("baagejbchg")),u=g(n("dciidighgh")),s=g(n("bbddghdigd")),l=n("bidfjbaebi"),c=n("facgccaif"),f=g(n("bcbahjefec")),d=g(n("dhfbfehaef")),p=g(n("fffdgbfji")),h=g(n("chcadgfgad")),m=g(n("caffijjhc")),b=g(n("egjjcjcg"));function g(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.onDelete=function(){e.end()},e.onRevoke=function(){e.showRevokeNux?(e.push(e.renderRevokeNux(),"none"),b.default.setNUX(i.default.NUX.REVOKE_LEGAL_DISCLAIMER_NUX,{views:1,maxViews:1})):e.end()},e.onPopupCancel=function(){e.end()},e.onCancel=function(){e.end()},e.openRevokeLearnMore=function(){(0,l.openExternalLink)((0,c.getRevokeFaqUrl)())},e.onRevokeNuxClicked=function(){e.end()},e.renderRevokeNux=function(){var t=[a.createElement(o.default,{type:"plain",onClick:e.openRevokeLearnMore,key:1},p.default.t(622)),a.createElement(o.default,{type:"primary",onClick:e.onRevokeNuxClicked,key:0},p.default.t(1287))];return a.createElement(m.default,{displayName:"MsgRevokeNuxModal",escapable:!1},a.createElement(d.default,{handlers:{enter:e.onRevokeNuxClicked}},a.createElement(h.default,{actions:t},a.createElement("div",{className:u.default.label},p.default.t(969)))))};var n=b.default.getNUX(i.default.NUX.REVOKE_LEGAL_DISCLAIMER_NUX);return e.showRevokeNux=!n||n.views<n.maxViews,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.default),r(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.chat,n=e.msgList,r=e.deletePrompt,o=e.revokePrompt,i=e.toastPosition,u=e.onCancel,l=e.isMsgVisible;this.push(a.createElement(s.default,{chat:t,msgList:n,deletePrompt:r,revokePrompt:o,toastPosition:i,onDelete:this.onDelete,onRevoke:this.onRevoke,onPopupCancel:this.onPopupCancel,onCancel:u,isMsgVisible:l}))}}]),t}();t.default=v},caaaaajeei:function(e,t){e.exports={loadingContainer:"_2oFRN",text:"_1k-B6",loadingText:"_1un6f",shiftUp:"GXo3L"}},caafgbfcba:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.AudioPlayerFrame=O;var a=E(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=n("djciiabagi"),u=E(n("djidacbicd")),s=E(n("cfadcbbiie")),l=E(n("bbchdeehff")),c=E(n("baagejbchg")),f=E(n("fffdgbfji")),d=E(n("eceadcicaf")),p=E(n("bbjadhadbg")),h=E(n("dagdiahdfi")),m=E(n("cahfddcdga")),b=n("cjefbihjci"),g=E(n("dhbegafffi")),v=E(n("becfabjeeg")),y=E(n("bfdcadbbif")),_=E(n("fbjjefaic"));function E(e){return e&&e.__esModule?e:{default:e}}var j=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setRefAudio=function(e){n.refAudio=(0,i.findDOMNode)(e)},n.onPlayClick=function(){var e=n.refAudio;e&&(n.props.playing?e.pause():e.play())},n.onPttPlayback=function(e){if(n.props.currMsgId===e){n.setState({sequentialPlayback:!0,progress:0}),n.trackCursorRef&&n.trackCursorRef.current&&(n.startingScrollPos=n.trackCursorRef.current.getBoundingClientRect().top);var t=n.refAudio;t&&n.delayPtt(c.default.PTT_PLAYBACK_DELAY).then(function(){t.currentTime=0,t.play()})}},n.delayPtt=function(e){return new Promise(function(t){return n.props.setInterval(t,e)})},n.onNewPttRecording=function(){var e=n.refAudio;e&&(n.props.playing&&e.pause(),n.delayPttPromise&&n.delayPttPromise.cancel())},n.onPlaying=function(){n.props.onPlayingUpdate(!0)},n.onPause=function(){n.props.onPlayingUpdate(!1)},n.onEnded=function(){var e=n.refAudio;e&&(e.currentTime=0,e.load(),n.maybePlayNextPTT())},n.onTimeUpdate=function(){var e=n.refAudio;if(e){var t=0;Number.isFinite(e.duration)&&(t=Math.round(100*Math.min(1,e.currentTime/e.duration)),n.props.onTimeUpdate(e.currentTime)),n.setState({progress:t})}},n.onDrag=function(e){var t=n.refAudio;if(t){var r=parseInt(e.currentTarget.value);null==r||isNaN(r)||(n.setState({progress:r}),t.duration&&(t.currentTime=t.duration/100*r))}},n.onPlayerError=function(e){},n.renderAudioTag=function(e){return o.createElement(u.default,{ref:n.setRefAudio,url:e,preload:"auto",onError:n.onPlayerError,autoPlay:n.props.autoPlay})},n.state={progress:0,playedBefore:e.played,sequentialPlayback:!1},n.trackCursorRef=o.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"componentDidMount",value:function(){var e=(0,m.default)(this.refAudio);this.props.listeners.add(e,"playing",this.onPlaying),this.props.listeners.add(e,"pause",this.onPause),this.props.listeners.add(e,"ended",this.onEnded),this.props.listeners.add(e,"timeupdate",this.onTimeUpdate),this.props.listeners.add(e,"durationchange",this.onTimeUpdate),this.props.listeners.add(e,"progress",this.onTimeUpdate),this.props.listeners.add(l.default,"pttRecording",this.onNewPttRecording),this.props.listeners.add(l.default,"sequential_playback_ptt",this.onPttPlayback)}},{key:"isValidPlaybackSequence",value:function(e){return e.type===c.default.MSG_TYPE.PTT&&!(e.isSentByMe&&!this.props.outgoingMsg&&!this.state.playedBefore)}},{key:"maybePlayNextPTT",value:function(){var e=this,t=this.state.sequentialPlayback;if(this.props.getSequentialMsg&&this.props.currMsgId){var n=this.props.getSequentialMsg(this.props.currMsgId);n&&this.isValidPlaybackSequence(n)?this.delayPttPromise=this.delayPtt(c.default.PTT_PLAYBACK_DELAY).cancellable().then(function(){h.default.getGlobalSounds()&&(0,b.playMidPttTone)();var t=e.trackCursorRef&&e.trackCursorRef.current&&e.trackCursorRef.current.getBoundingClientRect().top;null!=t&&e.startingScrollPos===t&&l.default.scrollToPtt(n),l.default.autoplayPTT(n.id)}).catch(function(){}).finally(function(){e.delayPttPromise=null}):this.state.sequentialPlayback&&(this.delayPttPromise=this.delayPtt(c.default.PTT_PLAYBACK_DELAY).cancellable().then(function(){h.default.getGlobalSounds()&&(0,b.playEndPttTone)(),e.delayPttPromise=null}).catch(function(){}).finally(function(){e.delayPttPromise=null}),t=!1),this.setState({playedBefore:!0,sequentialPlayback:t})}}},{key:"render",value:function(){var e=this,t=this.props.playing?"audio-pause":"audio-play",n={width:this.state.progress-this.state.progress/100*3+"%"},r=null!=this.props.duration&&0!==this.props.duration?o.createElement("div",{className:g.default.metadata},s.default.durationStr(this.props.duration)):null,a=o.createElement("button",{className:g.default.button,onClick:this.onPlayClick},o.createElement(y.default,{name:t})),i=(0,m.default)(this.props.mediaData),u=(0,m.default)(this.props.downloadMedia),l=o.createElement(p.default,{mediaData:i,placeholderRenderer:function(){return e.renderAudioTag("")},downloadMedia:u},this.renderAudioTag);return o.createElement(O,{button:a,played:this.props.played,outgoingMsg:this.props.outgoingMsg,displayType:this.props.displayType},r,o.createElement("div",{className:g.default.trackContainer,ref:this.trackCursorRef},o.createElement("span",{className:g.default.progress,style:n}),o.createElement("input",{dir:"ltr",type:"range",className:g.default.track,value:this.state.progress,onChange:this.onDrag,min:"0",max:"100"}),l))}}]),t}();function O(e){var t=e.spinner&&!e.button?o.createElement("div",{className:g.default.spinner},o.createElement(v.default,{stroke:3,size:34,outgoingMsg:e.outgoingMsg})):null,n=!e.icon||e.button||e.spinner?null:o.createElement("button",{className:g.default.button,onClick:e.action},e.icon),r=null!=e.fileSize&&0!==e.fileSize?o.createElement("div",{className:g.default.metadata},f.default.filesize(e.fileSize)):null,i=e.children||o.createElement("input",{className:g.default.track,dir:"ltr",disabled:"disabled",max:100,min:0,type:"range",value:0}),u=(0,a.default)(g.default.audio,{[g.default.audioIn]:!e.outgoingMsg,[g.default.audioOut]:e.outgoingMsg,[g.default.played]:e.played,[g.default.isGallery]:e.displayType===c.default.DISP_TYPE.STARRED_MSGS||e.displayType===c.default.DISP_TYPE.GALLERY});return o.createElement("div",{className:u},o.createElement("div",{className:g.default.controls},e.button,t,n),o.createElement("div",{className:g.default.body},i,r))}j.displayName="PTTPlayer",O.displayName="AudioPlayerFrame",t.default=(0,_.default)((0,d.default)(j))},caahjiefj:function(e,t){e.exports={bodyContainer:"_20KNO",gifPanel:"_2PAm9",panelBody:"_3HCkv"}},cabhjigfgc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=s(n("ceffhbhahb")),o=s(n("effbcehec")),i=s(n("hddadiifa")),u=s(n("eedjbihej"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.children,n=e.onClick,s=e.icon,l=e.className,c=e.color,f=e.theme,d=s?r.createElement("div",{className:i.default.icon},s):null,p=(0,a.default)(i.default.container,l,{[i.default.containerNoIcon]:!s,[i.default.containerListAligned]:"list-aligned"===f}),h=n?"button":null,m="string"==typeof t?t:null;return r.createElement("div",{"data-a8n":o.default.key(e.a8nText),className:p,"data-ignore-capture":"any",onClick:n,role:h,title:m},d,r.createElement("div",{className:i.default.bodyContainer},r.createElement("div",{className:i.default.body},r.createElement(u.default,{theme:"title",color:c},t))))}l.displayName="DrawerButton"},cacaidhjb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=g(n("dhbceejbjg")),i=g(n("bjigbaghc")),u=g(n("dhhfaeacef")),s=g(n("djcchigfih")),l=g(n("djbhiedbef")),c=g(n("cabhjigfgc")),f=n("dajffajabh"),d=g(f),p=g(n("fifhbjiec")),h=g(n("fffdgbfji")),m=g(n("ibeajfihb")),b=g(n("bfdcadbbif"));function g(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=a.createElement(m.default,{id:this.props.profileId}),t=a.createElement(u.default,{id:i.default.me,size:82,quality:u.default.Quality.HIGH}),n=a.createElement(p.default,{text:i.default.pushname,ellipsify:!0,titlify:!0});return a.createElement(s.default,{theme:"settings"},a.createElement(d.default,{title:h.default.t(1019),onBack:this.props.onClose,type:f.DRAWER_HEADER_TYPE.LARGE}),a.createElement(l.default,null,a.createElement(o.default,{onClick:this.props.onProfile,image:t,primary:n,theme:"identity",secondary:e}),a.createElement(c.default,{a8nText:"li-notifications",icon:a.createElement(b.default,{name:"settings-notifications"}),onClick:this.props.onNotifications},h.default.t(696)),a.createElement(c.default,{a8nText:"li-chat_wallpaper",icon:a.createElement(b.default,{name:"settings-wallpaper"}),onClick:this.props.onWallpaper},h.default.t(702)),a.createElement(c.default,{a8nText:"li-blocked",icon:a.createElement(b.default,{name:"settings-blocked"}),onClick:this.props.onBlocked},h.default.t(689)),void 0,a.createElement(c.default,{a8nText:"li-help",icon:a.createElement(b.default,{name:"settings-help"}),onClick:this.props.onHelp},h.default.t(691)),void 0,void 0,void 0,void 0))}}]),t}();v.displayName="SettingsDrawer",t.default=v},cacbgbjgef:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=d(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=d(n("bbchdeehff")),u=d(n("ddidadfgch")),s=n("bgjddhffji"),l=d(n("ecdifdiid")),c=d(n("ihfccfgdf")),f=n("bheafeifce");function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.onClick=function(e,t){var n=r.props,a=n.product,o=n.sessionId;(0,s.logDetailImageClick)((0,f.unproxy)(a),o);var u={activeProductImage:t,productImageCollection:a.productImageCollection,getZoomNode:function(){return e},product:a};i.default.productImageViewerModal(u,o)},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.product,n=e.shouldShrinkUp,r=e.isAvailable,i=e.fetching,s=t.productImageCollection.toArray();return o.createElement("div",{className:(0,a.default)({[l.default.container]:1===s.length,[l.default.gridContainer]:s.length>1,[l.default.shrinkUp]:s.length>1&&n})},o.createElement(u.default,{columns:2,lastColumnNumRows:2,imageModels:s,numberTextClassName:l.default.numberText,onClick:r?this.onClick:null,lastColumnClassName:s.length>1?l.default.lastColumn:void 0,renderFallbackImage:!r,productMsgMediaData:t.productMsgMediaData,fetching:i}))}}]),t}();h.CONCERNS={product:["productImageCollection","productMsgMediaData"]},h.displayName="ProductTile",t.default=(0,c.default)(h,h.CONCERNS)},caceaafdic:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Wrapper=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.SystemBubble=B,t.MessageContainer=$;var a=U(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=U(n("effbcehec")),u=U(n("dbdfbgehgj")),s=U(n("bbchdeehff")),l=U(n("dacicgjcai")),c=U(n("baagejbchg")),f=U(n("biddiiafgd")),d=U(n("bjjjdidhhi")),p=n("cgejchjdhj"),h=U(n("bhcegecbha")),m=n("bhhdeihhhf"),b=U(m),g=n("bgddggdhc"),v=U(n("ghbbeafj")),y=U(n("bjbdcigbdi")),_=n("ciajafaaie"),E=U(n("bdiiahhjbe")),j=U(n("cfhgffgbcb")),O=U(n("deifjeacc")),S=n("ddbddjjgia"),w=U(n("dbfbdfhfee")),P=U(n("bjhcbbbjdc")),M=U(n("gdeficihh")),C=U(n("ihfccfgdf")),T=n("bheafeifce"),A=U(n("bfdcadbbif")),N=U(n("caeafadcah")),k=U(n("caffijjhc")),I=U(n("dbjbhajgfd")),R=U(n("bcifhbgija")),L=U(n("didfdhbecg")),D=U(n("cighigadh")),x=n("bedfbecdgd");function U(e){return e&&e.__esModule?e:{default:e}}var G=t.Wrapper=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.didCancel=!1,n.highlightAnimation=null,n.setRefMsgComponent=function(e){return n.refMsgComponent=e},n.setRefContext=function(e){return n.refContext=e},n.setRefHighlightTail=function(e){return n.refHighlightTail=e},n.setRefBubble=function(e){return n.refBubble=e},n.sizeMismatch=!1,n.resend=function(){n.props.msg.resend().catch(function(e){E.default.log("wrapper:resend failure: "+e)()})},n.mouseEnter=function(e){e.buttons||n.state.hover||!n.contextEnabled()||n.setState({hover:!0})},n.mouseLeave=function(){n.state.hover&&n.contextEnabled()&&n.setState({hover:!1})},n.mouseDown=function(){n.state.hover&&n.setState({hover:!1})},n._getMenuRefContext=function(){if(n.refContext)return n.refContext.getComponent().refContext},n.onMenu=function(e,t){if(t&&n.state.contextMenu)n.setState({contextMenu:!1});else{var r=t?n._getMenuRefContext():e,a=(0,T.unproxy)(n.props.msg),i=[];a.isSentByMe&&n.props.displayType!==c.default.DISP_TYPE.MSG_INFO&&!a.isRevoked&&i.push(o.createElement(b.default,{key:"info",a8n:"mi-msg-info",action:function(){n.openInfoDrawer()}},l10n.t(712))),a.canReply()&&i.push(o.createElement(b.default,{key:"reply",a8n:"mi-msg-reply",action:function(){n.onReplyMessage()}},l10n.t(926))),(a.canPrivateReply()||a.canPrivateReplyInRestrictedGrp())&&i.push(o.createElement(b.default,{key:"private_reply",a8n:"mi-msg-reply",action:function(){n.onPrivateReplyMessage()}},l10n.t(889))),a.mediaData&&a.mediaData.isDownloadable()&&a.type!==c.default.MSG_TYPE.STICKER&&!a.isRevoked&&i.push(o.createElement(b.default,{key:"download",a8n:"mi-msg-download",action:function(){n.onDownload()}},l10n.t(1149))),a.canForward()&&i.push(o.createElement(b.default,{key:"forward",a8n:"mi-msg-forward",action:function(){n.openForwardFlow(!0)}},l10n.t(464))),y.default.supportsFeature(y.default.F.LABELS_EDIT)&&!a.isRevoked&&i.push(o.createElement(b.default,{key:"editLabel",a8n:"mi-edit-label",action:function(){n.openEditLabelFlow()}},l10n.t(407))),a.canStar()&&(a.star?i.push(o.createElement(b.default,{key:"star",a8n:"mi-msg-unstar",action:function(){n.onUnstarMessage()}},l10n.t(1077))):i.push(o.createElement(b.default,{key:"star",a8n:"mi-msg-star",action:function(){n.onStarMessage()}},l10n.t(1027)))),i.push(o.createElement(b.default,{key:"delete",a8n:"mi-msg-delete",action:function(){n.onDeleteMessage()}},l10n.t(371))),a.isGroupMsg&&a.author&&!a.isSentByMe&&i.push(o.createElement(b.default,{key:"author",a8n:"mi-msg-author",action:function(){n.openContactChat()}},l10n.t(708,{author:a.displayName()}))),n.setState({contextMenu:{menu:i,anchor:r,theme:m.ThemeOptions.COMPACT}})}},n.onSelectClick=function(e){e&&e.stopPropagation();var t=n.props.onMessageSelect;t?t((0,T.unproxy)(n.props.msg),!n.state.selected,e):E.default.assert(!1,"wrapper-onSelectClick","no onMessageSelect")()},n.onDoubleClick=function(e){var t=n.props.displayType,r=(0,T.unproxy)(n.props.msg);if(r.canReply()&&!n.props.selectable&&t===c.default.DISP_TYPE.CONVERSATION){(function(e,t){for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1})(n.refBubble,e.target)||(r.chat.composeQuotedMsg=r,s.default.focusChatTextInput(r.chat),n.highlight())}},n.onResize=function(){n.forceUpdate()},n.state={contextMenu:!1,hover:!1,highlighting:!1,selected:!!e.selectedMessages&&e.selectedMessages.isSelected((0,T.unproxy)(e.msg))};var r=n.props.displayType===c.default.DISP_TYPE.STARRED_MSGS||n.props.displayType===c.default.DISP_TYPE.GALLERY||n.props.displayType===c.default.DISP_TYPE.MSG_INFO;return n.sizeMismatch=r&&n.props.msg.isGif,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.sizeMismatch&&this.refBubble&&(this.maxWidth=this.refBubble.offsetWidth,this.forceUpdate(),window.addEventListener("resize",this.onResize))}},{key:"componentWillUnmount",value:function(){this.refBubble&&(0,R.default)(this.refBubble,"finish",!0),this.sizeMismatch&&window.removeEventListener("resize",this.onResize)}},{key:"scrollMsg",value:function(e,t){var n=(0,g.forbiddenFindDOMNode)(this);n&&(0,p.scrollAt)(n,void 0,t).then(e)}},{key:"highlight",value:function(e){var t=this,n=this.refHighlightTail,r=this.refBubble;r&&(this.setState({highlighting:!0}),this.highlightAnimation&&(this.didCancel=!0,this.highlightAnimation.cancel()),this.highlightAnimation=(this.highlightAnimation||Promise.resolve()).then(function(){var e=void 0,a=void 0;n&&(e=(0,R.default)(n,{opacity:[1,0]},{duration:250}),a=(0,R.default)(n,{opacity:[0,1]},{duration:250,delay:250}));var o=void 0,i=void 0,u=void 0;if(V(t.props.msg)){o={tween:[.75,1]},i={tween:[1,.75]},u=function(e,t,n,r,a){e.forEach(function(e){e.style.filter=1===a?"":`brightness(${a})`})}}else{var s=void 0,l=void 0;t.props.msg.isNotification?(s="#e1f2fb",l="#b6c9d2"):(s=t.props.msg.isSentByMe?"#dcf8c6":"#ffffff",l=t.props.msg.isSentByMe?"#b3cba1":"#cccccc"),o={backgroundColor:[l,s]},i={backgroundColor:[s,l]}}var c=(0,R.default)(r,o,{duration:250,progress:u}),f=(0,R.default)(r,i,{duration:250,delay:250,progress:u});return Promise.all(n?[e,a,c,f]:[c,f])}).cancellable().then(function(){t.onHighlightComplete(e)}).catch(Promise.CancellationError,function(){(0,R.default)(n,"stop",!0),(0,R.default)(r,"stop",!0)}).finally(function(){t.didCancel?t.didCancel=!1:t.highlightAnimation=null}))}},{key:"onHighlightComplete",value:function(e){this.setState({highlighting:!1},function(){e&&e()})}},{key:"openForwardFlow",value:function(e){var t=this.props.msg,n=void 0;if(t.type===c.default.MSG_TYPE.CIPHERTEXT?n=l10n.t(447):t.isRevoked?n=l10n.t(448):t.isUnsentMedia&&(n=l10n.t(446,{_plural:1})),n)s.default.openModal(o.createElement(f.default,{title:l10n.t(449),onOK:function(){return s.default.closeModal()},okText:l10n.t(1287)},n));else{if(e&&this.props.displayType===c.default.DISP_TYPE.CONVERSATION)return void this.onSelectClick();s.default.openModal(o.createElement(v.default,{msgs:[(0,T.unproxy)(t)]}),{transition:"modal-flow"})}}},{key:"openEditLabelFlow",value:function(){this.props.displayType!==c.default.DISP_TYPE.CONVERSATION?s.default.openModal(o.createElement(j.default,{modelsToUpdate:[(0,T.unproxy)(this.props.msg)]})):this.onSelectClick()}},{key:"openInfoDrawer",value:function(){s.default.msgInfoDrawer((0,T.unproxy)(this.props.msg))}},{key:"openContactChat",value:function(){u.default.find(this.props.msg.author).then(function(e){s.default.openChatFromUnread(e).then(function(t){t&&s.default.focusChatTextInput(e)})})}},{key:"contextEnabled",value:function(){return!this.props.msg.isNotification}},{key:"onDeleteMessage",value:function(){var e=this.props,t=e.msg,n=e.isMsgVisible;s.default.openModal(o.createElement(d.default,{chat:t.chat,msgList:[t].map(T.unproxy),deletePrompt:!0,revokePrompt:t.canRevoke(),isMsgVisible:n}))}},{key:"onReplyMessage",value:function(){var e=(0,T.unproxy)(this.props.msg),t=e.chat;t.composeQuotedMsg=e,s.default.focusChatTextInput(t)}},{key:"onPrivateReplyMessage",value:function(){var e=this,t=(0,T.unproxy)(this.props.msg);u.default.find(t.sender).then(function(e){return Promise.props({ok:s.default.openChatBottom(e),chat:e})}).then(function(n){var r=n.ok,a=n.chat;r&&(a.composeQuotedMsg=t,e.props.msg&&e.props.msg.chat&&(a.composeQuotedMsgRemoteJid=e.props.msg.chat.id))})}},{key:"onDownload",value:function(){h.default.initDownload((0,T.unproxy)(this.props.msg))}},{key:"onStarMessage",value:function(){var e=(0,T.unproxy)(this.props.msg);s.default.sendStarMsgs(e.chat,[e])}},{key:"onUnstarMessage",value:function(){var e=(0,T.unproxy)(this.props.msg);s.default.sendUnstarMsgs(e.chat,[e])}},{key:"contextOpen",value:function(){this.onMenu(void 0,!0)}},{key:"contextClose",value:function(){this.setState({contextMenu:!1})}},{key:"getMsgComponent",value:function(e){var t=this.props,n=t.msg,r=t.position,a=t.displayType,i=t.isMsgVisible,u=t.getSequentialMsg;return o.createElement(P.default,{chat:n.chat,displayAuthor:e,displayType:a,hover:this.state.hover,isMsgVisible:i,maxWidth:this.maxWidth,msg:n,ref:this.setRefMsgComponent,position:r,getSequentialMsg:u,onProductClick:this.props.onProductClick})}},{key:"getMsgComponentRef",value:function(){return this.refMsgComponent&&this.refMsgComponent.getRef()}},{key:"onSelectChange",value:function(e){this.state.selected!==e&&this.setState({selected:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.msg,r=t.position,u=t.displayType,s=t.selectedMessages,f=u===c.default.DISP_TYPE.CONVERSATION,d=n.type!==c.default.MSG_TYPE.CHAT||u!==c.default.DISP_TYPE.STARRED_MSGS&&!!n.quotedMsg||!(r===S.MsgPosition.MID||r===S.MsgPosition.END)||u===c.default.DISP_TYPE.GALLERY||n.linkPreview||(0,_.isParsableOnlineVideoURL)(n.richPreviewType,n.matchedText,n.doNotPlayInline),p=void 0;(this.state.hover&&!this.state.highlighting||this.props.current||this.state.contextMenu)&&u!==c.default.DISP_TYPE.GALLERY&&(p=o.createElement(O.default,{msg:n,position:r,key:"icon-context",ref:this.setRefContext,onToggle:function(t){e.onMenu(t)}}));var h=null;if(!n.isNotification&&this.props.selectable){var m=u===c.default.DISP_TYPE.GALLERY?"gallery":null;h=o.createElement(w.default,{checked:!!this.state.selected,onClick:this.onSelectClick,msgTheme:m})}var b=!1;if(n.type===c.default.MSG_TYPE.CHAT){var g=l.default.match(n.body);b=1===g.length&&g[0][4][0].length===n.body.length}var v=n.chat&&n.chat.isPSA,y=!v&&!this.props.tailOverride&&(r===S.MsgPosition.FRONT||r===S.MsgPosition.SINGLE)||u===c.default.DISP_TYPE.MSG_INFO||this.props.tailOverride,E=V(n)&&(!d||n.isSentByMe||!n.isGroupMsg&&!n.quotedMsg)&&(f&&(r===S.MsgPosition.FRONT||r===S.MsgPosition.SINGLE)||!f),j=(0,a.default)(D.default.msg,{[D.default.msgContinuation]:!(r!==S.MsgPosition.FRONT&&r!==S.MsgPosition.MID||n.hsmEnabled&&n.isQuickReply),[D.default.msgPSA]:u!==c.default.DISP_TYPE.STARRED_MSGS&&v,[D.default.msgSystem]:n.isNotification,[D.default.msgGallery]:u===c.default.DISP_TYPE.STARRED_MSGS||u===c.default.DISP_TYPE.GALLERY,[D.default.msgInfo]:u===c.default.DISP_TYPE.MSG_INFO,"message-out":!n.isNotification&&n.isSentByMe||u===c.default.DISP_TYPE.MSG_INFO,"message-in":!n.isNotification&&!n.isSentByMe}),P=(0,a.default)(D.default.message,function(e){switch(e.type){case c.default.MSG_TYPE.NOTIFICATION_TEMPLATE:return e.isBizNotification?D.default.messageBizNotification:void 0;case c.default.MSG_TYPE.E2E_NOTIFICATION:return D.default.messageE2ENotification;case c.default.MSG_TYPE.GROUPS_V4_INVITE:return D.default.messageChat;case c.default.MSG_TYPE.CHAT:return(0,_.isParsableOnlineVideoURL)(e.richPreviewType,e.matchedText,e.doNotPlayInline)?D.default.messageVideoLinkPreview:D.default.messageChat;case c.default.MSG_TYPE.LOCATION:return e.isLive?D.default.messageLiveLocation:D.default.messageLocation;case c.default.MSG_TYPE.VCARD:return D.default.messageVcard;case c.default.MSG_TYPE.CIPHERTEXT:return(0,a.default)(D.default.messageChat,D.default.messagePlaceholder);case c.default.MSG_TYPE.MULTI_VCARD:return D.default.messageMultiVcard;case c.default.MSG_TYPE.IMAGE:return D.default.messageImage;case c.default.MSG_TYPE.PRODUCT:return D.default.messageProduct;case c.default.MSG_TYPE.STICKER:return V(e)?D.default.messageTransparent:D.default.messageSticker;case c.default.MSG_TYPE.VIDEO:return e.mediaData.isGif?D.default.messageGif:D.default.messageVideo;case c.default.MSG_TYPE.AUDIO:return D.default.messageAudio;case c.default.MSG_TYPE.PTT:return D.default.messagePTT;case c.default.MSG_TYPE.DOCUMENT:return D.default.messageDocument;case c.default.MSG_TYPE.TEMPLATE:if(e.hsmEnabled){if(e.subtype===c.default.TEMPLATE_SUBTYPE.IMAGE)return D.default.messageImage;if(e.subtype===c.default.TEMPLATE_SUBTYPE.VIDEO)return D.default.messageVideo;if(e.subtype===c.default.TEMPLATE_SUBTYPE.LOCATION)return D.default.messageLocation;if(e.subtype===c.default.TEMPLATE_SUBTYPE.DOCUMENT)return D.default.messageDocument;if(e.subtype===c.default.TEMPLATE_SUBTYPE.TEXT)return D.default.messageChat}break;case c.default.MSG_TYPE.TEMPLATE_BUTTON_REPLY:if(e.hsmEnabled)return D.default.messageChat;break;case c.default.MSG_TYPE.UNKNOWN:return(0,a.default)(D.default.messageChat,D.default.messagePlaceholder);default:return}}(n),{[D.default.messageSystem]:n.isNotification,[D.default.messageCode]:b,tail:y,"tail-override-left":"left"===this.props.tailOverride,"tail-override-right":"right"===this.props.tailOverride,[D.default.tailOverrideHide]:E}),C=(0,a.default)({[D.default.messageBackground]:!V(n),[D.default.hasBorderBox]:!n.isNotification&&!V(n),[D.default.hasUrlCallButtons]:n.hsmEnabled&&n.hasTemplateButtons&&!n.isQuickReply});if(this.sizeMismatch&&!this.refBubble)return o.createElement("div",{className:D.default.placeholder,ref:this.setRefBubble});var T=void 0;T=this.state.contextMenu?"none":n.isRTL?"pop-fast-reverse":"pop-fast";var R=void 0;this.state.contextMenu&&(R=o.createElement(k.default,{displayName:"MsgContextMenu",escapable:!0,popable:!0,requestDismiss:function(){return e.contextClose()}},o.createElement(I.default,{contextMenu:this.state.contextMenu})));var U=void 0;this.props.isFocusedMsg&&(U=o.createElement(x.WhileFocusedListener,{parent:this}));var G=void 0;s&&(G=o.createElement(x.SelectionListener,{parent:this,msgId:n.id.toString(),selectedMessages:s}));var B=void 0;f&&!this.props.selectable&&n.canQuickForward()&&(B=o.createElement("div",{className:D.default.btnForward,onClick:function(){return e.openForwardFlow(!1)},role:"button"},o.createElement(A.default,{name:"forward-chat"})));var $=void 0;n.mediaData&&($=o.createElement(x.MediaListener,{parent:this,mediaData:n.mediaData}));var H=F,W="msg-container";n.isNotification&&(W="msg-notification-container");var Y=void 0,K=void 0;y&&(Y=o.createElement("span",{className:"tail-container"}),K=o.createElement("span",{className:"tail-container highlight",ref:this.setRefHighlightTail})),n.logInitialRender();var q=void 0;return n.hsmEnabled&&n.hasTemplateButtons&&(q=o.createElement(N.default,{msg:n,chat:n.chat})),o.createElement("div",{className:j,onDoubleClick:this.onDoubleClick},o.createElement(L.default,{transitionName:"delay-leave"},h),o.createElement("div",{"data-a8n":i.default.key(W),className:P,onContextMenu:H,onMouseOver:this.mouseEnter,onMouseEnter:this.mouseEnter,onMouseDown:this.mouseDown,onMouseUp:this.mouseEnter,onMouseLeave:this.mouseLeave},Y,K,o.createElement(M.default,{displayType:u,msg:n}),o.createElement("div",{className:C,ref:this.setRefBubble},this.getMsgComponent(d)),o.createElement(L.default,{transitionName:T},p),B,q),R,U,G,$)}}]),t}();function F(e){e.stopPropagation()}function B(e){var t=(0,a.default)(D.default.message,D.default.messageSystem,{[D.default.messageHidden]:e.hidden});return o.createElement("div",{className:(0,a.default)(D.default.msg,D.default.msgSystem)},o.createElement("div",{className:t},e.children))}function $(e){var t=(0,a.default)(D.default.msgContainer,{"message-out":e.isSentByMe,"message-in":!e.isSentByMe}),n=(0,a.default)(D.default.message,"tail tail-override-left");return o.createElement("div",{className:t},o.createElement("div",{className:n},o.createElement("div",{className:D.default.messageBackground},o.createElement("span",{className:"tail-container"}),e.children)))}function V(e){return e.type===c.default.MSG_TYPE.STICKER&&!e.quotedMsg}G.defaultProps={displayType:c.default.DISP_TYPE.CONVERSATION},G.CONCERNS={msg:["ack","author","body","chat","dir","id","isBizNotification","isFailed","isGif","isGroupMsg","isLive","isMedia","isMMS","isNotification","isRevoked","isRTL","isSentByMe","isUnsentMedia","linkPreview","mediaData","matchedText","quotedMsg","richPreviewType","sender","star","subtype","type","title","hasTemplateButtons","isQuickReply","hsmEnabled","doNotPlayInline"]},G.displayName="Wrapper",t.default=(0,C.default)(G,G.CONCERNS),B.displayName="SystemBubble",$.displayName="MessageContainer"},cacgcabfhd:function(e,t){e.exports={spinner:"_2JqQZ",search:"_1w-mX",inputLine:"_39cGk",inputarea:"_44uDJ",contacts:"_70TS5",drawerSection:"_39zhW",inputareaSizer:"_3Xd_4"}},caciiaejed:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=u(n("bdghdbcbdc")),i=u(n("ciaidfgabf"));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this,t=-1,n=this.props.sectionIds.map(function(n,r){var a=!1;return n===e.props.selectedSectionId&&(t=r,a=!0),e.props.renderSectionTab(n,a)});return a.createElement(o.default,null,a.createElement(i.default,{numTabs:this.props.sectionIds.length,selectedTabIndex:t}),n)}}]),t}();s.displayName="PanelMenu",t.default=s},cadbaeefbb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=i(n("ceffhbhahb")),o=i(n("diigahjidi"));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.items.map(function(e,t){return r.createElement("div",{className:o.default.actionsBtn,key:t,onClick:e.onClick,role:"button",title:e.title||e.label},e.label)});return r.createElement("div",{className:(0,a.default)(o.default.actions,{[o.default.noDivider]:"no-divider"===e.theme})},t)}u.displayName="BubbleActions"},cadedacjj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={DOWNLOAD:"DOWNLOAD",UPLOAD:"UPLOAD"}},cadjjhjjci:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=t.parentNode;if(!n)return;if(t.nextSibling)return void n.insertBefore(e,t.nextSibling);return n.appendChild(e),e}},caeafadcah:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=_(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=_(n("cfaiaibca")),u=_(n("bbchdeehff")),s=_(n("baagejbchg")),l=n("bidfjbaebi"),c=_(l),f=_(n("fffdgbfji")),d=n("dbcedfihd"),p=_(n("eceadcicaf")),h=_(n("chcadgfgad")),m=n("dbbhhgjjbg"),b=_(n("ihfccfgdf")),g=_(n("ciheehhei")),v=_(n("bfdcadbbif")),y=_(n("igahgcaag"));function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var j=s.default.TEMPLATE_BUTTON_SUBTYPE,O=j.QUICK_REPLY,S=j.URL,w=j.CALL;function P(e,t){var n=(0,d.findLink)(e,!1,t.from);if(n&&n.suspiciousCharacters)return u.default.openModal(o.createElement(g.default,{link:n}));var r=o.createElement(i.default,{a8nText:"popup-controls-go",type:"primary",onClick:function(){return function(e){(0,l.openExternalLink)(e),u.default.closeModal()}(e)},key:0},f.default.t(1197)),a=o.createElement(i.default,{a8nText:"popup-controls-cancel",type:"plain",onClick:function(){return u.default.closeModal()},key:1},f.default.t(1153)),p=s.default.TEMPLATE_URL_START+s.default.TEMPLATE_URL_END;u.default.openModal(o.createElement(h.default,{title:f.default.t(865),actions:[a,r]},o.createElement("div",null,f.default.t(866)),o.createElement(c.default,{href:e,isLongTemplateUrl:e.length>p},e)))}var M=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];return n=r=E(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.handleClick=function(e){var t,n=e.subtype,a=e.url,s=e.displayText,l=e.selectionId,c=e.id;n===w?(t=o.createElement(i.default,{a8nText:"popup-controls-ok",type:"primary",onClick:function(){return u.default.closeModal()},key:0},f.default.t(1287)),u.default.openModal(o.createElement(h.default,{actions:[t]},f.default.t(256)))):n===S&&a?P(a,r.props.msg):n===O&&(0,m.sendTextMsgToChat)(r.props.chat,s,{quotedMsg:r.props.msg,selectedIndex:parseInt(c),selectedId:l}).then(function(){e.selected=!0})},E(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.msg;t.buttons&&t.buttons.length&&t.buttons.forEach(function(t){return e.props.listeners.add(t,"change:selected",function(){return e.forceUpdate()})})}},{key:"render",value:function(){var e=this,t=this.props.msg,n=void 0;return t.buttons&&(n=t.buttons.map(function(t){var n=void 0;switch(t.subtype){case w:n=o.createElement(v.default,{name:"hsm-call",className:y.default.icon});break;case S:n=o.createElement(v.default,{name:"hsm-link",className:y.default.icon})}var r=t.selected?void 0:function(){return e.handleClick(t)};return o.createElement("button",{key:t.id,className:(0,a.default)(y.default.actionButton,{[y.default.firstButton]:0===parseInt(t.id)&&t.subtype!==O,[y.default.disabled]:t.selected}),onClick:r},n,o.createElement("span",{className:y.default.actionText},t.displayText))})),o.createElement("div",{className:(0,a.default)({[y.default.quickReply]:t.isQuickReply,[y.default.callUrl]:!t.isQuickReply})},o.createElement("div",{className:y.default.buttonContainer},n))}}]),t}();M.CONCERNS={msg:["buttons","isQuickReply","from"]},M.displayName="TemplateButtons",t.default=(0,p.default)((0,b.default)(M,M.CONCERNS))},caeaghacce:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediaNotOnPhone=t.MediaDecryptionError=void 0;var r=n("bafdjibgig");Object.defineProperty(t,"MediaDecryptionError",{enumerable:!0,get:function(){return r.MediaDecryptionError}}),Object.defineProperty(t,"MediaNotOnPhone",{enumerable:!0,get:function(){return r.MediaNotOnPhone}}),t.cancelDownloadMedia=function(e){e.mustDownloadMedia=!1;var t=e.downloadPromise;t&&t.control.cancel()},t.manuallySetMedia=function(e,t,n,r,a){if(t.mediaBlob)return;(0,p.gatherAndSetMetadata)(t,n).then(function(){return j({mimetype:e,object:t,downloadEvenIfExpensive:!1,mediaType:r,rmrReason:a})})},t.downloadMedia=j;var a=b(n("cgeedcdffb")),o=b(n("bfhdbejjbg")),i=b(n("iffjgahba")),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cajijabhgb")),s=b(n("bdiiahhjbe")),l=b(n("cjieghfgda")),c=n("baffhfhhda"),f=n("daichdjff"),d=b(n("gbjefdbgb")),p=n("fabajdgab"),h=b(n("behbjhhbg")),m=b(n("beeieigghj"));function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n("bfbggcdbfb");var _=function(e){function t(){return g(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,(0,i.default)("NoEntryAfterRMR")),t}(),E=function(e){function t(){return g(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,(0,i.default)("MissingEncFilehash")),t}();function j(e){var t=e.mimetype,n=e.object,i=e.downloadEvenIfExpensive,b=e.mediaType,g=e.signal,v=e.rmrReason,y=e.rmrData;if(!n)return Promise.resolve();var O=n.filehash;if(!O)return Promise.resolve();if(i&&(n.mustDownloadMedia=!0),n.downloadPromise)return n.downloadPromise;if(n.downloadStage===f.DOWNLOAD_STAGE.ERROR_MISSING)return Promise.resolve();if(n.downloadStage===f.DOWNLOAD_STAGE.PREPARING)return Promise.resolve();if(n.mediaBlob)return n.mediaBlob.validate().then(function(e){if(!e)return n.clearBlob(),n.consolidate({downloadStage:f.DOWNLOAD_STAGE.NEED_POKE}),n.notifyMsgsAsync(),Promise.resolve();n.consolidate({downloadStage:f.DOWNLOAD_STAGE.RESOLVED})});var S=l.default.get(O),w=void 0,P=void 0,M=new a.default;if(g){if(g.aborted)return Promise.reject(new r.AbortError);g.addEventListener("abort",function(){return M.abort()})}if(S)w=Promise.resolve(S);else{var C=void 0;if(P=n.entries.getDownloadEntry())C=Promise.resolve(P);else{if(!n.mustDownloadMedia)return n.consolidate({downloadStage:f.DOWNLOAD_STAGE.NEED_POKE}),Promise.resolve();n.mustDownloadMedia=!1,C=o.default.rmr({object:n,signal:M.signal,rmrReason:v,rmrData:y}).then(function(){if(!(P=n.entries.getDownloadEntry()))throw new _;return P})}n.consolidate({downloadStage:f.DOWNLOAD_STAGE.FETCHING}),w=C.then(function(e){var r=(P=e).uploadHash;if(!r)throw P.markWhetherOnServer(!1),new E;return o.default.downloadAndDecrypt({directPath:P.directPath,encFilehash:r,filehash:O,mediaKey:P.mediaKey,mediaKeyTimestamp:P.mediaKeyTimestamp,signal:M.signal,type:b,onDecryptStart:function(){n.consolidate({downloadStage:f.DOWNLOAD_STAGE.PROCESSING})}}).then(function(e){var n=t||h.default.getMediaMimeType(b,new Uint8Array(e)),r=new Blob([e],{type:n});return!(0,p.shouldUseMediaCache)(b)||b!==d.default.PTT&&b!==d.default.AUDIO?r:(0,c.transcode)(r)})})}var T=!1;return n.downloadPromise=w.then(function(e){return(0,p.shouldUseMediaCache)(b)?(l.default.put(O,e),(0,p.gatherAndSetMetadataNoOpaque)(n,e)):m.default.createFromData(e,e.type).then(function(e){return(0,p.gatherAndSetMetadata)(n,e)})}).then(function(){return n.consolidate({downloadStage:f.DOWNLOAD_STAGE.RESOLVED}),n.downloadPromise=null,n.resolveWhenConsolidated()}).addRawControl("cancel",function(){T=!0,M.abort()}).catch(r.MediaNotFoundError,function(e){if(!P)throw e;if(P.markWhetherOnServer(!1),!n.mustDownloadMedia)throw e;return n.mustDownloadMedia=!1,o.default.rmr({object:n,signal:(new a.default).signal,rmrReason:v,rmrData:y}).then(function(){return n.downloadPromise=null,j({mimetype:t,object:n,downloadEvenIfExpensive:!1,mediaType:b,rmrReason:v,rmrData:y})})}).catch(u.MediaUnsupportedError,function(e){n.consolidate({downloadStage:f.DOWNLOAD_STAGE.ERROR_UNSUPPORTED}),s.default.error(`downloadMedia: media unsupported error: ${e.name}, ${e.message}, ${t||""}`)(),s.default.assert(!1,"downloadMedia: media unsupported error:",e.message)()}).catch(r.MediaNotOnPhone,function(e){n.consolidate({downloadStage:f.DOWNLOAD_STAGE.ERROR_MISSING})}).catch(_,E,function(e){n.consolidate({downloadStage:f.DOWNLOAD_STAGE.ERROR_MISSING}),s.default.error(e.name,e.message,e.stack)(),s.default.assert(!1,"unexpected download error:",e.name)()}).catch(r.MediaDecryptionError,function(e){n.consolidate({downloadStage:f.DOWNLOAD_STAGE.ERROR_MISSING})}).catch(function(e){if(n.consolidate({downloadStage:f.DOWNLOAD_STAGE.NEED_POKE}),e instanceof u.MediaLoadError)return s.default.error(`downloadMedia: media unsupported error: ${e.name}, ${e.message}, ${t||""}`)(),void s.default.assert(!1,"downloadMedia: media load error:",e.message)();e instanceof r.AbortError&&T||s.default.log("downloadMedia: error",e.name,e.message,e.stack)()}).finally(function(){g&&g.removeEventListener("aborted",function(){return M.abort()}),n.downloadPromise=null}).endWithControls("cancel"),n.downloadPromise}},caedaejadb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n("cgcgbfbffj")),o=c(n("baagejbchg")),i=n("ddjgcfjicj"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cajijabhgb")),s=c(n("cbcbdjdah")),l=c(n("biecbbiiee"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.hasLinkBefore=!0,f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"delete",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),this.stopListening(),this.reset()}},{key:"queryLinks",value:function(e,t){var n=this;if(t)return this.queryLinkBefore?this.queryLinkBefore:(this.queryLinkBefore=l.default.queryMedia(t.id.remote,o.default.MEDIA_QUERY_LIMIT,"before",t.id,"url").then(function(e){return(!e||e.length<o.default.MEDIA_QUERY_LIMIT)&&(n.hasLinkBefore=!1),n.add(e,{at:0}),n.createLinksAndAddMsgs(e),{length:e.length}}).catch(i.WapDrop,u.ProtoVersionUndefined,function(){}).catch(404,function(){}).finally(function(){n.queryLinkBefore=null,n.trigger("query_link_before")}),this.trigger("query_link_before"),this.queryLinkBefore);var r=e.msgs.getModelsArray();if(0===this.length){if(!r||0===r.length)return this.hasLinkBefore=!1,new Promise(function(e){e({eof:!0})});this.add(r.filter(function(e){return e.getLinks().length>0}),{at:0}),this.createLinksAndAddMsgs(r)}if(e.msgs.msgLoadState.noEarlierMsgs)return this.hasLinkBefore=!1,new Promise(function(e){e({eof:!0})});if(this.length<=2*o.default.MEDIA_QUERY_LIMIT){var a=0===this.length?e.msgs.head():this.head();return this.queryLinks(e,a)}return new Promise(function(e){e({eof:!1})})}},{key:"createLinksAndAddMsgs",value:function(e){var t=this,n=[];Promise.loop(function(t,r,a){e.length===a&&t();var o=e[a];o.getLinks().length&&n.push(o)}).then(function(){t.add(n),t.trigger("query_link_before")})}}]),t}();d.model=s.default,d.comparator=function(e,t){return e.t-t.t},t.default=d},caegbedegd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=n("eagfdbhhhh");function o(e){var t=e.children,n=e.selectable;return r.createElement(a.SelectableStrong,{selectable:n,appTextTemplate:"*${appText}*"},t)}o.displayName="Bold",o.defaultProps={children:""},t.default=o},caeigadddg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(e,t){var n=e.reduce(function(e,t){var n=t.hotkeys;return n?(Object.keys(n).forEach(function(r){e[r]||(e[r]=[]),e[r].push([t,n[r]])}),e):e},{});return Object.keys(n).reduce(function(e,a){return e[a]=function(e,t){return function(n){e.some(function(e){var a=r(e,2),o=a[0],i=a[1],u=i.call(o,n,t);return!!n.defaultPrevented||!0===u&&(n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation(),!0)})}}(n[a],t),e},{})}},caeigdhgia:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=l(n("bbchdeehff")),o=l(n("baagejbchg")),i=l(n("biddiiafgd")),u=l(n("ebijaadcje")),s=l(n("bfgbdiffgd"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=function(e){var t={maxSize:l10n.filesize(s.default.media)},n={maxSize:l10n.filesize(s.default.maxFileSize)};switch(e){case o.default.MSG_TYPE.AUDIO:case o.default.MSG_TYPE.PTT:return l10n.t(707,t);case o.default.MSG_TYPE.IMAGE:return l10n.t(711,t);case o.default.MSG_TYPE.VIDEO:return l10n.t(725,t);case o.default.MSG_TYPE.DOCUMENT:return l10n.t(709,n);case o.default.MSG_TYPE.UNKNOWN:default:return l10n.t(710,n)}}(e.mediaType);return r.createElement(u.default,{displayType:e.displayType,onClick:f.bind(null,t),tooltip:t})}function f(e){a.default.openModal(r.createElement(i.default,{onOK:function(){return a.default.closeModal()}},e))}c.displayName="MsgMediaTooLargeFailedIcon",t.default=c},cafajifcca:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExpiredLocationDrawerLoadable=t.LiveLocationDrawerLoadable=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.requireBundle=g;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=m(n("cbhegcchgg")),i=m(n("dghhefgjhc")),u=m(n("djcchigfih")),s=m(n("djbhiedbef")),l=n("dajffajabh"),c=m(l),f=n("cicgeajfge"),d=m(n("jheedhagg")),p=m(n("bdiiahhjbe")),h=m(n("bigicfbcdh"));function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(){return n.e(130).then(function(e){return{LiveLocationDrawer:n("dfjgigggff").default,ExpiredLocationDrawer:n("ddijbgcjdg").default}}.bind(null,n)).catch(n.oe)}var v=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.onCancel=function(){r.props.uim.uie.requestDismiss()},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){return a.createElement(u.default,null,a.createElement(c.default,{title:this.props.title,type:l.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onCancel}),a.createElement(s.default,null,this.props.error?a.createElement(h.default,{inactive:!0,svgName:"live-location-refresh",text:l10n.t(950),onClick:this.props.retry}):a.createElement(f.Loading,null)))}}]),t}();v.displayName="BaseLoadingDrawer";var y=(0,d.default)(v);t.LiveLocationDrawerLoadable=(0,o.default)({loader:function(){return g().then(function(e){return e.LiveLocationDrawer}).catch(function(e){throw p.default.assert(!1,"loadable:LiveLocationDrawer loading error")(e),e})},loading:e=>a.createElement(y,{title:l10n.t(653),error:Boolean(e.error),retry:e.retry}),delay:i.default.LOADABLE_DELAY}),t.ExpiredLocationDrawerLoadable=(0,o.default)({loader:function(){return g().then(function(e){return e.ExpiredLocationDrawer}).catch(function(e){throw p.default.assert(!1,"loadable:ExpiredLocationDrawer loading error")(e),e})},loading:e=>a.createElement(y,{title:l10n.t(629),error:Boolean(e.error),retry:e.retry}),delay:i.default.LOADABLE_DELAY})},cafdagagdh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HOST_TYPE=t.SUPPORTS_ALL_MEDIA_TYPES=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("gbjefdbgb");var o=t.SUPPORTS_ALL_MEDIA_TYPES=a.MEDIA_TYPE_VALUES.reduce(function(e,t){return e[t]=!0,e},{}),i=t.HOST_TYPE=Object.freeze({PRIMARY:"primary",FALLBACK:"fallback"}),u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=e.extractMediaTypesFromRules(t.rules),r=n.download,a=n.upload;Object.assign(this,{ips:[]},{hostname:t.hostname,ips:t.ips,type:t.type,class:t.class,download:r,upload:a})}return r(e,[{key:"isFallback",value:function(){return null!=this.type&&this.type===i.FALLBACK}},{key:"supportsDownload",value:function(e,t){return(!this.type||this.type===e)&&this.download[t]}},{key:"supportsDownloadMediaType",value:function(e){return this.download[e]}},{key:"supportsUploadMediaType",value:function(e){return this.upload[e]}}],[{key:"extractMediaTypesFromRules",value:function(e){var t=void 0,n=void 0;return(e||[]).forEach(function(e){e.download&&(t=t||{},e.download.forEach(function(e){t&&(t[e]=!0)})),e.upload&&(n=n||{},e.upload.forEach(function(e){n&&(n[e]=!0)}))}),{download:t||o,upload:n||o}}}]),e}();t.default=u},cafgbeeihg:function(e,t){e.exports={mediaCanvas:"grK2C",shade:"_1ekmt",iconType:"QEFLC",iconStar:"_30H48",mediaCanvasDuration:"JVArc",shadeTop:"_1DNPt",canvasBody:"_2Ji5m",canvasSelected:"_1oTUk",mediaSelect:"KV2wQ",canvasComponent:"_2wPfr",canvasSecondRow:"IJkhc",viewerFlow:"_1LdNS",active:"cJP5q",viewerFlowTransparent:"_3Jjxz"}},caghbagede:function(e,t){e.exports={container:"_1Zlsf",roundIcon:"_1DnDx",unchecked:"_3i9Xl",passive:"_2eJeD"}},cahcacghci:function(e,t){e.exports={iconSpinner:"_3y7Hk",iconMorph:"_2F_Gi",iconCloseSearch:"_2heX1",iconLabelSelect:"_2pjfI",inputSearch:"_2zCfw",labelSearchPlaceholder:"_201Bk",inputPlaceholder:"_183ES",listSearch:"ZP8RM",contInputSearch:"eiCXe",active:"_19OGD",iconSearchMorph:"_1XCAr",iconMorphSearch:"_3I7nT",iconMorphBack:"_2l_xV",labels:"_29Ziv",kind:"_2eGMB",kindName:"_2NyQz",filterTitle:"KrrR1"}},cahefccjdd:function(e,t){e.exports={voipFloater:"KoAWx"}},cahigbeecb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=g(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=g(n("djcchigfih")),u=g(n("djbhiedbef")),s=n("dajffajabh"),l=g(s),c=g(n("fffdgbfji")),f=n("bbjjjbicfb"),d=n("bijffg"),p=g(d),h=g(n("gcdabficb")),m=g(n("becfabjeeg")),b=g(n("bfdcadbbif"));function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=function(e){function t(){var e,n,r;v(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={hover:!1},r.onClick=function(e){r.props.onUpdateColor({id:r.props.labelId,color:r.props.colorInt},d.LABEL_PROPERTIES.COLOR),r.props.onBack()},r.disableHover=function(e){r.state.hover&&r.setState({hover:!1})},r.enableHover=function(e){r.state.hover||r.setState({hover:!0})},y(r,n)}return _(t,o.Component),r(t,[{key:"render",value:function(){var e=this.props.isSelected?o.createElement(b.default,{name:"checkmark-light"}):null,t=(0,a.default)(h.default.wallpaperColorCanvas,{[h.default.canvasHover]:this.state.hover,[h.default.canvasActive]:this.props.isSelected});return o.createElement("span",{className:t,style:{backgroundColor:(0,f.intColorToHex)(this.props.colorInt)},onMouseOver:this.enableHover,onMouseEnter:this.enableHover,onMouseLeave:this.disableHover,onClick:this.onClick},e)}}]),t}();E.displayName="ColorCanvas";var j=function(e){function t(){return v(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _(t,o.Component),r(t,[{key:"render",value:function(){for(var e=this,t=this.props,n=t.currentColor,r=t.colors.map(function(t){return o.createElement(E,{onUpdateColor:e.props.onUpdateColor,colorInt:t,onBack:e.props.onBack,labelId:e.props.labelId,isSelected:n===t,key:t})}),a=0;a<2;a++)r.push(o.createElement("div",{key:"emptyEl"+a,className:h.default.wallpaperColorEmpty}));return r}}]),t}();j.displayName="ColorGrid";var O=function(e){function t(){v(this,t);var e=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.getColorPromise=null,e.state={colors:p.default.labelColorPalette&&p.default.labelColorPalette.colors},e}return _(t,o.Component),r(t,[{key:"componentWillUnmount",value:function(){this.getColorPromise&&this.getColorPromise.cancel()}},{key:"render",value:function(){var e=this,t=o.createElement(m.default,{stroke:6,size:24});return this.state.colors?t=o.createElement(j,{labelId:this.props.labelId,onBack:this.props.onClose,onUpdateColor:this.props.onUpdateColor,colors:this.state.colors,currentColor:this.props.currentColor}):(this.getColorPromise=p.default.getLabelColorPalette(),this.getColorPromise.cancellable().then(function(t){e.setState({colors:t})})),o.createElement(i.default,null,o.createElement(l.default,{theme:this.state.colors?void 0:"center-content",title:c.default.t(617),onBack:this.props.onClose,type:s.DRAWER_HEADER_TYPE.LARGE}),o.createElement(u.default,null,o.createElement("div",{className:h.default.container},t)))}}]),t}();O.displayName="LabelColorDrawer",t.default=O},caigihje:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=(l(n("baagejbchg")),l(n("dbbbgjbbgf"))),i=l(n("ccfhgdcjch")),u=l(n("bfdcadbbif")),s=l(n("dbabefhajh"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props.msg,t=e.isSentByMe?l10n.t(970):l10n.t(968),n=e.isSentByMe?"recalled-out":"recalled-in";return a.createElement(s.default,{msg:e},a.createElement(o.default,{msg:e,theme:"placeholder"},a.createElement("div",{className:i.default.icon},a.createElement(u.default,{name:n})),t))}}]),t}();c.displayName="Revoked",t.default=c},caiifejggg:function(e,t){e.exports={container:"_3wYPn"}},caijdggfg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SEARCH_EVENT=void 0;var r=u(n("jcfacighg")),a=u(n("cfjdfebffb")),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n("cccehdaiaf"));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=t.SEARCH_EVENT="SEARCH_EVENT",c=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.query="",r.filter={},s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"updateQuery",value:function(e){var t=this.query;this.query=e,e.trim()!==t&&this.trigger(l)}},{key:"updateLabelQuery",value:function(e){this.filter=e||{}}},{key:"clear",value:function(){this.updateQuery("")}},{key:"trimmed",get:function(){return this.query.trim()}},{key:"highlighted",get:function(){var e=this.trimmed.toLowerCase().split(" ");return(0,a.default)((0,r.default)(e))}},{key:"isEmptySearchTerm",get:function(){return""===this.trimmed||!this.trimmed}},{key:"isEmptyQuery",get:function(){return this.isEmptySearchTerm&&!this.filter.kind&&!this.filter.label}}]),t}();t.default=c},caijdjeaba:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.getMsgByMsgKey=function(e){if(!a.default.supportsFeature(a.default.F.MODEL_STORAGE))return Promise.resolve(null);var t=void 0;t=e instanceof u.default?e.toString():e;return i.default.get(t).then(function(e){return e?(0,l.hydrateMessage)(e):null})},t.getBefore=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;if(!a.default.supportsFeature(a.default.F.MODEL_STORAGE))return Promise.resolve({messages:[],remaining:t});return s.default.lock(["meta-message-island","message-island"],function(n){var a=r(n,2),i=a[0],u=a[1];return function(e,t){return e.equals(["messages"],t.toString()).then(function(e){return e.length?e[0]:null})}(u,e).then(function(n){if(!n)return{messages:[],remaining:t};var r=n.messages.findIndex(function(t){return t===e.toString()});if(-1===r)return o.default.error(`MessageIsland was found via message ${e.toString()}, but message not found in island.messages array`)(),{messages:[],remaining:t};var a=n.messages.slice(0,r),s=t-a.length;return 0===s?{messages:a,remaining:s}:i.get(n.parent).then(function(e){if(!e)return o.default.error("MetaMessageIsland for island.parent was not found")(),{messages:a,remaining:s};var t=e.islands.findIndex(function(e){return e===n.id});return t<=0?{messages:a,remaining:s}:function e(t,n,r,a,o){var i=n[r];return t.get(i).then(function(i){return i?o<=i.messages.length?{messages:i.messages.slice(-o).concat(a),remaining:0}:r>0?e(t,n,r-1,i.messages.concat(a),o-i.messages.length):{messages:i.messages.concat(a),remaining:o-i.messages.length}:{messages:a,remaining:o}})}(u,e.islands,t-1,a,s)})})}).then(function(e){var t=e.messages,n=e.remaining;return i.default.bulkGet(t).then(function(e){return{remaining:n,messages:e.filter(function(e,n){return!!e||(o.default.error(`getBefore: cannot find msg ${t[n]} locally`)(),!1)}).map(l.hydrateMessage)}})})};var a=c(n("bjbdcigbdi")),o=c(n("bdiiahhjbe")),i=c(n("bjdejebbgc")),u=c(n("cffajefeag")),s=c(n("ffjiicch")),l=n("bigeebbfbi");function c(e){return e&&e.__esModule?e:{default:e}}},cajbicccif:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("iaibjaeb"),i=E(o),u=E(n("dbdfbgehgj")),s=E(n("bbchdeehff")),l=E(n("djcchigfih")),c=E(n("djbhiedbef")),f=n("dajffajabh"),d=E(f),p=n("cicgeajfge"),h=E(n("bbhhbdicgc")),m=E(n("bggeiidigb")),b=E(n("ddajbaceej")),g=E(n("jheedhagg")),v=E(n("dhfbfehaef")),y=E(n("eceadcicaf")),_=E(n("dcaibchbg"));function E(e){return e&&e.__esModule?e:{default:e}}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var O=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,l=Array(u),c=0;c<u;c++)l[c]=arguments[c];return n=r=j(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.flatListController=new m.default,r.selection=new _.default([],function(e){return e.id.toString()}),r.onClick=function(e,t){s.default.openChatFromUnread(t).then(function(e){e&&s.default.focusChatTextInput(t)}),r.onClose()},r.onClose=function(){r.props.uim.uie.requestDismiss()},r.onNextChat=function(e){e.preventDefault(),e.stopPropagation(),r.selection.setNext(!0)},r.onPrevChat=function(e){e.preventDefault(),e.stopPropagation(),r.selection.setPrev(!0)},r.renderItem=function(e){return a.createElement(i.default,{chat:e.chat,mode:o.Mode.LAST,active:r.selection,onClick:r.onClick})},r.setRefHotKeys=function(e){r.refList=e},j(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(u.default,"change:archive add remove"),this.refList&&b.default.focus(this.refList)}},{key:"getData",value:function(e){return e.map(function(e){return{itemKey:e.id.toString(),chat:e}})}},{key:"render",value:function(){var e=void 0,t=u.default.filter(function(e){return e.archive});if(this.selection.init(t,!0),t.length>0){var n={down:this.onNextChat,up:this.onPrevChat};e=a.createElement(v.default,{onRef:this.setRefHotKeys,handlers:n},a.createElement(h.default,{data:this.getData(t),flatListController:this.flatListController,direction:"vertical",renderItem:this.renderItem}))}else e=a.createElement(p.Archived,null);return a.createElement(l.default,null,a.createElement(d.default,{title:l10n.t(184),onBack:this.onClose,type:f.DRAWER_HEADER_TYPE.LARGE}),a.createElement(c.default,{flatListControllers:[this.flatListController]},e))}}]),t}();O.displayName="ArchivedDrawer",e.exports=(0,g.default)((0,y.default)(O))},cajddbdaie:function(e,t){e.exports={thumbsContainer:"_2n0jo",scrollContainer:"_3U0tQ",viewerThumbs:"_2ogLZ",mediaThumb:"x0gLY",thumbPadding:"_2HN8V"}},cajejegicg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setChecksum=function(e){o.default.supportsFeature(o.default.F.MODEL_STORAGE)&&(0,i.setContactChecksum)(e);return Promise.resolve()};var r,a=n("bjbdcigbdi"),o=(r=a)&&r.__esModule?r:{default:r},i=n("bgaeedafjf")},cajjfeahjc:function(e,t){e.exports={listPanel:"IMn_C",listBody:"_2eMVG",listSectionSep:"qlhJH",listSectionText:"_3hF3J",listSectionAction:"FGTTS",panelHeader:"_3pEci",headerText:"_1AHPD",primaryHeaderText:"_26-u-",secondaryHeaderText:"OEFaY",headerButtonsPrimary:"n5y-k",headerButtonsSecondary:"aVknD"}},cbcbdjdah:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TYPE=void 0;var r=H(n("bcdejiigcg")),a=H(n("bhaghghai")),o=H(n("bebajedcaf")),i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},l=n("baagejbchg");Object.defineProperty(t,"TYPE",{enumerable:!0,get:function(){return l.MSG_TYPE}}),t.createProductInquiry=function(e,t,n){var r=function(e){return new K(e)}({ack:0,id:new T.default({id:"product_inquiry",remote:t,fromMe:!0}),from:t,t:p.default.globalUnixTime(),type:l.MSG_TYPE.PRODUCT,title:e.name,description:e.description,businessOwnerJid:t.toString({legacy:!0}),productId:e.id.toString(),url:e.url,productImageCount:e.productImageCollection.length,body:n.preview&&n.preview._b64,currencyCode:e.currency,priceAmount1000:e.priceAmount1000});return r.mediaData.set(n),r};var c=n("dcaifjegcg"),f=H(c),d=H(n("daffbcegjj")),p=H(n("cfadcbbiie")),h=H(n("bbchdeehff")),m=H(l),b=H(n("bjigbaghc")),g=H(n("bjgiedaj")),v=H(n("djegeegcbf")),y=H(n("cijheiibhg")),_=H(n("bjbdcigbdi")),E=n("beadfddidc"),j=H(n("hciaejfjd")),O=n("cefjgcjhgf"),S=V(n("dbcedfihd")),w=H(n("bdiiahhjbe")),P=V(n("ddgbhifaji")),M=H(n("bffjfbgbg")),C=H(n("bfbggcdbfb")),T=H(n("cffajefeag")),A=V(n("ccbagdhfbb")),N=n("bcjidabgad"),k=H(n("cahfddcdga")),I=V(n("ebggjhghhi")),R=n("bdgehigfig"),L=H(n("bfgbdiffgd")),D=H(n("bhggeigghg")),x=n("hjbbdjjdf"),U=n("chhhffajfi"),G=n("dffjhcaahi"),F=H(n("cgfjebhhej")),B=H(n("jccfhaecf")),$=H(n("djbfhebjhe"));function V(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function H(e){return e&&e.__esModule?e:{default:e}}function W(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n("bgiachiigg"),n("bbcaggdbc");var Y=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=W(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.id=(0,c.prop)(),r.body=(0,c.prop)(),r.type=(0,c.prop)(),r.subtype=(0,c.prop)(),r.t=(0,c.prop)(),r.notifyName=(0,c.prop)(),r.from=(0,c.prop)(),r.to=(0,c.prop)(),r.author=(0,c.prop)(),r.self=(0,c.prop)("in"),r.ack=(0,c.prop)(),r.invis=(0,c.prop)(),r.isNewMsg=(0,c.prop)(),r.star=(0,c.prop)(!1),r.recvFresh=(0,c.prop)(),r.caption=(0,c.prop)(),r.clientUrl=(0,c.prop)(),r.loc=(0,c.prop)(),r.lat=(0,c.prop)(),r.lng=(0,c.prop)(),r.isLive=(0,c.prop)(),r.accuracy=(0,c.prop)(),r.speed=(0,c.prop)(),r.degrees=(0,c.prop)(),r.comment=(0,c.prop)(),r.sequence=(0,c.prop)(),r.shareDuration=(0,c.prop)(),r.finalLat=(0,c.prop)(),r.finalLng=(0,c.prop)(),r.finalAccuracy=(0,c.prop)(),r.finalThumbnail=(0,c.prop)(),r.finalSpeed=(0,c.prop)(),r.finalDegrees=(0,c.prop)(),r.finalTimeOffset=(0,c.prop)(),r.directPath=(0,c.prop)(),r.mimetype=(0,c.prop)(),r.duration=(0,c.prop)(),r.filehash=(0,c.prop)(),r.uploadhash=(0,c.prop)(),r.size=(0,c.prop)(),r.filename=(0,c.prop)(),r.streamingSidecar=(0,c.prop)(),r.mediaKey=(0,c.prop)(),r.mediaKeyTimestamp=(0,c.prop)(),r.pageCount=(0,c.prop)(),r.isGif=(0,c.prop)(),r.gifAttribution=(0,c.prop)(),r.streamable=(0,c.prop)(),r.width=(0,c.prop)(),r.height=(0,c.prop)(),r.devicesAdded=(0,c.prop)(),r.devicesRemoved=(0,c.prop)(),r.firstFrameLength=(0,c.prop)(),r.firstFrameSidecar=(0,c.prop)(),r.isAnimated=(0,c.prop)(),r.canonicalUrl=(0,c.prop)(),r.matchedText=(0,c.prop)(),r.thumbnail=(0,c.prop)(),r.richPreviewType=(0,c.prop)(),r.doNotPlayInline=(0,c.prop)(),r.title=(0,c.prop)(),r.description=(0,c.prop)(),r.businessOwnerJid=(0,c.prop)(),r.productId=(0,c.prop)(),r.currencyCode=(0,c.prop)(),r.priceAmount1000=(0,c.prop)(),r.retailerId=(0,c.prop)(),r.url=(0,c.prop)(),r.productImageCount=(0,c.prop)(),r.recipients=(0,c.prop)(),r.broadcast=(0,c.prop)(),r.quotedMsg=(0,c.prop)(),r.quotedStanzaID=(0,c.prop)(),r.quotedRemoteJid=(0,c.prop)(),r.quotedParticipant=(0,c.prop)(),r.mentionedJidList=(0,c.prop)(),r.footer=(0,c.prop)(),r.buttons=(0,c.prop)(),r.selectedId=(0,c.prop)(),r.selectedIndex=(0,c.prop)(),r.multicast=(0,c.prop)(),r.urlText=(0,c.prop)(),r.urlNumber=(0,c.prop)(),r.clearMedia=(0,c.prop)(),r.vcardList=(0,c.prop)(),r.protocolMessageKey=(0,c.prop)(),r.templateParams=(0,c.prop)(),r.textColor=(0,c.prop)(),r.backgroundColor=(0,c.prop)(),r.font=(0,c.prop)(),r.isForwarded=(0,c.prop)(!1),r.forwardingScore=(0,c.prop)(),r.labels=(0,c.prop)(),r.paymentCurrency=(0,c.prop)(),r.paymentAmount1000=(0,c.prop)(),r.paymentMessageReceiverJid=(0,c.prop)(),r.paymentTransactionTimestamp=(0,c.prop)(),r.paymentStatus=(0,c.prop)(),r.paymentNoteMsg=(0,c.prop)(),r.paymentRequestMessageKey=(0,c.prop)(),r.paymentExpiryTimestamp=(0,c.prop)(),r.ephemeralStartTimestamp=(0,c.prop)(),r.ephemeralDuration=(0,c.prop)(),r.historySyncMetaData=(0,c.prop)(),r.promises=(0,c.session)(function(){return{}}),r.local=(0,c.session)(),r.search=(0,c.session)(),r.msgChunk=(0,c.session)(),r.phoneUploading=(0,c.session)(),r.startOfDay=(0,c.session)(),r.startOfDaySkew=(0,c.session)(),r._quotedMsgObj=(0,c.session)(),r.isQuotedMsgAvailable=(0,c.session)(!0),r.senderObj=(0,c.session)(),r.mediaData=(0,c.session)(),r.inviteCode=(0,c.prop)(),r.inviteCodeExp=(0,c.prop)(),r.inviteGrp=(0,c.prop)(),r.inviteGrpName=(0,c.prop)(),r.inviteGrpJpegThum=(0,c.prop)(),r._links=(0,c.session)(function(){return[]}),r.linksIndexParsed=(0,c.session)(0),r.hsmEnabled=(0,c.derived)(r._hsmEnabled,["type"]),r.chat=(0,c.derived)(r._chat),r.hasTemplateButtons=(0,c.derived)(r._hasTemplateButtons,["buttons"]),r.ephemeralExpirationTimestamp=(0,c.derived)(r._ephemeralExpirationTimestamp,["t","ephemeralStartTimestamp","ephemeralDuration","minEphemeralExpirationTimestamp"]),r.minEphemeralExpirationTimestamp=(0,c.derived)(r._minEphemeralExpirationTimestamp,["t","shareDuration","paymentExpiryTimestamp","inviteCodeExp"]),r.isEphemeral=(0,c.derived)(r._isEphemeral,["ephemeralDuration"]),r.isQuickReply=(0,c.derived)(r._isQuickReply,["buttons"]),r.isFutureproof=(0,c.derived)(r._isFutureproof,["type","subtype"]),r.isGroupMsg=(0,c.derived)(r._isGroupMsg),r.isStatusV3=(0,c.derived)(r._isStatusV3),r.isPSA=(0,c.derived)(r._isPSA),r.isRTL=(0,c.derived)(r._isRTL,["dir"]),r.isProductInquiry=(0,c.derived)(r._isProductInquiry),r.statusV3TextBg=(0,c.derived)(r._statusV3TextBg),r.isSentByMe=(0,c.derived)(r._isSentByMe),r.isSentByMeFromWeb=(0,c.derived)(r._isSentByMeFromWeb,["isUserCreatedType"]),r.isNotification=(0,c.derived)(r._isNotification,["type"]),r.isGroupNotification=(0,c.derived)(r._isGroupNotification,["type"]),r.isBroadcastNotification=(0,c.derived)(r._isBroadcastNotification,["type"]),r.isBizNotification=(0,c.derived)(r._isBizNotification,["type","subtype"]),r.isProduct=(0,c.derived)(r._isProduct,["type"]),r.isValidAlbumAsset=(0,c.derived)(r._isValidAlbumAsset,["type","isNotification","caption","isForwarded","isRevoked","isGif","quotedMsg"]),r.isValidGroupedSticker=(0,c.derived)(r._isValidGroupedSticker,["type","isNotification","isRevoked","quotedMsg"]),r.isMedia=(0,c.derived)(r._isMedia,["type"]),r.isDoc=(0,c.derived)(r._isDoc,["type"]),r.isMMS=(0,c.derived)(r._isMMS,["type"]),r.isRevoked=(0,c.derived)(r._isRevoked,["type"]),r.numTimesForwarded=(0,c.derived)(r._numTimesForwarded,["isForwarded","forwardingScore"]),r.isFrequentlyForwarded=(0,c.derived)(r._isFrequentlyForwarded,["numTimesForwarded"]),r.eventType=(0,c.derived)(r._eventType,["type","invis","isNewMsg"]),r.sender=(0,c.derived)(r._sender),r.text=(0,c.derived)(r._text,["type","body","caption","comment","isLive","paymentNoteMsg","subtype"]),r.containsEmoji=(0,c.derived)(r._containsEmoji,["text"]),r.isFailed=(0,c.derived)(r._isFailed,["isSentByMe","ack"]),r.vcard=(0,c.derived)(r._vcard,["type","body"]),r.isUnsentMedia=(0,c.derived)(r._isUnsentMedia,["ack","isMMS","isSentByMe"]),r.dir=(0,c.derived)(r._dir,["type","text","subtype"]),r.rtl=(0,c.derived)(r._rtl,["type","text","subtype"]),r.linkPreview=(0,c.derived)(r._linkPreview,["matchedText","body","title","description"]),r.isGroupsV4InviteExpired=(0,c.derived)(r._isGroupsV4InviteExpired,["type","inviteCode","inviteCodeExp"]),r.isPersistent=(0,c.derived)(r._isPersistent),r.isUnreadType=(0,c.derived)(r._isUnreadType,["type"]),r.isUserCreatedType=(0,c.derived)(r._isUserCreatedType,["type"]),r.initialPageSize=(0,c.derived)(r._initialPageSize,["isFrequentlyForwarded"]),W(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.default),u(t,[{key:"_hsmEnabled",value:function(){return!!(0,E.shouldEnableHsm)()&&((this.type===m.default.MSG_TYPE.TEMPLATE||this.type===m.default.MSG_TYPE.TEMPLATE_BUTTON_REPLY)&&!!(_.default.supportsFeature(_.default.F.MD_BACKEND)&&_.default.supportsFeature(_.default.F.MD_HSM)||_.default.supportsFeature(_.default.F.HSM_INTERACTIVE)||!this.hasTemplateButtons&&this.type!==m.default.MSG_TYPE.TEMPLATE_BUTTON_REPLY))}},{key:"_chat",value:function(){return D.default.Chat.get(this.id.remote)}},{key:"_hasTemplateButtons",value:function(){return(0,E.shouldEnableHsm)()&&this.type===m.default.MSG_TYPE.TEMPLATE&&null!=this.buttons&&this.buttons.length>0}},{key:"_ephemeralExpirationTimestamp",value:function(){var e=this.t,t=this.ephemeralStartTimestamp,n=this.ephemeralDuration;if(null==n||0===n)return null;var r=null!=t&&0!==t?t+n:Number.POSITIVE_INFINITY,a=e+m.default.MAX_EPHEMERAL_DURATION;return Math.min(a,Math.max(this.minEphemeralExpirationTimestamp,r))}},{key:"_minEphemeralExpirationTimestamp",value:function(){if(this.shareDuration>0)return this.t+this.shareDuration;if(null!=this.paymentExpiryTimestamp&&this.paymentExpiryTimestamp>0)return this.paymentExpiryTimestamp;var e=parseInt(this.inviteCodeExp,10);return e>0?e:Number.NEGATIVE_INFINITY}},{key:"_isEphemeral",value:function(){return null!=this.ephemeralDuration&&0!==this.ephemeralDuration}},{key:"_isQuickReply",value:function(){if(!this.hasTemplateButtons)return!1;if(null==this.buttons)return!1;var e=this.buttons.at(0);return null!=e&&e.subtype===m.default.TEMPLATE_BUTTON_SUBTYPE.QUICK_REPLY}},{key:"_isFutureproof",value:function(){return this.type===l.MSG_TYPE.UNKNOWN||this.type===l.MSG_TYPE.PAYMENT&&"futureproof"===this.subtype}},{key:"_isGroupMsg",value:function(){return B.default.isGroup(this.from)||B.default.isGroup(this.to)}},{key:"_isStatusV3",value:function(){return B.default.isStatusV3(this.id.remote)}},{key:"_isPSA",value:function(){return B.default.isPSA(this.id.remote)}},{key:"_isRTL",value:function(){return"rtl"===this.dir||void 0===this.dir&&l10n.isRTL()}},{key:"_isProductInquiry",value:function(){return this.id&&this.id.id===m.default.PRODUCT_INQUIRY_TYPE}},{key:"_statusV3TextBg",value:function(){if(!this.isStatusV3)return null;var e=this.backgroundColor;return e?`rgba(${e>>16&255}, ${e>>8&255}, ${255&e}, ${e>>24&255})`:null}},{key:"_isSentByMe",value:function(){return"in"!==this.id.self&&!this.isNotification&&B.default.equals(this.from,b.default.me)}},{key:"_isSentByMeFromWeb",value:function(){return this.id.fromMe&&this.local&&this.isUserCreatedType}},{key:"_isNotification",value:function(){switch(this.type){case l.MSG_TYPE.GROUP_NOTIFICATION:case l.MSG_TYPE.GP2:case l.MSG_TYPE.BROADCAST_NOTIFICATION:case l.MSG_TYPE.NOTIFICATION:case l.MSG_TYPE.NOTIFICATION_TEMPLATE:case l.MSG_TYPE.E2E_NOTIFICATION:case l.MSG_TYPE.CALL_LOG:return!0;default:return!1}}},{key:"_isGroupNotification",value:function(){switch(this.type){case l.MSG_TYPE.GROUP_NOTIFICATION:case l.MSG_TYPE.GP2:return!0;default:return!1}}},{key:"_isBroadcastNotification",value:function(){return this.type===l.MSG_TYPE.BROADCAST_NOTIFICATION}},{key:"_isBizNotification",value:function(){if(this.type===l.MSG_TYPE.NOTIFICATION_TEMPLATE)switch(this.subtype){case"verified_initial_unknown":case"verified_initial_low":case"verified_initial_high":case"verified_transition_any_to_none":case"verified_transition_any_to_high":case"verified_transition_high_to_low":case"verified_transition_high_to_unknown":case"verified_transition_unknown_to_low":case"verified_transition_low_to_unknown":case"verified_transition_none_to_low":case"verified_transition_none_to_unknown":case"biz_verified_transition_top_to_bottom":case"biz_verified_transition_bottom_to_top":case"biz_intro_top":case"biz_intro_bottom":case"biz_name_change":case"biz_move_to_consumer_app":case"biz_two_tier_migration_top":case"biz_two_tier_migration_bottom":return!0;default:return!1}return!1}},{key:"_isProduct",value:function(){return"product"===this.type}},{key:"_isValidAlbumAsset",value:function(){return!(this.type!==m.default.MSG_TYPE.IMAGE&&this.type!==m.default.MSG_TYPE.VIDEO||this.isNotification||this.caption||this.isRevoked||this.isGif||this.quotedMsg)}},{key:"_isValidGroupedSticker",value:function(){return this.type===m.default.MSG_TYPE.STICKER&&!this.isNotification&&!this.isRevoked&&!this.quotedMsg}},{key:"_isMedia",value:function(){return["image","video","audio"].includes(this.type)||this.hsmEnabled&&(this.subtype===m.default.TEMPLATE_SUBTYPE.IMAGE||this.subtype===m.default.TEMPLATE_SUBTYPE.VIDEO)}},{key:"_isDoc",value:function(){return this.type===m.default.MSG_TYPE.DOCUMENT||this.hsmEnabled&&this.subtype===m.default.TEMPLATE_SUBTYPE.DOCUMENT}},{key:"_isMMS",value:function(){return A.typeIsMMS(this.type,this.subtype)}},{key:"_isRevoked",value:function(){return this.type===l.MSG_TYPE.REVOKED}},{key:"_numTimesForwarded",value:function(){return this.forwardingScore?this.forwardingScore||0:this.isForwarded?1:0}},{key:"_isFrequentlyForwarded",value:function(){return this.numTimesForwarded>=m.default.FREQUENTLY_FORWARDED_SENTINEL}},{key:"_eventType",value:function(){if(!this.isNewMsg)return"i";var e=this.eventTypeFromMsgType();return this.invis?"i"===e?"i":"n":e}},{key:"_sender",value:function(){return this.isSentByMe?this.from:this.isGroupMsg||this.isStatusV3?this.author:this.from}},{key:"_text",value:function(){switch(this.type){case l.MSG_TYPE.CHAT:return this.body;case l.MSG_TYPE.IMAGE:case l.MSG_TYPE.VIDEO:return this.caption;case l.MSG_TYPE.LOCATION:return this.isLive?this.comment:void 0;case l.MSG_TYPE.PAYMENT:var e=this.paymentNoteMsg;return e?e.body:void 0;case l.MSG_TYPE.GROUPS_V4_INVITE:return this.comment;case l.MSG_TYPE.PRODUCT:return this.getProductInfoText();case l.MSG_TYPE.HSM:return this.body;case l.MSG_TYPE.TEMPLATE:if(this.hsmEnabled)return this.subtype===m.default.TEMPLATE_SUBTYPE.TEXT?this.body:this.caption;break;case l.MSG_TYPE.TEMPLATE_BUTTON_REPLY:return this.body;default:return}}},{key:"_containsEmoji",value:function(){var e=this.text;return!!e&&v.default.containsEmoji(e)}},{key:"_isFailed",value:function(){return this.isSentByMe&&this.ack<0}},{key:"_vcard",value:function(){if(this.type===l.MSG_TYPE.VCARD)try{return F.default.parse(this.body)}catch(e){return}}},{key:"_isUnsentMedia",value:function(){return this.ack<1&&this.isMMS&&this.isSentByMe}},{key:"_dir",value:function(){return this.type===l.MSG_TYPE.VCARD?this.subtype?d.default.dir(this.subtype):void 0:this.text?d.default.dir(this.text):void 0}},{key:"_rtl",value:function(){return this.type===l.MSG_TYPE.VCARD?!!this.subtype&&"rtl"===d.default.dir(this.subtype):!!this.text&&"rtl"===d.default.dir(this.text)}},{key:"_linkPreview",value:function(){return(0,x.isString)(this.matchedText)&&(!(0,o.default)(this.title)||!(0,o.default)(this.description))&&this.body.includes(this.matchedText)}},{key:"_isGroupsV4InviteExpired",value:function(){if(this.type!==m.default.MSG_TYPE.GROUPS_V4_INVITE)return!1;if(!this.inviteCode)return!0;var e=(new Date).getTime()/1e3;return parseInt(e,10)>=parseInt(this.inviteCodeExp,10)}},{key:"_isPersistent",value:function(){return this.type===l.MSG_TYPE.E2E_NOTIFICATION&&"encrypt"===this.subtype}},{key:"_isUnreadType",value:function(){return[l.MSG_TYPE.CHAT,l.MSG_TYPE.IMAGE,l.MSG_TYPE.VIDEO,l.MSG_TYPE.AUDIO,l.MSG_TYPE.PTT,l.MSG_TYPE.DOCUMENT,l.MSG_TYPE.VCARD,l.MSG_TYPE.LOCATION,l.MSG_TYPE.CIPHERTEXT,l.MSG_TYPE.OVERSIZED,l.MSG_TYPE.MULTI_VCARD,l.MSG_TYPE.REVOKED,l.MSG_TYPE.UNKNOWN,l.MSG_TYPE.STICKER,l.MSG_TYPE.PRODUCT,l.MSG_TYPE.GROUPS_V4_INVITE].includes(this.type)}},{key:"_isUserCreatedType",value:function(){return[l.MSG_TYPE.PROTOCOL,l.MSG_TYPE.CHAT,l.MSG_TYPE.LOCATION,l.MSG_TYPE.VCARD,l.MSG_TYPE.MULTI_VCARD,l.MSG_TYPE.IMAGE,l.MSG_TYPE.VIDEO,l.MSG_TYPE.AUDIO,l.MSG_TYPE.PTT,l.MSG_TYPE.DOCUMENT,l.MSG_TYPE.STICKER,l.MSG_TYPE.PRODUCT,l.MSG_TYPE.GROUPS_V4_INVITE].includes(this.type)}},{key:"_initialPageSize",value:function(){return this.isFrequentlyForwarded?m.default.FREQUENTLY_FORWARDED_INITIAL_PAGE_SIZE:m.default.INITIAL_PAGE_SIZE}},{key:"initialize",value:function(){var e=this;if(s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this),this.sender)this.addChild("senderObj",D.default.Contact.gadd(this.sender));else switch(this.type){case l.MSG_TYPE.NOTIFICATION:case l.MSG_TYPE.NOTIFICATION_TEMPLATE:case l.MSG_TYPE.GROUP_NOTIFICATION:case l.MSG_TYPE.GP2:case l.MSG_TYPE.BROADCAST_NOTIFICATION:case l.MSG_TYPE.E2E_NOTIFICATION:case l.MSG_TYPE.CALL_LOG:case l.MSG_TYPE.PROTOCOL:break;default:w.default.log(`msg:msg with no sender id:${this.id.toString()}, from:${this.from.toString()}, author:${this.author&&this.author.toString()}, type:${this.type}`)()}this.mentionedJidList=this.mentionedJidList||[],this.mentionedJidList.forEach(function(e){return D.default.Contact.gadd(e)});var n,r=this.getCollection();(n=r.preAck[this.id])&&(w.default.log("Msg:initialize updating msg with out of order ack",n)(),this.updateAck(n.ack,n.t),delete r.preAck[this.id]),this.type===l.MSG_TYPE.CIPHERTEXT&&this.listenToOnce(this,"change:type",this.onCiphertextDecrypted),this.mediaObject=void 0,A.typeIsMMS(this.type,this.subtype)&&(this._createMediaDataChild(),P.registerMsg(this)),this.isSentByMeFromWeb&&(this.promises.sendPromise=Promise.sit("settled").finally(function(){e.promises.sendPromise=null}).endWithControls("settled")),this.isLive&&D.default.LiveLocation.processMsg(this,!1),b.default.isSMB&&(this.addLabelsToCollection(),this.listenTo(this,"change:labels",this.addLabelsToCollection))}},{key:"getLinks",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.initialPageSize+1,t=this.text;if(!t)return this._links;if(this.linksIndexParsed>=e)return this._links;var n=(0,U.firstNCodepoints)(t,e),r=S.findLinks(n,!1,this.sender);if(t.length>e&&r.length>0){var a=r[r.length-1];a.index+(0,U.numCodepoints)(a.url)===e&&(r=S.findLinks(t,!1,this.sender))}return this.linksIndexParsed=e,this._links=r}},{key:"getGalleryLinks",value:function(){return(0,a.default)(this.getLinks(),"href").filter(function(e){return e.isHttp})}},{key:"getSuspiciousLinks",value:function(){return this.getLinks().filter(function(e){return e.suspiciousCharacters&&e.suspiciousCharacters.size})}},{key:"addLabelsToCollection",value:function(){(0,j.default)(this.id.toString(),this.labels,"Msg")}},{key:"_createMediaDataChild",value:function(){this.addChild("mediaData",new M.default)}},{key:"hasSymbol",value:function(){return["image","video","audio","ptt","location","vcard","multi_vcard","document","ciphertext","oversized","unknown","call_log","revoked","sticker","payment","groups_v4_invite","product"].includes(this.type)||this.type===m.default.MSG_TYPE.TEMPLATE&&this.subtype!==m.default.TEMPLATE_SUBTYPE.TEXT}},{key:"mayFail",value:function(){return this.isSentByMe&&this.ack<1}},{key:"isUnsentPhoneMsg",value:function(){return!this.local&&this.isSentByMe&&this.ack<1}},{key:"canReply",value:function(){return this.chat.canSend&&!this.mayFail()&&!this.isNotification&&this.type!==l.MSG_TYPE.UNKNOWN&&this.type!==l.MSG_TYPE.CIPHERTEXT&&this.type!==l.MSG_TYPE.OVERSIZED&&this.type!==l.MSG_TYPE.REVOKED&&_.default.supportsFeature(_.default.F.REPLIES_OUT)&&this.interactiveButtonsReleased()}},{key:"canPrivateReply",value:function(){return!this.mayFail()&&!this.isNotification&&this.type!==l.MSG_TYPE.UNKNOWN&&this.type!==l.MSG_TYPE.CIPHERTEXT&&this.type!==l.MSG_TYPE.OVERSIZED&&this.type!==l.MSG_TYPE.REVOKED&&_.default.supportsFeature(_.default.F.REPLIES_OUT)&&!this.isSentByMe&&this.isGroupMsg&&_.default.supportsFeature(_.default.F.PRIVATE_REPLY)&&this.interactiveButtonsReleased()}},{key:"canPrivateReplyInRestrictedGrp",value:function(){return!!this.chat.isAnnounceGrpRestrict&&!this.chat.isReadOnly&&_.default.supportsFeature(_.default.F.PRIVATE_REPLY)&&_.default.supportsFeature(_.default.F.REPLIES_OUT)&&!this.mayFail()&&!this.isSentByMe&&!this.isNotification&&this.type!==l.MSG_TYPE.UNKNOWN&&this.type!==l.MSG_TYPE.CIPHERTEXT&&this.type!==l.MSG_TYPE.OVERSIZED&&this.type!==l.MSG_TYPE.REVOKED&&this.interactiveButtonsReleased()}},{key:"canForward",value:function(){if(this.type===l.MSG_TYPE.CIPHERTEXT)return!1;if(this.type===l.MSG_TYPE.OVERSIZED)return!1;if(this.type===l.MSG_TYPE.REVOKED)return!1;if(this.type===l.MSG_TYPE.UNKNOWN)return!1;if(this.type===l.MSG_TYPE.PAYMENT)return!1;if(this.type===l.MSG_TYPE.GROUPS_V4_INVITE)return!1;if(this.type===l.MSG_TYPE.LOCATION&&this.isLive)return!1;if(!this.interactiveButtonsReleased())return!1;if(this.ack<1&&this.isSentByMe)return!1;if(this.isMMS){var e=this.mediaData;if(!P.canSendType(e.type))return!1;if(e.mediaStage===M.default.STAGE.ERROR_MISSING)return!1;if(e.mediaStage===M.default.STAGE.ERROR_UNSUPPORTED)return!1;if(this.isUnsentMedia)return!1}return!0}},{key:"canQuickForward",value:function(){return!(!this.canForward()||this.isFrequentlyForwarded||0!==this.getSuspiciousLinks().length||this.type===m.default.MSG_TYPE.PTT||this.type===m.default.MSG_TYPE.STICKER||!this.interactiveButtonsReleased())&&(this.isMMS||this.linkPreview||this.type===m.default.MSG_TYPE.VCARD||this.type===m.default.MSG_TYPE.LOCATION||this.hsmEnabled&&this.subtype===m.default.TEMPLATE_SUBTYPE.LOCATION)}},{key:"canStar",value:function(){return!this.isNotification&&!this.isFutureproof&&this.type!==l.MSG_TYPE.REVOKED&&!(this.ack<1&&this.isSentByMe)&&this.interactiveButtonsReleased()}},{key:"interactiveButtonsReleased",value:function(){return this.hsmEnabled||!this.hasTemplateButtons&&this.type!==m.default.MSG_TYPE.TEMPLATE_BUTTON_REPLY}},{key:"isGroupLeave",value:function(){return"gp2"===this.type&&("leave"===this.subtype||"remove"===this.subtype)&&B.default.equals(this.recipients[0],b.default.me)}},{key:"isTrusted",value:function(){return!!B.default.equals(this.sender,b.default.me)||(!(!this.senderObj||!this.senderObj.isMyContact)||(this.isGroupMsg?this.chat.isTrusted():this.chat.notSpam))}},{key:"getWAids",value:function(){return this.type!==l.MSG_TYPE.VCARD?null:F.default.vcardWAids(this.vcard)}},{key:"getVCardThumbnailWAid",value:function(){if(this.type!==l.MSG_TYPE.VCARD)return null;var e=this.getWAids();if(e){var t=F.default.thumbnailWAid(e);return t||(e.length?e[0]:void 0)}}},{key:"getLocObject",value:function(){var e=this.loc;if(e){var t=e.split("\n"),n=i(t,2),r=n[0],a=n[1];return{name:r,addr:void 0===a?null:a}}return null}},{key:"resumeRemoteUpload",value:function(){var e=this;return this.isUnsentPhoneMsg()&&!this.phoneUploading&&((0,R.sendMsgRecord)(this).then(function(t){"success"!==t&&(e.phoneUploading=!1)}),this.phoneUploading=!0),this.downloadMedia(!0,C.default.WEBC_RMR_REASON_CODE.MSG_CLICK)}},{key:"forceRMR",value:function(){return Promise.reject(new Error("unimplemented forceRMR"))}},{key:"isForcingRMR",value:function(){return!1}},{key:"cancelDownload",value:function(){P.cancelDownloadMsg(this)}},{key:"resumeUpload",value:function(){w.default.assert(this.mediaData.mediaStage===M.default.STAGE.NEED_UPLOAD,"resume-non-need-upload",`resumeUpload called while state was ${this.mediaData.mediaStage}`)(),P.resumeUploadMsg(this)}},{key:"cancelUpload",value:function(){P.cancelUploadMsg(this)}},{key:"logInitialRender",value:function(){var e=this;if(this.isMMS&&this.mediaData&&!this.isStatusV3&&!this._renderEvent){var t=this._renderEvent=new C.default.WebcMediaRender({messageMediaType:this.getWamMediaType(),webcChatType:this.chat.getWebcChatType(),webcChatPosition:this.chat.initialIndex,webcBrowserNetworkType:(0,N.getEffectiveNetworkType)(),webcMessageT:this.t}),n=this.msgChunk;n&&n===this.chat.msgs&&(t.webcMessageIndex=n.length-n.indexOf(this)-1);this.listenToAndRun(this.mediaData,"change:mediaStage",function n(){switch(e.mediaData.mediaStage){case M.default.STAGE.INIT:case M.default.STAGE.PREPARING:case M.default.STAGE.FETCHING:case M.default.STAGE.DECRYPTING:case M.default.STAGE.REMOTE_UPLOADING:case M.default.STAGE.REUPLOADING:case M.default.STAGE.UPLOADING:case M.default.STAGE.SENDING:return;case M.default.STAGE.RESOLVED:t.webcMediaStage=C.default.WEBC_MEDIA_STAGE_TYPE.RESOLVED;break;case M.default.STAGE.NEED_POKE:t.webcMediaStage=C.default.WEBC_MEDIA_STAGE_TYPE.NEEDS_RMR;break;default:t.webcMediaStage=C.default.WEBC_MEDIA_STAGE_TYPE.OTHER}e._logStorageEstimate(t).finally(function(){t.commit(),e.stopListening(e.mediaData,"change:mediaStage",n)})})}}},{key:"downloadMedia",value:function(e,t){var n=this;if(this.isRevoked)return Promise.resolve();if(w.default.assert(this.isMMS,"media-fault: downloadMedia msg is not mms type",`id: ${this.id.toString()} type: ${this.type}`)(this),this.isUnsentPhoneMsg()){var r=this.promises.waitForPhoneUpload;return r||(r=this.promises.waitForPhoneUpload=I.waitForBBEvent(this.mediaData,"change:mediaStage change:filehash",function(){return!!n.mediaData.filehash&&!n.isUnsentPhoneMsg()}).then(function(){n.promises.waitForPhoneUpload=null})),r.then(function(){return n.downloadMedia(e,t)})}return P.downloadMsg(this,e,t,this._getRmrData(t))}},{key:"_getRmrData",value:function(e){var t={webcRmrReason:e,webcMessageT:this.t},n=this.chat;if(n){t.webcChatType=n.getWebcChatType(),null!=n.initialIndex&&(t.webcChatPosition=n.initialIndex);var r=this.msgChunk;r&&r===n.msgs&&(t.webcMessageIndex=r.length-r.indexOf(this)-1)}return t}},{key:"applyUpdate",value:function(e){var t=this;return e.type&&this.type!==e.type&&A.typeIsMMS(e.type)?(this.type!==l.MSG_TYPE.CIPHERTEXT&&w.default.assert(!1,"invalid-type-update",`updated ${this.id.toString()} from ${this.type} to ${String(e.type)}`)(),this._createMediaDataChild(),P.registerMsgEarly(this,e),P.prepareMsg(this).then(function(){return(0,G.updateLocal)(t.id,e)}).then(function(){t.set(e)}).catch(function(e){w.default.assert(!1,"preregister-error",`error = ${String(e)}`)(e)})):(0,G.updateLocal)(this.id,e).then(function(){(t.set(e),t.isLive&&D.default.LiveLocation.processMsg(t,!0),t.paymentTransactionTimestamp)&&t.getCollection().updateLastTransactionTime(t.id.remote,t.paymentTransactionTimestamp)}).catch(function(e){w.default.assert(!1,"msg:applyUpdate: failed to update locally")(e)})}},{key:"waitForPrep",value:function(){return A.typeIsMMS(this.type,this.subtype)?P.prepareMsg(this):Promise.resolve()}},{key:"delete",value:function(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),D.default.AllStarredMsgs.remove(this),this.isLive&&D.default.LiveLocation.removeMsg(this),this.getCollection().remove(this.id),this.msgChunk&&this.msgChunk.remove(this.id,{},Boolean(e&&e.skipUpdatingSortTime)),A.typeIsMMS(this.type)&&P.deregisterMsg(this);var n=D.default.Chat.get(this.id.remote);if(n&&(n.unreadMsgAnchor===this&&(n.unreadMsgAnchor=void 0),n.lastReceivedKey===this.id)){var r=void 0,a=n.getLastReceivedMsg();a&&(r=a.id),(0,O.setLastReceivedKey)(n.id,r).then(function(){n.lastReceivedKey=r})}}},{key:"quotedMsgObj",value:function(){if(!this.quotedMsg&&!this.paymentRequestMessageKey)return null;if(this._quotedMsgObj){var e=this.getCollection();return A.getOriginalQuotedMsgIfPossible(this._quotedMsgObj,e)}if(this.quotedMsg)this._quotedMsgObj=this._getQuotedMsgObj();else{if(!this.paymentRequestMessageKey)return null;this._quotedMsgObj=this._getQuotedPaymentRequestMsg()}var t=this.getCollection();return A.getOriginalQuotedMsgIfPossible(this._quotedMsgObj,t)}},{key:"_getQuotedMsgObj",value:function(){var e=!this.quotedParticipant||B.default.equals(this.quotedParticipant,b.default.me),t=e?"out":"in",n=this.quotedRemoteJid?this.quotedRemoteJid:this.id.remote,r={id:this.quotedStanzaID,from:e?b.default.me:n,to:e?n:b.default.me,self:t,author:(0,k.default)(this.quotedParticipant),remote:n};return!(B.default.isGroup(r.from)||B.default.isGroup(r.to))&&!B.default.isStatusV3(n)||B.default.equals(b.default.me,this.quotedParticipant)||(r.participant=(0,k.default)(this.quotedParticipant)),Object.assign(r,this.quotedMsg),A.createQuotedMsg(r)}},{key:"_getQuotedPaymentRequestMsg",value:function(){if(!this.paymentRequestMessageKey)return null;var e=this.paymentRequestMessageKey.remote?this.paymentRequestMessageKey.remote:this.id.remote,t=this.paymentRequestMessageKey.fromMe,n=null!=this.paymentRequestMessageKey.self?this.paymentRequestMessageKey.self:t?"out":"in",r=this.paymentRequestMessageKey.participant||this.paymentMessageReceiverJid,a={id:this.paymentRequestMessageKey.id,from:t?b.default.me:e,to:t?e:b.default.me,self:n,participant:r,author:r,remote:e,amount1000:this.paymentAmount1000,currency:this.paymentCurrency,receiverJid:this.sender,type:this.type,subtype:"request"};return A.createQuotedMsg(a)}},{key:"getQuotedMsgAdminGroupJid",value:function(){return null==this.quotedMsg?this.quotedRemoteJid:null}},{key:"msgContextInfo",value:function(e){var t=(0,r.default)(this.toJSON(),["id","t","notifyName","from","to","author","self","ack","invis","isNewMsg","star","recvFresh","recipients","broadcast","quotedMsg","quotedStanzaID","quotedRemoteJid","quotedParticipant","senderObj","multicast"]),n=null;return e&&!this.id.remote.equals(e)&&(n=this.id.remote),{quotedMsg:t,quotedParticipant:this.sender,quotedStanzaID:this.id.id,quotedRemoteJid:n}}},{key:"displayName",value:function(e,t){if(!this.sender)return"";if(this.sender.equals(b.default.me))return l10n.t(1414);var n=this.senderObj,r=e?n.shortName:void 0;if(r)return r;if(n.name)return n.name;var a=t&&this.notifyName?" ~"+this.notifyName:"";return l10n.isRTL()?l10n.embedLTR((0,$.default)(this.sender))+a:(0,$.default)(this.sender)+a}},{key:"isQuoted",value:function(e){var t=this.quotedMsgObj();return!!t&&t.sender.equals(e)}},{key:"isMentioned",value:function(e){return!!this.mentionedJidList&&this.mentionedJidList.findIndex(function(t){return t.equals(e)})>-1}},{key:"mentionMap",value:function(){if(!_.default.supportsFeature(_.default.F.MENTIONS_IN))return null;if(!this.mentionedJidList)return null;if(!this.mentionedJidList.length)return null;var e={};return this.mentionedJidList.forEach(function(t){e[`@${B.default.user(t)||""}`]=D.default.Contact.gadd(t)}),e}},{key:"updateAck",value:function(e,t){var n=this.ack;(0,x.isNumber)(e)&&(void 0===n||e>n)?(this.ack=e,e>=1&&null!=t&&null==this.ephemeralStartTimestamp&&this.updateEphemeralStartTimestamp(t)):-1===e&&0===this.ack&&(this.ack=-1,this.phoneUploading=!1)}},{key:"avParams",value:function(){return P.mediaMetadata(this)}},{key:"resend",value:function(){return this.isFailed?(this.ack=0,this.isMMS?this.resumeRemoteUpload():(0,R.sendMsgRecord)(this)):Promise.resolve()}},{key:"onCiphertextDecrypted",value:function(){if(!this.isStatusV3){var e=this.chat,t=e.msgs.length,n=e.msgs.indexOf(this);-1!==n&&t-n<=10&&h.default.alertNewMsg(this)}}},{key:"eventTypeFromMsgType",value:function(){var e=this.type,t=this.subtype,n=void 0,r=void 0;return e===l.MSG_TYPE.GP2||e===l.MSG_TYPE.GROUP_NOTIFICATION?"subject"===t?n="n":"add"===t||"invite"===t?(r=this.recipients[0],n=B.default.equals(r,b.default.me)?"s":"i"):"remove"===t?(r=this.recipients[0],n=B.default.equals(r,b.default.me)?"n":"i"):n="create"===t?"n":"i":n=e===l.MSG_TYPE.BROADCAST_NOTIFICATION||e===l.MSG_TYPE.NOTIFICATION||e===l.MSG_TYPE.E2E_NOTIFICATION?"create"===t?"n":"i":e===l.MSG_TYPE.GROUPS_V4_INVITE&&this.from===b.default.me?"i":e===l.MSG_TYPE.CALL_LOG?"n":this.broadcast?B.default.isBroadcast(this.id.remote)?"n":"i":e===l.MSG_TYPE.REVOKED?"i":this.isPSA?2===this.ack?"d":"a":e===l.MSG_TYPE.CIPHERTEXT||e===l.MSG_TYPE.OVERSIZED?"a":e===l.MSG_TYPE.NOTIFICATION_TEMPLATE?"i":"d",n}},{key:"canRevoke",value:function(){return _.default.supportsFeature(_.default.F.REVOKE)&&this.id.fromMe&&this.isUserCreatedType&&(!B.default.isBroadcast(this.id.remote)||"iphone"===b.default.platform)&&!this.broadcast&&Math.trunc(+new Date/1e3)-this.t<=m.default.REVOKE_WINDOW&&!this.isUnsentPhoneMsg()&&!this.isUnsentMedia}},{key:"getWamMessageType",value:function(){return this.isStatusV3?C.default.MESSAGE_TYPE.STATUS:this.isGroupMsg?C.default.MESSAGE_TYPE.GROUP:B.default.isBroadcast(this.id.remote)?C.default.MESSAGE_TYPE.BROADCAST:C.default.MESSAGE_TYPE.INDIVIDUAL}},{key:"getWamMediaType",value:function(){switch(this.type){case l.MSG_TYPE.IMAGE:return C.default.MEDIA_TYPE.PHOTO;case l.MSG_TYPE.VIDEO:return this.mediaData.isGif?C.default.MEDIA_TYPE.GIF:C.default.MEDIA_TYPE.VIDEO;case l.MSG_TYPE.AUDIO:return C.default.MEDIA_TYPE.AUDIO;case l.MSG_TYPE.PTT:return C.default.MEDIA_TYPE.PTT;case l.MSG_TYPE.DOCUMENT:return C.default.MEDIA_TYPE.DOCUMENT;case l.MSG_TYPE.UNKNOWN:return C.default.MEDIA_TYPE.FUTURE;case l.MSG_TYPE.LOCATION:return this.isLive?C.default.MEDIA_TYPE.LIVE_LOCATION:C.default.MEDIA_TYPE.LOCATION;case l.MSG_TYPE.VCARD:return C.default.MEDIA_TYPE.CONTACT;case l.MSG_TYPE.MULTI_VCARD:return C.default.MEDIA_TYPE.CONTACT_ARRAY;case l.MSG_TYPE.CHAT:return this.linkPreview?C.default.MEDIA_TYPE.URL:C.default.MEDIA_TYPE.NONE;case l.MSG_TYPE.STICKER:return C.default.MEDIA_TYPE.STICKER;case l.MSG_TYPE.PRODUCT:return C.default.MEDIA_TYPE.PRODUCT_IMAGE;default:return C.default.MEDIA_TYPE.NONE}}},{key:"showForwarded",value:function(){var e=L.default.fwdUiStartTs;return this.numTimesForwarded>0&&e>0&&e<this.t&&!this.isRevoked}},{key:"getForwardingScoreWhenForwarded",value:function(){if(!L.default.frequentlyForwardedMessages)return this.numTimesForwarded;var e=this.numTimesForwarded+(this.id.fromMe?0:1);return e>=L.default.frequentlyForwardedThreshold?m.default.FREQUENTLY_FORWARDED_SENTINEL:e}},{key:"getProductInfoText",value:function(){var e=this.title,t=this.description,n=this.currencyCode,r=this.priceAmount1000;e=`*${e}*`;var a=n&&null!=r?g.default.format(n,r):null;e=e.length>m.default.MAX_REPLY_PRODUCT_TITLE_LENGTH?`${(0,U.firstNCodepoints)(e,m.default.MAX_REPLY_PRODUCT_TITLE_LENGTH)}...`:e,t=t&&t.length>m.default.MAX_REPLY_PRODUCT_DESC_LENGTH?`${(0,U.firstNCodepoints)(t,m.default.MAX_REPLY_PRODUCT_DESC_LENGTH)}...`:t;var o=void 0;return a?o=a:t&&(o=t),o?`${e}\n${o}`:e}},{key:"updateEphemeralStartTimestamp",value:function(e){this.ephemeralStartTimestamp=e}},{key:"_logStorageEstimate",value:function(e){return(0,y.default)().then(function(t){t&&(e.webcBrowserStorageQuotaBytes=t.quota,e.webcBrowserStorageQuotaUsedBytes=t.usage)})}},{key:"getCollection",value:function(){return n("biecbbiiee").default}}]),t}();Y.Proxy="msg",Y.idClass=T.default;var K=(0,c.defineModel)(Y);t.default=K},cbcegahcfg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n("cjcaaifajd")),a=i(n("cgjbjefebj")),o=i(n("dbafiicfja"));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t={};return e.forEach(function(e){var n=e.split(""),a=(0,r.default)(n).join(""),o=n[n.length-1];(t[a]||(t[a]={}))[o]=1}),Object.keys(t).forEach(function(e){t[e]=function(e){if(1===e.length)return(0,a.default)(e[0]);for(var t=e.sort(),n=[],r=0,o=t[r],i=t.length,u=0;u<=i;u++){var s=t[u];if(!s||s.charCodeAt(0)!==o.charCodeAt(0)+(u-r)){var l=t[u-1];l===o?n.push(l):n.push(o+"-"+l),r=u,o=s}}return"["+(0,a.default)(n.join(""))+"]"}(Object.keys(t[e]))}),n=t,(0,o.default)(Object.keys(n).sort(function(e,t){return t.length-e.length}),function(e){return(0,a.default)(e)+n[e]}).join("|");var n}},cbcfgjhjhj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=c(n("bcajjbibcd")),i=c(n("bijffg")),u=c(n("bdfheihabb")),s=c(n("eceadcicaf")),l=c(n("gfgihaeab"));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.refLastLabel=null,e.updateData=function(t,n,r){var a=e.props.shouldScrollIntoViewAndSelect;e.setState({labels:i.default.toArray()},function(){if(r.add&&a){var n=a(t.name),o=n.shouldScrollIntoView,i=n.shouldSelect;o&&e.refLastLabel&&e.refLastLabel.scrollIntoView({behavior:"smooth"}),i&&e.onMultiSelect(t,!0,!1)}})},e.setRefLastLabel=function(t){e.refLastLabel=t},e.onMultiSelect=function(t,n,r){var a=e.props,o=a.selectedLabels,i=a.onMultiSelect;o&&o.setVal(t,n,r),i&&i(t.id)},e.renderLabelRow=function(){var t=e.props,n=t.renderContex,r=t.onLabelClick,s=t.initialLabelState,c=void 0===s?{}:s,f=e.props.SelectableState||new l.default(!0);return e.state.labels.reduce(function(t,s,l){var d=i.default.assertGet(s.id);return s.name?[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t),[a.createElement("div",{key:`label_item_${s.id}`,ref:l===e.state.labels.length-1?e.setRefLastLabel:function(){},onClick:r?r.bind(null,s.id):function(){}},a.createElement(o.default,{theme:n,model:d,initialSelection:c[s.id]||0,multiSelection:e.props.selectedLabels,selectableState:f,onSelect:e.onMultiSelect},a.createElement(u.default,{label:s.id})))]):t},[])},e.state={labels:i.default.toArray()},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(i.default,"add remove",this.updateData)}},{key:"render",value:function(){return a.createElement("div",null,this.renderLabelRow())}}]),t}();f.displayName="MultiSelectLabelList",t.default=(0,s.default)(f)},cbcgbajadc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("dfdebdgdei"),i=j(n("beebhcdhhh")),u=j(n("bgfcjjddjf")),s=j(n("cfaiaibca")),l=j(n("bbchdeehff")),c=n("baagejbchg"),f=j(n("biddiiafgd")),d=j(n("bjbdcigbdi")),p=j(n("jheedhagg")),h=j(n("dfgbhedcf")),m=j(n("eceadcicaf")),b=j(n("dadhidfcfe")),g=n("dcbafbaejf"),v=j(n("dhhcgceeai")),y=j(n("ccgdgjcjjh")),_=j(n("ihfccfgdf")),E=n("bheafeifce");function j(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var S=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,c=Array(u),d=0;d<u;d++)c[d]=arguments[d];return n=r=O(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.confirmReportGroupSpam=function(){l.default.openModal(a.createElement(b.default,{isGroupChat:!0,onReport:r.reportSpam,onReportExitClear:r.reportSpamExitClear,onCancel:function(){return l.default.closeModal()}}))},r.exitChat=function(){l.default.deleteOrExitChat(r.props.chat)},r.confirmReportSpam=function(){l.default.openModal(a.createElement(b.default,{isBusiness:r.props.contact.isBusiness,isGroupChat:!1,onReport:r.reportSpam,onReportBlockClear:r.reportSpamBlockClear,onCancel:function(){return l.default.closeModal()}}))},r.reportSpam=function(){(0,g.sendSpamReport)(r.props.chat),l.default.closeModal()},r.reportSpamExitClear=function(){(0,g.sendSpamExitClear)(r.props.chat),l.default.closeModal()},r.reportSpamBlockClear=function(){(0,g.sendSpamBlockClear)(r.props.chat),l.default.closeModal()},r.notSpam=function(){(0,g.sendNotSpam)(r.props.chat,!0).catch(function(){})},r.confirmBlock=function(){l.default.openModal(a.createElement(i.default,{contact:r.props.contact,onCancel:function(){return l.default.closeModal()},onBlock:r.block,onReportSpamBlock:r.reportSpamBlock}))},r.block=function(){(0,o.blockContact)(r.props.contact).catch(function(){}),l.default.closeModal()},r.reportSpamBlock=function(){(0,g.sendSpamReport)(r.props.chat),(0,o.blockContact)(r.props.contact).catch(function(){}),l.default.closeModal()},r.confirmUnblock=function(){l.default.openModal(a.createElement(f.default,{okText:l10n.t(1066),onOK:r.unblock,cancelText:l10n.t(1153),onCancel:function(){return l.default.closeModal()}},l10n.t(1067,{contact:r.props.contact.formattedName})))},r.unblock=function(){(0,o.unblockContact)(r.props.contact).catch(function(){}),l.default.closeModal()},r.getNotSpamButton=function(){return a.createElement("div",{key:"not_spam",className:v.default.button},a.createElement(s.default,{onClick:r.notSpam,type:"plain-white"},l10n.t(1287)))},r.onViewInfo=function(){l.default.openDrawerRight(a.createElement(h.default,{chat:(0,E.unproxy)(r.props.chat),key:`info-${r.props.chat.id.toString()}`}),"slide-left",r.props.uim)},O(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(u.default,"add remove reset")}},{key:"render",value:function(){var e=this.props,t=e.chat,n=e.contact;if(t.isPSA||!t.shouldAppearInList||t.trusted)return null;var r=u.default.get(t.id),o=void 0,i=[];if(t.isGroup)o=l10n.t(504),i.push(a.createElement("div",{key:"report_spam",className:v.default.button},a.createElement(s.default,{type:"plain-white",onClick:this.confirmReportGroupSpam},l10n.t(927)))),i.push(a.createElement("div",{key:"exit_group",className:v.default.button},a.createElement(s.default,{type:"plain-white",onClick:this.exitChat},l10n.t(1194)))),i.push(this.getNotSpamButton());else{if(o=a.createElement("div",{className:v.default.text},l10n.t(1018)),n.isBusiness)if(d.default.supportsFeature(d.default.F.VNAME_V_2)){var l=n.verifiedLevel===c.VERIFIED_LEVEL.HIGH?l10n.t(861):l10n.t(675);o=a.createElement("div",{className:v.default.text},l)}else n.verifiedLevel>c.VERIFIED_LEVEL.UNKNOWN&&n.businessProfile&&(o=a.createElement(y.default,{contact:n,businessProfile:n.businessProfile,onClick:this.onViewInfo}));i.push(a.createElement("div",{key:"report_spam",className:v.default.button},a.createElement(s.default,{type:"plain-white",onClick:this.confirmReportSpam},l10n.t(927)))),r?i.push(a.createElement("div",{key:"unblock",className:v.default.button},a.createElement(s.default,{onClick:this.confirmUnblock,type:"plain-white"},l10n.t(1066)))):i.push(a.createElement("div",{key:"block",className:v.default.button},a.createElement(s.default,{onClick:this.confirmBlock,type:"plain-white"},l10n.t(213)))),i.push(this.getNotSpamButton())}return a.createElement("div",{className:v.default.spam},o,a.createElement("div",{className:v.default.controls},i))}}]),t}();S.CONCERNS={chat:["id","isPSA","shouldAppearInList","trusted","isGroup","vcardDismissed"],contact:["id","isBusiness","verifiedLevel","formattedName","businessProfile"]},S.displayName="Spam",t.default=(0,p.default)((0,m.default)((0,_.default)(S,S.CONCERNS)))},cbcjhabjci:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStatus=function(e){var t=void 0;t=a.default.supportsFeature(a.default.F.MD_BACKEND)?Promise.reject(new Error("getAbout: invalid when build with MD_BACKEND")):o.default.statusFind(e).then(function(t){return{id:e,status:null!=t.status?t.status:""}}).catch(r.WapDrop,function(){return{id:e,stale:!0,status:""}});return t},t.setMyStatus=function(e){var t=void 0;t=a.default.supportsFeature(a.default.F.MD_BACKEND)?Promise.reject(new Error("setStatus: invalid when build with MD_BACKEND")):o.default.sendSetStatus(e);return t};var r=n("ddjgcfjicj"),a=i(n("bjbdcigbdi")),o=i(n("bihdhbjih"));function i(e){return e&&e.__esModule?e:{default:e}}},cbdagjiddg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=f(n("dgibicjjj")),i=f(n("cfadcbbiie")),u=f(n("dhhfaeacef")),s=f(n("fifhbjiec")),l=f(n("dgdegachj")),c=f(n("ihfccfgdf"));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.contact,n=e.msgInfoParticipant,r=a.createElement(u.default,{id:t.id}),c=i.default.relativeDateAndTimeStr(n.t),f=a.createElement("span",{title:c},c),d=void 0;return!t.name&&t.notifyName&&(d=a.createElement("span",{className:l.default.secondaryDetailContainer},a.createElement(s.default,{direction:"auto",text:t.notifyName}))),a.createElement(o.default,{contextEnabled:function(){return!1},image:r,primary:t.formattedName,secondary:f,secondaryDetail:d,style:{cursor:"auto"},theme:"drawer-list",idle:!0})}}]),t}();d.CONCERNS={msgInfoParticipant:["t"],contact:["id","name","formattedName","notifyName"]},d.displayName="GroupMsgInfoCell",t.default=(0,c.default)(d,d.CONCERNS)},cbddejeeba:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n("cehcfaibji")),a=i(n("cfjdfebffb"));t.default=function(e){return function(t){return function(e,t){for(var n=[],i="iphone"===e?s.APPLE:s.WHATSAPP,u=t[i],c=u.SELECTOR,f=Math.ceil((0,a.default)((0,r.default)(u.UNICODE_TO_EMOJI)).length/l),d=0;d<f;d+=1)n.push({id:`emoji-${c}-b${d}-small`,selector:`.emoji.${c}.b${d}`,low:{default:(0,o.getEmojiSpritesPath)(i,d,20,"png"),webp:(0,o.getEmojiSpritesPath)(i,d,20,"webp")},high:{default:(0,o.getEmojiSpritesPath)(i,d,40,"png"),webp:(0,o.getEmojiSpritesPath)(i,d,40,"webp")}}),n.push({id:`emoji-${c}-b${d}-large`,selector:`.emojik.${c}.b${d}`,low:{default:(0,o.getEmojiSpritesPath)(i,d,32,"jpg"),webp:(0,o.getEmojiSpritesPath)(i,d,32,"webp")},high:{default:(0,o.getEmojiSpritesPath)(i,d,64,"jpg"),webp:(0,o.getEmojiSpritesPath)(i,d,64,"webp")}});return n}(t,e)}};var o=n("cjcejcdhic");function i(e){return e&&e.__esModule?e:{default:e}}var u=n("dghhefgjhc").EMOJI,s=u.EMOJI_TYPE,l=u.BUCKET_SIZE},cbddhcffbc:function(e,t){e.exports={pipBtn:"_9RNXq",player:"_1Otoj",preview:"_2h7rw"}},cbdehahifi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=j(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=j(n("cdbddjfbcd")),u=j(n("bfdhjgffdh")),s=j(n("bbhahjgijh")),l=j(n("bbchdeehff")),c=j(n("baagejbchg")),f=j(n("haidjjcae")),d=n("bgddggdhc"),p=j(n("faeabjacf")),h=n("ejbdjaifi"),m=j(n("eceadcicaf")),b=j(n("bdiiahhjbe")),g=j(n("ceaabfjiba")),v=n("ddbddjjgia"),y=j(n("biecbbiiee")),_=j(n("dcfghhhajg")),E=j(n("caceaafdic"));function j(e){return e&&e.__esModule?e:{default:e}}function O(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var S=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));w.call(n);var r=e.msgs;return n.latestMsgWhenChatOpen=r.length>0?r[r.length-1]:null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"shouldComponentUpdate",value:function(e){var t=e.msgs,n=O(e,["msgs"]),r=this.props,a=r.msgs,o=O(r,["msgs"]);return!(0,i.default)(n,o)||!(0,s.default)(t,a)}},{key:"UNSAFE_componentWillUpdate",value:function(e){var t=this,n=(0,d.forbiddenAssertDOMNode)(this).parentNode,r=e.msgs.find(function(e){return t.renderedMsgs.hasOwnProperty(e.id)});if(null!=r){var a=r.id.toString(),o=(0,d.forbiddenAssertDOMNode)(this.getMsgWrapperRef(a));this._beforeRenderScrollInfo={commonMessageId:a,commonMessageTop:o.offsetTop-n.scrollTop}}else this._beforeRenderScrollInfo=null}},{key:"componentDidMount",value:function(){this.props.listeners.add(y.default,"change:msgKey",this.onMsgKeyChange),this.props.listeners.add(l.default,"refresh_messages",this.handleRefreshMessages),this.props.listeners.add(l.default,"open_media_viewer_for_album_media",this.handleOpenMediaViewerForAlbumMedia)}},{key:"componentDidUpdate",value:function(e){var t=(0,d.forbiddenAssertDOMNode)(this).parentNode,n=this._beforeRenderScrollInfo;if(null!=n){var r=n.commonMessageId,a=n.commonMessageTop,o=(0,d.forbiddenAssertDOMNode)(this.getMsgWrapperRef(r));t.scrollTop=o.offsetTop-a}}},{key:"getMsgVisibility",value:function(e){var t=(0,d.forbiddenAssertDOMNode)(this).parentNode,n=t.scrollTop,r=n+t.clientHeight,a=(0,d.forbiddenFindDOMNode)(e);return a?a.offsetTop+a.clientHeight<=n?{visibility:c.default.VISIBILITY.ABOVE,offset:a.offsetTop-n}:a.offsetTop>=r?{visibility:c.default.VISIBILITY.BELOW,offset:a.offsetTop-n}:{visibility:c.default.VISIBILITY.VISIBLE,offset:a.offsetTop-n}:(b.default.error(`getMsgVisibility on invalid ref: ${e}`)(),{visibility:c.default.VISIBILITY.VISIBLE,offset:0})}},{key:"getMsgWrapperRef",value:function(e){return this.renderedMsgs[e]||this.renderedMsgToAlbum[e]}},{key:"getMsgComponentRef",value:function(e){return this.renderedMsgs[e]?this.renderedMsgs[e].refMsgComponent&&this.renderedMsgs[e].refMsgComponent.getRef():this.renderedMsgToAlbum[e]?this.renderedMsgToAlbum[e].refAlbumComponents[e]&&this.renderedMsgToAlbum[e].refAlbumComponents[e].getRef():void 0}},{key:"getDateMarkerRef",value:function(e){return this.renderedDateMarkers[e]}},{key:"onDateMarkerRendered",value:function(e,t){t?this.renderedDateMarkers[e]=t:delete this.renderedDateMarkers[e]}},{key:"onAlbumRendered",value:function(e,t,n){var r=this;e?(this.renderedAlbums[t]=e,n.forEach(function(t){r.renderedMsgToAlbum[t.id.toString()]=e})):delete this.renderedAlbums[t]}},{key:"render",value:function(){var e=this.props,t=e.msgs,n=e.focusedMsgCtx,r=e.unreadCount,i=void 0,u=void 0;n&&(i=n.msg,n.isUnreadDivider&&r>0&&(u=n.msg));var s=(0,a.default)(g.default.messageList,{[g.default.messageListSelectable]:this.props.selectable});return o.createElement("div",{className:s},(0,p.default)(this.rowRenderers,t,i,u,r,this.latestMsgWhenChatOpen))}}]),t}(),w=function(){var e=this;this.renderedMsgs={},this.renderedDateMarkers={},this.renderedAlbums={},this.renderedMsgToAlbum={},this.handleRefreshMessages=function(){e.forceUpdate()},this.handleOpenMediaViewerForAlbumMedia=function(t){var n=e.renderedMsgToAlbum[t.id.toString()];if(n&&!n.isGroupedSticker()){var r=n.props.msgs,a=new Set((r||[]).map(function(e){return e.id.toString()}));e.renderedMsgToAlbum[t.id.toString()]&&l.default.mediaViewerModal({msg:t,getZoomNode:function(){var e=n.refAlbumComponents[t.id.toString()],r=(0,d.forbiddenFindDOMNode)(e);return r||null},highlightedMsgIds:a})}},this.onMsgKeyChange=function(t){var n=t.newKey,r=t.oldKey,a=n.toString(),o=r.toString(),i=e.renderedMsgs[o];i&&(delete e.renderedMsgs[o],e.renderedMsgs[a]=i)},this.onMsgRendered=function(t,n){t?e.renderedMsgs[n]=t:delete e.renderedMsgs[n]},this.rowRenderers={msg:function(e){function t(t,n,r,a){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t,n,r,a){var i=e.props,u=void 0;u=a&&!r?v.MsgPosition.FRONT:a&&r?v.MsgPosition.MID:!a&&r?v.MsgPosition.END:v.MsgPosition.SINGLE;var s=t.type===c.default.MSG_TYPE.IMAGE||t.type===c.default.MSG_TYPE.VIDEO||t.type===c.default.MSG_TYPE.AUDIO||t.hsmEnabled&&t.type===c.default.MSG_TYPE.TEMPLATE&&(t.subtype===c.default.TEMPLATE_SUBTYPE.IMAGE||t.subtype===c.default.TEMPLATE_SUBTYPE.VIDEO);return o.createElement(E.default,{key:"msg-"+t.id.toString(),ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(n){var r={};(0,h.GetRef)("wrapper",r)(n),e.onMsgRendered(r.wrapper,t.id.toString())}),msg:t,displayType:c.default.DISP_TYPE.CONVERSATION,isMsgVisible:s?i.isMsgVisible:function(){},selectable:i.selectable,selectedMessages:i.selectedMessages,onMessageSelect:i.onMessageSelect,position:u,isFocusedMsg:n,getSequentialMsg:e.props.getSequentialMsg})}),album:function(t,n,r,a,i,s){var l=e.props,c=void 0;return c=a&&!r?v.MsgPosition.FRONT:a&&r?v.MsgPosition.MID:!a&&r?v.MsgPosition.END:v.MsgPosition.SINGLE,o.createElement(u.default,{msgs:t,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(r){e.onAlbumRendered(r,n,t)}),key:"album-"+n,position:c,isMsgVisible:l.isMsgVisible,selectable:l.selectable,selectedMessages:l.selectedMessages,onMessageSelect:l.onMessageSelect,albumId:n,isFocusedAlbum:i,focusedMsgIndex:s})},date:function(t,n){return o.createElement(f.default,{ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){e.onDateMarkerRendered(n,t)}),key:"msg-"+t.id.toString()+"-date",timestamp:t.t})},unread:function(){return o.createElement(_.default,{key:"msg-unread",count:e.props.unreadCount})}}};S.displayName="MessageList",t.default=(0,m.default)(S)},cbeabehaca:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n("jdjcgjgea")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=s(n("bdiiahhjbe")),i=s(n("cahfddcdga")),u=s(n("jccfhaecf"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._map={},this.length=0}return a(e,[{key:"put",value:function(t){var n=e.getSidelistHash(t);if(n&&!this._map[n]){if(this._map[n]){var r=this._map[n];r instanceof u.default?this._map[n]=[r,t.id]:r instanceof Array&&r.push(t.id)}else this._map[n]=t.id;this.length++}}},{key:"remove",value:function(t){var n=e.getSidelistHash(t);if(n&&this._map[n]){var a=(0,i.default)(this._map[n]);a instanceof u.default?delete this._map[n]:a instanceof Array&&(0,r.default)(a,function(e){return e.equals(t.id)}),this.length++}}},{key:"get",value:function(e){var t=this._map[e];return t instanceof u.default?[t]:t}},{key:"clear",value:function(){this._map={},this.length=0}}],[{key:"getSidelistHash",value:function(e){return e.isUser?"string"==typeof e.userhash&&e.userhash.slice?e.userhash.slice(0,4):(o.default.error("Store:Contact can't call slice on contact.userhash")(e.userhash),null):null}}]),e}();t.default=l},cbebjghfgg:function(e,t,n){"use strict";var r=y(n("cehcfaibji")),a=y(n("hgjcbccfg")),o=y(n("eaigijhjei")),i=y(n("dajcegbdcc")),u=y(n("beafbeighe")),s=y(n("bjigbaghc")),l=y(n("cjgfiijjee")),c=y(n("bjddijedhj")),f=n("ddjgcfjicj"),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cajijabhgb")),p=y(n("bjbdcigbdi")),h=y(n("bdiiahhjbe")),m=y(n("dgicehhija")),b=y(n("bhggeigghg")),g=y(n("jccfhaecf")),v=y(n("eaaehfdjdg"));function y(e){return e&&e.__esModule?e:{default:e}}function _(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var E={epochCount:0,epoch:0,epochSend:function(e){return 0===this.epochCount&&this.epoch++,e||this.epochCount++,h.default.log("wap:epochCount: "+this.epochCount+" epoch: "+this.epoch)(),this.epoch.toString()},epochRecv:function(){this.epochCount>0?this.epochCount--:h.default.error("wap:epochRecv: NEGATIVE")(),h.default.log("wap:epochCount: "+this.epochCount+" epoch: "+this.epoch)()},setSubProtocol:function(e){if(-1===e)this.BinaryProtocol=new i.default,this.N=this.BinaryProtocol.Node;else{if(null==e||0===e)throw h.default.error(`Wap:setSubProtocol unknown ${String(e)}`)(),new d.UpdateImmediately(`${this.version}_unknown_version`);this.BinaryProtocol=new o.default(e),this.N=this.BinaryProtocol.Node}},clearBPQueue:function(){var e=this;return new Promise(function(t,n){e.BinaryProtocol.dropAllBecauseLogout(),t()})},upgradeProtoVersion(e){if(e.BinaryProtocol instanceof i.default)for(var t=e.BinaryProtocol.getWriteQueue();t.length;){var n=t.shift(),r=n.n,a=n.resolve,o=n.reject;this.BinaryProtocol.write(r).then(a).catch(o)}},delete:function(){this.epochCount=0,this.epoch=0},cannotReachPhone:function(){this.epochRecv()},dropIfConditionMet:function(e,t){return e.reduce(function(e,t){return e||t},!1)?void 0:t},pruneUndefinedProps:function(e){for(var t in e){void 0===e[t]&&delete e[t]}},callFeatureFlagFun:function(e,t){if(p.default.supportsFeature(e)){for(var n=[],r=2;r<arguments.length;r++)n.push(arguments[r]);return this[t].apply(this,n)}},safeParseInt:function(e,t){var n=parseInt(this.N.attr(t,e),10);return Number.isNaN(n)?void 0:n},wrap:function(e){var t=this;return function(n){if(n&&"object"==typeof n&&"number"==typeof n.status&&n.status>=500)return n;t.epochRecv(),e(n)}},wrap02:function(e){return function(t){if(t&&"object"==typeof t&&"number"==typeof t.status&&t.status>=500)return t;e(t)}},binWrap:function(e,t){var n=this;return function(r){if(r&&"object"==typeof r&&"number"==typeof r.status){if(401===r.status)throw n.epochRecv(),new f.E401;if(r.status>=500)return r;n.epochRecv(),t(r)}else n.epochRecv(),e(r)}},binSend:function(e,t,n,r,a){var o=this,i=r.epochIneligible?n:function(e){o.epochRecv(),n(e)};return delete r.epochIneligible,this.BinaryProtocol.write(t).then(function(n){a.debugObj||(a.debugObj=t),a.metric=o.M[a.metricName],r.data=n,r.binaryOpts=a,v.default[e](r)}).catch(i)},msgGetTarget:function(e){return g.default.equals(e.from,s.default.me)?e.to:e.from},thumbFromMediaXml:function(e){return"raw"===this.N.attr("encoding",e)?this.N.children(e)instanceof ArrayBuffer?a.default.encode(this.N.children(e)):"":this.N.dataStr(e)},actionNode:function(e,t,n){return["action",{type:e,epoch:this.epochSend(n)},t]},queryNode:function(e,t){var n=e;return n||(n={}),n.epoch=this.epochSend(),["query",n,t]},responseNode:function(e,t){var n=e;return n||(n={}),n.epoch=this.epochSend(),["response",n,t]},errorNode:function(e){return["error",{code:e.toString(),epoch:this.epochSend()},void 0]},actionGetMeta:function(e){var t={};if("action"!==this.N.tag(e))return t;var n=this.N.attr("add",e),r=this.N.attr("missing",e),a=this.N.attr("checksum",e);switch(n){case"unread":t.unreadId=this.N.attr("index",e),t.unreadFromMe="true"===this.N.attr("owner",e),t.unreadParticipant=this.N.attr("participant",e);case"after":case"before":case"last":t.pendingMsgsDone="true"===this.N.attr("last",e),t.resume="true"===this.N.attr("resume",e);case"relay":case"update":t.add=n}switch(r){case"remove":t.missing=r}return a&&(t.checksum=a),t},groupActionsByType:function(e){var t={};if(!Array.isArray(e))return t;var n=void 0,r=void 0,a=e.length;for(r=0;r<a;r++)switch(n=e[r],this.N.tag(n)){case"broadcast":switch(this.N.attr("type",n)){case"create":case"add":case"remove":t.msg||(t.msg=[]),t.msg.push(n);break;case"modify":t.bcUpdate||(t.bcUpdate=[]),t.bcUpdate.push(n)}break;case"message":case"groups_v2":case"notification":case"call_log":case"security":t.msg||(t.msg=[]),t.msg.push(n);break;case"read":case"log":case"identity":t.cmd||(t.cmd=[]),t.cmd.push(n);break;case"received":t.ack||(t.ack=[]),t.ack.push(n);break;case"user":t.contact||(t.contact=[]),t.contact.push(n);break;case"contacts":t.contacts||(t.contacts=[]),t.contacts.push(n);break;case"chat":switch(this.N.attr("type",n)){case"mute":t.mute||(t.mute=[]),t.mute.push(n);break;default:t.chat||(t.chat=[]),t.chat.push(n)}break;case"battery":t.battery||(t.battery=[]),t.battery.push(n);break;case"location":t.location||(t.location=[]),t.location.push(n);break;case"label":t.label||(t.label=[]),t.label.push(n);break;case"group":t.group||(t.group=[]),t.group.push(n);break;case"quick_reply":t.quickReply||(t.quickReply=[]),t.quickReply.push(n);break;case"call":t.call||(t.call=[]),t.call.push(n);break;case"stickerPack":case"sticker_pack":t.stickerPack||(t.stickerPack=[]),t.stickerPack.push(n);break;case"recent_stickers":t.recentStickers||(t.recentStickers=[]),t.recentStickers.push(n);break;case"status":t.status||(t.status=[]),t.status.push(n);break;default:h.default.errorVerbose("Wap:groupActionsByType unknown action: "+this.N.toString(n),n)()}return t},handleResponse:function(e,t,n,r){if(0===e.indexOf("preempt"))switch(this.N.attr("type",t)){case"chat":h.default.logColor("green","bin-recv: "+e+",response,chat",t)();var a=this.N.children(t)||[];if(Array.isArray(a)){for(var o=a.length,i=[],s=0;s<o;s++){var l=this.parseChat(a[s]);l&&i.push(l)}(0,u.default)([{cmd:"preempt",response:i,binarySize:n}])}break;case"contacts":h.default.logColor("green","bin-recv: "+e+",response,contact",t)();var f=this.N.children(t);if(Array.isArray(f)){for(var d=f.length,p=[],m=0;m<d;m++){var b=this.parseContact(f[m]);b&&p.push(b)}(0,c.default)([{cmd:"preempt",checksum:this.N.attr("checksum",t),response:p,binarySize:n}])}break;default:h.default.error("Wap:handle unknown response type: "+this.N.toString(t,!0),t)()}else h.default.error("Wap:handle non-preemptive response: "+this.N.toString(t,!0),t)()},handleActionMsg:function(e,t,n,r,a){var o=r.length;switch(n.add){case"relay":case"update":var i=this.parseMsg(r[0],"relay");if(1!==o&&h.default.error("Wap:handle action msg relay length not 1",a)(),i){h.default.logColor("green","bin-recv: "+[e,"action","msg",n.add,i.type,i.from,i.to,i.id,i.author].join(","),a,i)();var u=this.msgGetTarget(i);(0,m.default)([{meta:n,chat:u,msg:i}])}else h.default.error("Wap:handle action msg relay dropped",r[0])();break;case"last":for(var s=[],l=0;l<o;l++){var c=this.parseMsg(r[l],"last");c?s.push(c):h.default.error("Wap:handle action msg last dropped",r[l])()}if(s.length>0){h.default.logColor("green","bin-recv: "+[e,"action","msg","last",r.length].join(","),a,[s])();for(var f={recent:!0,meta:n,binarySize:t},d=0;d<s.length;d++)f[this.msgGetTarget(s[d])]=s[d];(0,m.default)([f])}else h.default.error("Wap:handle action msg last dropped to 0")();break;case"before":case"after":case"unread":if(o>0){for(var p=[],b=0;b<o;b++){var g=this.parseMsg(r[b],n.add);g?p.push(g):h.default.error("Wap:handle action msg before/after dropped",r[b])()}if(p.length>0){var v=this.msgGetTarget(p[0]);h.default.logColor("green","bin-recv: "+[e,"action","msg",n.add,v,p.length].join(","),a,[p])(),(0,m.default)([{meta:n,chat:v,msgs:p,binarySize:t}])}else h.default.error(`Wap:handle action msg ${n.add} dropped to 0`)()}else h.default.error("Wap:handle action msg before/after 0 msgs")();break;default:h.default.error("Wap:handle action msg no meta.add",a)()}},handleAction:function(e,t,a,o){var i=this.actionGetMeta(t),s=this.groupActionsByType(this.N.children(t)),f=Object.keys(s);if(Array.isArray(f)){var d=f.length;if(0!==d||"last"!==i.add)for(var g=0;g<d;g++){var v=f[g],y=s[v],E=y.length;switch(v){case"msg":this.handleActionMsg(e,a,i,y,t);break;case"cmd":for(var j=0;j<E;j++){var O=this.parseCmd(y[j]);if(O){var S=(0,r.default)(O).join(",");h.default.logColor("green","bin-recv: "+[e,"action","cmd",S].join(","),t)(),n("dhggbbghfb").handle([O])}else h.default.error("Wap:handle action cmd invalid",t)()}break;case"bcUpdate":for(var w=[],P=0;P<E;P++){var M=this.parseBCUpdate(y[P]);M?w.push(M):h.default.error("Wap:handle action bc update invalid",y[P])()}h.default.logColor("green","bin-recv: "+[e,"action","bcUpdate",w.length].join(","),t)(),w.length>0&&b.default.GroupMetadata.handle(w);break;case"ack":for(var C=0;C<E;C++){var T=this.parseAck(y[C]);T?(h.default.logColor("green","bin-recv: "+[e,"action","ack",T.to,T.id,T.ack].join(","),t)(),(0,m.default)([T])):h.default.error("Wap:handle action ack invalid",t)()}break;case"contact":for(var A=[],N=0;N<E;N++){var k=this.parseContact(y[N]);k?A.push(k):h.default.error("Wap:handle action contact dropped",y[N])()}if(h.default.logColor("green","bin-recv: "+[e,"action","contact",A.length,i.missing].join(","),t)(),A.length>0){var I=[A];(i.missing||i.checksum)&&I.push(i),(0,c.default)(I)}break;case"contacts":var R=this.parseContacts(y[0]);h.default.logColor("green","bin-recv: "+[e,"action","contacts"].join(","),t)(),R?(0,c.default)([R]):h.default.error("Wap:handle:action:contacts dropped",y[0])();break;case"chat":for(var L=[],D=0;D<E;D++){var x=this.parseChat(y[D]);x?L.push(x):h.default.error("Wap:handle action chat dropped",y[D])()}h.default.logColor("green","bin-recv: "+[e,"action","chat",L.length].join(","),t)(),L.length>0&&(0,u.default)([L]);break;case"battery":var U=this.parseBattery(y[0]);U?(h.default.logColor("green","bin-recv: "+[e,"action","battery",U.battery,U.plugged].join(","),t)(),(0,l.default)([U])):h.default.error("Wap:handle action battery dropped",y[0])();break;case"mute":for(var G=[],F=0;F<E;F++){var B=this.parseChat(y[F]);B?G.push(B):h.default.error("Wap:handle action mute dropped",y[F])()}h.default.logColor("green","bin-recv: "+[e,"action","mute",G.length].join(","),t)(),G.length>0&&b.default.Mute.handle(G);break;case"location":for(var $=[],V=0;V<E;V++){var H=this.parseLocation(y[V]);H?$.push(H):h.default.error("Wap:handle:location dropped",y[V])(),h.default.logColor("green","bin-recv:"+[e,"action,location",$.length].join(),t)(),$.length>0&&b.default.LiveLocation.handle($)}break;case"label":for(var W=[],Y=0;Y<E;Y++){var K=this.callFeatureFlagFun(p.default.F.LABELS_DISPLAY,"parseLabel",y[Y]);K?W.push(K):h.default.error("Wap:handle:label dropped",y[Y])(),h.default.logColor("green","bin-recv:"+[e,"action,label",W.length].join(),t)(),W.length>0&&b.default.Label.handle({checksum:i.checksum,labels:W})}break;case"group":for(var q=0;q<E;q++){var z=this.callFeatureFlagFun(p.default.F.GROUPS_V_4_JOIN_PERMISSION,"parseInviteUpdate",y[q]);h.default.logColor("green","bin-recv:"+[e,"action,group_v4_pending_invites",z&&z.length].join(),t)(),void 0!==z&&b.default.GroupMetadata.handlePendingInvite({gid:z.gid,participants:z.participants})}break;case"quickReply":for(var Q=[],J=0;J<E;J++){var Z=this.callFeatureFlagFun(p.default.F.QUICK_REPLIES_QUERY,"parseQuickReply",y[J]);Z?Q.push(Z):h.default.error("Wap:handle:quickReply dropped",y[J])(),h.default.logColor("green","bin-recv:"+[e,"action,quickReply",Q.length].join(),t)(),Q.length>0&&b.default.QuickReply.handle({checksum:i.checksum,quickReplies:Q})}break;case"call":var X=this.callFeatureFlagFun(p.default.F.VOIP_INDIVIDUAL_INCOMING,"parseCall",y[0]);h.default.logColor("green","bin-recv:"+[e,"action","call"].join(),t)(),X?b.default.Call.handle([X]):h.default.error("Wap:handle:action:call dropped",y[0])();break;case"stickerPack":case"sticker_pack":for(var ee=[],te=0;te<E;te++){var ne=this.callFeatureFlagFun(p.default.F.STICKER_PACK_QUERY,"parseStickerPackUpdate",y[te]);ne?(ee.push(ne),b.default.StickerPack.sync(i.checksum)):h.default.error("Wap:handle:stickerPack dropped",y[te])(),h.default.logColor("green","bin-recv:"+[e,"action,stickerPack",ee.length].join(),t)()}break;case"recentStickers":for(var re=0;re<E;re++){var ae=this.callFeatureFlagFun(p.default.F.RECENT_STICKERS,"parseRecentStickersAction",y[re]);ae?(b.default.RecentSticker.setChecksum(i.checksum),b.default.RecentSticker.remove(ae),h.default.logColor("green","bin-recv:"+[e,"action,recentStickers",ae].join(),t)()):h.default.error("Wap:handle:recentStickers dropped",y[re])()}break;case"status":for(var oe=[],ie=0;ie<E;ie++){var ue=this.callFeatureFlagFun(p.default.F.STATUS_RANKING,"parseStatusRankingScores",y[ie]);ue&&ue.length?oe.push.apply(oe,_(ue)):h.default.error("Wap:handle:status dropped",y[ie])(),h.default.logColor("green","bin-recv:"+[e,"action,status",oe.length].join(),t)(),oe.length>0&&b.default.StatusV3.handle([{type:"score",scores:oe}])}break;default:h.default.error("Wap:handle action unknown "+v,t)()}}else(0,m.default)([{recent:!0,meta:i,binarySize:a}])}else h.default.error("Wap:handle:action keys not array: "+typeof f)(f)},handleQuery:function(e,t,n){var r=this,a=this.N.children(t);if(Array.isArray(a))for(var o=function(n){var o=a[n],i=r.N.tag(o);h.default.logColor("green","bin-recv:"+[e,"query",i].join(),t)();var u=void 0;switch(i){case"call":u=r.callFeatureFlagFun(p.default.F.VOIP_INDIVIDUAL_INCOMING,"handleCallQuery",o);break;default:h.default.error("wap:handle:query unknown "+i,t)()}u||(u=Promise.resolve(r.errorNode(501))),u.then(function(t){r.BinaryProtocol.write(t).then(function(n){v.default.send({tag:e,data:n,onSend:r.wrap(function(){}),onDrop:r.wrap(function(){}),retryOn5xx:!0,binaryOpts:{debugString:["response",i].join(),debugObj:t,metricName:"QUERY_RESPONSE",ackRequest:!0}})}).catch(function(e){r.epochRecv()})})},i=0;i<a.length;i++)o(i)},handle:function(e,t,a,o){var i=this;return this.BinaryProtocol.read(e).then(function(e){switch(i.N.tag(e)){case"response":i.handleResponse(a,e,o,t);break;case"action":i.handleAction(a,e,o,t);break;case"query":i.handleQuery(a,e,o);break;case"read":var u=i.parseCmd(e);if(u){var s=(0,r.default)(u).join();h.default.logColor("green","bin-recv:"+[a,"action",s].join(),e)(),n("dhggbbghfb").handle([u])}else h.default.error("Wap:handle read invalid",e)();break;default:h.default.errorVerbose("TODO "+i.N.toString(e,!0),e)()}return!0}).catch(f.LogoutDrop,function(e){h.default.error(e.toString())(e)}).catch(function(e){throw h.default.info(`BinaryProtocol read error with tag ${a}, size: ${o}`)(),new Error(`BinaryProtocol read error: ${e}`)})}};e.exports=E},cbechdchcj:function(e,t){e.exports={AC:"(?:(4....)|(6[2-467]...))",AD:"(?:((?:3..|5..|6(?:[0-8].|9[1-9]|90...))...)|([78].....|180[02]....))",AE:"(?:(5[024-68].......)|([2-4679][2-8]......|400......|800...?.?.?.?.?.?.?))",AF:"(?:(7........)|((?:[25][0-8]|[34][0-4]|6[0-5])[2-9]......))",AG:"(?:(268[2-9]......)|(268(?:4(?:6[0-38]|84)|56[0-2])....|8(?:00|33|44|55|66|77|88)[2-9]......))",AI:"(?:(264(?:235|476|5(?:3[6-9]|8[1-4])|7(?:29|72))....)|(2644(?:6[12]|9[78])....|8(?:00|33|44|55|66|77|88)[2-9]......))",AL:"(?:(6[6-9].......)|((?:2(?:[168][1-9]|[247].|9[1-7])|3(?:1[1-3]|[2-6].|[79][1-8]|8[1-9])|4..|5(?:1[1-4]|[2-578].|6[1-5]|9[1-7])|8(?:[19][1-5]|[2-6].|[78][1-7])).....|800....))",AM:"(?:((?:4[1349]|55|77|88|9[1-9])......)|((?:1[0-2].|2(?:2[2-46]|3[1-8]|4[2-69]|5[2-7]|6[1-9]|8[1-7])|3[12]2|47.).....|800.....))",AO:"(?:(9[1-49].......)|(2.(?:[26-9].|.[26-9]).....))",AR:"(?:(675.......|9(?:11[2-9].......|(?:2(?:2[013]|3[067]|49|6[01346]|80|9[147-9])|3(?:36|4[12358]|5[138]|6[24]|7[069]|8[013578]))[2-9]......|....[2-9].....))|(11........|(?:2(?:2(?:[013].|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[067].)|4(?:7[3-8]|9.)|6(?:[01346].|2[24-6]|5[15-8])|80.|9(?:[0124789].|3[1-6]|5[234]|6[2-46]))|3(?:3(?:2[79]|6.|8[2578])|4(?:[78].|0[0124-9]|[1-35].|4[24-7]|6[02-9]|9[123678])|5(?:[138].|2[1245]|4[1-9]|6[2-4]|7[1-6])|6[24].|7(?:[0469].|1[1568]|2[013-9]|3[145]|5[14-8]|7[2-57]|8[0-24-9])|8(?:[013578].|2[15-7]|4[13-6]|6[1-357-9]|9[124]))|670.)......|800.......))",AS:"(?:(684[2-9]......)|(6846(?:22|33|44|55|77|88|9[19])....|8(?:00|33|44|55|66|77|88)[2-9]......))",AT:"(?:(6(?:5[0-3579]|6[013-9]|[7-9].).....?.?.?.?.?.?)|(1....?.?.?.?.?.?.?.?.?|(?:2(?:1[467]|2[13-8]|5[2357]|6[1-46-8]|7[1-8]|8[124-7]|9[1458])|3(?:1[1-8]|3[23568]|4[5-7]|5[1378]|6[1-38]|8[3-68])|4(?:2[1-8]|35|63|7[1368]|8[2457])|5(?:12|2[1-8]|3[357]|4[147]|5[12578]|6[37])|6(?:13|2[1-47]|4[1-35-8]|5[468]|62)|7(?:2[1-8]|3[25]|4[13478]|5[68]|6[16-8]|7[1-6]|9[45]))....?.?.?.?.?.?.?|800.......?.?.?.?))",AU:"(?:(14(?:5.|71).....|4(?:[0-3].|4[47-9]|5[0-25-9]|6[6-9]|7[02-9]|8[12457-9]|9[017-9])......|482......)|([237]........|8(?:[6-8]...|9(?:[02-9]..|1(?:[0-57-9].|6[0135-9])))....|180(?:0...|2)...))",AW:"(?:((?:290|5(?:[69].)|6(?:[03]0|22|4[0-2]|[69].)|7[34].|9(?:6[45]|9[4-8]))....)|(5(?:2.|8[1-9])....|800....))",AX:"18[1-8]....?.?.?.?.?.?|800.....?.?.?",AZ:"(?:((?:36554|(?:4[04]|5[015]|60|7[07])...)....)|((?:1[28]...|2(?:02|1[24]|2[2-4]|33|[45]2|6[23])..|365(?:[0-46-9].|5[0-35-9]))....|88.......))",BA:"(?:(6(?:0[34]|44|7.|[1-356])......|604......)|((?:[35].|49)......|8[08]......))",BB:"(?:(246[2-9]......)|(246(?:2(?:2[78]|7[0-4])|4(?:1[024-6]|2.|3[2-9])|5(?:20|[34].|54|7[1-3])|6(?:2.|38)|7(?:37|57)|9(?:1[89]|63))....|8(?:00|33|44|55|66|77|88)[2-9]......))",BD:"(?:((?:1[13-9].|(?:3[78]|44)[02-9]|6(?:44|6[02-9])).......)|(2(?:[45]...|7(?:1[0-267]|2[0-289]|3[0-29]|4[01]|5[1-3]|6[013]|7[0178]|91)|8(?:0[125]|[139][1-6]|2[0157-9]|41|6[1-35]|7[1-5]|8[1-8]|90)|9(?:0[0-2]|1[0-4]|2[568]|3[3-6]|5[5-7]|6[0167]|7[15]|8[0146-9]))....|3(?:12?[5-7]..|0(?:2(?:[025-79].|[348]..?)|3(?:[2-4].|[56].?))|2(?:1..|2(?:[12].|[35]..?|4.?))|3(?:1..|2(?:[2356].|4..?))|4(?:1..|2(?:2..?|[47]|5..))|5(?:1..|29)|[67]1..|8(?:1..|2(?:2..|3|4.)))...|4(?:0(?:2(?:[09].|7)|33..)|1...|2(?:1..|2(?:[25].?|[348].|[67]..?))|3(?:1..(?:..)?|2(?:[045].|[236-9]..?)|32..)|4(?:[18]..|2(?:[2-46]..|3)|5[25]..)|5(?:1..|2(?:3.|5))|6(?:[18]..|2(?:3(?:..)?|[46]..?|5..|7.)|5(?:3.?|4.|[57]..?|6..|8))|71..|8(?:[18]..|23..|54..)|9(?:[18]..|2[2-5]..|53..?))...|5(?:02[03489]..|1..|2(?:1..|2(?:2(?:..)?|[457]..))|3(?:1..|2(?:[37](?:..)?|[569]..))|4(?:1..|2[46]..)|5(?:1..|26..?)|6(?:[18]..|2|53..)|7(?:1|24)..|8(?:1|26)..|91..)...|6(?:0(?:1..|2(?:3..|4..?))|2(?:2[2-5]..|5(?:[3-5]..|7)|8..)|3(?:1|2[3478])..|4(?:1|2[34])..|5(?:1|2[47])..|6(?:[18]..|6(?:2(?:2.|[34]..)|5(?:[24]..|3.|5..?)))|72[2-5]..|8(?:1..|2[2-5]..)|9(?:1..|2[2-6]..))...|7(?:(?:02|[3-589]1|6[12]|72[24])..|21...|32)...|8(?:(?:4[12]|[5-7]2|1.?)|(?:0|3[12]|[5-7]1|217).)....|9(?:[35]1|(?:[024]2|81).|(?:1|[24]1)..)...|80[03].......))",BE:"(?:(4(?:56|6[0135-8]|[79].|8[3-9])......)|((?:1[0-69]|[23][2-8]|4[23]|5.|6[013-57-9]|71|8[1-79]|9[2-4])......|80[2-8].....|800.....))",BF:"(?:((?:5[124-8].|6..).....|7.......|51......)|(2(?:0(?:49|5[23]|9[016-9])|4(?:4[569]|5[4-6]|7[0179])|5(?:[34].|50))....))",BG:"(?:((?:8[7-9].|9(?:8.|99))......|4(?:3[0789]|8.).....)|(2......?.?|(?:[36].|5[1-9]|8[1-6]|9[1-7])......?|(?:4(?:[124-7].|3[1-6])|7(?:0[1-9]|[1-9].)).....?|800.....))",BH:"(?:((?:3(?:[1-4679].|5[013-69]|8[0-47-9]).|6(?:3(?:00|33|6[16])|6(?:[69].|3[03-9]|7[0-6])))....|(133|35[69]|38[5679]|39.|66[79]|354).....)|((?:1(?:3[1356]|6[0156]|7.).|6(?:1[16].|500|6(?:0.|3[12]|44|7[7-9])|9[69][69])|7(?:1(?:11|78)|7..))....|80......))",BI:"(?:((?:29|6[1289]|7[124-9])......)|(22......))",BJ:"(?:((?:6.|9[03-9])......)|(2(?:02|1[037]|2[45]|3[68]).....|7[3-5]..))",BL:"590(?:2[7-9]|5[12]|87)....",BM:"(?:(441(?:[37].|5[0-39]).....)|(441(?:2(?:02|23|61|[3479].)|[46]..|5(?:4.|60|89)|824)....|8(?:00|33|44|55|66|77|88)[2-9]......))",BN:"(?:(22[89]....|[78]......)|(2(?:[013-9].|2[0-7])....|[3-5]......))",BO:"(?:([67].......|(?:33[237]|392|507).....|4[0234567]......)|((?:2(?:2..|5(?:11|[258].|9[67])|6(?:12|2.|9[34])|8(?:2[34]|39|62))|3(?:3..|4(?:6.|8[24])|8(?:25|42|5[257]|86|9[25])|9(?:2.|3[234]|4[248]|5[24]|6[2-6]|7.))|4(?:4..|6(?:11|[24689].|72)))....|800......))",BQ:"(?:((?:31(?:8[14-8]|9[14578])|416[14-9]|7(?:0[01]|7[017]|8.|9[056]).)...)|((?:318[023]|41(?:6[023]|70)|7(?:1[578]|50).)...))",BR:"(?:(1[1-9](?:7|9.).......|(?:2[12478]|3[1-578]|[4689][1-9]|5[13-5]|7[13-579])(?:[6-8]|9.?).......|(?:[89][1-9])[6-9].......|2195101....)|((?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-5].......|800.......?))",BS:"(?:(242[2-9]......)|(242(?:3(?:02|[236][1-9]|4[0-24-9]|5[0-68]|7[3467]|8[0-4]|9[2-467])|461|502|6(?:0[1-3]|12|7[67]|8[78]|9[89])|7(?:02|88))....|242300....|8(?:00|33|44|55|66|77|88)[2-9]......))",BT:"(?:((?:1[67]|77)......)|((?:2[3-6]|[34][5-7]|5[236]|6[2-46]|7[246]|8[2-4]).....))",BW:"(?:(7[1-7]......)|((?:2(?:4[0-48]|6[0-24]|9[0578])|3(?:1[0-35-9]|55|[69].|7[01])|4(?:6[03]|7[1267]|9[0-5])|5(?:3[0389]|4[0489]|7[1-47]|88|9[0-49])|6(?:2[1-35]|5[149]|8[067]))....))",BY:"(?:((?:2(?:5[5679]|9[1-9])|33.|44.)......)|((?:1(?:5(?:1[1-5]|[24].|6[2-4]|9[1-7])|6(?:[235].|4[1-7])|7..)|2(?:1(?:[246].|3[0-35-9]|5[1-9])|2(?:[235].|4[0-8])|3(?:[26].|3[02-79]|4[024-7]|5[03-7]))).....|8(?:0[13]|20.).......|800....?.?.?.?))",BZ:"(?:(6[0-35-7].....)|((?:2(?:[02].|36)|[3-58][02].|7(?:[02].|32))....|0800.......))",CA:"(?:((?:2(?:04|[23]6|[48]9|50)|3(?:06|43|6[57])|4(?:03|1[68]|3[178]|50)|5(?:06|1[49]|48|79|8[17])|6(?:0[04]|13|22|39|47)|7(?:0[59]|78|8[02])|8(?:[06]7|19|25|7[39])|90[25])[2-9]......|500555....)|((?:2(?:04|[23]6|[48]9|50)|3(?:06|43|65)|4(?:03|1[68]|3[178]|50)|5(?:06|1[49]|48|79|8[17])|6(?:0[04]|13|22|39|47)|7(?:0[59]|78|8[02])|8(?:[06]7|19|25|73)|90[25])[2-9]......|310....|8(?:00|33|44|55|66|77|88)[2-9]......|310....))",CC:"89162....|180(?:0...|2)...",CD:"(?:(8(?:[0-2459]..|8).....|9[017-9].......)|(1(?:2.......|......)|[2-6]......))",CF:"(?:(7[0257]......)|(2[12]......))",CG:"(?:(0[14-6].......)|(222[1-589].....))",CH:"(?:(7[5-9].......|512?......)|((?:2[12467]|3[1-4]|4[134]|5[256]|6[12]|[7-9]1).......|800......))",CI:"(?:((?:0[1-9]|4.|5[1-9]|6[014-79]|7[1-9]|8[4-79])......|(2[0389]|39|68|79|8[5-9]|9[0-8])......)|((?:2(?:0[023]|1[02357]|[23][045]|4[03-5])|3(?:0[06]|1[069]|[2-4][07]|5[09]|6[08])).....))",CK:"(?:([5-8]....)|((?:2.|3[13-7]|4[1-5])...))",CL:"(?:(9[3-9].......|2(?:1962....|2.......|32[0-467].....)|(?:3[2-5]|[47][1-35]|5[1-3578]|6[13-57]).......)|(2(?:1962....|2.......|32[0-467].....)|(?:3[2-5]|[47][1-35]|5[1-3578]|6[13-57]).......|800......|1230.......))",CM:"(?:(6[25-9].......|(24|[24-9]).......)|(2(?:22|33|4[23])......|800.....))",CN:"(?:(1(?:[38].|4[567]|5[0-35-9]|66|7[0-35-8]|99)........)|(21(?:100..|95....?|.........?.?)|(?:10|2[02-57-9]|3(?:11|7[179])|4(?:[15]1|3[1-35])|5(?:1.|2[37]|3[12]|51|7[13-79]|9[15])|7(?:31|5[457]|6[09]|91)|8(?:[57]1|98))(?:100..|95....?|........)|(?:3(?:1[02-9]|35|49|5.|7[02-68]|9[1-68])|4(?:1[02-9]|2[179]|3[3-9]|5[2-9]|6[4789]|7.|8[23])|5(?:3[03-9]|4[36]|5[02-9]|6[1-46]|7[028]|80|9[2-46-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[17].|2[248]|3[04-9]|4[3-6]|5[0-4689]|6[2368]|9[02-9])|8(?:078|1[236-8]|2[5-7]|3.|5[1-9]|7[02-9]|8[3678]|9[1-7])|9(?:0[1-3689]|1[1-79]|[379].|4[13]|5[1-5]))(?:100..|95....?|.......)|80(?:29|6[03578]|7[018]|81)....|(?:10)?800.......))",CO:"(?:(3(?:0[0-5]|1.|2[0-3]|3[03]|5[01]).......|252[12]....)|([124-8][2-9]......|1800.......))",CR:"(?:(5(?:0[01]|7[0-3]).....|6(?:[0-4]...|500[01])...|(?:7[0-3]|8[3-9])......|[578].......)|(2[0-24-7]......|800.......|210[0-6]....|4.......|5100....))",CU:"(?:(5.......)|(2[1-4]......?|3(?:1......|[23].....?.?)|4(?:[125]......?|[36]......|[78].....?.?)|7.......?))",CV:"(?:((?:9.|5[1-389]).....|5......)|(2(?:2[1-7]|3[0-8]|4[12]|5[1256]|6.|7[1-3]|8[1-5])....))",CW:"(?:(9(?:5(?:[12467].|3[01])|6(?:[15-9].|3[01]))....)|(9(?:[48]..|50.|7(?:2[0-24]|[34].|6[35-7]|77|8[7-9]))....))",CX:"89164....|180(?:0...|2)...",CY:"(?:(9[4-79]......)|(2[2-6]......|800.....))",CZ:"(?:((?:60[1-8]|7(?:0[2-5]|[2379].)|9[36].)......)|(2........|(?:3[1257-9]|4[16-9]|5[13-9]).......|800......))",DE:"(?:(1(?:5[0-25-9]........|6[023]........?|7.........?)|[246]......?.?.?.?.?.?.?.?|3(?:0....?.?.?.?.?.?.?.?.?.?|2.........|[3-9].....?.?.?.?.?.?.?.?.?)|5(?:0[2-8]|[1256].|[38][0-8]|4.?.?|[79][0-7])....?.?.?.?.?.?.?.?|7(?:0[2-8]|[1-9].)....?.?.?.?.?.?.?|8(?:0[2-9]|[1-9].)....?.?.?.?.?.?.?|9(?:0[6-9]....?.?.?.?.?.?.?|1.....?.?.?.?.?.?.?.?|[2-9].....?.?.?.?.?.?.?))|([246]......?.?.?.?.?.?.?.?|3(?:0....?.?.?.?.?.?.?.?.?.?|2.........|[3-9].....?.?.?.?.?.?.?.?.?)|5(?:0[2-8]|[1256].|[38][0-8]|4.?.?|[79][0-7])....?.?.?.?.?.?.?.?|7(?:0[2-8]|[1-9].)....?.?.?.?.?.?.?|8(?:0[2-9]|[1-9].)....?.?.?.?.?.?.?|9(?:0[6-9]....?.?.?.?.?.?.?|1.....?.?.?.?.?.?.?.?|[2-9].....?.?.?.?.?.?.?)|800........?.?.?.?.?))",DJ:"(?:(77......|773.....)|(2(?:1[2-5]|7[45]).....))",DK:"(?:((?:[2-7].|8[126-9]|9[1-46-9])......)|((?:[2-7].|8[126-9]|9[1-46-9])......|80......))",DM:"(?:(767[2-9]......)|(767(?:2(?:55|66)|4(?:2[01]|4[0-25-9])|50[0-4]|70[1-3])....|8(?:00|33|44|55|66|77|88)[2-9]......))",DO:"(?:(8[024]9[2-9]......)|(8(?:[04]9[2-9]......|29(?:2(?:[0-59].|6[04-9]|7[0-27]|8[0237-9])|3(?:[0-35-9].|4[7-9])|[45]..|6(?:[0-27-9].|[3-5][1-9]|6[0135-8])|7(?:0[013-9]|[1-37].|4[1-35689]|5[1-4689]|6[1-57-9]|8[1-79]|9[1-8])|8(?:0[146-9]|1[0-48]|[248].|3[1-79]|5[01589]|6[013-68]|7[124-8]|9[0-8])|9(?:[0-24].|3[02-46-9]|5[0-79]|60|7[0169]|8[57-9]|9[02-9]))....)|8(?:00|33|44|55|66|77|88)[2-9]......))",DZ:"(?:((?:5[4-6]|7[7-9]).......|6(?:[569].|7[0-6])......)|((?:1.|2[013-79]|3[0-8]|4[0135689])......|9619.....|800......))",EC:"(?:(9(?:(?:39|[45][89]|7[7-9]|[89].).|6(?:[0-37-9].)).....|962......)|([2-7][2-7]......|1800.......?))",EE:"(?:((?:5.|8[1-5])......|5(?:[02]..|1(?:[0-8].|95)|5[0-478].|64[0-4]|65[1-589])...)|((?:3[23589]|4[3-8]|6.|7[1-9]|88).....|800(?:0...|1.|[2-9])...))",EG:"(?:(1(?:0.|1[0-245]|2[0-278]|5.).......)|((?:1(?:3[23].|5(?:[23]|9.))|2[2-4]..|3..|4(?:0[2-5]|[578][23]|64).|5(?:0[2-7]|[57][23]).|6[24-689]3.|8(?:2[2-57]|4[26]|6[237]|8[2-4]).|9(?:2[27]|3[24]|52|6[2356]|7[2-4]).).....|1[69]...|800.......))",ER:"(?:(17[1-3]....|7......)|(1(?:1[12568]|20|40|55|6[146])....|8......))",ES:"(?:((?:6......|7[1-48].....|9(?:6906(?:09|10)|7390..))..)|(8(?:[1356].|[28][0-8]|[47][1-9])......|9(?:[135].......|[28][0-8]......|4[1-9]......|6(?:[0-8]......|9(?:0(?:[0-57-9]....|6(?:0[0-8]|1[1-9]|[2-9].)..)|[1-9].....))|7(?:[124-9]..|3(?:[0-8].|9[1-9]))....)|[89]00......))",ET:"(?:(9........)|((?:11(?:1(?:1[124]|2[2-57]|3[1-5]|5[5-8]|8[6-8])|2(?:13|3[6-8]|5[89]|7[05-9]|8[2-6])|3(?:2[01]|3[0-289]|4[1289]|7[1-4]|87)|4(?:1[69]|3[2-49]|4[0-3]|6[5-8])|5(?:1[578]|44|5[0-4])|6(?:18|2[69]|39|4[5-7]|5[1-5]|6[0-59]|8[015-8]))|2(?:2(?:11[1-9]|22[0-7]|33.|44[1467]|66[1-68])|5(?:11[124-6]|33[2-8]|44[1467]|55[14]|66[1-3679]|77[124-79]|880))|3(?:3(?:11[0-46-8]|22[0-6]|33[0134689]|44[04]|55[0-6]|66[01467])|4(?:44[0-8]|55[0-69]|66[0-3]|77[1-5]))|4(?:6(?:22[0-24-7]|33[1-5]|44[13-69]|55[14-689]|660|88[1-4])|7(?:11[1-9]|22[1-9]|33[13-7]|44[13-6]|55[1-689]))|5(?:7(?:227|55[05]|(?:66|77)[14-8])|8(?:11[149]|22[013-79]|33[0-68]|44[013-8]|550|66[1-5]|77.)))....))",FI:"(?:(4......?.?.?.?.?|50.....?.?.?.?|299......)|(1(?:[3569][1-8]....?.?.?.?.?.?|[47]......?.?.?.?.?)|2[1-8]....?.?.?.?.?.?|3(?:[1-8]....?.?.?.?.?.?|9.....?.?.?.?)|[5689][1-8]....?.?.?.?.?.?|800.....?.?.?|[13]0.....?.?.?.?|2(?:0(?:[016-8]....?.?.?.?|[2-59]...?.?.?.?.?)|9.....?.?.?.?)|60(?:[12]......?|6.......)|7(?:1.......|3........|5[03-9]...?.?.?.?.?)))",FJ:"(?:((?:[279].|45|5[01568]|8[034679]).....|8[125].....)|((?:3[0-5]|6[25-7]|8[58]).....|0800.......))",FK:"(?:([56]....)|([2-47]....))",FM:"(?:(3[2357]0[1-9]...|820....|9[2-7].....)|(3[2357]0[1-9]...|9[2-7].....))",FO:"(?:((?:[27][1-9]|5.)....)|((?:20|[3-4].|8[19])....|80[257-9]...))",FR:"(?:(63[0-8]......|69[157-9]......|6[0-24-8].......|7[0-24-9].......)|([1-5]........|80[0-5]......|9........))",GA:"(?:(0?[2-7]......)|(01......))",GB:"(?:(7(?:[1-3]...|4(?:[0-46-9]..|5(?:[0-689].|7[0-57-9]))|5(?:0[0-8]|[13-9].|2[0-35-9]).|7(?:0(?:0[01]|[1-9].)|[1-7]..|8[02-9].|9[0-689].)|8(?:[014-9].|[23][0-8]).|9(?:[024-9]..|1(?:[02-9].|1[028])|3[0-689].)).....)|(2(?:0[01378]|3[0189]|4[017]|8[0-46-9]|9[0-2]).......|1(?:1(?:3[0-48]|[46][0-4]|5[0-26-9]|[78][0-49])|21[0-7]|31[0-8]|[4-69]1.)......|1(?:2(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9.)|3(?:0.|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[28][02-57-9]|[37].|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|2[024-9]|3[015689]|4[02-9]|5[03-9]|6.|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0124578])|7(?:0[0246-9]|2.|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7.|8[02-9]|9[02569])|9(?:0[02-589]|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|8.|9[2-57]))......|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2.|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[345])))|3(?:638[2-5]|647[23]|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8.)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[123]))|5(?:24(?:3[2-79]|6.)|276.|6(?:26[06-9]|686))|6(?:06(?:4.|7[4-79])|295[567]|35[34].|47(?:24|61)|59(?:5[08]|6[67]|74)|955[0-4])|7(?:26(?:6[13-9]|7[0-7])|442.|50(?:2[0-3]|[3-68]2|76))|8(?:27[56].|37(?:5[2-5]|8[239])|84(?:3[2-58]))|9(?:0(?:0(?:6[1-8]|85)|52.)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))...|176888[2-46-8]..|16977[23]...|80(?:0(?:1111|.......?)|8.......)|(?:3[0347]|55)........))",GD:"(?:(473[2-9]......)|(473(?:2(?:3[0-2]|69)|3(?:2[89]|86)|4(?:[06]8|3[5-9]|4[0-49]|5[5-79]|68|73|90)|63[68]|7(?:58|84)|800|938)....|8(?:00|33|44|55|66|77|88)[2-9]......))",GE:"(?:(5(?:14|5[01578]|44|68|7[0147-9]|9[0-35-9])......|559......)|((?:3(?:[256].|4[124-9]|7[0-4])|4(?:1.|2[2-7]|3[1-79]|4[2-8]|7[239]|9[1-7]))......|800......))",GF:"(?:(694......)|(594(?:10|2[012457-9]|3[0-57-9]|4[3-9]|5[7-9]|6[0-3]|9[014])....))",GG:"(?:(7(?:781.|839.|911[17]).....)|(1481......|80(?:0(?:1111|.......?)|8.......)|500......))",GH:"(?:((?:2[034678].|3[0-9].|5(?:[0457].|6[01]))......|55.......)|(3(?:0[237].|[167](?:2[0-6]|7.)|2(?:2[0-5]|7.)|3(?:2[0-3]|7.)|4(?:2[013-9]|3[01]|7.)|5(?:2[0-7]|7.)|8(?:2[0-2]|7.)|9(?:20|7.)).....|800.....))",GI:"(?:((?:5[46-8]|6[02])......)|(2(?:00.|1(?:6[24-7]|9.)|2(?:00|2[2457]))....|80......))",GL:"(?:([245][2-9]....)|((?:19|3[1-6]|6[14689]|8[14-79]|9.)....|80....))",GM:"(?:([23679]......)|((?:4(?:[23]..|4(?:1[024679]|[6-9].))|5(?:54[0-7]|6(?:[67].)|7(?:1[04]|2[035]|3[58]|48))|8...)...))",GN:"(?:(6[02356].......)|(30(?:24|3[12]|4[1-35-7]|5[13]|6[189]|[78]1|9[1478])....))",GP:"(?:(690......)|(590(?:0[13468]|1[012]|2[0-68]|3[28]|4[0-8]|5[579]|6[0189]|70|8[0-689]|9.)....))",GQ:"(?:((?:222|55.)......|(?:55[02]|666)......)|(3(?:3(?:3.[7-9]|[0-24-9].[46])|5..[7-9])....|80.[1-9].....))",GR:"(?:(69........)|(2(?:1..|2(?:2[1-46-9]|3[1-8]|4[1-7]|5[1-4]|6[1-8]|7[1-5]|[89][1-9])|3(?:1.|2[1-57]|[35][1-3]|4[13]|7[1-7]|8[124-6]|9[1-79])|4(?:1.|2[1-8]|3[1-4]|4[13-5]|6[1-578]|9[1-5])|5(?:1.|[29][1-4]|3[1-5]|4[124]|5[1-6])|6(?:1.|3[1245]|4[1-7]|5[13-9]|[269][1-6]|7[14]|8[1-5])|7(?:1.|2[1-5]|3[1-6]|4[1-7]|5[1-57]|6[135]|9[125-7])|8(?:1.|2[1-5]|[34][1-4]|9[1-57]))......|800.......))",GT:"(?:([345].......)|([267][2-9]......|18[01]........))",GU:"(?:(671[2-9]......)|(671(?:3(?:00|3[39]|4[349]|55|6[26])|4(?:56|7[1-9]|8[0236-9])|5(?:55|6[2-5]|88)|6(?:3[2-578]|4[24-9]|5[34]|78|8[235-9])|7(?:[079]7|2[0167]|3[45]|47|8[789])|8(?:[2-5789]8|6[48])|9(?:2[29]|6[79]|7[1279]|8[789]|9[78]))....|8(?:00|33|44|55|66|77|88)[2-9]......))",GW:"(?:(9(?:5..|6(?:[569].)|77.).....|(?:[5-7].|9[012]).....)|(443......))",GY:"(?:(6......)|((?:2(?:1[6-9]|2[0-35-9]|3[1-4]|5[3-9]|6.|7[0-24-79])|3(?:2[25-9]|3.)|4(?:4[0-24]|5[56])|77[1-57])....|(?:289|862)....))",HK:"(?:((?:46(?:0[0-6]|[14].)|5(?:[1-59][0-46-9].|6[0-4689].|7(?:[0-2469].|30))|6(?:0[1-9].|[13-59]..|2(?:[0-57-9].|6[01])|[68][0-57-9].|7[0-79].)|7(?:07.)|9(?:0[1-9].|1[02-9].|2(?:[0-8].|9[03-9])|[358][0-8].|[467]..))....)|((?:2(?:[13-8].|2[013-9]|9[0-24-9]).|3(?:[1569][0-24-9].|4[0-246-9].|7[0-24-69].|8(?:40|9.))|58(?:0[1-8]|1[2-9]))....|800......))",HN:"(?:([37-9].......)|(2(?:2(?:0[019]|1[1-36]|[23].|4[03-6]|5[57]|7[013589]|8[0146-9]|9[012])|4(?:07|2[3-59]|3[13-689]|4[0-68]|5[1-35])|5(?:16|4[03-5]|5.|6[4-6]|74)|6(?:[056].|17|3[04]|4[0-378]|[78][0-8]|9[01])|7(?:6[46-9]|7[02-9]|8[034])|8(?:79|8[0-35789]|9[1-57-9]))....))",HR:"(?:(9(?:[01259]..|7(?:[0679].|51)|8..?).....)|(1.......|(?:2[0-3]|3[1-5]|4[02-47-9]|5[1-3]).......?|80[01].....?.?))",HT:"(?:((?:2(?:81|9.)|3[1-9].|4..|9(?:8[0-35]|9[5-9])).....)|(2(?:[24].|5[1-5]).....|8.......))",HU:"(?:((?:[257]0|3[01]).......)|((?:1.|2[2-9]|3[2-7]|4[24-9]|5[2-79]|6[23689]|7[2-9]|8[2-57-9]|9[2-69])......|[48]0......))",ID:"(?:((?:2(?:1(?:3[145]|4[01]|5[1-469]|60|8[0359]|9.)|2(?:88|9[1256])|3[1-4]9|4(?:36|91)|5(?:1[349]|[2-4]9)|6[0-7]9|7(?:[1-36]9|4[39])|8[1-5]9|9[1-48]9)|3(?:19[1-3]|2[12]9|3[13]9|4(?:1[69]|39)|5[14]9|6(?:1[69]|2[89])|709)|4[13]19|5(?:1(?:19|8[39])|4[129]9|6[12]9)|6(?:19[12]|2(?:[23]9|77))|7(?:1[13]9|2[15]9|419|5(?:1[89]|29)|6[15]9|7[178]9))......?|8[1-35-9]........?.?.?|2(?:1(?:14...|[0-8].......?|500...|9......)|2.......?.?|4........?)|(?:2(?:[35][1-4]|6[0-8]|7[1-6]|8.|9[1-8])|3(?:1|[25][1-8]|3[1-68]|4[1-3]|6[1-3568]|7[0-469]|8.)|4(?:0[1-589]|1[01347-9]|2[0-36-8]|3[0-24-68]|43|5[1-378]|6[1-5]|7[134]|8[1245])|5(?:1[1-35-9]|2[25-8]|3[124-9]|4[1-3589]|5[1-46]|6[1-8])|6(?:19?|[25].|3[1-69]|4[1-6])|7(?:02|[125][1-9]|[36].|4[1-8]|7[0-36-9])|9(?:0[12]|1[013-8]|2[0-479]|5[125-8]|6[23679]|7[159]|8[01346]))......?.?.?|(?:4067|4157|4447|4502|4546|5447|5467|5557|6307|7027|7157|9047|9127|9197|9257|9507|9597|9607|9647|9787)......?|895.........)|(2(?:1(?:14...|[0-8].......?|500...|9......)|2.......?.?|4........?)|(?:2(?:[35][1-4]|6[0-8]|7[1-6]|8.|9[1-8])|3(?:1|[25][1-8]|3[1-68]|4[1-3]|6[1-3568]|7[0-469]|8.)|4(?:0[1-589]|1[01347-9]|2[0-36-8]|3[0-24-68]|43|5[1-378]|6[1-5]|7[134]|8[1245])|5(?:1[1-35-9]|2[25-8]|3[124-9]|4[1-3589]|5[1-46]|6[1-8])|6(?:19?|[25].|3[1-69]|4[1-6])|7(?:02|[125][1-9]|[36].|4[1-8]|7[0-36-9])|9(?:0[12]|1[013-8]|2[0-479]|5[125-8]|6[23679]|7[159]|8[01346]))......?.?.?|177.......?.?|800......?.?))",IE:"(?:(8(?:22......|[35-9].......))|(1........?|2(?:1.......?|3.......|[24-9].....)|4(?:0[24].....|[1-469].......|5......|7.....|8[0-46-9].......)|5(?:0[45].....|1......|[23679].......|8.....)|6(?:1......|[237-9].....|[4-6].......)|7[14].......|9(?:1......|[04].......|[35-9].....)|1800......))",IL:"(?:(5(?:[0-47-9]..|5(?:01|2[2-5]|3[2-4]|4[45]|5[5689]|6[678]|7[0-278]|8[6-9]|9[1-9])|6[2-9].).....)|((?:153..?|[2-489]).......|1(?:80[019]...|255)...|7(?:18.|2[23].|3[237].|47.|6[58].|7..|8(?:2.|33|55|77|81)|9[2579].).....))",IM:"(?:(7(?:4576|[569]24.).....)|(1624......|808162....))",IN:"(?:((?:6(?:0(?:0[0-3569]|26).|1279|2(?:0[0-79]|3[02589]|6.|8[0-479]|9[0-7]).|3(?:0[0-469].|5(?:0[0-6]|[1-9].)|6[0-49].|7[014-9].|[89]..)|90[019].)|7(?:0...|19[0-5].|2(?:[0235-9].|[14][017-9]).|3(?:[025-9].|1[01789]|3[017-9]|4[017-9]).|4(?:[01235689].|4[01789]|7[01789]).|5(?:[0-46-9].|5[017-9]).|6(?:[02-9].|1[0-257-9]).|7...|8...|9(?:[07-9].|3[01]|61).)|8(?:0(?:[0157-9].|6[67])|1..|2(?:0[089]|[1235-9].|4[089])|3(?:[03-57-9].|1[0789]|2[089]|6[089])|[45]..|6(?:[02-9].|1[089])|7(?:0[07-9]|7[089]|8[089]|[1-69].)|8(?:[0-25-9].|3[089]|4[0489])|9(?:[02-9].|1[0289])).|9....).....|6(?:0.|2[08]|3[589]|9.).......|[7-9].........)|((?:11|2[02]|33|4[04]|79)[2-7].......|80[2-467].......|(?:1(?:2[0-249]|3[0-25]|4[145]|[59][14]|6[014]|7[1257]|8[01346])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|7[18]|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|[36][25]|22|4[28]|5[12]|[78]1|9[15])|6(?:12|[2345]1|57|6[13]|7[14]|80)|7(?:12|2[14]|3[134]|4[47]|5[15]|[67]1|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91))[2-7]......|(?:(?:1(?:2[35-8]|3[346-9]|4[236-9]|[59][0235-9]|6[235-9]|7[34689]|8[257-9])|2(?:1[134689]|3[24-8]|4[2-8]|5[25689]|6[2-4679]|7[13-79]|8[2-479]|9[235-9])|3(?:01|1[79]|2[1-5]|4[25-8]|5[125689]|6[235-7]|7[157-9]|8[2-467])|4(?:1[14578]|2[5689]|3[2-467]|5[4-7]|6[35]|73|8[2689]|9[2389])|5(?:[16][146-9]|2[14-8]|3[1346]|4[14-69]|5[46]|7[2-4]|8[2-8]|9[246])|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|[57][2-689]|6[24-578]|8[1-6])|8(?:1[1357-9]|2[235-8]|3[03-57-9]|4[0-24-9]|5.|6[2457-9]|7[1-6]|8[1256]|9[2-4])).|7(?:(?:1[013-9]|2[0235-9]|3[2679]|4[1-35689]|5[2-46-9]|[67][02-9]|9.).|8(?:2[0-6]|[013-8].)))[2-7].....|00800.......|1(?:600......|80(?:0.....?.?.?.?.?|3.........))|1860........?.?))",IO:"(?:(38.....)|(37.....))",IQ:"(?:(7[3-9]........|6[26].......)|(1.......|(?:2[13-5]|3[02367]|4[023]|5[03]|6[026]).......?))",IR:"(?:(9(?:0[1-5]|[1-3].|9[01489]).......|991.......)|((?:(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])(?:........|(?:[16]|[289].?)...))|94(?:000|11[0-7]|2..|30[01]|440).....))",IS:"(?:(38[589]......|(?:6(?:1[1-8]|[289].|3[027-9]|4[014679]|5[0159]|[67][0-69])|7(?:5[057]|[6-8].)|8(?:2[0-59]|3[0-4]|[469].|5[1-9]|88))....|[3678]......)|((?:4(?:1[0-24-69]|2[0-7]|[37][0-8]|4[0-245]|5[0-68]|6.|8[0-36-8])|5(?:05|[156].|2[02578]|3[0-79]|4[03-7]|7[0-2578]|8[0-35-9]|9[013-689])|87[23])....|800....))",IT:"(?:(3(?:[12457-9]........|6........?|3........?.?))|(0(?:[26].....?.?.?.?.?|(?:1(?:[0159].|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|3(?:[0159].|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159].|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159].|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|7(?:[0159].|2[12]|3[1-7]|4[2346]|6[13569]|7[13-6]|8[1-59])|8(?:[0159].|2[34578]|3[1-356]|[6-8][1-5])|9(?:[0159].|[238][1-5]|4[12]|6[1-8]|7[1-6]))...?.?.?.?.?)|80(?:0......|3...)))",JE:"(?:(7(?:509.|7(?:00[378]|97[7-9])|829.|937.).....)|(1534......|80(?:07(?:35|81)|8901)....))",JM:"(?:(876[2-9]......)|(876(?:5(?:0[12]|1[0-468]|2[35]|63)|6(?:0[1-3579]|1[027-9]|[23].|40|5[06]|6[2-589]|7[05]|8[04]|9[4-9])|7(?:0[2-689]|[1-6].|8[056]|9[45])|9(?:0[1-8]|1[02378]|[2-8].|9[2-468]))....|8(?:00|33|44|55|66|77|88)[2-9]......))",JO:"(?:(7(?:55|7[025-9]|8[0-25-9]|9[0-25-9])......|75.......)|((?:2(?:6(?:2[0-35-9]|3[0-57-8]|4[24-7]|5[0-24-8]|[6-8][023]|9[0-3])|7(?:0[1-79]|10|2[014-7]|3[0-689]|4[019]|5[0-3578]))|32(?:0[1-69]|1[1-35-7]|2[024-7]|3.|4[0-3]|[57][023]|6[03])|53(?:0[0-3]|[13][023]|2[0-59]|49|5[0-35-9]|6[15]|7[45]|8[1-6]|9[0-36-9])|6(?:2[50]0|3(?:00|33)|4(?:0[0125]|1[2-7]|2[0569]|[38][07-9]|4[025689]|6[0-589]|7.|9[0-2])|5(?:[01][056]|2[034]|3[0-57-9]|4[17-8]|5[0-69]|6[0-35-9]|7[1-379]|8[0-68]|9[02-39]))|87(?:[02]0|7[08]|90))....|80......))",JP:"(?:([7-9]0[1-9].......)|((?:1(?:1[235-8]|2[3-6]|3[3-9]|4[2-6]|[58][2-8]|6[2-7]|7[2-9]|9[1-9])|2[2-9].|[36][1-9].|4(?:6[02-8]|[2-578].|9[2-59])|5(?:6[1-9]|7[2-8]|[2-589].)|7(?:3[4-9]|4[02-9]|[25-9].)|8(?:3[2-9]|4[5-9]|5[1-9]|8[03-9]|[2679].)|9(?:[679][1-9]|[2-58].))......|120......|800.......|00(?:37.......?.?.?.?.?.?.?|66.......?.?.?.?.?.?.?|777(?:[01]..|5...|8....)|882[1245]....)))",KE:"(?:(7........|(?:20|46)51.....|4[14]50.....|5183.....|5670.....|5785.....|6184.....)|(20.......?|4(?:0.......?|[136].......|[245]......?.?)|5(?:[08].......|[1-79]......?.?)|6(?:[01457-9]......?.?|2.......|6.......?)|800[24-8]......?))",KG:"(?:((?:2(?:0[0-35]|2.)|5[0124-7].|7(?:55|[07].)|999)......)|((?:3(?:1(?:[256].|3[1-9]|47)|2(?:22|3[0-479]|6[0-7])|4(?:22|5[6-9]|6.)|5(?:22|3[4-7]|59|6.)|6(?:22|5[35-7]|6.)|7(?:22|3[468]|4[1-9]|59|[67].)|9(?:22|4[1-8]|6.))|6(?:09|12|2[2-4]).).....|800.......?))",KH:"(?:((?:1(?:[013-79].|[28]..?)|2[3-6]48|3(?:[189]..|[2-6]48)|4[2-4]48|5[2-5]48|6(?:[016-9].|[2-5]48)|7(?:[07-9].|[16]..|[2-5]48)|8(?:[013-79].|8..)|9(?:6..|7..?|[0-589].)).....|18.......)|((?:2[3-6]|3[2-6]|4[2-4]|[5-7][2-5])(?:[237-9]|4[56]|5.|6.?).....|23(?:4[234]|8..)....|1800(?:1.|2[019])....))",KI:"(?:((?:6[23]0|7(?:20|3[01])).....)|((?:[24].|3[1-9]|50|8[0-5])...|7(?:27|31|5[0-4]).....))",KM:"(?:([34]......|351....)|(7[4-7].....))",KN:"(?:(869(?:5(?:5[6-8]|6[5-7])|66.|76[02-7])....)|(869(?:2(?:29|36)|302|4(?:6[015-9]|70))....|8(?:00|33|44|55|66|77|88)[2-9]......))",KP:"(?:(19[123].......)|(2.......|85......))",KR:"(?:(1[0-26-9]........?)|((?:2|3[1-3]|[46][1-4]|5[1-5])(?:1...?|[1-9].......?)|(?:00798.?.?|80).......))",KW:"(?:((?:5(?:[05]..|1[0-7].|2(?:22|5[25])|6[56].)|6(?:0[034679].|222|5[015-9].|6..|7[067].|9[0369].)|9(?:0[09].|11[01]|22.|4[01479].|55.|6[0679].|[79]..|8[057-9].|333))....|992.....)|((?:18.|2(?:[23]..|4(?:[1-35-9].|44)|5(?:0[034]|[2-46].|5[1-3]|7[1-7])))....))",KY:"(?:(345(?:32[1-9]|5(?:1[67]|2[5-7]|4[6-8]|76)|9(?:1[67]|2[2-9]|3[689]))....)|(345(?:2(?:22|44)|444|6(?:23|38|40)|7(?:4[35-79]|6[6-9]|77)|8(?:00|1[45]|25|[48]8)|9(?:14|4[035-9]))....|8(?:00|33|44|55|66|77|88)[2-9]......))",KZ:"(?:(7(?:0[012578]|47|6[02-4]|7[15-8]|85).......)|(33622.....|7(?:1(?:0(?:[23].|4[0-3]|59|63)|1(?:[23].|4[0-79]|59)|2(?:[23].|59)|3(?:2.|3[0-79]|4[0-35-9]|59)|4(?:[24].|3[013-9]|5[1-9])|5(?:2.|3[1-9]|4[0-7]|59)|6(?:[234].|5[19]|61)|72.|8(?:[27].|3[1-46-9]|4[0-5]))|2(?:1(?:[23].|4[46-9]|5[3469])|2(?:2.|3[0679]|46|5[12679])|3(?:[234].|5[139])|4(?:2.|3[1235-9]|59)|5(?:[23].|4[01246-8]|59|61)|6(?:2.|3[1-9]|4[0-4]|59)|7(?:[2379].|40|5[279])|8(?:[23].|4[0-3]|59)|9(?:2.|3[124578]|59))).....|800.......))",LA:"(?:(20(?:2[2389]|[59].|7[6-9])......|30(?:[49]).......|209.......)|((?:2[13]|3(?:0.|[14])|[5-7][14]|41|8[1468])......))",LB:"(?:((?:3.|7(?:[01].|6[013-9]|8[89]|9[1-3])|81.).....)|((?:[14-6]..|7(?:[2-57].|62|8[0-7]|9[04-9])|8[02-9].|9..)....))",LC:"(?:(758[2-9]......)|(758(?:4(?:30|5[0-9]|6[2-9]|8[0-2])|57[0-2]|638)....|8(?:00|33|44|55|66|77|88)[2-9]......))",LI:"(?:(6(?:5(?:0[3-9]|1.|20)|6(?:0[0-7]|10|2[016-9]|3[7-9])|97[789]).....|7(?:[37-9].|42|56)....)|((?:2(?:01|1[27]|3.|6[02-578]|96)|3(?:7[0135-7]|8[048]|9[0269]))....|80(?:02[28]|9..)..))",LK:"(?:(7[0125-8].......)|((?:[189]1|2[13-7]|3[1-8]|4[157]|5[12457]|6[35-7])[2-57]......))",LR:"(?:((?:4[67].|5(?:55)?..|77...|88...)....)|(2.......))",LS:"(?:([56].......)|(2.......|800[256]....))",LT:"(?:(6.......)|((?:3[1478]|4[124-6]|52)......|800.....))",LU:"(?:(6(?:[2679][18]|5[158]|81)......|681......)|((?:2[2-9]...?.?.?.?.?.?.?|(?:[3457]..|8(?:0[2-9]|[13-9].)|9(?:0[89]|[2-579].))..?.?.?.?.?.?.?)|800.....))",LV:"(?:(2.......)|(6.......|80......))",LY:"(?:(9[1-6].......)|((?:2[1345]|5[1347]|6[123479]|71).......))",MA:"(?:((?:6(?:[0-79].|8[0-247-9])|7(?:0[067]|6[1267]|7[07]))......|7........)|(5(?:2(?:[015-79].|2[02-9]|3[2-57]|4[2-8]|8[235-7]).|3(?:[0-48].|[57][2-9]|6[2-8]|9[3-9]).|4[067]..|5[03]..)....|80.......))",MC:"(?:(3.......|4(?:4.|5[1-9]|61).....|6........)|(870.....|9[2-47-9]......|90......))",MD:"(?:((?:562|6..|7(?:[189].|6.|7[457-9])).....|(?:6[0-9]|71)......)|((?:2[1-9].|3[1-79].|5(?:33|5[257])).....|800.....))",ME:"(?:(6(?:0..|3[02-6].|6[0-25].|[7-9]..)....|63......)|((?:20[2-8]|3(?:0[2-7]|[12][235-7]|3[24-7])|4(?:0[2-467]|1[267])|5(?:0[2467]|1[267]|2[2367])).....|80[0-258].....))",MF:"590(?:[02][79]|13|5[0-268]|[78]7)....",MG:"(?:(3[2-49].......)|(20(?:2..|4[47].|5[3467].|6[279].|7(?:2[29]|[35].)|8[268].|9[245].)....))",MH:"(?:((?:235|329|45[356]|545)....)|((?:247|528|625)....))",MK:"(?:(7(?:[0-25-8]..|3[24].|93.|421)....|79(2..|3([0-6].|7[0-5]))...)|((?:2(?:[23].|5[124578]|6[01])|3(?:1[3-6]|[23][2-6]|4[2356])|4(?:[23][2-6]|4[3-6]|5[256]|6[25-8]|7[24-6]|8[4-6])).....|800.....))",ML:"(?:((?:2(?:079|17.)|4[02]..|[5679]...|8[239]..)....)|((?:2(?:0(?:2.|7[0-8])|1(?:2[5-7]|[3-689].))|44[1239].)....|80......))",MM:"(?:(17[01]....|9(?:2(?:[0-4]|[56]..)|3(?:[0-36]|4[069]).|4(?:[02]..|[1379].|4[0-589].|5..|88)|5[0-6]|6(?:1.|9..|.)|7(?:3|5[0-2]|[6-9].).|8(?:.|9..)|9(?:1.|[5-7]..|[089])).....|78.......)|(1(?:2..?|[3-5].|6.?|[89][0-6].)....|2(?:2(?:000...|....)|3....|4(?:0.....|....)|5(?:1....?.?.?|[02-9]....?.?)|[6-9]....)|4(?:2[245-8]|3(?:[2-46]|56?)|[46][2-6]|5[3-5])....|5(?:2(?:2(?:..?)?|[3-8])|3[2-68]|4(?:21?|[4-8])|5[23]|6[2-4]|7[2-8]|8[24-7]|9[2-7])....|6(?:0[23]|1(?:2(?:0|4.)?|[356])|2[2-6]|3[24-6]|4(?:2(?:4.)?|[3-6])|5[2-4]|6[2-8]|7(?:[2367]|4.|5.?|8[145].)|8[245]|9(?:20?|4))....|7(?:[04][24-8]|1(?:20?|[3-7])|22|3[2-4]|5[2-7])....|8(?:1(?:2..?|[3-689].)|2(?:2.|3(?:.|20)|[4-8].)|3[24].|4[24-7].|5[245].|6[23].)...))",MN:"(?:((?:8(?:[05689].|3[01])|9[013-9].).....)|([12](?:1.|2(?:[1-3].?|7.)|3[2-8]..?|4[2-68]..?|5[1-4689]..?).....|5[0568]......))",MO:"(?:(6(?:[2356].|8[013-578]).....|6[0189]......)|((?:28[2-57-9]|8[2-57-9].).....))",MP:"(?:(670[2-9]......)|(670(?:2(?:3[3-7]|56|8[5-8])|32[1238]|4(?:33|8[348])|5(?:32|55|88)|6(?:64|70|82)|78[589]|8[3-9]8|989)....|8(?:00|33|44|55|66|77|88)[2-9]......))",MQ:"(?:(696......)|(596(?:0[2-5]|[12]0|3[05-9]|4[024-8]|[5-7].|89|9[4-8])....))",MR:"(?:([234][0-46-9]......)|(25[08].....|35......|45[1-7].....|800.....))",MS:"(?:(66449[2-6]....|66439[23]....)|(664491....|8(?:00|33|44|55|66|77|88)[2-9]......))",MT:"(?:((?:7(?:210|[79]..)|9(?:2..|69[67]|8(?:1[1-3]|89|97)|9..))....)|(2(?:0(?:1[0-6]|3[1-4]|[69].)|[1-357]..)....|800[3467]....))",MU:"(?:(5?(?:2[59].|4(?:2[1-389]|3.|7[1-9]|9.)|7..|8(?:[256].|7[15-8])|9[0-8].)....|5.......)|((?:2(?:[03478].|1[0-7]|6[1-69])|4(?:[013568].|2[4-7])|5(?:44.|471)|6..|8(?:14|3[129]))....|80[012]....))",MV:"(?:((?:46[46]|7[2-9].|9[14-9].)....)|((?:3(?:0[0-3]|3[0-59])|6(?:[57][02468]|6[024568]|8[024689]|90))....|800.......))",MW:"(?:((?:111|77.|88.|99.)......|21.......)|((?:1[2-9]|21..).....))",MX:"(?:(1(?:(?:33|55|81)........|(?:2(?:2[1-9]|3[1-35-8]|4[13-9]|7[1-689]|8[1-578]|9[467])|3(?:1[1-79]|[2458][1-9]|7[1-8]|9[1-5])|4(?:1[1-57-9]|[24-6][1-9]|[37][1-8]|8[1-35-9]|9[2-689])|5(?:88|9[1-79])|6(?:1[2-68]|[2-4][1-9]|5[1-3689]|6[12457-9]|7[1-7]|8[67]|9[4-8])|7(?:[13467][1-9]|2[1-9]|5[13-9]|8[1-69]|9[17])|8(?:2[13-689]|3[1-6]|4[124-6]|6[1246-9]|7[1-378]|9[12479])|9(?:1[346-9]|2[1-4]|3[2-46-8]|5[1348]|[69][1-9]|7[12]|8[1-8])).......))|((?:33|55|81)........|(?:2(?:0[01]|2[1-9]|3[1-35-8]|4[13-9]|7[1-689]|8[1-578]|9[467])|3(?:1[1-79]|[2458][1-9]|7[1-8]|9[1-5])|4(?:1[1-57-9]|[24-6][1-9]|[37][1-8]|8[1-35-9]|9[2-689])|5(?:88|9[1-79])|6(?:1[2-68]|[234][1-9]|5[1-3689]|6[12457-9]|7[1-7]|8[67]|9[4-8])|7(?:[13467][1-9]|2[1-8]|5[13-9]|8[1-69]|9[17])|8(?:2[13-689]|3[1-6]|4[124-6]|6[1246-9]|7[1-378]|9[12479])|9(?:1[346-9]|2[1-4]|3[2-46-8]|5[1348]|[69][1-9]|7[12]|8[1-8])).......|8(?:00|88).......))",MY:"(?:(1(?:1(?:[1-7]..|1[03-589]|2[049]|3[25]|4[01]|5[2-9])|[0349][2-9].|[267]..|59..?|8(?:1[23]|[2-9].)).....)|((?:3[2-9].|[4-9][2-9])......|1[378]00......))",MZ:"(?:(8[2-7].......|8[15].......)|(2(?:[1346].|5[0-2]|[78][12]|93).....|800......))",NA:"(?:((?:60|8[125]).......)|(6(?:1(?:17|2(?:[0189].|[2-6]|7.?)|3(?:[01378]|2.)|4(?:[024]|10?|3[15]?)|69|7[014])|2(?:17|5(?:[0-36-8]|4.?)|69|70)|3(?:17|2(?:[0237].?|[14-689])|34|6[289]|7[01]|81)|4(?:17|2(?:[012]|7.?)|4(?:[06]|1.?)|5(?:[01357]|[25].?)|69|7[01])|5(?:17|2(?:[0459]|[23678].?)|69|7[01])|6(?:17|2(?:5|6.?)|38|42|69|7[01])|7(?:17|2(?:[569]|[234].?)|3(?:0.?|[13])|6[89]|7[01]))....))",NC:"(?:((?:5[0-4]|[79].|8[0-79])....)|((?:2[03-9]|3[0-5]|4[1-7]|88)....))",NE:"(?:((?:8[04589]|9.)......)|(2(?:0(?:20|3[1-7]|4[134]|5[14]|6[14578]|7[1-578])|1(?:4[145]|5[14]|6[14-68]|7[169]|88))....|08......))",NF:"(?:(3[58]....)|((?:1(?:06|17|28|39)|3[012].)...))",NG:"(?:((?:1(?:7[34].|8(?:04|[124579].|8[0-3])|95.)|287[0-7]|3(?:18[1-8]|88[0-7]|9(?:8[5-9]|6[1-5]))|4(?:28[0-2]|6(?:7[1-9]|8[02-47])|88[0-2])|5(?:2(?:7[7-9]|8.)|38[1-79]|48[0-7]|68[4-7])|6(?:2(?:7[7-9]|8.)|4(?:3[7-9]|[68][129]|7[04-69]|9[1-8])|58[0-2]|98[7-9])|7(?:38[0-7]|69[1-8]|78[2-4])|8(?:28[3-9]|38[0-2]|4(?:2[12]|3[147-9]|5[346]|7[4-9]|8[014-689]|90)|58[1-8]|78[2-9]|88[5-7])|98[07].)....|(?:70(?:[1-689].|7[0-3])|8(?:0(?:1[01]|[2-9].)|1(?:[0-8].|9[01]))|90[235-9].)......)|([12].......?|9(?:0[3-9]|[1-9].).....|(?:3.|4[023568]|5[02368]|6[02-469]|7[4-69]|8[2-9])......|(?:4[47]|5[14579]|6[1578]|7[0-357])......?|(?:78|41).....|800........?.?.?.?|700........?.?.?.?))",NI:"(?:(5(?:5[0-7].....|[78]......)|6(?:20|3[035]|4[045]|5[05]|77|8[1-9]|9[059]).....|7[5-8]......|8.......|[57].......|68......)|(2.......|1800....))",NL:"(?:(6[1-578].......|970........)|((?:1[0135-8]|2[02-69]|3[0-68]|4[0135-9]|[57].|8[478]).......|800.....?.?.?|(?:6760|85..).....))",NO:"(?:((?:4[015-8]|5[89]|87|9.)......)|((?:2[1-4]|3[1-3578]|5[1-35-7]|6[1-4679]|7[0-8])......|80[01].....))",NP:"(?:(9(?:6[0-3]|7[245]|8[0-24-68]).......)|((?:1[0-6].|2[13-79][2-6]|3[135-8][2-6]|4[146-9][2-6]|5[135-7][2-6]|6[13-9][2-6]|7[15-9][2-6]|8[1-46-9][2-6]|9[1-79][2-6]).....))",NR:"(?:(5(?:[56].)....)|((?:444|888)....))",NU:"(?:([1256]...)|([34]...))",NZ:"(?:(2(?:[028]........?|1(?:[03]......?.?|[12457]......?|[689].....)|[79].......))|((?:3[2-79]|[49][2-9]|6[235-9]|7[2-57-9])......|24099...|508.......?|80.......?.?))",OM:"(?:(7[129]......|9(?:0[1-9]|[1-9].).....)|(2[2-6]......|8007.....?|500....))",PA:"(?:((?:1[16]1|21[89]|8(?:1[01]|7[23]))....|6(?:[02-9].|1[0-5]).....)|((?:1(?:0[0-8]|1[49]|2[37]|3[0137]|4[147]|5[05]|6[58]|7[0167]|8[58]|9[139])|2(?:[0235679].|1[0-7]|4[04-9]|8[028])|3(?:[09].|1[014-7]|2[0-3]|3[03]|4[03-57]|55|6[068]|7[06-8]|8[06-9])|4(?:3[013-69]|4.|7[0-589])|5(?:[01].|2[0-7]|[56]0|79)|7(?:0[09]|2[0-267]|3[06]|[469]0|5[06-9]|7[0-24-79]|8[7-9])|8(?:09|[34].|5[0134]|8[02])|9(?:0[6-9]|1[016-8]|2[036-8]|3[3679]|40|5[0489]|6[06-9]|7[046-9]|8[36-8]|9[1-9]))....|80[09]....))",PE:"(?:(9........)|((?:1.|4[1-4]|5[1-46]|6[1-7]|7[2-46]|8[2-4])......|800.....))",PF:"(?:(8[79]......|38....)|(4(?:[09][45689].|4)....))",PG:"(?:(7(?:[0-689].|7[578]).....)|((?:3[0-2].|4[257].|5[34].|64[1-9]|77(?:[0-24].|30)|85[02-46-9]|9[78].)....|180....))",PH:"(?:((?:81[37]|9(?:0[5-9]|1[024-9]|2[0-35-9]|3[02-9]|4[235-9]|5[056]|6[5-7]|7[34-79]|89|9[4-9])).......)|(2.....(?:..)?|(?:3[2-68]|4[2-9]|5[2-6]|6[2-58]|7[24578]|8[2-8]).......|88(?:22......|42....)|1800........?.?))",PK:"(?:(3(?:[014].|2[0-5]|3[0-7]|55|64).......)|((?:21|42)[2-9].......|(?:2[25]|4[0146-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]......|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8]))[2-9]......?|58[126].......|800.....))",PL:"(?:(45[09]......|(?:5[0137]|6[069]|7[2389]|88).......)|((?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145]).......|[12]2.....|800......))",PM:"(?:(55....|40....)|(41....))",PR:"(?:((?:787|939)[2-9]......)|((?:787|939)[2-9]......|8(?:00|33|44|55|66|77|88)[2-9]......))",PS:"(?:(5[69].......)|((?:22[234789]|42[45]|82[01458]|92[369]).....|1800......))",PT:"(?:(9(?:[1236]..|480).....)|(2(?:[12].|[35][1-689]|4[1-59]|6[1-35689]|7[1-9]|8[1-69]|9[1256])......|80[02]......))",PW:"(?:((?:6[234689]0|77.)....)|(2552255|(?:277|345|488|5(?:35|44|87)|6(?:22|54|79)|7(?:33|47)|8(?:24|55|76))....))",PY:"(?:(9(?:51|6[129]|[78][1-6]|9[1-5])......|9[789][0-6]......)|((?:[26]1|3[289]|4[124678]|7[123]|8[1236])......?.?|(?:2(?:2[4568]|7[15]|9[1-5])|3(?:18|3[167]|4[2357]|51)|4(?:18|2[45]|3[12]|5[13]|64|71|9[1-47])|5(?:[1-4].|5[0234])|6(?:3[1-3]|44|7[1-4678])|7(?:17|4[0-4]|6[1-578]|75|8[0-8])|858)......?))",QA:"(?:([3567].......)|(4[04]......|800....))",RE:"(?:(6(?:9[23]|47)......)|(262......|80.......))",RO:"(?:(7(?:[0-8]..|99.).....|79.......)|(2(?:1(?:.......|9...)|[3-6](?:.......|.9..))|3(?:1....(?:...)?|[3-6].......)|800......|37.......))",RS:"(?:(6(?:[0-689]|7.).......?)|((?:1(?:[02-9][2-9]|1[1-9]).|2(?:[0-24-7][2-9].|[389](?:0[2-9]|[2-9].))|3(?:[0-8][2-9].|9(?:[2-9].|0[2-9])))....?.?.?.?.?|800....?.?.?.?.?.?))",RU:"(?:(9.........|(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15]|6[1-35-79]|7[1-37-9])).......|58.......)|((?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15]|6[1-35-79]|7[1-37-9])).......|80[04].......))",RW:"(?:(7[238].......)|(2[258].......|06......|800......))",SA:"(?:((?:5(?:[013-689].|7[0-36-8])|811.)......|57.......|6........)|(11.......|1?(?:2[24-8]|3[35-8]|4[3-68]|6[2-5]|7[235-7])......|800.......))",SB:"(?:(48...|7(?:[1-9]).....|8[4-9].....|9(?:1[2-9]|2[013-9]|3[0-2]|[46].|5[0-46-9]|7[0-689]|8[0-79]|9[0-8])....|7[12].....)|((?:1[4-79]|[23].|4[0-2]|5[03]|6[0-37])...|1[38]...))",SC:"(?:(2[5-8].....)|(4[2-46].....|8000...))",SD:"(?:(9[0-3569].......|1........)|(1(?:[0-25].|8[3567])......))",SE:"(?:((?:7[02369].......|7813000..))|(1(?:0[1-8]......|[136]......?.?|(?:2[0-35]|4[0-4]|5[0-25-9]|7[13-6]|[89].)......?)|2(?:[136]......?.?|(?:2[0-7]|4[0136-8]|5[0138]|7[018]|8[01]|9[0-57])......?)|3(?:[356]......?.?|(?:0[0-4]|1.|2[0-25]|4[056]|7[0-2]|8[0-3]|9[023])......?)|4(?:[0246]......?.?|(?:1[013-8]|3[0135]|5[14-79]|7[0-246-9]|8[0156]|9[0-689])......?)|5(?:0[0-6]|[15][0-5]|2[0-68]|3[0-4]|4.|6[03-5]|7[013]|8[0-79]|9[01])......?|6(?:[03]......?.?|(?:1[1-3]|2[0-4]|4[02-57]|5[0-37]|6[0-3]|7[0-2]|8[0247]|9[0-356])......?)|8.......?.?|9(?:0[1-9].....?.?|(?:1[0-68]|2.|3[02-5]|4[0-3]|5[0-4]|[68][01]|7[0135-8])......?)|20.....?.?.?))",SG:"(?:((?:8[1-8]|9[0-8])......)|(6[1-9]......|1?800.......|3[12]......))",SH:"(?:([56]....)|(2(?:[0-57-9].|6[4-9])..))",SI:"(?:((?:[37][01]|4[0139]|51|6[4589])......|6555....)|((?:1.|[25][2-8]|3[24-8]|4[24-8]|7[3-8])......|80.....?.?))",SJ:"79......|80[01].....",SK:"(?:(9(?:0(?:[1-8].|9[1-9])|(?:1[0-24-9]|[45].).).....|909......)|(2(?:1(?:6....?|7...)|[2-9].......)|[3-5][1-8](?:1(?:6...?|7...)|.......)|800......))",SL:"(?:((?:2[15]|3[03-5]|4[04]|5[05]|66|7[5-9]|8[08]|99)......|80......)|([235]2[2-4][2-9]....))",SM:"(?:(6[16]......)|(0549(?:8[0157-9]|9.)....))",SN:"(?:(7(?:[06-8].|21|90)......)|(3(?:0(?:1[0-2]|80)|282|3(?:8[1-9]|9[3-9])|611).....|800......))",SO:"(?:((?:15.|2(?:4.|8)|3[59]..|4[89]..|6[1-9]?..|7(?:[1-8].|9..?)|8[08]..|9(?:0.|[2-9]).).....|90.......)|((?:1..?|2[0-79].|3[0-46-8]?.|4[0-7]?.|59.|8[125])....))",SR:"(?:((?:7[124-7]|8[1-9]).....)|((?:2[1-3]|3[0-7]|4.|5[2-58]|68.)....))",SS:"(?:((?:12|9[1257]).......)|(18.......))",ST:"(?:(9(?:0(?:0[5-9]|[1-9].)|[89]..)...|900....)|(22.....))",SV:"(?:([67].......)|(2[1-6]......|800....(?:....)?))",SX:"(?:(7215(?:1[02]|2.|5[034679]|8[014-8])....)|(7215(?:4[2-8]|8[239]|9[056])....|8(?:00|33|44|55|66|77|88)[2-9]......))",SY:"(?:(9........)|((?:1(?:1.?|4.|[2356])|2(?:1.?|[235])|3(?:[13].|4)|4[13]|5[1-3])......))",SZ:"(?:((?:3[2-5]|7[6-9])......)|(2[2-5]......|0800....))",TC:"(?:(649(?:2(?:3[129]|4[1-7])|3(?:3[1-389]|4[1-8])|4[34][1-3])....)|(649(?:712|9(?:4.|50))....|8(?:00|33|44|55|66|77|88)[2-9]......))",TD:"(?:((?:[69]..|77.).....|9[01258]......)|(22(?:[3789]0|5[0-5]|6[89])....))",TG:"(?:((?:9[0-36-9]|79)......|70......)|(2(?:2[2-7]|3[23]|44|55|66|77).....))",TH:"(?:((?:14|6[1-6]|[89].).......)|((?:2.|3[2-9]|4[2-5]|5[2-6]|7[3-7])......|1800......))",TJ:"(?:((?:41[18]|(?:5[05]|77|88|9.).)......|50.......)|((?:3(?:1[3-5]|2[245]|3[12]|4[24-7]|5[25]|72)|4(?:46|74|87))......))",TK:"(?:(7[2-4]...?.?.?)|((?:2[2-4]|[34].)...?.?.?))",TL:"(?:(7[3-8]......)|((?:2[1-5]|3[1-9]|4[1-4]).....|80.....))",TM:"(?:(6[1-9]......)|((?:1(?:2.|3[1-9])|2(?:22|4[0-35-8])|3(?:22|4[03-9])|4(?:22|3[128]|4.|6[15])|5(?:22|5[7-9]|6[014-689])).....))",TN:"(?:((?:[259].|4[0-6])......|8[028]......)|(3(?:[012].|6[0-4]|91).....|7.......|81200...|8010....))",TO:"(?:((?:7[5678]|8[46-9]).....)|((?:2.|3[1-8]|4[1-4]|[56]0|7[0149]|8[05])...|0800...))",TR:"(?:(5(?:(?:0[1-7]|22|[34].|5[1-59]|9[246])..|6161|1616).....)|((?:2(?:[13][26]|[28][2468]|[45][268]|[67][246])|3(?:[13][28]|[24-6][2468]|[78][02468]|92)|4(?:[16][246]|[23578][2468]|4[26])).......|800.......|444....|850.......|8[89]8.......))",TT:"(?:(868[2-9]......)|(868(?:2(?:01|[23].)|6(?:0[79]|1[02-8]|2[1-9]|[3-69].|7[0-79])|82[124])....|8(?:00|33|44|55|66|77|88)[2-9]......))",TV:"(?:((?:70.|90)....)|(2[02-9]...))",TW:"(?:(9........)|(2(?:[235-8].......|4.......?)|[3-8]........?|800......))",TZ:"(?:((?:6[125-9]|[79][1-9]).......)|(2[2-8].......|80[08]......))",UA:"(?:((?:39|50|6[36-8]|7[13]|9[1-9]).......|72.......)|((?:3[1-8]|4[13-8]|5[1-7]|6[12459]).......|800......))",UG:"(?:(7(?:(?:[015789].|30|4[0-4]).|2(?:[03].|60)).....)|(20(?:[0147]..|2(?:40|[5-9].)|3(?:0[0-4]|[23].)|5[0-4].|6[035-9].|8[0-2].)....|[34]........|800[123].....))",US:"(?:((?:2(?:0[1-35-9]|1[02-9]|2[03-589]|3[149]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-57-9]|1[02-9]|2[0135]|3[0-24679]|4[67]|5[12]|6[014]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[0235]|58|6[39]|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[19]|6[1-47]|7[013-5]|8[056])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[16]|5[017]|6[0-279]|78|8[012])|7(?:0[1-46-8]|1[02-9]|2[04-7]|3[1247]|4[037]|5[47]|6[02359]|7[02-59]|8[156])|8(?:0[1-68]|1[02-8]|2[08]|3[0-258]|4[3578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[014678]|4[0179]|5[12469]|7[0-3589]|8[04-69]))[2-9]......)|((?:2(?:0[1-35-9]|1[02-9]|2[03-589]|3[149]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-57-9]|1[02-9]|2[0135]|3[0-24679]|4[67]|5[12]|6[014]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[0235]|58|6[39]|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[19]|6[1-47]|7[013-5]|8[056])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[16]|5[017]|6[0-279]|78|8[012])|7(?:0[1-46-8]|1[02-9]|2[04-7]|3[1247]|4[037]|5[47]|6[02359]|7[02-59]|8[156])|8(?:0[1-68]|1[02-8]|2[08]|3[0-258]|4[3578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[014678]|4[0179]|5[12469]|7[0-3589]|8[04-69]))[2-9]......|8(?:00|33|44|55|66|77|88)[2-9]......))",UY:"(?:(9[1-9]......)|(2.......|4[2-7]......|80[05]....))",UZ:"(?:(6(?:1(?:2(?:98|2[01])|35[0-4]|50.|61[23]|7(?:[01][017]|4.|55|9[5-9]))|2(?:11.|2(?:[12]1|9[01379])|5(?:[126].|3[0-4])|7..)|5(?:19[01]|2(?:27|9[26])|30.|59.|7..)|6(?:2(?:1[5-9]|2[0367]|38|41|52|60)|3[79].|4(?:56|83)|7(?:[07].|1[017]|3[07]|4[047]|5[057]|67|8[0178]|9[79])|9[0-3].)|7(?:2(?:24|3[237]|4[5-9]|7[15-8])|5(?:7[12]|8[0589])|7(?:0.|[39][07])|9(?:0.|7[079]))|9(?:2(?:1[1267]|5.|3[01]|7[0-4])|5[67].|6(?:2[0-26]|8.)|7..))....|7(?:0...|1(?:13[01]|6(?:0[47]|1[67]|66)|71[3-69]|98.)|2(?:2(?:2[79]|95)|3(?:2[5-9]|6[0-6])|57.|7(?:0.|1[17]|2[27]|3[37]|44|5[057]|66|88))|3(?:2(?:1[0-6]|21|3[469]|7[159])|33.|5(?:0[0-4]|5[579]|9.)|7(?:[0-3579].|4[0467]|6[67]|8[078])|9[4-6].)|4(?:2(?:29|5[0257]|6[0-7]|7[1-57])|5(?:1[0-4]|8.|9[5-9])|7(?:0.|1[024589]|2[0127]|3[0137]|[46][07]|5[01]|7[5-9]|9[079])|9(?:7[015-9]|[89].))|5(?:112|2(?:0.|2[29]|[49]4)|3[1568].|52[6-9]|7(?:0[01578]|1[017]|[23]7|4[047]|[5-7].|8[78]|9[079]))|6(?:2(?:2[1245]|4[2-4])|39.|41[179]|5(?:[349].|5[0-2])|7(?:0[017]|[13].|22|44|55|67|88))|9(?:22[128]|3(?:2[0-4]|7.)|57[05629]|7(?:2[05-9]|3[37]|4.|60|7[2579]|87|9[07])))....|9[0-57-9].......)|((?:6(?:1(?:22|3[124]|4[1-4]|5[123578]|64)|2(?:22|3[0-57-9]|41)|5(?:22|3[3-7]|5[024-8])|6..|7(?:[23].|7[69])|9(?:22|4[1-8]|6[135]))|7(?:0(?:5[4-9]|6[0146]|7[12456]|9[135-8])|1[12].|2(?:22|3[1345789]|4[123579]|5[14])|3(?:2.|3[1578]|4[1-35-7]|5[1-57]|61)|4(?:2.|3[1-579]|7[1-79])|5(?:22|5[1-9]|6[1457])|6(?:22|3[12457]|4[13-8])|9(?:22|5[1-9]))).....))",VA:"(?:(3(?:[12457-9]........|6........?|3........?.?))|(06698.....|80(?:0......|3...)))",VC:"(?:(784[2-9]......)|(784(?:266|3(?:6[6-9]|7.|8[0-24-6])|4(?:38|5[0-36-8]|8[0-8])|5(?:55|7[0-2]|93)|638|784)....|8(?:00|33|44|55|66|77|88)[2-9]......))",VE:"(?:(4(?:1[24-8]|2[46]).......)|((?:2(?:12|3[457-9]|[58][1-9]|[467].|9[1-6])|50[01]).......|800.......))",VG:"(?:(284[2-9]......)|(284(?:(?:229|4(?:22|9[45])|774|8(?:52|6[459]))....|496[1-5]...)|8(?:00|33|44|55|66|77|88)[2-9]......))",VI:"(?:(340[2-9]......)|(340(?:2(?:01|2[0678]|44|77)|3(?:32|44)|4(?:22|7[34])|5(?:1[34]|55)|6(?:26|4[23]|77|9[023])|7(?:1[2-589]|27|7.)|884|998)....|8(?:00|33|44|55|66|77|88)[2-9]......))",VN:"(?:((?:[39].|1(?:2.|6[1-9]|8[68]|99)).......|5(?:2[238]|[689].)......|7[06-9][2-9]......|8(?:6[689]|[1-58].|9[689])......|8[89].......)|(2(?:0[3-9]|1[0-689]|2[0-25-9]|3[2-9]|4[2-8]|5[124-9]|6[0-39]|7[0-7]|8[2-7]|9[0-4679]).......|1800.....?.?))",VU:"(?:((?:5(?:7[0-5]|[0-689].)|7[013-7].)....)|((?:2[02-9].|3(?:[5-7].|8[0-8])|48[4-9]|88.)..))",WF:"(?:((?:50|68|72|8[23])....)|((?:50|68|72)....))",WS:"(?:((?:60|7[25-7].)....)|((?:[2-5].|6[1-9]|84..)...|800...))",XK:"(?:(4[3-79]......)|((?:2[89]0?|3(?:8|90?))......|800.....))",YE:"(?:(7[0137].......)|((?:1(?:7.|[2-68])|2[2-68]|3[2358]|4[2-58]|5[2-6]|6[3-58]|7[24-68]).....))",YT:"(?:(639......)|(269(?:6[0-4]|50)....|80.......))",ZA:"(?:((?:6.|7[0-46-9]).......|8(?:[1-4]..?.?.?.?|5.....)..)|((?:1[0-8]|2[1-378]|3[1-69]|4.|5[1346-8]).......|80.......|87.......))",ZM:"(?:(9[567].......)|(21[1-8]......|800......))",ZW:"(?:(7[1378].......|8644......)|((?:2(?:0(?:4.|5..)|2[278].|48.|7(?:[1-7].|[089]..)|8(?:[2-57-9]|[146]..)|98)|3(?:08|17|3[78]|7(?:[19]|[56].)|8[37]|98)|5[15][78]|6(?:28..|[36]7|75.|[69]8|8(?:7.|8)))...|(?:2(?:1[39]|2[0157]|6[14]|7[35]|84)|329).......|(?:1(?:3..|9.|[4-8])|2(?:0..|[569].)|3(?:[26]|[013459].)|5(?:0|5..|[689].)|6(?:[39]|[01246].|[78]..))...|(?:29.|39|54)......|(?:(?:25|54)83|2582.)...|(?:4.......?|9[2-9].....?)|800.......))"}},cbecjajacd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setFrequent=function(e){var t={};Object.keys(e).forEach(function(n){t[n]=e[n].map(function(e){return e.toString()})}),o.default.supportsFeature(o.default.F.MODEL_STORAGE)&&(0,i.setFrequentContacts)(t);return Promise.resolve()};var r,a=n("bjbdcigbdi"),o=(r=a)&&r.__esModule?r:{default:r},i=n("bgaeedafjf")},cbedjffdai:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"init",value:function(){}},{key:"get",value:function(){return{textsize:0}}},{key:"set",value:function(e){}}]),e}();t.default=new a},cbeecgcage:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n("dgdjiicfdg")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=c(n("cfadcbbiie")),u=c(n("bbchdeehff")),s=c(n("eceadcicaf")),l=c(n("ihfccfgdf"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){var e,n,r;f(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={updater:!1},r.listening=!1,r.rerender=function(){r.setState({updater:!r.state.updater})},d(r,n)}return p(t,o.PureComponent),r(t,[{key:"UNSAFE_componentWillMount",value:function(){this.maybeRegMidnight()}},{key:"UNSAFE_componentWillReceiveProps",value:function(){this.maybeRegMidnight()}},{key:"maybeRegMidnight",value:function(){var e=this.props,t=e.listeners,n=e.msg,r=(0,a.default)().startOf("day").subtract(7,"day");n.t>=r.unix()?this.listening||(this.listening=!0,t.add(u.default,"midnight",this.rerender)):this.listening&&(this.listening=!1,t.remove(u.default,"midnight",this.rerender))}},{key:"render",value:function(){return o.createElement(o.Fragment,null,i.default.relativeStr(this.props.msg.t))}}]),t}();h.CONCERNS={msg:["t"]},h.displayName="TimestampWithMsg";var m=(0,s.default)((0,l.default)(h,h.CONCERNS)),b=function(e){function t(){return f(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,o.PureComponent),r(t,[{key:"render",value:function(){var e=this.props.chat;return e.previewMessage?o.createElement(m,{msg:e.previewMessage}):null}}]),t}();b.CONCERNS={chat:["previewMessage"]},b.displayName="TimestampWithChat";var g=(0,l.default)(b,b.CONCERNS);t.default=function(e){var t=e.chat,n=e.msg;return t?o.createElement(g,{chat:t}):n?o.createElement(m,{msg:n}):null}},cbfccciabh:function(e,t){e.exports={flatListContainer:"sjDGB",flatListContainerWrapper:"_2Z6dX",flatList:"_3qG-H",thumbWrapper:"_1jHmq",thumbPaddingWithFlatList:"_2jflC",mediaThumb:"_11JEP"}},cbfidcgebe:function(e,t){e.exports={container:"_1V-to",media:"eP1x7"}},cbgedejjgb:function(e,t){e.exports={app:"_1Jzz1","app-enter":"_2yIDO",appEnter:"_2yIDO",noAnimation:"_3K0yf",drawerManager:"_2aMzp",paneTwo:"_1jxtm",pane:"_10V4p",paneThree:"_1mseJ",paneOne:"_3A_Ft"}},cbgeijgefb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=n("eccjjjfhdj"),u=(r=i)&&r.__esModule?r:{default:r};var s=function(e){var t=e.header,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["header"]);return o.createElement("div",a({className:u.default.container},n),t)};s.displayName="SectionHeader",t.default=s},cbghhhdedg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(t.isComposing)return!1;var n=window.getSelection();return function(e,t,n){if(!t.modify)return!1;if(1!==t.rangeCount)return!1;var c=s.backwardsEmojiTextsTrie,d=e.data||"";if(!(c=c.get(d)))return!1;if(!t.getRangeAt(0).collapsed)return!1;var p=d,h=null,m=null;if((0,i.default)(n,t,function(e,t,n){return(0,r.default)(c,"Trie ptr somehow not set"),!(c=c.get(e))||(c.hasChildren()?void(0===t&&(p=n+p)):(p=n.slice(t)+p,(m=(0,l.default)(p))&&(h=p),!0))}),!h)return!1;var b=n.serializeTextBeforeCursor();if((0,a.isInsideCodeBlock)(b))return!1;(0,u.default)(t,h.length-1),n.replaceSelection(m);var g=n.refInput,v=(0,o.default)(g,f.BACKWARD);if(!v)return!0;return v.dataset.replacedEmojiText=h,!0}(e,n,t)};var r=c(n("cgeeeeddea")),a=n("dacicgjcai"),o=c(n("dbegdchadg")),i=c(n("bidcddiaag")),u=c(n("decdhbjfjc")),s=n("bhibhdeccd"),l=c(s);function c(e){return e&&e.__esModule?e:{default:e}}var f=o.default.Direction},cbgifejihh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDeviceSentMessage=function(e,t){return new p({deviceSentMessage:new p.DeviceSentMessage({destinationJid:t.toString({legacy:!0}),message:e})})},t.createMsgProtobuf=function(e,t){var n=function(e){var t=e.id,n=e.toJSON();delete n.status,delete n.mimetype,delete n.height,delete n.width,delete n.recipients,delete n.chat,delete n.broadcast,delete n.ack,delete n.invis,delete n.filehash,delete n.recvFresh,delete n.mediaData,s.default.isHttp(e.clientUrl)||delete n.clientUrl;for(var o in n)null==n[o]&&delete n[o];"chat"!==n.type||"url"!==n.subtype||a.default.supportsFeature(a.default.F.URL)||delete n.subtype;n.quotedMsg&&!a.default.supportsFeature(a.default.F.REPLIES_OUT)&&(delete n.quotedMsg,delete n.quotedStanzaID,delete n.quotedRemoteJid,delete n.quotedParticipant);n.mentionedJidList&&!a.default.supportsFeature(a.default.F.MENTIONS_OUT)&&delete n.mentionedJidList;var i=r.default.get(t.remote);i&&(n.conversionTuple=i.serialize());return n}(e),o=void 0;if(n.quotedMsg){var i=n.quotedMsg.mentionedJidList,l=Array.isArray(i)&&i.length>0?{mentionedJid:i.map(g)}:void 0;l&&(l=new h(l)),o={stanzaId:n.quotedStanzaID,remoteJid:g(n.quotedRemoteJid),participant:g(n.quotedParticipant),quotedMessage:b(n.quotedMsg,{duration:n.quotedMsg.duration,directPath:n.quotedMsg.directPath,encFilehash:n.quotedMsg.uploadhash,filehash:n.quotedMsg.filehash,height:n.quotedMsg.height,mediaKey:n.quotedMsg.mediaKey,mediaKeyTimestamp:(0,u.isNumber)(n.quotedMsg.mediaKeyTimestamp)?n.quotedMsg.mediaKeyTimestamp:void 0,mimetype:n.quotedMsg.mimetype,url:n.quotedMsg.clientUrl,width:n.quotedMsg.width},l)}}else n.quotedRemoteJid&&(o={remoteJid:g(n.quotedRemoteJid)});if(n.mentionedJidList&&n.mentionedJidList.length>0){var c=n.mentionedJidList;(o=o||{}).mentionedJid=c.map(g)}n.conversionTuple&&(o=o||{},Object.assign(o,n.conversionTuple));n.isForwarded&&((o=o||{}).isForwarded=n.isForwarded);n.forwardingScore&&((o=o||{}).forwardingScore=n.forwardingScore);n.ephemeralDuration&&((o=o||{}).expiration=n.ephemeralDuration);o&&(o=new h(o));return b(n,t,o)},t.createMessageKey=function(e){return new m({remoteJid:g(e.to),fromMe:!0,id:e.id.id})};var r=c(n("ccbihadedf")),a=c(n("bjbdcigbdi")),o=n("beadfddidc"),i=c(n("bdiiahhjbe")),u=n("hjbbdjjdf"),s=c(n("edbaidcaf")),l=c(n("jccfhaecf"));function c(e){return e&&e.__esModule?e:{default:e}}var f=n("hgjcbccfg"),d=n("bgiachiigg"),p=d.Message,h=d.ContextInfo,m=n("bfifcddbbg").MessageKey;function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments[3],a=r||new p,s=e.mimetype||t.mimetype||void 0,l=t.duration;switch(e.type){case"chat":"url"===e.subtype||e.quotedMsg||e.quotedRemoteJid||Array.isArray(e.mentionedJidList)&&e.mentionedJidList.length>0||e.conversionTuple||e.isForwarded||e.forwardingScore||e._isPaymentNoteMsg||e.ephemeralDuration?a.extendedTextMessage=new p.ExtendedTextMessage({text:e.body,matchedText:e.matchedText,canonicalUrl:e.canonicalUrl,description:e.description,title:e.title,jpegThumbnail:v(e.thumbnail),previewType:e.richPreviewType,contextInfo:n}):a.conversation=e.body;break;case"groups_v4_invite":a.groupInviteMessage=new p.GroupInviteMessage({inviteCode:e.inviteCode,inviteExpiration:parseInt(e.inviteCodeExp,10),groupJid:e.inviteGrp,groupName:e.inviteGrpName,caption:e.comment,jpegThumbnail:v(e.inviteGrpJpegThum)});break;case"sticker":if("image/webp"!==t.mimetype)throw i.default.error(`invalid sticker mimetype: ${t.mimetype}`)(),new Error("invalid sticker mimetype");a.stickerMessage=new p.StickerMessage({url:t.url,mimetype:t.mimetype,directPath:t.directPath||void 0,fileSha256:v(t.filehash),fileEncSha256:v(t.encFilehash),mediaKey:v(t.mediaKey),mediaKeyTimestamp:(0,u.isNumber)(t.mediaKeyTimestamp)?t.mediaKeyTimestamp:void 0,fileLength:(0,u.isNumber)(e.size)?e.size:void 0,height:e.height,width:e.width,firstFrameLength:t.firstFrameLength||void 0,firstFrameSidecar:e.firstFrameSidecar||void 0,isAnimated:t.isAnimated,contextInfo:n});break;case"location":var c=new p.LocationMessage({degreesLatitude:parseFloat(e.lat)||void 0,degreesLongitude:parseFloat(e.lng)||void 0,jpegThumbnail:v(e.body),contextInfo:n});if(e.loc&&(0,u.isString)(e.loc)){var f=e.loc.split("\n");c.name=f[0],c.address=f[1],c.url=e.clientUrl}a.locationMessage=c;break;case"vcard":a.contactMessage=new p.ContactMessage({displayName:e.subtype,vcard:e.body,contextInfo:n});break;case"multi_vcard":a.contactsArrayMessage=new p.ContactsArrayMessage({displayName:e.subtype,contacts:e.vcardList.map(function(e){return new p.ContactMessage(e)}),contextInfo:n});break;case"image":a.imageMessage=new p.ImageMessage({url:t.url,mimetype:s,caption:e.caption,directPath:t.directPath||void 0,fileSha256:v(t.filehash),fileEncSha256:v(t.encFilehash),height:t.height,width:t.width,fileLength:(0,u.isNumber)(e.size)?e.size:void 0,mediaKey:v(t.mediaKey),mediaKeyTimestamp:(0,u.isNumber)(t.mediaKeyTimestamp)?t.mediaKeyTimestamp:void 0,jpegThumbnail:v(e.body),contextInfo:n});break;case"product":a.productMessage=new p.ProductMessage({product:new p.ProductMessage.ProductSnapshot({productImage:new p.ImageMessage({url:t.url,mimetype:s,caption:e.caption,directPath:t.directPath||void 0,fileSha256:v(t.filehash),fileEncSha256:v(t.encFilehash),height:t.height,width:t.width,fileLength:(0,u.isNumber)(e.size)?e.size:void 0,mediaKey:v(t.mediaKey),mediaKeyTimestamp:(0,u.isNumber)(t.mediaKeyTimestamp)?t.mediaKeyTimestamp:void 0,jpegThumbnail:v(e.body)}),productId:e.productId,title:e.title,description:e.description,currencyCode:e.currencyCode,priceAmount1000:e.priceAmount1000||void 0,retailerId:e.retailerId,url:e.url,productImageCount:e.productImageCount}),businessOwnerJid:e.businessOwnerJid,contextInfo:n});break;case"document":var d=new p.DocumentMessage({url:t.url,mimetype:s,title:e.caption,directPath:t.directPath||void 0,fileSha256:v(t.filehash),fileEncSha256:v(t.encFilehash),fileName:t.filename,fileLength:(0,u.isNumber)(e.size)?e.size:void 0,mediaKey:v(t.mediaKey),mediaKeyTimestamp:(0,u.isNumber)(t.mediaKeyTimestamp)?t.mediaKeyTimestamp:void 0,jpegThumbnail:v(e.body),contextInfo:n});(0,u.isNumber)(e.pageCount)&&!isNaN(e.pageCount)&&(d.pageCount=e.pageCount),a.documentMessage=d;break;case"ptt":case"audio":l=(0,u.isString)(l)?parseInt(l,10):l,a.audioMessage=new p.AudioMessage({url:t.url,mimetype:s,directPath:t.directPath||void 0,fileSha256:v(t.filehash),fileEncSha256:v(t.encFilehash),seconds:l,ptt:"ptt"===e.type,fileLength:(0,u.isNumber)(e.size)?e.size:void 0,mediaKey:v(t.mediaKey),mediaKeyTimestamp:(0,u.isNumber)(t.mediaKeyTimestamp)?t.mediaKeyTimestamp:void 0,contextInfo:n,streamingSidecar:e.streamingSidecar});break;case"video":l=(0,u.isString)(l)?parseInt(l,10):l,a.videoMessage=new p.VideoMessage({url:t.url,mimetype:s,directPath:t.directPath||void 0,fileSha256:v(t.filehash),fileEncSha256:v(t.encFilehash),height:t.height,width:t.width,seconds:l,caption:e.caption,fileLength:(0,u.isNumber)(e.size)?e.size:void 0,mediaKey:v(t.mediaKey),mediaKeyTimestamp:(0,u.isNumber)(t.mediaKeyTimestamp)?t.mediaKeyTimestamp:void 0,jpegThumbnail:v(e.body),gifPlayback:e.isGif,gifAttribution:e.gifAttribution,contextInfo:n,streamingSidecar:e.streamingSidecar});break;case"protocol":var h=e.protocolMessageKey,y=new m({remoteJid:g(h.remote),fromMe:h.fromMe,id:h.id,participant:g(h.participant)}),_=void 0;switch(e.subtype){case"revoke":_={key:y,type:p.ProtocolMessage.TYPE.REVOKE};break;case"ephemeral_setting":_={key:y,type:p.ProtocolMessage.TYPE.EPHEMERAL_SETTING,ephemeralExpiration:e.ephemeralDuration}}_&&(a.protocolMessage=new p.ProtocolMessage(_));break;case"payment":var E={};E.stanzaId=e.quotedStanzaID,E.mentionedJid=e.mentionedJidList&&e.mentionedJidList.map(g),E.isForwarded=e.isForwarded,E.forwardingScore=e.forwardingScore,E.participant=g(e.quotedParticipant),e.quotedMsg&&(E.quotedMessage=b(e.quotedMsg));var j=e.paymentNoteMsg?b(Object.assign(e.paymentNoteMsg,{_isPaymentNoteMsg:!0}),E):void 0;switch(e.subtype){case"send":var O=e.paymentRequestMessageKey?new m({fromMe:e.paymentRequestMessageKey.fromMe,remoteJid:g(e.paymentRequestMessageKey.remote),id:e.paymentRequestMessageKey.id,participant:g(e.paymentRequestMessageKey.participant)}):void 0;a.sendPaymentMessage=new p.SendPaymentMessage({requestMessageKey:O,noteMessage:j});break;case"request":a.requestPaymentMessage=new p.RequestPaymentMessage({amount1000:e.amount1000,expiryTimestamp:e._paymentExpiryTimestamp,requestFrom:e._paymentRequestFrom,currencyCodeIso4217:e._currencyCodeIso4217,noteMessage:j})}break;case"template_button_reply":(0,o.shouldEnableHsm)()&&(a.templateButtonReplyMessage=new p.TemplateButtonReplyMessage({selectedId:e.selectedId,selectedIndex:e.selectedIndex,selectedDisplayText:e.body,contextInfo:n}));break;case"template":if((0,o.shouldEnableHsm)())return"text"===e.subtype?(e.type="chat",e.title&&(e.body="*"+e.title+"*\n"+e.body)):e.type=e.subtype,b(e,t,n,a)}return a}function g(e){return e instanceof l.default?e.toString({legacy:!0}):(0,u.isString)(e)?e.replace(/@c.us$/,"@s.whatsapp.net"):void 0}function v(e){return e?f.decode(e):void 0}},cbhbjajgac:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n("cgjbjefebj")),a=c(n("bebajedcaf")),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=c(n("cefgfgdhj")),s=c(n("cfegbbcefd")),l=c(n("gjhhbhigc"));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default),o(t,null,[{key:"match",value:function(e,t){var n=t.mentions;if(!n||(0,a.default)(n))return[];for(var o,i,s=(o=n,i=Object.keys(o).map(r.default).join("|"),new RegExp(`(${i})`,"g")),l=(0,u.default)(e,s),c=0;c<l.length;++c)l[c][4]=n[l[c][4][0]];return l}},{key:"jsx",value:function(e,t,n){var r=n.selectable;return i.createElement(s.default,{contact:t,selectable:r})}}]),t}();f.format=!1,t.default=f},cbhejdgihi:function(e,t){e.exports={mainWrapper:"_11ARv",v3_x:"_1C7S1",v3X:"_1C7S1",v3_x_mac:"_3jOF8",v3XMac:"_3jOF8",modalBackground:"_2dLx9"}},cbhhfeaigc:function(e,t){e.exports={container:"_19l4G",error:"_1OJm4",compact:"_3st4K"}},cbhhieidga:function(e,t,n){"use strict";e.exports={singleByte:["ciphertext","invite"]}},cbiciaafaf:function(e,t){e.exports={tooltip:"_3Fjw5","menu-tooltip":"_2fn4u",menuTooltip:"_2fn4u"}},cbidhfhhbb:function(e,t){e.exports={chatIcon:"DLg-l",buttonContainer:"a2oPi",name:"_5CRCo",price:"_1_rGc",description:"ExrSP",more:"_1NstX",descBlock:"_9GmPg"}},cbifffdech:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=d(n("jdgfdffcj")),i=n("bidfjbaebi"),u=n("facgccaif"),s=d(n("cfiighfhhg")),l=d(n("ihfccfgdf")),c=n("bheafeifce"),f=d(n("dbabefhajh"));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(){(0,i.openExternalLink)((0,u.getCiphertextFaqUrl)())},h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){return a.createElement(f.default,{msg:(0,c.unproxy)(this.props.msg),displayAuthor:this.props.displayAuthor},a.createElement(s.default,{iconName:"ciphertext",msg:this.props.msg},l10n.t(887)," ",a.createElement("span",{className:o.default.action,role:"button",onClick:p},l10n.t(622))))}}]),t}();h.CONCERNS={msg:["isSentByMe","isGroupMsg","senderObj"]},h.displayName="Ciphertext",t.default=(0,l.default)(h,h.CONCERNS)},cbigbjjigh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=m(n("eaaagccfda")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=m(n("bbchdeehff")),u=m(n("baagejbchg")),s=m(n("eceadcicaf")),l=n("cgbdcdhgig"),c=m(n("ihfccfgdf")),f=m(n("bcjcbbafcj")),d=m(n("egjjcjcg")),p=n("eaaehfdjdg"),h=m(p);function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=(0,r.default)(function(e,t){d.default.setVideoVolumeSettings(e,t)},500),v=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,u=Array(a),s=0;s<a;s++)u[s]=arguments[s];return n=r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={hasSentPlayed:!1},r.checkIteration=0,r.checkForSuccessInterval=0,r.hasCalledPlaying=!1,r.mediaBlobWasDownloadedBeforeMount=Boolean(r.props.mediaData.mediaBlob),r.refVideo=o.createRef(),r.onVolumeChange=function(){var e=r.refVideo&&r.refVideo.current;e&&g(e.volume,e.muted)},r.onTimeUpdate=function(){var e=r.refVideo&&r.refVideo.current;e&&(e.currentTime/e.duration>.5||e.currentTime>10)&&((0,l.markPlayed)(r.props.msg),r.setState({hasSentPlayed:!0}))},r.startCheckForSuccess=function(){r.checkIteration=0,r.checkForSuccessInterval||(r.checkForSuccessInterval=setInterval(r.checkForSuccess,250))},r.clearCheckForSuccess=function(){r.checkForSuccessInterval&&(clearInterval(r.checkForSuccessInterval),r.checkIteration=0,r.checkForSuccessInterval=0)},r.checkForSuccess=function(){if(h.default.state===p.STATE.CONNECTED){r.checkIteration++;var e=r.refVideo&&r.refVideo.current,t=e&&e.buffered;t&&t.length&&t.end(0)>0?r.onPlaying():r.checkIteration>240&&r.clearCheckForSuccess()}},r.onPlayerError=function(){r.clearCheckForSuccess()},r.onOtherPlaying=function(e){e!==r&&r.pause()},r.pause=function(){var e=r.refVideo&&r.refVideo.current;e&&(e.paused||e.pause())},r.onPlaying=function(){r.clearCheckForSuccess(),i.default.mediaPlaying(r)},r.setStartTime=function(){var e=r.refVideo&&r.refVideo.current;null!=r.props.startTime&&0!==r.props.startTime&&e&&(e.currentTime=r.props.startTime)},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),a(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(i.default,"mediaPlaying",this.onOtherPlaying),this.props.listeners.add(i.default,"pttRecording",this.pause),this.updateVideoUserPrefs(),this.props.refVideo&&this.props.refVideo(this.refVideo)}},{key:"componentWillUnmount",value:function(){g.flush(),this.clearCheckForSuccess()}},{key:"componentDidUpdate",value:function(e){this.updateVideoUserPrefs(),e.startTime!==this.props.startTime&&this.setStartTime(),this.props.refVideo&&this.props.refVideo(this.refVideo)}},{key:"updateVideoUserPrefs",value:function(){var e=this.refVideo&&this.refVideo.current;if(e){var t=d.default.getVideoVolumeSettings();t&&("number"==typeof t.volume&&(e.volume=t.volume),"boolean"==typeof t.muted&&(e.muted=t.muted)),y()&&this.props.autoPlay&&this.startCheckForSuccess()}}},{key:"render",value:function(){var e=this.props,t=e.msg,n=e.mediaData,r=n.mediaBlob,a=void 0,i=n.streamable&&n.isStreamable();if(!this.mediaBlobWasDownloadedBeforeMount&&i||!r){if(!n.streamable||!n.isStreamable())return null;a=`${u.default.VIDEO_STREAM_URL}?key=${this.props.msg.id.toString()}`}else a=r.url();var s=!this.state.hasSentPlayed&&(0,l.canMarkPlayed)(t)?this.onTimeUpdate:void 0,c=null!=e.startTime&&0!==e.startTime?this.setStartTime:void 0,f=y()&&!e.autoPlay?this.startCheckForSuccess:void 0;return o.createElement("video",{ref:this.refVideo,src:a,poster:e.poster,className:e.className,controls:e.controls,autoPlay:e.autoPlay,onClick:e.onClick,onDoubleClick:e.onDoubleClick,onVolumeChange:this.onVolumeChange,onLoadedMetadata:c,onPlay:f,onPlaying:this.onPlaying,onTimeUpdate:s,onError:this.clearCheckForSuccess},e.children)}}]),t}();function y(){return f.default.isGecko||f.default.isSafari}v.CONCERNS={msg:["id","isSentByMe","ack","type","isGif"],mediaData:["mediaBlob","streamable"]},v.displayName="VideoTag",t.default=(0,s.default)((0,c.default)(v,v.CONCERNS))},cbiibcfhjf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=new Uint8Array(32);return window.crypto.getRandomValues(e),r.encode(e)};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("hgjcbccfg"))},cbjacjjfgc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("cdegajchcj"),i=(r=o)&&r.__esModule?r:{default:r};function u(){return a.createElement("div",{className:i.default.shade})}u.displayName="ThumbShade"},cbjedbdgjh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=f(n("bbchdeehff")),i=f(n("biddiiafgd")),u=f(n("bjigbaghc")),s=f(n("eceadcicaf")),l=f(n("bbajjgjhej")),c=f(n("eaaehfdjdg"));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.close=function(){u.default.smbTos||o.default.closeModal()},r.logout=function(){o.default.closeModal(),c.default.logout()},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(u.default,"change:smbTos",this.close)}},{key:"render",value:function(){var e=l10n.t(1354),t=l10n.t(693),n=this.logout;return a.createElement(i.default,{onOK:n,okText:t},e,"",a.createElement(l.default,null))}}]),t}();p.displayName="TermsOfServiceModal",t.default=(0,s.default)(p)},ccafbdigcj:function(e,t,n){"use strict";var r=i(n("dgdjiicfdg")),a=i(n("bjigbaghc")),o=i(n("eaaehfdjdg"));function i(e){return e&&e.__esModule?e:{default:e}}var u={setGroupEphemeralDuration:function(e,t){var n=this;return new Promise(function(i,u){var s=o.default.tag(),l=n.wrap(i);l.tag=s;var c=[["ephemeral",{value:t.toString()},void 0]],f=["group",{id:s,jid:e,type:"prop",author:a.default.me},c],d=n.actionNode("set",[f]);n.binSend("send",d,u,{clientCacheable:!0,onSend:l,onDrop:n.wrap(u)},{debugString:"action,group,ephemeral,"+t,metricName:"GROUP",expires:(0,r.default)().unix()})})}};e.exports=u},ccagfiehde:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return!!e&&e.nodeType===Node.TEXT_NODE&&0===e.textContent.length}},ccajjgdjf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.metaKey||e.shiftKey||e.altKey||e.ctrlKey}},ccbagdhfbb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=b(n("dfaadfeedd")),a=b(n("bhehgiigij")),o=b(n("dbafiicfja"));t.typeIsMMS=function(e,t){if((0,s.shouldEnableHsm)()&&"template"===e)return t!==i.default.TEMPLATE_SUBTYPE.TEXT&&t!==i.default.TEMPLATE_SUBTYPE.LOCATION;return g[e]||!1},t.msgMatchesType=function(e,t){switch(t){case"text":return e.type===i.default.MSG_TYPE.CHAT&&"url"!==e.subtype;case"image":return e.type===i.default.MSG_TYPE.IMAGE;case"video":return e.type===i.default.MSG_TYPE.VIDEO&&!e.isGif;case"gif":return e.type===i.default.MSG_TYPE.VIDEO&&e.isGif;case"audio":return e.type===i.default.MSG_TYPE.AUDIO;case"ptt":return e.type===i.default.MSG_TYPE.PTT;case"document":return e.type===i.default.MSG_TYPE.DOCUMENT;case"location":return e.type===i.default.MSG_TYPE.LOCATION;case"vcard":return e.type===i.default.MSG_TYPE.VCARD||e.type===i.default.MSG_TYPE.MULTI_VCARD;case"url":return e.type===i.default.MSG_TYPE.CHAT&&"url"===e.subtype;case"sticker":return e.type===i.default.MSG_TYPE.STICKER;case"template":return e.hsmEnabled;case void 0:default:return!1}},t.createQuotedMsg=function(e){if(!e)return null;var t=new d.default({from:e.from,to:e.to,id:e.id,participant:e.participant,selfDir:e.self});return e.id=t,new h.default.Msg.constructor.model(e)},t.getOriginalQuotedMsgIfPossible=function(e,t){if(!e)return e;var n=t.get(e.id);return n&&!n.isRevoked?n:e},t.getBroadcastFanoutKeys=v,t.broadcastFanout=function(e){var t=void 0;if(!e.invis){var n=v(e);n&&(t=n.map(function(e){return e.remote}),n.forEach(function(t){if(!h.default.Msg.some((0,a.default)({id:t}))){var n=j(e);n.to=t.remote,n.id=t,n.broadcast=!0;var r=h.default.Msg.add(n,{merge:!0});h.default.Chat.find(t.remote).then(function(e){p.default.ephemeralMessages&&r.forEach(function(t){e.isEphemeralSettingOn()&&(t.ephemeralDuration=e.getEphemeralSetting())}),y(r,e,!0)})}}))}return t},t.addRecordsToChat=y;var i=b(n("baagejbchg")),u=n("ddjgcfjicj"),s=n("beadfddidc"),l=b(n("eecdaegci")),c=n("cefjgcjhgf"),f=b(n("bdiiahhjbe")),d=b(n("cffajefeag")),p=b(n("bfgbdiffgd")),h=b(n("bhggeigghg")),m=b(n("jccfhaecf"));function b(e){return e&&e.__esModule?e:{default:e}}var g={image:!0,video:!0,audio:!0,ptt:!0,sticker:!0,document:!0,product:!0,template:!1};function v(e){var t=void 0,n=void 0,r=void 0;if(e instanceof h.default.Msg.constructor.model)n=e,r=e.id;else{if(!(e instanceof d.default))return void f.default.error("model:msgs:broadcastFanout: unknown msgOrKey: "+String(e))(e);r=e}if(!m.default.isStatusV3(r.remote)){if(n&&n.recipients&&0!==n.recipients.length)t=n.recipients;else{var a=h.default.GroupMetadata.get(r.remote);a?t=(0,o.default)(j(a.participants),"id"):f.default.log("model:msgs:broadcastFanout no group_metadata rec for bclist, cant fanout: "+r.remote.toString())()}return t?t.map(function(e){return new d.default({fromMe:r.fromMe,remote:e,id:r.id})}):void 0}}function y(e,t,r,a,o,i){var u=a||t.msgs;if(0!==e.length){var s=u===t.msgs;if(i)if(s)f.default.info("models:msg:store:resetMostRecentMsgs .msgs === cmc !")(),_(t,u,e);else s=!0,_(t,u,e).then(function(){var e=new(0,n("dbfjecijha").default);if(e.replace(t.msgs),t.msgChunks.push(e),u.msgLoadState.noEarlierMsgs){var r=[`chatMsgsCollection ${t.id.toString()} replaced by a collection with noEarlierMsgs true`,(new Error).stack];f.default.logVerbose(r.join("\n"))()}t.replaceMsgsCollection(u),t.msgs.trigger("change:last",t.msgs.last())});else r?s?_(t,u,e):E(u,e):E(u,e,{at:0,silent:e.every(O)});if(r&&s||!h.default.Msg.lastReceivedReceipt[t.id])for(var l=e.length-1;l>=0;l--){var c=e[l],d=c.id;if(d.fromMe&&!c.isNotification){h.default.Msg.updateLastReceipt(d.remote,c.t);break}}if(r&&s||!h.default.Msg.lastReceivedPaymentTransaction[t.id])for(var p=e.length-1;p>=0;p--){var m=e[p],b=m.id;m.paymentTransactionTimestamp&&h.default.Msg.updateLastTransactionTime(b.remote,m.paymentTransactionTimestamp)}var g=o;g&&!t.unreadMsgAnchor&&(t.disableUnreadAnchor?t.disableUnreadAnchor=!1:t.unreadMsgAnchor=e.find(function(e){return e.id.toString()===g.toString()}))}}function _(e,t,n){var a=(0,r.default)(n,function(e){return!!e});return a?(0,c.setLastReceivedKey)(e.id,a.id).then(function(){e.lastReceivedKey=a.id,E(t,n)}):Promise.resolve()}function E(e,t,n){try{e.add(t,n)}catch(e){if(!(e instanceof u.LogoutDrop))throw e;f.default.error(e.toString())(e)}}function j(e){return null!=e&&"object"==typeof e?JSON.parse(JSON.stringify(e),l.default):e}function O(e){return"i"===e.eventType}},ccbhicejbe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var r=s(n("ceffhbhahb")),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("hdgfdagbc")),i=s(n("cgjfaifddg")),u=s(n("bjjajbbcbi"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){var t="composeBox"===e.theme;return a.createElement("div",{className:(0,r.default)(u.default.quotedMsg,{[u.default.quotedMsgInComposeBox]:t})},a.createElement(o.default,{currency:e.currency,amount1000:e.amount1000,isQuoted:!0,isQuotedInComposeBox:t}),a.createElement("div",{className:u.default.quotedMsgAuthor},e.quotedMsgAuthor,a.createElement(i.default,{subtype:e.subtype,receiverJid:e.receiverJid,isQuoted:!0})))}l.displayName="QuotedPaymentInfo"},ccbihadedf:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("cgcgbfbffj"),o=c(a),i=c(n("cfadcbbiie")),u=n("dbbaabdabi"),s=c(u),l=n("cjbafegbjg");function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"initializeFromCache",value:function(e){if(e){var t=i.default.globalUnixTime()-u.ConversionTupleExpiry,n=e.filter(function(e){return e.timestamp-t>0}).map(function(e){var t=(0,l.parseConversionData)(e.conversionData);return t?e.conversionData=t:delete e.conversionData,e});this.add(n),this.saveToCache()}}}]),t}();f.model=s.default,f.cachePolicy={id:"conversion_tuple",policy:a.CACHE_POLICY.LOAD,delay:1e3},e.exports=new f},ccbjfaficd:function(e,t){e.exports={pane:"NuujD",footer:"_3EeLD",body:"_1_q7u",filler:"_3B8vA",footerMessage:"_26pkE",subheader:"_3SYkD"}},cccaiafbjc:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=u(n("bcbahjefec")),i=u(n("gcbiehega"));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.closeStatusViewer=function(){r.end()},s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"componentDidMount",value:function(){this.push(a.createElement(i.default,{initialStatusV3:this.props.statusV3,quotedMsgKey:this.props.msgKey,closeStatusViewer:this.closeStatusViewer,onMsgNotFound:this.props.onMsgNotFound}),"none")}}]),t}();e.exports=l},cccfbheica:function(e,t,n){"use strict";var r=c(n("ddfeabiaci")),a=n("bbcaggdbc"),o=c(n("eaiefjeabj")),i=c(n("bjbdcigbdi")),u=c(n("cebabjecdf")),s=c(n("cfejjfjhca")),l=c(n("ddcbacabaj"));function c(e){return e&&e.__esModule?e:{default:e}}var f={version:"16",M:u.default,parseMsgStubProto:function(e,t){var n=a.WebMessageInfo.STUBTYPE;switch(e.messageStubType){case n.REVOKE:return t.type="revoked",t;case n.CIPHERTEXT:return t.type="ciphertext",t;case n.OVERSIZED:return t.type="oversized",t;case n.FUTUREPROOF:return t.subtype="phone",t;default:return this.parseMsgStubTemplate(e,t)}},parseMsgGp2:function(e){},parseMsgBroadcast:function(e){},parseMsgNotification:function(e){},parseMsgSecurity:function(e){},parseMsgCallLog:function(e){},parseMsgStubTemplate:function(e,t){var n=this,r=a.WebMessageInfo.STUBTYPE;switch(t.type="notification_template",t.templateParams=Array.isArray(e.messageStubParameters)?e.messageStubParameters.map(function(t){return e.messageStubType===r.GROUP_CREATE||e.messageStubType===r.GROUP_CHANGE_SUBJECT?t:n.decodeJid(t)}):void 0,e.messageStubType){case r.NON_VERIFIED_TRANSITION:t.subtype="non_verified_transition";break;case r.UNVERIFIED_TRANSITION:t.subtype="unverified_transition";break;case r.VERIFIED_TRANSITION:t.subtype="verified_transition";break;case r.VERIFIED_LOW_UNKNOWN:t.subtype="verified_low_unknown";break;case r.VERIFIED_HIGH:t.subtype="verified_high";break;case r.VERIFIED_INITIAL_UNKNOWN:t.subtype="verified_initial_unknown";break;case r.VERIFIED_INITIAL_LOW:t.subtype="verified_initial_low";break;case r.VERIFIED_INITIAL_HIGH:t.subtype="verified_initial_high";break;case r.VERIFIED_TRANSITION_ANY_TO_NONE:t.subtype="verified_transition_any_to_none";break;case r.VERIFIED_TRANSITION_ANY_TO_HIGH:t.subtype="verified_transition_any_to_high";break;case r.VERIFIED_TRANSITION_HIGH_TO_LOW:t.subtype="verified_transition_high_to_low";break;case r.VERIFIED_TRANSITION_HIGH_TO_UNKNOWN:t.subtype="verified_transition_high_to_unknown";break;case r.VERIFIED_TRANSITION_UNKNOWN_TO_LOW:t.subtype="verified_transition_unknown_to_low";break;case r.VERIFIED_TRANSITION_LOW_TO_UNKNOWN:t.subtype="verified_transition_low_to_unknown";break;case r.VERIFIED_TRANSITION_NONE_TO_LOW:t.subtype="verified_transition_none_to_low";break;case r.VERIFIED_TRANSITION_NONE_TO_UNKNOWN:t.subtype="verified_transition_none_to_unknown";break;case r.GROUP_CREATE:t.type="gp2",t.subtype="create",t.body=t.templateParams[0],t.recipients=[],t.templateParams=void 0;break;case r.GROUP_DELETE:t.type="gp2",t.subtype="delete",t.recipients=[],t.templateParams=void 0;break;case r.GROUP_CHANGE_SUBJECT:t.type="gp2",t.subtype="subject",t.body=t.templateParams[0],t.recipients=[],t.templateParams=void 0;break;case r.GROUP_CHANGE_ICON:t.type="gp2",t.subtype="picture",t.recipients=[],t.body=t.templateParams[0],t.templateParams=void 0;break;case r.GROUP_CHANGE_INVITE_LINK:t.type="gp2",t.subtype="revoke_invite",t.recipients=[];break;case r.GROUP_CHANGE_DESCRIPTION:t.type="gp2",t.subtype="description",t.recipients=[];break;case r.GROUP_CHANGE_RESTRICT:t.type="gp2",t.subtype="restrict",t.recipients=[],t.body=t.templateParams[0];break;case r.GROUP_CHANGE_ANNOUNCE:t.type="gp2",t.subtype="announce",t.recipients=[],t.body=t.templateParams[0];break;case r.GROUP_CHANGE_NO_FREQUENTLY_FORWARDED:t.type="gp2",t.subtype="no_frequently_forwarded",t.recipients=[],t.body=t.templateParams[0];break;case r.GROUP_ANNOUNCE_MODE_MESSAGE_BOUNCE:t.type="gp2",t.subtype="announce_msg_bounce",t.recipients=[],t.templateParams=void 0;break;case r.GROUP_PARTICIPANT_ADD:t.type="gp2",t.subtype="add",t.recipients=t.templateParams,t.templateParams=void 0;break;case r.GROUP_PARTICIPANT_REMOVE:t.type="gp2",t.subtype="remove",t.recipients=t.templateParams,t.templateParams=void 0;break;case r.GROUP_PARTICIPANT_PROMOTE:t.type="gp2",t.subtype="promote",t.recipients=t.templateParams,t.templateParams=void 0;break;case r.GROUP_PARTICIPANT_DEMOTE:t.type="gp2",t.subtype="demote",t.recipients=t.templateParams,t.templateParams=void 0;break;case r.GROUP_PARTICIPANT_INVITE:t.type="gp2",t.subtype="invite",t.recipients=t.templateParams,t.templateParams=void 0;break;case r.GROUP_PARTICIPANT_LEAVE:t.type="gp2",t.subtype="leave",t.recipients=t.templateParams,t.templateParams=void 0;break;case r.GROUP_PARTICIPANT_CHANGE_NUMBER:t.type="gp2",t.subtype="modify",t.recipients=t.templateParams,t.templateParams=void 0;break;case r.GROUP_V4_ADD_INVITE_SENT:t.type="gp2",t.subtype="v4_add_invite_sent",t.recipients=t.templateParams,t.templateParams=void 0;break;case r.GROUP_PARTICIPANT_ADD_REQUEST_JOIN:t.type="gp2",t.subtype="v4_add_invite_join",t.recipients=t.templateParams,t.templateParams=void 0;break;case r.BROADCAST_CREATE:t.type="broadcast_notification",t.subtype="create",t.body=t.templateParams[0]||"0",t.templateParams=void 0;break;case r.BROADCAST_ADD:t.type="broadcast_notification",t.subtype="add",t.recipients=t.templateParams,t.templateParams=void 0;break;case r.BROADCAST_REMOVE:t.type="broadcast_notification",t.subtype="remove",t.recipients=t.templateParams,t.templateParams=void 0;break;case r.GENERIC_NOTIFICATION:t.type="notification",t.body=t.templateParams[0],t.templateParams=void 0;break;case r.E2E_IDENTITY_CHANGED:t.type="e2e_notification",t.subtype="identity",t.body=t.templateParams[0],t.templateParams=void 0;break;case r.E2E_ENCRYPTED:t.type="e2e_notification",t.subtype="encrypt";break;case r.CALL_MISSED_VOICE:t.type="call_log",t.subtype="miss";break;case r.CALL_MISSED_VIDEO:t.type="call_log",t.subtype="miss_video";break;case r.CALL_MISSED_GROUP_VOICE:t.type="call_log",t.subtype="miss_group";break;case r.CALL_MISSED_GROUP_VIDEO:t.type="call_log",t.subtype="miss_group_video";break;case r.INDIVIDUAL_CHANGE_NUMBER:t.subtype="change_number";break;case r.CHANGE_EPHEMERAL_SETTING:t.subtype="change_ephemeral_setting";break;case r.PAYMENT_CIPHERTEXT:t.type="payment",t.subtype="ciphertext",this.callFeatureFlagFun(i.default.F.PAYMENTS,"parsePaymentInfo",t,e.paymentInfo);break;case r.PAYMENT_FUTUREPROOF:t.type="payment",t.subtype="futureproof",this.callFeatureFlagFun(i.default.F.PAYMENTS,"parsePaymentInfo",t,e.paymentInfo);break;case r.PAYMENT_ACTION_REQUEST_CANCELLED:t.subtype="payment_transaction_request_cancelled";break;case r.PAYMENT_TRANSACTION_STATUS_UPDATE_FAILED:t.subtype="payment_transaction_status_update_failed";break;case r.PAYMENT_TRANSACTION_STATUS_UPDATE_REFUNDED:t.subtype="payment_transaction_status_update_refunded";break;case r.PAYMENT_TRANSACTION_STATUS_UPDATE_REFUND_FAILED:t.subtype="payment_transaction_status_update_refund_failed";break;case r.PAYMENT_TRANSACTION_STATUS_RECEIVER_PENDING_SETUP:t.subtype="payment_transaction_status_receiver_pending_setup";break;case r.PAYMENT_TRANSACTION_STATUS_RECEIVER_SUCCESS_AFTER_HICCUP:t.subtype="payment_transaction_status_receiver_success_after_hiccup";break;case r.PAYMENT_ACTION_ACCOUNT_SETUP_REMINDER:t.subtype="payment_action_account_setup_reminder";break;case r.PAYMENT_ACTION_SEND_PAYMENT_REMINDER:t.subtype="payment_action_send_payment_reminder";break;case r.PAYMENT_ACTION_SEND_PAYMENT_INVITATION:t.subtype="payment_action_send_payment_invitation";break;case r.PAYMENT_ACTION_REQUEST_DECLINED:t.subtype="payment_action_request_declined";break;case r.PAYMENT_ACTION_REQUEST_EXPIRED:t.subtype="payment_action_request_expired";break;case r.BIZ_VERIFIED_TRANSITION_TOP_TO_BOTTOM:t.subtype="biz_verified_transition_top_to_bottom";break;case r.BIZ_VERIFIED_TRANSITION_BOTTOM_TO_TOP:t.subtype="biz_verified_transition_bottom_to_top";break;case r.BIZ_INTRO_TOP:t.subtype="biz_intro_top";break;case r.BIZ_INTRO_BOTTOM:t.subtype="biz_intro_bottom";break;case r.BIZ_NAME_CHANGE:t.subtype="biz_name_change";break;case r.BIZ_MOVE_TO_CONSUMER_APP:t.subtype="biz_move_to_consumer_app";break;case r.BIZ_TWO_TIER_MIGRATION_TOP:t.subtype="biz_two_tier_migration_top";break;case r.BIZ_TWO_TIER_MIGRATION_BOTTOM:t.subtype="biz_two_tier_migration_bottom";break;default:t.templateParams=void 0}return t},sendCallOffer:function(e){var t=this;return new Promise(function(n,r){var a=(0,s.default)(),o=l.default.formatCallOffer(t,a,e);t.binSend("send",o,r,{tag:a,onSend:t.wrap(function(e){n(e)},n),onDrop:t.wrap(r),retryOn5xx:!0,isCallOffer:!0},{debugString:["action","call","offer",e.common.peer_jid].join(),debugObj:{xml:o,struct:e},metricName:"CALL"})})}};e.exports=(0,r.default)(f,o.default)},cccgaejadd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("bgiachiigg"),i=n("dfdebdgdei"),u=g(n("bbchdeehff")),s=g(n("baagejbchg")),l=g(n("bcbahjefec")),c=g(n("dgjacfgggf")),f=g(n("fffdgbfji")),d=g(n("ifeefbdg")),p=g(n("cahfddcdga")),h=n("cjcffhicea"),m=g(h),b=n("dbbhhgjjbg");function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=r=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleForwardConfirmed=function(e){Promise.map(e,function(e){(e.isUser&&e.contact.isBlocked()?(0,i.unblockContact)(e.contact):Promise.resolve(!0)).then(function(t){(0,b.sendTextMsgToChat)(e,r.props.chat.groupMetadata.groupInviteLink,{linkPreview:r.linkPreview})})}),r.end(),u.default.openChatFromUnread(e[0])},v(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default),r(t,[{key:"componentDidMount",value:function(){var e=this;this.push(a.createElement(m.default,{onChat:this.handleForwardConfirmed,title:f.default.t(535),listType:h.ListType.CHAT_SELECT_MODAL,maxItems:5}));var t=this.props.chat,n=(0,p.default)(t.groupMetadata.groupInviteLink);this.linkPreview={canonicalUrl:s.default.GROUP_INVITE_LINK_URL,description:f.default.t(1422),matchedText:n,title:t.title(),richPreviewType:o.EXTENDED_TEXT_MESSAGE_PREVIEWTYPE.NONE,thumbnail:null,doNotPlayInline:!1};var r=t.contact.profilePicThumb;r&&r.imgFull?c.default.generateLinkPreview(r.imgFull).then(function(t){e.linkPreview.thumbnail=t}):(0,d.default)(n).then(function(t){t&&(e.linkPreview.thumbnail=t.data.thumbnail)}).catch(function(){})}}]),t}();t.default=y},ccchcigijb:function(e,t,n){"use strict";var r=C(n("digcccheca")),a=n("daffbcegjj"),o=C(n("bbiacghfif")),i=C(n("baagejbchg")),u=C(n("dhigahgdjb")),s=C(n("jjjdieajj")),l=C(n("djeajhjhb")),c=n("bjcgcdejaa"),f=C(c),d=C(n("bjbdcigbdi")),p=C(n("dbegdchadg")),h=C(n("debfbiicee")),m=C(n("cadjjhjjci")),b=C(n("jjaddhidj")),g=C(n("cjacjbhhib")),v=C(n("cijaehcdg")),y=C(n("baeacdffeb")),_=C(n("bfjchhccjd")),E=C(n("bgeafedbjd")),j=C(n("bhfcdbibdf")),O=C(n("bidcddiaag")),S=C(n("decdhbjfjc")),w=n("eagfdbhhhh"),P=n("bcjcbbafcj"),M=n("dcbdjheea");function C(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var A=2*i.default.MAX_PUSHNAME_LENGTH,N=/\u200B((\d+)@c\.us)\u200B/g,k={Enter:l.default.ENTER,Tab:l.default.TAB,ArrowUp:l.default.UP,ArrowDown:l.default.DOWN},I=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=T(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.serializers=[["span[data-mention-jid]",function(e){return function(e){if(!e.hasChildNodes())return;for(;e.childNodes.length;)e.removeChild(e.childNodes[0])}(e),`${e.getAttribute("data-mention-jid")||""}`}]],r.parsers=[function(e){return e.replace(N,function(e,t,n){var r=u.default.get(t);if(!r)return t;var o=!r.isMyContact&&r.notifyName?r.notifyName:r.formattedName,i=(0,w.createSelectableElement)("span");i.dataset.mentionJid=r.id.toString();var s=document.createElement("span");s.className="at-symbol",s.appendChild(document.createTextNode("@"));var l=document.createElement("span");return l.setAttribute("dir",(0,a.dir)(o)||"auto"),l.appendChild(document.createTextNode(o)),i.appendChild(s),i.appendChild(l),i.dataset.originalName=i.textContent||"",i.dataset.plainText=i.textContent||"",i.dataset.appTextTemplate=`${t}`,i.outerHTML})}],r.serialize=function(e,t){return t.mentionedJidList=[],[e.replace(N,function(e,n,r){return t.mentionedJidList.push((0,M.createWid)(n)),`@${r}`}),t]},r.handleSelect=function(e,t){var n=window.getSelection();if(function(e,t){var n=t.anchorNode,r=t.anchorOffset;n&&n===e.containerRef&&(n=n.childNodes[r],r=n.textContent.length);if(!n||n&&n.nodeType!==Node.TEXT_NODE)return!1;var a=n.textContent.slice(r),o=n;for(;0===a.length;){if(!(o=o.nextSibling)||o.nodeType!==Node.TEXT_NODE)return!1;a=o.textContent}return" "===a.charAt(0)}(r.ctx,n)&&n.modify("move","forward","character"),G(r.ctx,n,!0)){n=window.getSelection();var a=r.ctx.refInput,o=(a?R(a):{}).mentionAfterEnd;o&&U(o),r.ctx.replaceSelection(`${e.id.toString()} `),r.handle(l.default.INACTIVE)}},r.hooks={[h.default.CHANGE](e,t){var n=t.refInput;if(P.isGecko)for(var r=n.querySelectorAll("[data-mention-jid]"),a=0;a<r.length;++a){var o=r[a].nextSibling;o&&(o instanceof Element&&"BR"===o.tagName&&"_moz"===o.getAttribute("type")&&o.remove())}},[h.default.INPUT](e){var t=e.refInput.querySelectorAll("[data-mention-jid]");if(t.length)for(var n=0;n<t.length;++n){var r=t[n];if(r.textContent!==r.getAttribute("data-original-name")){var a=r.querySelector(".at-symbol"),o=r.querySelector("span [dir]"),i=window.getSelection(),u=i.focusOffset,s=i.focusNode&&i.focusNode.parentNode&&i.focusNode.parentNode.className,l=r.parentNode,c=document.createDocumentFragment();a&&c.appendChild(document.createTextNode(a.textContent)),o&&c.appendChild(document.createTextNode(o.textContent));var f="at-symbol"===s?c.firstChild:c.lastChild;if(1===c.childNodes.length&&c.lastChild&&(u="@"===c.lastChild.textContent?1:0),l.replaceChild(c,r),i.rangeCount<=0)return;var d=i.getRangeAt(0);d.setEnd(f,u),d.collapse(!1),i.removeAllRanges(),i.addRange(d)}}}},r.handlers={onKeyDown(e,t){var n=e.key;if(!this.ctx.isComposing&&("Backspace"===n||"Delete"===n&&(0,v.default)(e))){var r=window.getSelection();if(r.isCollapsed){var a=e.key,o=R(this.ctx.refInput),i=o.mentionBeforeStart,u=o.mentionAfterEnd,s=null;if("Delete"===a&&u&&(s=u),"Backspace"===a&&i&&(s=i),s){r.removeAllRanges();var l=document.createRange();l.selectNode(s),r.addRange(l),L(this.ctx.refInput)}}else L(this.ctx.refInput)}var c=k[e.key];return!!c&&this.handle(c,[e,t])},onKeyPress(e,t){return this.ctx.isComposing||L(this.ctx.refInput),!1},onBlur(){return this.handle(l.default.INACTIVE),!1},onSelect(e,t){var n=d.default.supportsFeature(d.default.F.MENTIONS_OUT);if(P.isTrident||this.ctx.isComposing||!n)return!1;var r=window.getSelection();if(r.isCollapsed&&r.rangeCount>0&&r.anchorNode&&function(e,t){var n=t.anchorNode,r=t.anchorOffset;if(n&&n===e.refInput){if(0===r)return!0;n=n.childNodes[t.getRangeAt(0).startOffset],r=(0,E.default)(n)?n.textContent.length:0}if((0,g.default)(n,"br"))return!0;if(!n)return!1;if(!(0,E.default)(n))return!1;if("\n"===n.textContent)return!0;var a=n.textContent.slice(0,r);if(""===a){var o=(0,f.default)(n,c.DIR.PREV);if(!o)return!0;if(!(0,E.default)(o))return!1;a=o.textContent}return"\n"===a.charAt(a.length-1)}(t,r)){var a=r.getRangeAt(0);r.removeAllRanges(),r.addRange(a)}var o=G(this.ctx,r);if(!o||r.focusNode&&r.focusNode.parentElement&&(0,y.default)(r.focusNode.parentElement.parentElement))return this.handle(l.default.INACTIVE),!1;var i=o.slice(1);return this.handle(l.default.SEARCH,[i]),!1},onPaste(){return L(this.ctx.refInput),!1}},T(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),t}();function R(e){var t=window.getSelection();if(0===t.rangeCount)return{};var n=t.getRangeAt(0),r=n.startContainer,a=n.startOffset,i=n.endContainer,u=n.endOffset,s=0===a,l=i instanceof HTMLElement?i.childNodes.length===u:i.textContent&&i.textContent.length===u,d=void 0,p=void 0;s&&(d=r===e?e.childNodes[a]:(0,o.default)(r,function(t){return t&&t!==e&&(t.parentElement===e||(0,_.default)(t,0))?[t.parentElement]:[]},function(t){return t&&t.parentElement===e})),l&&(p=i===e?e.childNodes[u]:(0,o.default)(i,function(t){return t&&t!==e&&(t.parentElement===e||(0,_.default)(t,-1))?[t.parentElement]:[]},function(t){return t&&t.parentElement===e}));var h=void 0,m=void 0,b=void 0,g=void 0,v=(0,f.default)(d,c.DIR.PREV);(0,y.default)(v)&&(h=v),(0,y.default)(d)&&(m=d),(0,y.default)(p)&&(b=p,n.collapsed&&(h=h||b));var E=(0,f.default)(p,c.DIR.NEXT);return(0,y.default)(E)&&(g=E,n.collapsed&&(m=m||g)),{mentionBeforeStart:h,mentionAfterStart:m,mentionBeforeEnd:b,mentionAfterEnd:g}}function L(e){var t=R(e),n=t.mentionBeforeStart,r=t.mentionAfterStart,a=t.mentionBeforeEnd,o=t.mentionAfterEnd;if(n||r||a||o){var i=window.getSelection(),u=i.getRangeAt(0),s=u.collapsed,l=!1;if(n){var c=x(n);l=!0,u.setStartAfter(c),u.collapsed&&u.setEndAfter(c)}if(r){var f=U(r);l=!0,u.setStartBefore(f),s&&u.setEndBefore(f)}if(!s){if(a){var d=x(a);l=!0,u.setEndAfter(d)}if(o){var p=U(o);l=!0,u.setEndBefore(p)}}l&&(i.removeAllRanges(),i.addRange(u))}}function D(){var e=document.createElement("span");return e.textContent="",e.contentEditable="false",setTimeout(function(){return(0,j.default)(e)},0),e}function x(e){var t=D();return(0,m.default)(t,e),t}function U(e){var t=D();return(0,b.default)(t,e),t}function G(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=(0,p.default)(e.refInput,"BACKWARD");if((0,y.default)(r))return"";var a=null,o="",i=0,u=null;return(0,O.default)(e,t,function(e,t,n){if("@"===a){if(r=e,Boolean(s.default[r]))return u=o,!0;if(/\W/.test(e))return u=n.slice(t+1)+o,!0}var r;if(0===t&&(o=n+o),a=e,(i+=1)>=A)return!0}),!u&&i<A&&"@"===a&&(u=o),n&&u&&u.length&&(0,S.default)(t,u.length),u}e.exports=I},cccicaceef:function(e,t){e.exports={bubble:"_2qE0x",isPreview:"_18M7T",isGallery:"_1xfjD",quote:"_4iqBD",hasAuthor:"_3LoL9",vcard:"_2kIVZ",author:"_34Kkb",hasQuote:"_2rE0d",body:"nUQs8",avatar:"WKVRW",meta:"_10PqF",name:"_2LRBk"}},cccjfjdgcj:function(e,t){e.exports={chevronLeftBg:"_2AJhR",chevronRightBg:"_3bHbx",chevronLeft:"_3fJCe",chevronRight:"xLf9V",playerContainer:"_1f1Hl",mediaStateControls:"_2jtqw",viewer:"_1oEGl",v3X:"_2Bzjg",v3X_mac:"_3q8_P",v3XMac:"_3q8_P",backIcon:"_3ZC5d",backIcon_mac:"gaWWe",backIconMac:"gaWWe"}},ccdbdjihjh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n("dcaifjegcg"),o=(r=a)&&r.__esModule?r:{default:r};function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,u=Array(o),s=0;s<o;s++)u[s]=arguments[s];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.id=(0,a.prop)(),r.callId=(0,a.prop)(),r.isIncoming=(0,a.prop)(!1),r.isRinging=(0,a.prop)(!1),r.isInterrupted=(0,a.prop)(!1),r.isMuted=(0,a.prop)(!1),r.isTrafficStopped=(0,a.prop)(!1),r.isInvitingToGroupCall=(0,a.prop)(!1),r.isVideoStopped=(0,a.prop)(!1),r.isVideoPaused=(0,a.prop)(!1),r.isVideoDecodePaused=(0,a.prop)(!1),r.isVideoDecodeStarted=(0,a.prop)(!1),r.isOfferingVideoUpgrade=(0,a.prop)(!1),i(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),t}();u.Proxy="callParticipant",t.default=(0,a.defineModel)(u)},ccdfjfdccf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=s(n("effbcehec")),o=s(n("dhbceejbjg")),i=s(n("cfadcbbiie")),u=s(n("babadgcffh"));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.title,n=e.icon,s=e.t,l=null!=s?i.default.relativeDateAndTimeStr(s):"-",c=r.createElement("div",{className:u.default.title,"data-a8n":a.default.key("msg-info-title")},n,t);return r.createElement(o.default,{primary:c,secondary:l,theme:"plain",idle:!0})}},ccdhdfebfj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("bbchdeehff")),i=l(n("biddiiafgd")),u=l(n("iaejfgacj")),s=l(n("fffdgbfji"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.handleCancel=function(){o.default.closeModal()},r.handleOK=function(){r.props.onConfirm(),o.default.closeModal()},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){return a.createElement(i.default,{title:s.default.t(518),onOK:this.handleOK,okText:s.default.t(518),onCancel:this.handleCancel,cancelText:s.default.t(1153)},a.createElement("div",{className:u.default.confirmationText},s.default.t(532,{groupName:this.props.chat.contact.name})))}}]),t}();f.displayName="GroupInviteRevokeModal",t.default=f},ccebfaijda:function(e,t,n){"use strict";e.exports={STREAM_END:2,LIST_EMPTY:0,DICTIONARY_0:236,DICTIONARY_1:237,DICTIONARY_2:238,DICTIONARY_3:239,LIST_8:248,LIST_16:249,JID_PAIR:250,HEX_8:251,BINARY_8:252,BINARY_20:253,BINARY_32:254,NIBBLE_8:255,SINGLE_BYTE_MAX:256,PACKED_MAX:254}},ccegihfjhe:function(e,t){e.exports={mediaViewerAnimate:"_3a12y","media-viewer-animate":"_3a12y",cursorZoomOut:"_Doi_",media:"_1YV64",mediaViewer:"_18IfL",mediaContent:"_3EJ7Q",btn:"QL-Ef",btnMediaNext:"_2wTLJ",btnMediaPrev:"LAhFg",mediaWithCaption:"C3wjY",mediaCaption:"aLdCc",captionHidden:"_2QQWZ",disabledBtn:"_2FR9h"}},ccehadbeci:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n("ddgaeajhag")),a=p(n("cfadahgeie")),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},u=n("dcaifjegcg"),s=p(u),l=p(n("dbfjecijha")),c=p(n("bjigbaghc")),f=p(n("hciaejfjd")),d=p(n("bdiiahhjbe"));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.id=(0,u.prop)(),r.pendingMsgs=(0,u.prop)(),r.labels=(0,u.prop)(),r.msgChunks=(0,u.session)(function(){return[]}),r.lastReceivedKey=(0,u.session)(),r.unreadMsgAnchor=(0,u.session)(),r.disableUnreadAnchor=(0,u.session)(),r.msgsLength=(0,u.session)(),r.msgsChanged=(0,u.session)(0),r.msgs=(0,u.collection)(l.default),h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),o(t,[{key:"initialize",value:function(){var e=this;i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this),this.listenTo(this.msgs,"change:last",function(){e.msgsChanged++}),this.listenTo(this.msgs,"add remove bulk_add",function(){e.msgsChanged++,e.msgsLength=e.msgs.length}),c.default.isSMB&&(this.addLabelsToCollection(),this.listenTo(this,"change:labels",this.addLabelsToCollection))}},{key:"addLabelsToCollection",value:function(){(0,f.default)(this.id.toString(),this.labels,"Chat")}},{key:"onEmptyMRM",value:function(){throw new Error("onEmptyMRM not implemented")}},{key:"delete",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),this.getAllCMCs().forEach(function(e){e.forEach(function(e){e.delete()}),e.delete()})}},{key:"removeMsg",value:function(e){var t=e.msgChunk;t&&(t.indexOf(e)<0||(d.default.log("models:Chat:removeMsg "+e.get("id"))(),t.remove(e),0===t.length&&(t===this.msgs?this.onEmptyMRM():this.removeMsgsCollection(t))))}},{key:"getAllCMCs",value:function(){return this.msgChunks.concat([this.msgs])}},{key:"getAllMsgs",value:function(){return(0,a.default)(this.getAllCMCs().map(function(e){return e.getModelsArray()}))}},{key:"replaceMsgsCollection",value:function(e){d.default.info("model:Chat:replaceMsgsCollection:"+this.id.toString())();var t={msg:e.last()};this.msgs.replace(e),this.notifyMsgCollectionMerge(e,this.msgs,this.msgs,t),this.msgChunks=(0,r.default)(this.msgChunks,e),e.delete()}},{key:"removeMsgsCollection",value:function(e){this.msgChunks=(0,r.default)(this.msgChunks,e),e.delete()}},{key:"notifyMsgCollectionMerge",value:function(e,t,n,r){this.trigger("change:cmc:merge",e,t,n,r)}}]),t}();t.default=m},ccfcjccjbg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},o=S(n("djjeigcdbe")),i=n("dcaifjegcg"),u=S(i),s=S(n("bgfcjjddjf")),l=n("dfbbghiidh"),c=S(n("bbchdeehff")),f=S(n("baagejbchg")),d=S(n("bjigbaghc")),p=n("ccicaaeiaa"),h=S(n("bjbdcigbdi")),m=S(n("fffdgbfji")),b=S(n("hciaejfjd")),g=S(n("bdiiahhjbe")),v=S(n("edjgaiicj")),y=S(n("dhefcajhhb")),_=S(n("gbbacfeci")),E=S(n("bhggeigghg")),j=S(n("jccfhaecf")),O=S(n("djbfhebjhe"));function S(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var P=/^[^0-9]+$/,M=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=r=w(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.id=(0,i.prop)(),r.name=(0,i.prop)(),r.shortName=(0,i.prop)(),r.pushname=(0,i.prop)(),r.type=(0,i.prop)("in"),r.verifiedName=(0,i.prop)(),r.isBusiness=(0,i.prop)(),r.isEnterprise=(0,i.prop)(),r.verifiedLevel=(0,i.prop)(),r.statusMute=(0,i.prop)(),r.sectionHeader=(0,i.prop)(),r.labels=(0,i.prop)(),r.isContactBlocked=(0,i.session)(!1),r.verificationString=(0,i.session)(),r.verificationBinary=(0,i.session)(),r.pendingAction=(0,i.session)(),r._notifyName=(0,i.session)(null),r.promises=(0,i.session)(function(){return{}}),r.status=(0,i.session)(),r.profilePicThumb=(0,i.session)(),r.businessProfile=(0,i.session)(),r.commonGroups=(0,i.session)(),r.liveLocations=(0,i.session)(),r.businessCatalog=(0,i.session)(),r.locale=(0,i.session)(),r.notifyName=(0,i.derived)(r._notifyNameFunction,["_notifyName","pushname","isBusiness","verifiedLevel","verifiedName"]),r.mentionName=(0,i.derived)(r._mentionName,["isMyContact","isBusiness","verifiedLevel","name","notifyName"]),r.displayName=(0,i.derived)(r._displayName,["id","mentionName","isMe"]),r.userid=(0,i.derived)(r._userid),r.userhash=(0,i.derived)(r._userhash),r.searchName=(0,i.derived)(r._searchName,["name","id","locale"]),r.searchVerifiedName=(0,i.derived)(r._searchVerifiedName,["verifiedLevel","verifiedName"]),r.header=(0,i.derived)(r._header,["name"]),r.isMe=(0,i.derived)(r._isMe),r.isUser=(0,i.derived)(r._isUser),r.isGroup=(0,i.derived)(r._isGroup),r.isBroadcast=(0,i.derived)(r._isBroadcast),r.isPSA=(0,i.derived)(r._isPSA),r.formattedShortNameWithNonBreakingSpaces=(0,i.derived)(r._formattedShortNameWithNonBreakingSpaces,["shortName","formattedName","id","locale"]),r.formattedShortName=(0,i.derived)(r._formattedShortName,["shortName","formattedName","id","locale"]),r.formattedName=(0,i.derived)(r._formattedName,["name","id","locale"]),r.formattedUser=(0,i.derived)(r._formattedUser,["name","id","locale"]),r.isWAContact=(0,i.derived)(r._isWAContact,["type"]),r.isMyContact=(0,i.derived)(r._isMyContact,["name"]),r.showBusinessCheckmark=(0,i.derived)(r._showBusinessCheckmark,["isBusiness","verifiedLevel","name","verifiedName"]),r.showBusinessVname=(0,i.derived)(r._showBusinessVname,["isBusiness","verifiedLevel","name","verifiedName"]),w(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),r(t,[{key:"_notifyNameFunction",value:function(){return this.isBusiness&&this.verifiedLevel!==f.default.VERIFIED_LEVEL.HIGH?this.verifiedName:h.default.supportsFeature(h.default.F.CONTACT_HAS_PUSHNAME)?this.pushname:this._notifyName?this._notifyName.name:void 0}},{key:"_mentionName",value:function(){return!this.isMyContact&&this.isBusiness&&this.verifiedLevel!==f.default.VERIFIED_LEVEL.HIGH?null:this.name||this.notifyName}},{key:"_displayName",value:function(){return this.isMe&&d.default.pushname?d.default.pushname:this.mentionName||(0,O.default)(this.id)}},{key:"_userid",value:function(){return this.isUser?j.default.user(this.id):null}},{key:"_userhash",value:function(){return this.isUser?(0,v.default)((this.id.user||"")+"WA_ADD_NOTIF"):null}},{key:"_searchName",value:function(){return j.default.isPSA(this.id)?m.default.accentFold(m.default.t(1423)):this.name?m.default.accentFold(this.name):null}},{key:"_searchVerifiedName",value:function(){return this.verifiedLevel!==f.default.VERIFIED_LEVEL.HIGH?null:this.verifiedName?m.default.accentFold(this.verifiedName):null}},{key:"_header",value:function(){if(this.name){var e=this.name.toLowerCase(),t=o.default.exec(e);if(t&&0===t.index||t&&P.test(e.slice(t.index))){var n=t[0],r=m.default.removeAccents(n);return(0,p.getCollator)().compare(r,n)?n:r}return"#"}}},{key:"_isMe",value:function(){return this.id.equals(d.default.me)}},{key:"_isUser",value:function(){return j.default.isUser(this.id)}},{key:"_isGroup",value:function(){return j.default.isGroup(this.id)}},{key:"_isBroadcast",value:function(){return j.default.isBroadcast(this.id)}},{key:"_isPSA",value:function(){return j.default.isPSA(this.id)}},{key:"_formattedShortNameWithNonBreakingSpaces",value:function(){return this.id?this.isMe?m.default.t(1414):this.shortName||this.formattedName&&this.formattedName.replace(/\s/g," "):""}},{key:"_formattedShortName",value:function(){return this.id?this.isMe?m.default.t(1414):this.shortName||this.formattedName:""}},{key:"_formattedName",value:function(){return this.id?this.isMe?m.default.t(1414):j.default.isPSA(this.id)?m.default.t(1423):this.name?this.name:this.isUser?(0,O.default)(this.id):"":""}},{key:"_formattedUser",value:function(){return this.getFormattedUser()}},{key:"_isWAContact",value:function(){return this.isUser&&"in"===this.type}},{key:"_isMyContact",value:function(){return!!(this.isUser&&this.name&&this.name.length)}},{key:"_showBusinessCheckmark",value:function(){return this.isBusiness&&this.verifiedLevel===f.default.VERIFIED_LEVEL.HIGH&&this.name===this.verifiedName}},{key:"_showBusinessVname",value:function(){return this.isBusiness&&this.verifiedLevel===f.default.VERIFIED_LEVEL.HIGH&&this.name!==this.verifiedName}},{key:"initialize",value:function(){var e=this;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this),this.id&&(this.isMe&&this.addChild("status",_.default.gadd(this.id)),this.isMe&&this.addChild("profilePicThumb",y.default.gadd(this.id)),this.isBusiness&&this.addChild("businessProfile",E.default.BusinessProfile.gadd(this.id)),this.listenTo(this,"change:isBusiness",function(){return(0,l.onIsBusinessChange)(e)}),this.listenTo(c.default,"locale_change",function(){e.locale=m.default.getLocale()}),this.isContactBlocked=!!s.default.get(this.id),this.pendingAction=0,d.default.isSMB&&(this.addLabelsToCollection(),this.listenTo(this,"change:labels",this.addLabelsToCollection)))}},{key:"getStatus",value:function(){return j.default.user(this.id)||g.default.info(`contact:getStatus for non-user ${this.id.toString()}`)(),this.status=_.default.gadd(this.id)}},{key:"addLabelsToCollection",value:function(){(0,b.default)(this.id.toString(),this.labels,"Contact")}},{key:"getProfilePicThumb",value:function(){return this.profilePicThumb=y.default.gadd(this.id)}},{key:"addPendingAction",value:function(e){var t=this;if(e.isPending()){var n=function(){t.decPending()};e.then(n,n),this.pendingAction++}return e}},{key:"decPending",value:function(){this.pendingAction>0?this.pendingAction--:(g.default.log("contact:onPendingActionUpdate pendingAction value is invalid")(),this.pendingAction=0)}},{key:"isBlocked",value:function(){return!!s.default.get(this.id)}},{key:"searchMatch",value:function(e,t,n){return h.default.supportsFeature(h.default.F.LABELS_DISPLAY)&&n?!(e&&this.searchName&&!this.searchName.includes(e))&&(this.labels&&this.labels.includes(n)):!!e&&(!(!this.searchName||!this.searchName.includes(e))||(!(!this.userid||!this.userid.includes(e))||(!!(t&&this.userid&&this.userid.includes(t))||(!(!this.searchVerifiedName||!this.searchVerifiedName.includes(e))||!(!this.pushname||!m.default.accentFold(this.pushname).includes(e))))))}},{key:"getFormattedUser",value:function(){return this.id?j.default.isPSA(this.id)?m.default.t(1423):this.name?this.name:m.default.isRTL()?m.default.embedLTR((0,O.default)(this.id)):(0,O.default)(this.id):""}},{key:"updateNotifyName",value:function(e,t){(!this._notifyName||this._notifyName.t<t)&&(this._notifyName={name:e,t:t},this.trigger("change:_notifyName",e))}},{key:"set",value:function(e,n,r){var o=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"set",this).call(this,e,n,r);if("string"!=typeof e&&n&&n.merge&&o){if(o.isPSA)return o;!e.name&&o.name&&(o.unset("name"),o.unset("shortName")),!e.verifiedName&&o.verifiedName&&o.unset("verifiedName")}return o}},{key:"getCollection",value:function(){return n("dhigahgdjb").default}}]),t}();M.Proxy="contact",M.idClass=j.default,t.default=(0,i.defineModel)(M)},ccfdaijebj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=c(n("bbchdeehff")),u=c(n("eceadcicaf")),s=c(n("bdiiahhjbe")),l=c(n("dbhbjaeieh"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._videoRef=null,r._onPlayTriggered=!1,r.setRefVideo=function(e){r._videoRef&&r.props.listeners.remove(r._videoRef,"playing",r.onPlay),r._videoRef=e,e&&("srcObject"in e&&r.props.srcObject?e.srcObject=r.props.srcObject:r.props.src&&(e.src=r.props.src),r.props.listeners.add(e,"playing",r.onPlay),r.props.autoPlay&&e.play())},r.onPlay=function(e){var t=r._videoRef;t&&(t.videoHeight&&t.videoWidth||r._onPlayTriggered||(r._onPlayTriggered=!0,t.pause(),t.play(),s.default.assert(!1,"non-zero height and width","Neither the height nor the width of video should have zero value")()),t.videoHeight&&t.videoWidth&&r.props.onPlay&&(r.props.onPlay(t),r._onPlayTriggered=!1),i.default.mediaPlaying(r))},r.onOtherPlaying=function(e){e!==r&&r._videoRef&&r._videoRef.pause()},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.props.controls&&this.props.listeners.add(i.default,"mediaPlaying",this.onOtherPlaying)}},{key:"underlyingVideo",value:function(){return this._videoRef}},{key:"play",value:function(){var e=this._videoRef;e&&e.paused&&e.play()}},{key:"pauseAndReset",value:function(){var e=this._videoRef;e&&(e.currentTime=0,e.paused||e.pause())}},{key:"getDuration",value:function(){return null==this._videoRef?null:this._videoRef.duration}},{key:"render",value:function(){var e=this.props;return o.createElement("video",{ref:this.setRefVideo,className:(0,a.default)(l.default.video,e.className),muted:e.muted,controls:e.controls,controlsList:e.controlsList,width:e.width,height:e.height,loop:e.loop,onClick:e.onClick,onEnded:e.onEnded,style:e.style},e.children)}}]),t}();d.displayName="Video";t.Component=d;t.default=(0,u.default)(d)},ccffgjicjj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return r.default.supportsFeature(r.default.F.MD_BACKEND)?Promise.resolve():a.default.sendMessagePlayed(e.id).then(function(e){})};var r=o(n("bjbdcigbdi")),a=o(n("bihdhbjih"));function o(e){return e&&e.__esModule?e:{default:e}}},ccfhgdcjch:function(e,t){e.exports={icon:"-bh0C"}},ccfjgbibc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.startMemoryWamStat=function(){if(!d())return;setInterval(function(){var e=new o.default.WebcMemoryStat(r({},(0,u.default)(d()),{hasVerifiedNumber:l.default.mode===s.StreamMode.MAIN,numMessages:i.default.length}));e.commit()},a.default.MEMORY_METRIC_INTERVAL)},t.getMemoryTableRows=function(){var e=d();return e?Promise.resolve([{label:"Main Window",memory:e.usedJsHeapSize/1024,uptime:e.uptime}]):Promise.resolve()};var a=c(n("baagejbchg")),o=c(n("bfbggcdbfb")),i=c(n("biecbbiiee")),u=c(n("cahfddcdga")),s=n("dcdiaahjj"),l=c(s);function c(e){return e&&e.__esModule?e:{default:e}}var f=Date.now();function d(){var e=performance&&performance.memory;if(e)return{uptime:(Date.now()-f)/1e3,jsHeapSizeLimit:e.jsHeapSizeLimit,totalJsHeapSize:e.totalJSHeapSize,usedJsHeapSize:e.usedJSHeapSize}}},ccfjghjbdi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n("cbhbjajgac"),o=(r=a)&&r.__esModule?r:{default:r};var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),t}();i.mutates=!0,i.mutate=function(e,t){return`@${t.displayName}`},t.default=i},ccgchaejji:function(e,t){e.exports={subheader:"_3jzsh",main:"_2Fyg3",closeBtn:"_2Wd6Q"}},ccgdfaeibd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GIPHY_LOCALES=t.BRAND_NAMES=t.GifInfo=t.TENOR=t.GIPHY=t.GAP_SIZE=t.TARGET_GIF_HEIGHT=void 0,t.gifProvider=function(){switch(o.default.gifSearch){case"giphy":return u;case"tenor":default:return s}};var r,a=n("bfgbdiffgd"),o=(r=a)&&r.__esModule?r:{default:r};var i=t.TARGET_GIF_HEIGHT=130,u=(t.GAP_SIZE=6,t.GIPHY="giphy"),s=t.TENOR="tenor",l=0;t.GifInfo=function e(t,n,r,a,o,u,s,c){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rank=t,this.gifId=++l,this.url=n,this.size=r,this.previewUrl=a||n,this.nonVideoUrl=o,this.width=u,this.widthStr=`${u}px`,this.ratioStr=`${Math.ceil(100*i/u)}%`,this.attribution=s,this.trending=c},t.BRAND_NAMES={giphy:"GIPHY",tenor:"Tenor"};t.GIPHY_LOCALES=["en","es","pt","id","fr","ar","tr","th","vi","de","it","ja","zh-CN","zh-TW","ru","ko","pl","nl","ro","hu","sv","cs","hi","bn","da","fa","tl","fi","iw","ms","no","uk"]},ccgdgjcjjh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("baagejbchg"),i=p(n("dhhfaeacef")),u=p(n("fifhbjiec")),s=p(n("fffdgbfji")),l=p(n("bbhdgdbggg")),c=p(n("becfabjeeg")),f=p(n("ihfccfgdf")),d=p(n("bfdcadbbif"));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"getAddressString",value:function(e){var t=e.streetAddress,n=e.localizedCityName,r=e.zipCode;return t&&n&&r?s.default.t(230,{streetAddress:t,city:n,zipCode:r}):t&&n?s.default.t(229,{streetAddress:t,city:n}):t}},{key:"render",value:function(){var e=this.props,t=e.businessProfile,n=e.contact,r=n.id,s=n.formattedName,f=n.verifiedLevel,p=void 0,h=void 0,m=void 0,b=void 0;if(t.stale)m=a.createElement("div",null,a.createElement(c.default,{size:20,stroke:5}));else{var g=t.structuredAddress&&this.getAddressString(t.structuredAddress);g&&(p=a.createElement("div",{className:l.default.address},a.createElement(u.default,{selectable:!0,direction:"auto",text:g}))),t.description&&(h=a.createElement("div",{className:l.default.description,title:t.description},a.createElement(u.default,{selectable:!0,direction:"auto",text:t.description})))}return f===o.VERIFIED_LEVEL.HIGH&&(b=a.createElement("div",{className:l.default.badge},a.createElement(d.default,{name:"psa-verified"}))),a.createElement("div",{className:l.default.container,onClick:this.props.onClick},a.createElement("div",{className:l.default.image},a.createElement(i.default,{id:r,size:55}),b),a.createElement("div",{className:l.default.body},a.createElement("div",{className:l.default.name},s),m,p,h))}}]),t}();h.CONCERNS={contact:["id","verifiedLevel","formattedName"],businessProfile:["stale","structuredAddress","description"]},h.displayName="SpamBusinessInfo",t.default=(0,f.default)(h,h.CONCERNS)},cchefegdjj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OPEN_MENU_WIDTH=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=h(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=h(n("effbcehec")),u=h(n("bjbdcigbdi")),s=n("dehacgjjde"),l=h(n("bidgicbbjf")),c=n("cdgdijchcg"),f=h(c),d=h(n("bfgbdiffgd")),p=h(n("egjjcjcg"));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.OPEN_MENU_WIDTH=parseInt(l.default["-open-menu-width"].replace(/px$/,""),10);var b=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._handleOpenClick=function(){r.props.onChange(r._getLastSelectedPanel())},r._handleCloseClick=function(){r.props.onChange(null)},r._handleEmojiClick=function(){Boolean(r.props.selectedPanelId)?(p.default.setLastComposeBoxPanel(s.PANELS.EMOJI),r.props.onChange(s.PANELS.EMOJI)):r._handleOpenClick()},r._handleGifClick=function(){p.default.setLastComposeBoxPanel(s.PANELS.GIF),r.props.onChange(s.PANELS.GIF)},r._handleStickerClick=function(){p.default.setLastComposeBoxPanel(s.PANELS.STICKER),r.props.onChange(s.PANELS.STICKER)},r._setRefCloseButtonRef=function(e){r._refCloseButton=e},r._setRefEmojiButtonRef=function(e){r._refEmojiButton=e},r._setRefGifButtonRef=function(e){r._refGifButton=e},r._setRefStickerButtonRef=function(e){r._refStickerButton=e},r._setRefMenu=function(e){r._refMenu=e},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"_getLastSelectedPanel",value:function(){var e=void 0;"GIFS"===p.default.getLastEmojiTab()&&(e=s.PANELS.GIF,p.default.setLastEmojiTab(null)),e=e||p.default.getLastComposeBoxPanel()||s.PANELS.EMOJI;var t=d.default.stickers&&u.default.supportsFeature(u.default.F.STICKER_PACK_QUERY);return e!==s.PANELS.STICKER||t||(e=s.PANELS.EMOJI),e}},{key:"render",value:function(){var e=d.default.stickers&&u.default.supportsFeature(u.default.F.STICKER_PACK_QUERY),t=Boolean(this.props.selectedPanelId),n=e?o.createElement(f.default,{className:(0,a.default)(l.default.button,l.default.thirdButton),icon:"sticker",isActive:this.props.selectedPanelId===s.PANELS.STICKER,onClick:this._handleStickerClick,onRef:this._setRefStickerButtonRef,size:c.SIZES.SQUARE26}):null;return o.createElement("div",{"data-state":t?"open":"closed",ref:this._setRefMenu,className:(0,a.default)(l.default.menu,{[l.default.full]:e,[l.default.open]:t})},o.createElement(f.default,{className:(0,a.default)(l.default.button,l.default.closeButton),"data-tab":t?4:null,icon:"x",onClick:this._handleCloseClick,onRef:this._setRefCloseButtonRef,size:c.SIZES.SQUARE24}),o.createElement(f.default,{className:(0,a.default)(l.default.button,l.default.firstButton),"data-a8n":i.default.key("compose-btn-emoji"),"data-tab":t?null:4,icon:"smiley",isActive:this.props.selectedPanelId===s.PANELS.EMOJI,isMain:!0,onClick:this._handleEmojiClick,onRef:this._setRefEmojiButtonRef,size:c.SIZES.SQUARE26}),o.createElement(f.default,{className:(0,a.default)(l.default.button,l.default.secondButton),icon:"gif",isActive:this.props.selectedPanelId===s.PANELS.GIF,onClick:this._handleGifClick,onRef:this._setRefGifButtonRef,size:c.SIZES.SQUARE26}),n)}}]),t}();b.displayName="ComposeBoxPanelsMenu",t.default=b},cchfggidbj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return(0,a.default)(e,function(a){if(a.signal.aborted)throw new r.default;var o=e(a);return t.get(o,a).then(function(e){if(a.signal.aborted)throw new r.default;return null!=e?e:n(a).then(function(e){if(a.signal.aborted)throw new r.default;return t.set(o,e,a).then(function(){return e})})})})};var r=o(n("cgijjjgici")),a=o(n("cjbdijighi"));function o(e){return e&&e.__esModule?e:{default:e}}},cchiafiebc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=C(n("ceffhbhahb")),o=C(n("dgdjiicfdg")),i=M(n("ddhijeejag")),u=C(n("effbcehec")),s=C(n("bbchdeehff")),l=n("ddjgcfjicj"),c=M(n("cajijabhgb")),f=n("ffchhcfdj"),d=C(f),p=C(n("eceadcicaf")),h=C(n("bdiiahhjbe")),m=n("ddgbhifaji"),b=M(n("dcecgegjfc")),g=C(n("beeieigghj")),v=n("icbibjcg"),y=C(n("bjbedjfe")),_=M(n("ebggjhghhi")),E=C(n("ddafjfecha")),j=C(n("bhbihjaicd")),O=C(n("bfdcadbbif")),S=C(n("fbjjefaic")),w=C(n("caffijjhc")),P=C(n("didfdhbecg"));function M(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}var T=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.cancelRecording=function(){"ready"!==r.state.state&&(r.recorder&&r.recorder.stop(),r.clearInterval(),(0,v.markPaused)(r.props.chat),r.setState({state:"ready",active:void 0,elapsed:0}),r.props.onRecState(!1))},r._incElapsed=function(){r.setState({elapsed:r.state.elapsed+1})},r.onPTTReady=function(){r.cancelPTTTimer(),"delay"===r.state.state&&r.setState({state:"recording"})},r.onMouseOverSend=function(){r.setState({active:"send"})},r.onMouseOutSend=function(){r.setState({active:void 0})},r.onMouseOverCancel=function(){r.setState({active:"cancel"})},r.onMouseOutCancel=function(){r.setState({active:void 0})},r.onMouseUpCancel=function(){r.state.elapsed<1||(r.cancelPTTTimer(),r.cancelRecording())},r.onMouseUpSend=function(){if(!(r.state.elapsed<1))if(r.cancelPTTTimer(),"recording"===r.state.state){var e=r.props.chat;r.setState({state:"processing"}),r.props.onRecState(!1);var t=e.regCancellablePromise(_.waitForEvent(r.recorder,"dataAvailable").then(function(e){return g.default.createFromData(e.detail,e.detail.type)}));(0,m.prepRawMedia)(t,{isPtt:!0,precomputedFields:{duration:~~r.recorder.duration}}).sendToChat(e,{quotedMsg:e.composeQuotedMsg||void 0,addEvenWhilePreparing:!0}),e.composeQuotedMsg=null,t.catch(Promise.CancellationError,function(){}).finally(function(){r.cancelRecording()}),r.recorder.stop()}else r.cancelRecording()},r.startRecord=function(){if("ready"===r.state.state){var e=b.start("microphone");Promise.race([e,r.props.rejectOnUnmount()]).checkpoint(r.props.rejectOnUnmount()).then(function(e){s.default.pttRecording(),r.recorder=new j.default({bitRate:16e3,encoderSampleRate:16e3,encoderApplication:2048}),r.recorder.initStream(e),r.recorder.start(),n("ebbjbbjjg").default.update(r.props.chat.presence.id).catch(l.WapDrop,function(){}),(0,v.markRecording)(r.props.chat),r.setState({state:"delay"}),r.props.onRecState(!0),r.pttTimer=r.props.setTimeout(r.onPTTReady,1500),r.startInterval()}).catch(c.Unmount,function(){e.then(function(e){return b.stop(e)}).catch(function(){})}).catch(c.GUM.NotAllowedError,function(){s.default.openModal(i.createElement(d.default,{messaging:f.Messaging.MIC_FAIL,type:d.default.TYPE.GUIDE_UNBLOCK}))}).catch(c.GUM.GUMError,function(){s.default.openModal(i.createElement(d.default,{messaging:f.Messaging.MIC_MISSING,type:d.default.TYPE.GUIDE_NONE}))}).catch(function(e){r.recorder&&r.recorder.stop(),h.default.error("PTT Recording Error")(e)})}},r.state={state:"ready",active:null,elapsed:0},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(window,"blur",this.cancelRecording)}},{key:"componentWillUnmount",value:function(){}},{key:"startInterval",value:function(){this.clearInterval(),this.elapsedInterval=this.props.setInterval(this._incElapsed,1e3)}},{key:"clearInterval",value:function(){null!=this.elapsedInterval&&(this.props.clearInterval(this.elapsedInterval),this.elapsedInterval=null),this.setState({elapsed:0})}},{key:"cancelPTTTimer",value:function(){null!=this.pttTimer&&(this.props.clearTimeout(this.pttTimer),this.pttTimer=null)}},{key:"render",value:function(){var e=this,t=this.state.state,n=(0,a.default)(E.default.btnBorder,{[E.default.isHover]:"cancel"===this.state.active}),r=(0,a.default)(E.default.btnBorder,{[E.default.isHover]:"send"===this.state.active}),s="delay"===t||"recording"===t?i.createElement(w.default,{displayName:"PTT",popable:!0,escapable:!0},i.createElement("div",{className:E.default.recording,key:"recording"},i.createElement("button",{"data-a8n":u.default.key("ptt-cancel-btn"),className:n,onMouseOver:this.onMouseOverCancel,onMouseOut:this.onMouseOutCancel,onMouseUp:this.onMouseUpCancel,"data-animate-btn-border":!0},i.createElement("div",{className:(0,a.default)(E.default.btnBorderIcon,E.default.btnStateDefault)},i.createElement(O.default,{name:"round-x"})),i.createElement("div",{className:(0,a.default)(E.default.btnBorderIcon,E.default.btnStateHover)},i.createElement(O.default,{name:"round-x-inv"}))),i.createElement("div",{className:E.default.pttCounter,"data-animate-ptt-counter":!0},o.default.unix(this.state.elapsed).format("m:ss")),i.createElement("button",{"data-a8n":u.default.key("ptt-send-btn"),className:r,onMouseOver:this.onMouseOverSend,onMouseOut:this.onMouseOutSend,onMouseUp:this.onMouseUpSend,"data-animate-btn-border":!0},i.createElement("div",{className:(0,a.default)(E.default.btnBorderIcon,E.default.btnStateDefault)},i.createElement(O.default,{name:"round-send"})),i.createElement("div",{className:(0,a.default)(E.default.btnBorderIcon,E.default.btnStateHover)},i.createElement(O.default,{name:"round-send-inv"}))))):null,l=this.startRecord,c=this.props.checkForMicrophoneAccess;c&&(l=function(){c&&c().then(function(t){t&&e.startRecord()})});var f="ready"===t||"processing"===t?i.createElement("button",{"data-a8n":u.default.key("ptt-ready-btn"),className:E.default.btnPtt,onMouseDown:l,disabled:"processing"===t,key:"button"},i.createElement(O.default,{name:"ptt"})):null,d=(0,a.default)(E.default.container,{[E.default.active]:!!s});return i.createElement("div",{className:d},i.createElement(P.default,{transitionName:"ptt"},s||f))}}]),t}();T.displayName="PTTBase",t.default=(0,y.default)((0,S.default)((0,p.default)(T)))},ccicaaeiaa:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCollator=function(){return u};var r=i(n("bbchdeehff")),a=i(n("baagejbchg")),o=i(n("bjigbaghc"));function i(e){return e&&e.__esModule?e:{default:e}}var u=void 0;s(),r.default.on("set_locale",s);function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.default.L10N.DEFAULT;if(window.Intl&&window.Intl.Collator){var t=window.Intl.Collator([e],{sensitivity:"base"});u={compare(e,n){try{return t.compare(e,n)}catch(e){return 0}}}}else u={compare:(e,t)=>e.localeCompare(t)}}t.default=function(e,t){var n=e.id.toString(),r=t.id.toString();if(n===o.default.me.toString())return 1;if(r===o.default.me.toString())return-1;var a=e.name,i=t.name;if(!a&&i)return 1;if(a&&!i)return-1;if(a&&i&&e.header&&t.header){var s=u.compare(e.header,t.header);return 0===s?u.compare(a,i):s}return n&&r?n.localeCompare(r):-1}},cciecbcgbi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.onFrameChange,n=e.animationFrames,r=e.maxLoops,a=e.maxDuration,i=e.signal;if(i.aborted)return Promise.reject(new o.default);if(0===n.length)return Promise.resolve();var u=n.reduce(function(e,t){var n=t.duration;return e+n},0),s=(new Date).getTime(),l=0,c=0,f=0,d=s,p=function(){};return new Promise(function(e,s){var h=function(){0!==l&&window.cancelAnimationFrame(l),s(new o.default)};i.addEventListener("abort",h),p=function(){i.removeEventListener("abort",h)};l=window.requestAnimationFrame(function o(){var i=(new Date).getTime();if(i<d)return void(l=window.requestAnimationFrame(o));var s=n[f],p=s.duration,h=s.rgbaBuffer;if(t(h),f=(f+1)%n.length,d=i+p,1===f){if((c+1)*u>a)return void e();if(c>=r)return void e();c++}l=window.requestAnimationFrame(o)})}).finally(function(){p()})};var r,a=n("cgijjjgici"),o=(r=a)&&r.__esModule?r:{default:r}},ccihhdchab:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionToast=t.ActionType=t.ToastPosition=void 0;var r=l(n("cifjgjcead")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.genId=function(e){return(0,r.default)(e||"action_toast")};var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=n("bfjajhbdf"),u=l(n("bbchdeehff")),s=l(n("fbjjefaic"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var d=t.ToastPosition={LEFT:"LEFT",RIGHT:"RIGHT"};t.ActionType=function e(t,n,r){if(f(this,e),!t)throw new Error("ActionType must have text!");if(n&&!r||r&&!n)throw new Error("ActionType must have an action and a handler or have neither.");this.text=t,this.action=n,this.handler=r};var p=function(e){function t(){var e,n,r;f(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={currentInitialAction:r.props.initialAction,actionType:r.props.initialAction,pending:!0},r.actionPromise=null,r.onAction=function(){r.state.actionType&&r.state.actionType.handler&&r.state.actionType.handler().catch(function(){})},r.onDismiss=function(){u.default.closeToast(r)},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){this.runAction(this.props.pendingAction)}},{key:"componentDidUpdate",value:function(e){e.pendingAction!==this.props.pendingAction&&this.runAction(this.props.pendingAction)}},{key:"runAction",value:function(e){var t=this,n={};this.actionPromise&&this.actionPromise.control.cancel(),this.actionPromise=e.addRejectControl("cancel",function(){return n}).then(function(e){t.setState({actionType:e,pending:!1})}).catch(function(e){return e!==n},function(e){t.setState({actionType:e,pending:!1})}).delay(this.props.settleDuration).addRejectControl("cancel",function(){return n}).then(function(){u.default.closeToast(t)}).catch(function(e){return e===n},function(){}).endWithControls("cancel")}},{key:"render",value:function(){var e=this.state.actionType;if(!e)return null;var t=void 0,n=void 0;return e.action&&e.handler&&(n=o.createElement(i.ToastActionBtn,{buttonText:e.action,onClick:this.onAction})),this.state.pending||(t=o.createElement(i.ToastDismissBtn,{onClick:this.onDismiss})),o.createElement(i.ToastBody,{toastPosition:this.props.toastPosition,actionText:e.text,actionBtn:n,dismissBtn:t})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.initialAction;return n!==t.currentInitialAction?{currentInitialAction:n,actionType:n,pending:!0}:null}}]),t}();p.defaultProps={settleDuration:5e3,toastPosition:d.LEFT},p.displayName="ActionToastClass";t.ActionToast=(0,s.default)(p)},ccijeahddj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadCollections=function(e){Object.assign(o.default,e)};var r,a=n("bhggeigghg"),o=(r=a)&&r.__esModule?r:{default:r}},ccijgeidci:function(e,t){e.exports={shadow:"_37gp4"}},ccjabfdeje:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=E(n("fhfbcdaib")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=E(n("effbcehec")),u=n("dffedeegcb"),s=E(n("djcchigfih")),l=E(n("djbhiedbef")),c=n("dajffajabh"),f=E(c),d=E(n("dgjddffcfg")),p=E(n("fffdgbfji")),h=E(n("ceghjibjjg")),m=E(n("gdfgjiffc")),b=E(n("cdcaigjjii")),g=E(n("cdjhjdcbeg")),v=E(n("bfdcadbbif")),y=E(n("hfhhcchgj")),_=E(n("didfdhbecg"));function E(e){return e&&e.__esModule?e:{default:e}}var j=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onImageSet=function(e,t){n.setState({thumb:e,full:t})},n.onContinue=function(){var e=d.default.emojify(n.state.text.trim());(0,u.createGroup)(e,n.state.thumb,n.state.full,n.props.participants),n.props.onContinue()},n.onSubjectChange=function(e){n.setState({text:e})},n.setRefEmojiInput=function(e){n.refEmojiInput=e},n.state={text:e.subject||"",thumb:e.thumb,full:e.full},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){this.refEmojiInput&&this.refEmojiInput.restoreFocus()}},{key:"render",value:function(){var e=this.state.text.trim().length>0,t=e?o.createElement("div",{className:h.default.nextButton},o.createElement(g.default,{a8nText:"create-group-btn",onClick:(0,r.default)(this.onContinue)},o.createElement(v.default,{name:"checkmark-light"}))):null;return o.createElement(s.default,null,o.createElement(f.default,{title:p.default.t(840),type:c.DRAWER_HEADER_TYPE.LARGE,onBack:this.props.onBack}),o.createElement(l.default,null,o.createElement("div",{className:h.default.section},o.createElement(m.default,{type:b.default.GROUP,attachToChat:!1,startImage:this.state.full,onImageSet:this.onImageSet})),o.createElement("div",{"data-a8n":i.default.key("group-subject"),className:h.default.section},o.createElement(y.default,{ref:this.setRefEmojiInput,value:this.state.text,maxLength:25,showRemaining:!0,onChange:this.onSubjectChange,placeholder:p.default.t(551),onEnter:e?(0,r.default)(this.onContinue):function(){},supportsEmoji:!0})),o.createElement(_.default,{transitionName:"btn"},t)))}}]),t}();j.displayName="NewGroupDrawer",t.default=j},ccjagcdajg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=c(n("baagejbchg")),i=n("cgbdcdhgig"),u=c(n("ihfccfgdf")),s=c(n("bdacfjbfhj")),l=c(n("egjjcjcg"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){var e,n,r;f(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={hasSentPlayed:!1},r.mediaBlobWasDownloadedBeforeMount=Boolean(r.props.mediaData.mediaBlob),r.videoRef=null,r.setRefVideo=function(e){if(r.videoRef!==e&&(r.videoRef=e,e)){var t=l.default.getVideoVolumeSettings();t&&("number"==typeof t.volume&&e.setVolume(t.volume),"boolean"==typeof t.muted&&e.setMuted(t.muted))}},r.onSendPlayed=function(){var e=r.videoRef;e&&(e.getCurrentTime()/e.getDuration()>.5||e.getCurrentTime()>10)&&((0,i.markPlayed)(r.props.msg),r.setState({hasSentPlayed:!0}))},r.onLoadedMetadata=function(e){var t=r.props.mediaData.aspectRatio,n=0!==e.videoWidth&&0!==e.videoHeight?e.videoWidth/e.videoHeight:void 0;(!t&&null!=n&&0!==n||t&&null!=n&&0!==n&&Math.abs(n-t)>.01)&&r.props.mediaData.set({aspectRatio:n}),r.props.onLoadedMetadata(e)},r.play=function(){var e=r.videoRef;e&&e.getPaused()&&e.play()},r.pause=function(){var e=r.videoRef;e&&(e.getPaused()||e.pause())},r.getPaused=function(){return!r.videoRef||r.videoRef.getPaused()},r.getCurrentTime=function(){return r.videoRef?r.videoRef.getCurrentTime():0},r.setCurrentTime=function(e){r.videoRef&&r.videoRef.setCurrentTime(e)},r.getDuration=function(){return r.videoRef?r.videoRef.getDuration():0},r.getVolume=function(){return r.videoRef?r.videoRef.getVolume():0},r.setVolume=function(e){r.videoRef&&r.videoRef.setVolume(e)},r.getMuted=function(){return!!r.videoRef&&r.videoRef.getMuted()},r.setMuted=function(e){r.videoRef&&r.videoRef.setMuted(e)},d(r,n)}return p(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.msg,r=t.mediaData,u=r.mediaBlob,l=void 0,c=r.streamable&&r.isStreamable();l=!this.mediaBlobWasDownloadedBeforeMount&&c||!u?r.streamable&&r.isStreamable()?`${o.default.VIDEO_STREAM_URL}?key=${this.props.msg.id.toString()}`:void 0:u.url();var f=!this.state.hasSentPlayed&&(0,i.canMarkPlayed)(n)?this.onSendPlayed:void 0;return a.createElement(s.default,{ref:this.setRefVideo,url:l,startTime:this.props.startTime,poster:this.props.poster,className:this.props.className,onVolumeChange:this.props.onVolumeChange,onEnded:this.props.onEnded,onError:this.props.onError,onPause:this.props.onPause,onPlaying:this.props.onPlaying,onProgress:this.props.onProgress,onTimeUpdate:function(t){f&&f(),e.props.onTimeUpdate(t)},onLoadedMetadata:this.onLoadedMetadata,autoPlay:this.props.autoPlay},t.children)}}]),t}();h.CONCERNS={msg:["id","isSentByMe","ack","type","isGif"],mediaData:["mediaBlob","streamable","aspectRatio"]},h.displayName="MsgVideoTag";var m=(0,u.default)(h,h.CONCERNS),b=function(e){function t(){var e,n,r;f(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.play=function(){r.getComponent().play()},r.pause=function(){r.getComponent().pause()},r.getPaused=function(){return r.getComponent().getPaused()},r.getCurrentTime=function(){return r.getComponent().getCurrentTime()},r.setCurrentTime=function(e){r.getComponent().setCurrentTime(e)},r.getDuration=function(){return r.getComponent().getDuration()},r.getVolume=function(){return r.getComponent().getVolume()},r.setVolume=function(e){r.getComponent().setVolume(e)},r.getMuted=function(){return r.getComponent().getMuted()},r.setMuted=function(e){r.getComponent().setMuted(e)},d(r,n)}return p(t,m),t}();t.default=b},ccjbgacbad:function(e,t){e.exports={checkboxChatWrapper:"ZnBGP",checkboxChatControl:"A6bRq"}},ccjgccbced:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=N(n("dcdbaegdhb")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=N(n("ceffhbhahb")),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=N(n("dhjeadeagb")),s=N(n("cehjjfagii")),l=N(n("cadbaeefbb")),c=N(n("jhcabjcaf")),f=N(n("dbdfbgehgj")),d=N(n("bbchdeehff")),p=N(n("baagejbchg")),h=N(n("biddiiafgd")),m=N(n("dhigahgdjb")),b=N(n("ddihbaicfd")),g=N(n("bhcegecbha")),v=N(n("fifhbjiec")),y=n("ddjgcfjicj"),_=N(n("bjbdcigbdi")),E=n("gaifbabbj"),j=N(n("cieaeggjg")),O=N(n("bahgfcjcda")),S=N(n("ihfccfgdf")),w=n("bheafeifce"),P=N(n("bfdcadbbif")),M=N(n("cgfjebhhej")),C=N(n("cccicaceef")),T=N(n("ciddcjeaij")),A=N(n("bihdhbjih"));function N(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var I=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=r=k(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.onMessageClick=function(){var e=r.props.msg.getWAids();e&&(e.length>1&&r.props.msg.vcard?d.default.openModal(i.createElement(T.default,{icon:i.createElement(P.default,{name:"chat",directional:!0}),vCard:r.props.msg.vcard,onCancel:function(){return d.default.closeModal()},onSelect:r.openContactChat})):e.length>0&&r.openContactChat(e[0]))},r.onViewContact=function(){r.props.msg.vcard?d.default.openModal(i.createElement(b.default,{vcard:r.props.msg.body})):d.default.openModal(i.createElement(h.default,{onCancel:function(){return d.default.closeModal()},onOK:function(){d.default.closeModal(),g.default.initDownload((0,w.unproxy)(r.props.msg))},okText:l10n.t(1149),cancelText:l10n.t(1153),title:l10n.t(397)},l10n.t(396)))},r.onAddToGroupClick=function(){var e=r.props.msg.getWAids();e&&(e.length>1&&r.props.msg.vcard?d.default.openModal(i.createElement(T.default,{icon:i.createElement(P.default,{name:"add-user",directional:!0}),vCard:r.props.msg.vcard,onCancel:function(){return d.default.closeModal()},onSelect:r.addContactToGroup})):e.length>0&&r.addContactToGroup(e[0]))},k(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"openContactChat",value:function(e){var t=_.default.supportsFeature(_.default.F.QUERY_VNAME)&&!m.default.get(e);f.default.find(e).then(function(n){d.default.closeModal(),d.default.openChatFromUnread(n).then(function(e){e&&d.default.focusChatTextInput(n)}),t&&A.default.queryExist(e).then(function(t){200===t.status&&t.biz&&A.default.queryVname(e).catch(y.WapDrop,function(){})})})}},{key:"addContactToGroup",value:function(e){m.default.find(e).then(function(e){d.default.openModal(i.createElement(u.default,{contact:e,pushTransition:"none",popTransition:"none"}),{transition:"modal-flow"})})}},{key:"render",value:function(){var e=this.props.msg,t=e.getWAids(),n=(0,r.default)(e.subtype||l10n.t(191),{length:120,omission:l10n.t(914)}),a=void 0;t&&t.length>0&&(a=i.createElement(l.default,{items:[{label:l10n.t(705),onClick:this.onMessageClick,title:l10n.t(708,{author:n})},{label:l10n.t(165),onClick:this.onAddToGroupClick}]}));var u=this.props.displayAuthor&&!e.isSentByMe&&e.isGroupMsg?i.createElement("div",{className:C.default.author},i.createElement(s.default,{msg:e,contact:e.senderObj})):null,f=this.props.quotedMsg?i.createElement("div",{className:C.default.quote},this.props.quotedMsg):null,d=(0,o.default)(C.default.bubble,{[C.default.hasAuthor]:u,[C.default.hasQuote]:f,[C.default.isPreview]:this.props.displayType===p.default.DISP_TYPE.MSG_INFO,[C.default.isGallery]:this.props.displayType===p.default.DISP_TYPE.STARRED_MSGS||this.props.displayType===p.default.DISP_TYPE.GALLERY}),h=this.props.msg.vcard||this.props.msg.chat.isTrusted(),m=h?this.onViewContact:function(){},b=E.Configuration.Compatibility({selectable:!0});return i.createElement(c.default,{className:d,contact:e.senderObj,msg:e},u,f,i.createElement("div",{className:C.default.vcard,role:h?"button":null,onClick:m},i.createElement("div",{className:C.default.avatar},i.createElement(O.default,{size:49,thumb:M.default.thumbnail(e.body),waid:e.getVCardThumbnailWAid()})),i.createElement("div",{className:C.default.body},i.createElement(v.default,{text:n,element:"div",className:C.default.name,selectable:!0,dirMismatch:e.rtl!==l10n.isRTL(),direction:e.dir,formatters:b})),i.createElement("div",{className:C.default.meta},i.createElement(j.default,{msg:e}))),a)}}]),t}();I.CONCERNS={msg:["vcard","isQuoted","body","subtype","rtl","dir","isSentByMe","isGroupMsg","senderObj","chat"]},I.displayName="Vcard",t.default=(0,S.default)(I,I.CONCERNS)},cdaacjiegb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatOversizedMsgText=function(e){return o.default.isElectron?l10n.t(874):l10n.t(875)},t.formatOversizedMsgNotification=function(e){return l10n.t(875)};var r,a=n("bcjcbbafcj"),o=(r=a)&&r.__esModule?r:{default:r}},cdaaeifjfh:function(e,t){e.exports={buttons:"_3cBNw",button:"_3kZj4"}},cdaddeffii:function(e,t){e.exports={context:"_15CAo",contextIn:"_2Nkc4",contextOut:"_3EQsG",contextIcon:"_2-qoA",contextSpecial:"_3WZEQ",contextInverse:"_38wik",contextMedia:"_1eJVc",contextMediaLtr:"_20WGU",contextMediaRtl:"_2IaZT",contextMediaDocument:"gTQOV",contextIconMedia:"_3MU5v",contextDoc:"_3ZNgA",contextPtt:"_1TDSM",contextPttFix:"_3Bm9i",contextMultiVcard:"_2rg5w",contextStickerAuthor:"_3kHVU",contextStickerTransparent:"_2PpWQ",badge:"_1j7jW",contextStickerInverse:"I3gU2"}},cdadhagibj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n("iffjgahba"),o=(r=a)&&r.__esModule?r:{default:r};var i=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=null!=n&&null!=n.url?`${e}: ${n.url}`:e;return function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,(0,o.default)("HttpInvalidResponseError")),t}();t.default=i},cdaedfafjc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StickerPack=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("dcaifjegcg"),o=l(a),i=l(n("bffjfbgbg")),u=n("daichdjff"),s=l(n("cgejbjhjej"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f="image/png",d=function(e){var t=e.index,n=e.page;return new h({id:`placeholder:${t}`,index:t,page:n})},p=t.StickerPack=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.id=(0,a.prop)(),r.index=(0,a.prop)(),r.name=(0,a.prop)(),r.page=(0,a.prop)(),r.url=(0,a.prop)(),r.mimetype=(0,a.prop)(f),r.mediaData=(0,a.session)(),r.mediaObject=(0,a.prop)(),r.directPath=(0,a.prop)(),r.filehash=(0,a.prop)(),r.mediaKey=(0,a.prop)(),r.mediaKeyTimestamp=(0,a.prop)(),r.size=(0,a.prop)(),r.type=(0,a.prop)(u.OUTWARD_TYPES.IMAGE),r.uploadhash=(0,a.prop)(),r.clientUrl=(0,a.derived)(r._clientUrl,["url","isFirstParty"]),r.stickers=(0,a.derived)(r._getStickersCollection,["id"]),r.isPlaceholder=(0,a.derived)(r._isPlaceholder,["id"]),r.isFirstParty=(0,a.derived)(r._isFirstParty,["url","mediaKey"]),c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"_clientUrl",value:function(){return this.isFirstParty?"":this.url}},{key:"_isPlaceholder",value:function(){return t.isPlaceholderId(this.id)}},{key:"_isFirstParty",value:function(){return Boolean(this.url)&&!this.mediaKey}},{key:"_getStickersCollection",value:function(){return this._stickers=this._stickers||new s.default(this.id.split("#")[0]),this._stickers}},{key:"initialize",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this),this.isPlaceholder||this.isFirstParty||(this.addChild("mediaData",new i.default({renderableUrl:""})),n("ddgbhifaji").registerStickerPackIcon(this))}},{key:"downloadMedia",value:function(){this.isPlaceholder||this.isFirstParty||n("ddgbhifaji").downloadStickerOrStickerPackIcon(this,"STICKER_PACK")}}]),t}();p.Proxy="stickerPack",p.createPlaceholder=d,p.isPlaceholderId=function(e){return new RegExp("^placeholder:").test(e)};var h=(0,a.defineModel)(p);t.default=h,h.createPlaceholder=d,h.isPlaceholderId=p.isPlaceholderId},cdagfedaaf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.startOfDaySkew;if(void 0!==t&&t>a.default.skew-30&&t<a.default.skew+30)return e.startOfDay;return e.startOfDaySkew=a.default.skew,e.startOfDay=r.default.unix(e.t+a.default.skew).startOf("day").unix()};var r=o(n("dgdjiicfdg")),a=o(n("cfadcbbiie"));function o(e){return e&&e.__esModule?e:{default:e}}},cdbcigcahd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n("ceffhbhahb")),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=u(n("dgefajbgai")),i=n("eagfdbhhhh");function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.title,n=e.icon,u=e.onClick,s=e.children,l=(0,r.default)(o.default.itemBody,{[o.default.row]:n}),c=(0,r.default)({[o.default.main]:n}),f=(0,r.default)({[o.default.side]:n});return a.createElement("div",{className:o.default.item,onClick:u,role:u?"button":""},a.createElement("div",{className:l},a.createElement("div",{className:c,dir:"auto"},a.createElement(i.SelectableDiv,{className:o.default.primary,selectable:!0},t),a.createElement("div",{className:o.default.secondary},s)),a.createElement("div",{className:f},n)))};s.displayName="DrawerItem",t.default=s},cdbfiiicdg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n("bdfbccfifg"),o=(r=a)&&r.__esModule?r:{default:r};var i=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n.id))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),t}();i.policy=a.CACHE_POLICY_TYPE.NONE,t.default=i},cdbgdedbdh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.aspectRatioScaled=function(e,t){return"number"!=typeof e||e<0||e!=e?{width:t,height:t}:e>1?{width:t,height:Math.max(t/e,1)}:{width:Math.max(t*e,1),height:t}},t.containModeSize=function(e,t){var n=void 0;n=e>t.width/t.height?t.width:t.height*e;return{width:n,height:n/e}},t.boundHeightWidth=function(e,t,n){var r=null!=t?t:n,a=null!=e?e:n;r>a?r>n&&(a*=n/r,r=n):a>n&&(r*=n/a,a=n);return{width:Math.max(r,1),height:Math.max(a,1)}},t.determineHeightFromAspect=function(e,t){if(!e)return t;var n=void 0;n=e<=1?t:e<=2.4?t/e:t/2.4;return Math.round(n)},t.rotatePoint=function(e,t,n){var r=n*Math.PI/180;return{x:Math.cos(r)*e+Math.sin(r)*t,y:-Math.sin(r)*e+Math.cos(r)*t}}},cdcaigjjii:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={GROUP:"GROUP",PROFILE:"PROFILE"}},cdcbgdeab:function(e,t){e.exports={pager:"_3j_mW",pagerLeft:"Hh963",pagerRight:"_3WJ6c",pagerDisabled:"_3tHA6",body:"_3MoCW",section:"_J-Y0",searchRow:"_2NkaG"}},cdcfgefbba:function(e,t){e.exports={container:"_11FF7",body:"_3bY6N",footer:"_2HyTU",retakeBtn:"_3C0e6",retakeIcon:"_37zqu",caption:"_3iVC4",videoContainer:"_2On8w",video:"_1A1HX",videoInactive:"_2bPbZ",btn:"_1cZ2V",btnSend:"_3Mn8m",image:"_2pRfq",snapshot:"_30MUA"}},cdcijfdgje:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LiveLocationCollection=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=m(n("cgcgbfbffj")),i=m(n("cfadcbbiie")),u=m(n("baagejbchg")),s=m(n("dhigahgdjb")),l=n("ddjgcfjicj"),c=m(n("bieicghjif")),f=m(n("bdiiahhjbe")),d=n("hjbbdjjdf"),p=m(n("bihdhbjih")),h=m(n("jccfhaecf"));function m(e){return e&&e.__esModule?e:{default:e}}var b=t.LiveLocationCollection=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),a(t,[{key:"_find",value:function(e){var t=this;return h.default.isUser(e)||h.default.isGroup(e)?p.default.subscribeLiveLocation(e,!0).then(function(n){if(n.status&&n.status>=400)return 499===n.status?f.default.log("liveLocation:subscribe query not implemented on the phone")():f.default.error("model:LiveLocation:_find error "+n.status)(),Promise.reject(n.status);var a=(0,d.isNumber)(n.duration)?n.duration:void 0,o=n.participants?n.participants.map(function(e){return r({},t._extractLocationFields(e),{id:e.id,expiration:0===e.expiration?1/0:e.expiration})}):[];return{id:e,duration:a,participants:o}}):Promise.reject(new Error("invalid wid for live location: "+e))}},{key:"getActive",value:function(e){var t=this;return h.default.isUser(e)||h.default.isGroup(e)?p.default.queryActiveLiveLocation(e).then(function(n){if(n.status&&n.status>=400)return 499===n.status?f.default.log("liveLocation:participant query not implemented on the phone")():f.default.error("model:LiveLocation:getActive error "+n.status)(),Promise.reject(n.status);if(n.participants&&n.participants.length){var r=n.participants.map(function(e){return{id:e.id,expiration:0===e.expiration?1/0:e.expiration}});t.add({id:e,participants:r},{merge:!0})}}).catch(l.WapDrop,function(){}):Promise.reject(new Error("invalid wid for live location: "+e))}},{key:"onResume",value:function(){var e=this;this.filter(function(e){return e.active&&e.hasParticipants()}).forEach(function(t){e.update(t.id)})}},{key:"handle",value:function(e){var t=this;Array.isArray(e)?e.forEach(function(e){switch(e.type){case"update":var n=t._extractLocationFields(e),r=s.default.get(e.jid);r&&r.liveLocations&&r.liveLocations.forEach(function(e){return e.set(n)});break;case"disable":var a=t.get(e.chat);if(a){var o=a.participants.get(e.jid);o&&(e.seq>o.sequence||-1===e.seq)&&o.disable()}break;default:f.default.error("models:liveLocation:handle unknown type: "+e.type)(e)}}):f.default.error("models:liveLocation:handle unrecognized payload")(e)}},{key:"processMsg",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];f.default.assert(e.type===u.default.MSG_TYPE.LOCATION&&e.isLive,"collection:liveLocation trying to process non live-location msg")();var n=e.id.remote,r=e.lat,a=e.lng,o=e.accuracy,s=e.speed,l=e.degrees,c=e.sequence,d=e.comment,p=e.shareDuration,h=e.t;if(h&&p){var m=h+p;if(!(m<=i.default.globalUnixTime())){var b={id:e.sender,lat:r,lng:a,accuracy:o,speed:s,degrees:l,sequence:c,comment:d,expiration:m,lastUpdated:h,msg:e};-1===c&&delete b.sequence;var g=this.get(n);if(g){var v=g.participants.get(b.id);if(t)return void(v&&v.lastUpdated<=b.lastUpdated&&v.set(b));if(v&&g.participants.removeParticipant(v),g.hasParticipants())return void g.participants.add(b)}this.add({id:n,participants:[b]})}}}},{key:"removeMsg",value:function(e){f.default.assert(e.type===u.default.MSG_TYPE.LOCATION&&e.isLive,"collection:liveLocation trying to remove non live-location msg")();var t=e.id.remote,n=e.sender,r=this.get(t);r&&r.participants.remove(n)}},{key:"_extractLocationFields",value:function(e){return void 0===e.lat||void 0===e.lng?{}:{lastUpdated:i.default.globalUnixTime()-e.elapsed,lat:e.lat,lng:e.lng,accuracy:e.accuracy,speed:e.speed,degrees:e.degrees,comment:e.comment}}}]),t}();b.model=c.default,b.staleCollection=!0,b.resumeOnAvailable=!0,t.default=new b},cddgaecgia:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n("iffjgahba"),o=(r=a)&&r.__esModule?r:{default:r};var i=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=null!=n&&null!=n.url?`${e}: ${n.url}`:e;return function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,(0,o.default)("HttpNetworkError")),t}();t.default=i},cddgbhafgj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSDPAnswer=function(e,t,n){var r=`v=0\no=- 7173087711463101159 2 IN IP4 127.0.0.1\ns=-\nt=0 0\na=group:BUNDLE 0${n?" 1":""}\na=msid-semantic: WMS g1noOjzcjYNgtJfnKdCzBmyvTozKsCGWCleP\nm=audio ${t} RTP/SAVP 111\nc=IN IP4 ${e}\na=rtcp:9 IN IP4 0.0.0.0\na=candidate:1152096416 1 udp 2113937151 ${e} ${t} typ host generation 0 network-cost 999\na=ice-ufrag:TrwD\na=ice-pwd:NbygVa9sevLY/DCcLXRqzqMZ\na=ice-options:trickle\na=setup:active\na=mid:0\na=sendrecv\na=msid:g1noOjzcjYNgtJfnKdCzBmyvTozKsCGWCleP df375ff4-7ed5-459d-b991-76c8e47ffc52\na=rtcp-mux\na=crypto:0 AES_CM_128_HMAC_SHA1_32 inline:yxbmKU33QOpzK9mh2c5O2S/kPqWqrEdu08+tQFhp\na=rtpmap:111 opus/48000/2\na=ssrc:4084429388 cname:noAs9WOptAnM/+QP\n`;n&&(r+=`m=video ${t} RTP/SAVP 96\nc=IN IP4 ${e}\na=rtcp:9 IN IP4 0.0.0.0\na=candidate:1152096416 1 udp 2113937151 ${e} ${t} typ host generation 0 network-cost 999\na=ice-ufrag:TrwD\na=ice-pwd:NbygVa9sevLY/DCcLXRqzqMZ\na=ice-options:trickle\na=mid:1\na=extmap:12 urn:3gpp:video-orientation\na=sendrecv\na=msid:ZhweKKCOEinfZyYuSPSvnC7upm9Zs0IIaRYb 629eaf55-18ca-47ed-8bfe-98dfd17c0bc9\na=rtcp-mux\na=crypto:0 AES_CM_128_HMAC_SHA1_32 inline:yxbmKU33QOpzK9mh2c5O2S/kPqWqrEdu08+tQFhp\na=rtpmap:96 VP8/90000\na=ssrc:3309512937 cname:rcpcNyS/Kejuq2+Y\n`);return{type:"answer",sdp:r}}},cdeaahaeee:function(e,t){e.exports={updateWrapper:"_3eMSw",updateTitle:"W5vNF",uploadButtons:"_1my7I",buttonContainer:"_385o1",outStatusPanel:"_3MBzN",outDetail:"_2jgce",seen:"_1Yxff",timestamp:"_1Wv89",placeholderIcon:"AOhCd",placeholderText:"ojaNO",viewWrapper:"_2Erv5",viewTitle:"_3PAk1",viewUpdates:"_13BGY",statusImage:"_3Karf",seenCount:"_1yzfb"}},cdebbfjhbf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=c(n("bbchdeehff")),i=c(n("bcbahjefec")),u=c(n("eceadcicaf")),s=c(n("iibiehcaf")),l=c(n("gcbiehega"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.sessionId=Math.round(1e9*Math.random()),r.openStatusViewer=function(e,t,n){r.push(a.createElement(l.default,{initialStatusV3:e,initialStatusMsg:t,closeStatusViewer:r.closeStatusViewer,sessionId:r.sessionId,rowIdx:n}),"none")},r.closeStatusViewer=function(e){e?r.end():r.pop("none")},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,[{key:"componentDidMount",value:function(){var e=this;this.push(a.createElement(s.default,{onOpenStatus:this.openStatusViewer,closeStatusViewer:this.closeStatusViewer,sessionId:this.sessionId}),"status-v3-modal"),this.props.listeners.add(o.default,"close_status_viewer",function(){e.closeStatusViewer(!0)})}},{key:"componentWillUnmount",value:function(){this.props.onFlowEnd()}}]),t}();t.default=(0,u.default)(d)},cdebehabcj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cleanJPEG=function(e){var t=new o.default(e),n=new o.default(e),r=new o.default,a=!1,l=!1,c=!1,f=!1,d=void 0,p={version:257,densityUnits:0,xDensity:1,yDensity:1};if(t.readUint8()!==i||t.readUint8()!==u.SOI)throw new Error("SOI marker not at the start of the file.");n.advance(2);var h=void 0;for(;null!=h||t.size();){if(void 0===h){var m=t.readUint8();if(m!==i)throw new Error(`0x${m.toString(16)} is not a marker prefix.`);h=t.readUint8()}switch(h){case u.APP0:if(l)d=t.readUint16(),n.advance(d+2),t.advance(t.size()-n.size());else{if(d=t.readUint16(),"JFIF\0"!==t.readString(5))throw new Error("APP0 marker missing 'JFIF' magic bytes.");f=!0,p.version=t.readUint16(),p.densityUnits=t.readUint8(),p.xDensity=t.readUint16(),p.yDensity=t.readUint16(),n.advance(d+2),t.advance(t.size()-n.size()),l=!0}break;case u.SOS:if(!c&&!f)throw new Error("Missing magic bytes marker.");t.advance(t.readUint16()-2);for(var b=void 0,g=t.readUint8();t.size();){if(b=t.readUint8(),g===i&&!s.includes(b)){h=b;break}g=b}r.writeByteArray(n.readByteArray(n.size()-t.size()-2));continue;case u.APP1:if(d=t.readUint16(),!c&&"Exif\0\0"!==t.readString(6))throw new Error("APP1 marker missing 'EXIF' magic bytes.");c=!0,n.advance(d+2),t.advance(t.size()-n.size());break;case u.APP13:case u.COM:if(!c&&!f)throw new Error("Missing magic bytes marker.");d=t.readUint16(),n.advance(d+2),t.advance(t.size()-n.size());break;case u.EOI:if(!c&&!f)throw new Error("Missing magic bytes marker.");a=!0,r.writeByteArray(n.readByteArray(2));break;case u.SOF0:case u.SOF1:case u.SOF2:case u.SOF3:case u.SOF5:case u.SOF6:case u.SOF7:case u.SOF9:case u.SOF10:case u.SOF11:case u.SOF13:case u.SOF14:case u.SOF15:case u.DQT:case u.DHT:case u.DRI:if(!c&&!f)throw new Error("Missing magic bytes marker.");d=t.readUint16(),r.writeByteArray(n.readByteArray(2+d)),t.advance(t.size()-n.size());break;case u.APP2:case u.APP3:case u.APP4:case u.APP5:case u.APP6:case u.APP7:case u.APP8:case u.APP9:case u.APP10:case u.APP11:case u.APP12:case u.APP14:case u.APP15:throw new Error(`Received unexpected APP marker 0x${h.toString(16)}`);default:throw new Error(`Did not understand marker: 0x${h.toString(16)}`)}if(h=void 0,a)break}if(!a)throw new Error("No EOI tag found.");var v=function(e){var t=new o.default;return t.writeBytes(255,216,255,224,0,16,74,70,73,70,0),t.writeUint16(e.version),t.writeUint8(e.densityUnits),t.writeUint16(e.xDensity),t.writeUint16(e.yDensity),t.writeBytes(0,0),t.readByteArray()}(p);return new Blob([v,r.readByteArray()],{type:"image/jpeg"})};var r,a=n("dbajccegac"),o=(r=a)&&r.__esModule?r:{default:r};var i=255,u={SOF0:192,SOF1:193,SOF2:194,SOF3:195,DHT:196,SOF5:197,SOF6:198,SOF7:199,SOF9:201,SOF10:202,SOF11:203,SOF13:205,SOF14:206,SOF15:207,RST0:208,RST1:209,RST2:210,RST3:211,RST4:212,RST5:213,RST6:214,RST7:215,SOI:216,EOI:217,SOS:218,DQT:219,DRI:221,APP0:224,APP1:225,APP2:226,APP3:227,APP4:228,APP5:229,APP6:230,APP7:231,APP8:232,APP9:233,APP10:234,APP11:235,APP12:236,APP13:237,APP14:238,APP15:239,COM:254},s=[0,u.RST0,u.RST1,u.RST2,u.RST3,u.RST4,u.RST5,u.RST6,u.RST7]},cdeciahhed:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=n("dfdebdgdei"),u=p(n("bbchdeehff")),s=p(n("bcbahjefec")),l=n("cjcffhicea"),c=p(l),f=n("dbbhhgjjbg"),d=p(n("bfgbdiffgd"));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.onForwardConfirmed=function(e){var t=r.props.msgText;if(1===e.length){var n=e[0];(n.isUser&&n.contact.isBlocked()?(0,i.unblockContact)(n.contact):Promise.resolve(!0)).then(function(e){if(t){if(n.urlText=r.props.urlText,n.active)return void u.default.pasteChatTextInput(n,t);n.setComposeContents({text:t})}return u.default.openChatFromUnread(n).then(function(e){e&&u.default.focusChatTextInput(n)})})}else Promise.map(e,function(e){(e.isUser&&e.contact.isBlocked()?(0,i.unblockContact)(e.contact):Promise.resolve(!0)).then(function(n){e.urlText=r.props.urlText,(0,f.sendTextMsgToChat)(e,t)})}),u.default.openChatFromUnread(e[0]);r.end()},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),a(t,[{key:"componentDidMount",value:function(){this.push(o.createElement(c.default,{onChat:this.onForwardConfirmed,maxItems:this.props.serverProps.multicastLimitGlobal,title:l10n.t(749),listType:l.ListType.CHAT_SELECT_MODAL}))}}]),t}();t.default=function(e){return o.createElement(m,r({},e,{serverProps:d.default}))}},cdegajchcj:function(e,t){e.exports={shade:"_3TrQs"}},cdegfghcid:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=i(n("fffdgbfji")),o=i(n("bijdjchach"));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.count;return r.createElement("span",{className:o.default.count},t>0?a.default.n(t):null)}u.displayName="UnreadCount"},cdejbeiiha:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("ecbafeecfe");Object.defineProperty(t,"JSXSerializer",{enumerable:!0,get:function(){return i(r).default}});var a=n("gbfcbchfd");Object.defineProperty(t,"TextSerializer",{enumerable:!0,get:function(){return i(a).default}});var o=n("daejhbgabi");function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"UnformatSerializer",{enumerable:!0,get:function(){return i(o).default}})},cdfccifhg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce(function(e,t){return e+t.byteLength},0),a=new Uint8Array(r),o=0;return t.forEach(function(e){a.set(new Uint8Array(e),o),o+=e.byteLength}),a.buffer}},cdffadcgjg:function(e,t,n){"use strict";var r=o(n("bdiiahhjbe")),a=o(n("chfehjfdj"));function o(e){return e&&e.__esModule?e:{default:e}}var i={queryRecentStickers:function(){var e=this;return new Promise(function(t,n){var o=e.queryNode({type:"recent_stickers"},void 0);e.binSend("sendEphemeral",o,n,{onSend:e.binWrap(function(o){e.BinaryProtocol.read(o).then(function(n){r.default.logColor("green","bin-recv: response,recent_stickers",n)();var o=e.N.tag(n);if("response"!==o)throw new Error(`node tage for recent_stickers response is invalid: ${o}`);var i=e.N.attr("type",n);if("recent_stickers"!==i)throw new Error(`node type for recent_stickers response is invalid: ${i}`);var u=parseInt(e.N.attr("code",n),10)||200;if(200!==u)throw new Error(`response status for recent_stickers is invalid: ${u}`);var s=e.N.attr("checksum",n)||"",l=(e.N.children(n)||[]).map(function(t){return(0,a.default)(t,e.N)}).filter(Boolean);t({checksum:s,stickers:l})}).catch(n)},t),onDrop:e.wrap(n)},{debugString:"query,recent_stickers",metricName:"QUERY_RECENT_STICKERS"})})},parseRecentStickersAction:function(e){if("recent_stickers"===this.N.tag(e)&&"delete"===this.N.attr("type",e))return this.N.attr("filehash",e)}};e.exports=i},cdfiibedj:function(e,t){e.exports={container:"ekffg",icon:"_2ZVha",text:"_2UyQS",containerSmallIcon:"_3KaFM"}},cdgdijchcg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SIZES=t.ITEM_SPACING=t.ITEM_WIDTH=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("ceffhbhahb")),i=l(n("dhfbfehaef")),u=l(n("bjcfdghhfc")),s=l(n("bfdcadbbif"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.ITEM_WIDTH=parseInt(u.default["-item-width"].replace(/px$/,""),10),t.ITEM_SPACING=parseInt(u.default["-item-spacing"].replace(/px$/,""),10);var f=t.SIZES={SQUARE24:"SQUARE24",SQUARE26:"SQUARE26"},d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._handleEnterKey=function(e){e.stopPropagation(),e.preventDefault(),r.props.onClick()},r._handleClick=function(){r.props.onClick()},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){return a.createElement(i.default,{className:(0,o.default)(u.default.container,this.props.className,{[u.default.active]:this.props.isActive,[u.default.top]:this.props.isMain||this.props.singleButton,[u.default.padding]:this.props.singleButton,[u.default.square24]:this.props.size===f.SQUARE24,[u.default.square26]:this.props.size===f.SQUARE26}),"data-tab":this.props["data-tab"],onRef:this.props.onRef,handlers:{enter:this._handleEnterKey}},a.createElement("button",{"data-a8n":this.props["data-a8n"],className:u.default.btn,onClick:this._handleClick},a.createElement(s.default,{name:this.props.icon})))}}]),t}();d.displayName="ComposeBoxPanelsMenuButton",t.default=d},cdgebfdaif:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=m(n("dbdfbgehgj")),i=m(n("bbchdeehff")),u=m(n("biddiiafgd")),s=m(n("bcbahjefec")),l=m(n("djaadchjch")),c=m(n("cihcggiidc")),f=m(n("dabieifebj")),d=m(n("bhheahajjg")),p=n("bfjajhbdf"),h=m(p);function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,s=Array(u),f=0;f<u;f++)s[f]=arguments[f];return n=r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.onSendInvite=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];i.default.closeModal(),Promise.all(r.props.participantNeedInvite.map(function(n){var a=n.contact,i=n.invite_code,u=n.invite_code_exp;return o.default.find(a.id).then(function(n){var o=r.props.groupGid.toString(),s=l.default.assertGet(o);return n.sendGroupInviteMessage(o,r.props.subject,i||"",u,e,t).then(function(e){return"success"===e&&(s.pendingParticipants.add({id:a.id}),!0)})})})).then(function(e){var t=e.filter(Boolean).length;i.default.openToast(a.createElement(h.default,{msg:l10n.t(1253,{num:t,_plural:t}),id:(0,p.genId)()}))})},r.addInviteCommment=function(e){r.push(a.createElement(c.default,{participants:e,gid:r.props.groupGid,subject:r.props.subject,groupDesc:r.props.groupDesc,onClose:r._pop,onSend:r.onSendInvite}))},r._pop=function(){r.pop()},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),r(t,[{key:"componentDidMount",value:function(){var e=this.props.participantNeedInvite,t=this.getFormattedNames(e.map(function(e){return e.contact}),!0),n=l10n.t(556,{participant:t,_plural:e.length});this.push(a.createElement(u.default,{onOK:this.addInviteCommment.bind(this,e),okText:l10n.t(1252),onCancel:this._pop,cancelText:l10n.t(1153)},n))}},{key:"getFormattedName",value:function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e.formattedUser:a.createElement(d.default,{contact:e})}},{key:"getFormattedNames",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Array.isArray(e))return this.getFormattedName(e,n);var r=e.map(function(e){return t.getFormattedName(e,n)});return(0,f.default)(r,n)}}]),t}();g.defaultProps={removeTopDrawer:!0,pushTransition:"none",popTransition:"none"},t.default=g},cdgeeegaih:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getResults=function(e,t){var n=t.map(function(e){var t=e.contact;return t}),r=(e||"").toLowerCase();return n.filter(function(e){return function(e,t){if(t.isMe)return!1;var n=[t.searchName||t.formattedName];!t.isMyContact&&t.notifyName&&n.push(t.notifyName.toLowerCase());return n.some(function(t){return function(e,t){var n=-1;do{if(t.indexOf(e,n+1)===n+1)return!0}while(-1!==(n=t.indexOf(" ",n+1)));return!1}(e,t)})}(r,e)})}},cdghjejjij:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeProfilePicThumb=function(e,t){return o.default.imageChanged(e,t),Promise.resolve()};var r,a=n("dhefcajhhb"),o=(r=a)&&r.__esModule?r:{default:r}},cdhdchfidf:function(e,t,n){"use strict";var r=s(n("dgdjiicfdg")),a=s(n("bjigbaghc")),o=s(n("bdiiahhjbe")),i=n("hjbbdjjdf"),u=s(n("eaaehfdjdg"));function s(e){return e&&e.__esModule?e:{default:e}}var l={createGroup:function(e,t,n,s,l,c,f){var d=this;return new Promise(function(p,h){var m=u.default.tag(),b=d.wrap(p);b.tag=m;var g=t.map(function(e){return["participant",{jid:e},void 0]});(0,i.isString)(n)&&(0,i.isString)(s)&&g.unshift(["description",{id:s},n]),l&&g.unshift(["locked",void 0,void 0]),c&&g.unshift(["announcement",void 0,void 0]),null!=f&&0!==f&&g.unshift(["ephemeral",{value:f.toString()},void 0]),o.default.log("create group tag",m)();var v=["group",{id:m,type:"create",author:a.default.me,subject:e},g],y=d.actionNode("set",[v]);d.binSend("send",y,h,{clientCacheable:!0,onSend:b,onDrop:d.wrap(h)},{debugString:"action,group,create",metricName:"GROUP",expires:(0,r.default)().unix()})})}};e.exports=l},cdheafhdbh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Component=t.ThemeOptions=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=v(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=v(n("bbchdeehff")),u=v(n("dicggaeied")),s=v(n("eaijjhejbf")),l=v(n("cicabfhdbb")),c=v(n("bjgibbgbai")),f=n("ejbdjaifi"),d=v(n("ccajjgdjf")),p=v(n("chgaccicf")),h=v(n("bjfecgfdgj")),m=v(n("fbjjefaic")),b=v(n("caffijjhc")),g=v(n("didfdhbecg"));function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=t.ThemeOptions=(0,p.default)({MEDIA_CAPTION:null,EMOJI_INPUT:null}),E={omitted:"",query:"",emojiList:null},j=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=r=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state=E,r.onEmoji=function(e){h.default.increment(e),r.props.plugin.handleSelect(e)},r.onSearch=function(e){var t=e?e.trim():e,n=r.state.omitted,a=r.props.chat;if(a&&a.isGroup&&t&&t.includes("@"))r.setState({emojiList:null,query:""});else if(!n||!t.startsWith(n))if(t.length<2){if(!r.state.emojiList)return;r.setState({emojiList:""===t?null:(0,u.default)(t),query:t})}else{var o=(0,u.default)(t);o.length?r.setState({omitted:null,emojiList:o,query:t}):r.setState({emojiList:null,query:t})}},r.onInactive=function(){r.setState(E)},r.onEscape=function(){r.setState({emojiList:null,query:"",omitted:r.state.query})},r.onKeyPress=function(e){e.preventDefault();var t=r.props.chat;t&&i.default.pasteChatTextInput(t,String.fromCharCode(e.charCode))},r.onKeyDown=function(e){return"Backspace"===e.key&&(e.preventDefault(),document.execCommand("delete"),r.props.plugin.ctx.focus()),!1},r.onEnter=function(e){if(!(0,d.default)(e)){var t=r.emojiSuggestionsPanel;return t?(e.preventDefault(),e.stopPropagation(),t.pickSelectedEmoji(),!1):void 0}},r.onLeft=function(e){if(!(0,d.default)(e)){var t=r.emojiSuggestionsPanel;t&&(e.preventDefault(),e.stopPropagation(),t.moveSelectionLeft())}},r.onRight=function(e){if(!(0,d.default)(e)){var t=r.emojiSuggestionsPanel;t&&(e.preventDefault(),e.stopPropagation(),t.moveSelectionRight())}},r.releaseFocus=function(){r.props.plugin.ctx.focus()},y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"componentDidMount",value:function(){var e=this.props.plugin;e.registerHandler(this,c.default.EMOJI_SEARCH,this.onSearch),e.registerHandler(this,c.default.EMOJI_INACTIVE,this.onInactive),e.registerHandler(this,c.default.EMOJI_ENTER,this.onEnter),e.registerHandler(this,c.default.EMOJI_LEFT,this.onLeft),e.registerHandler(this,c.default.EMOJI_RIGHT,this.onRight),e.registerHandler(this,c.default.EMOJI_TAB,this.onEnter)}},{key:"componentWillUnmount",value:function(){var e=this.props.plugin;e.unregisterHandler(this,c.default.EMOJI_SEARCH),e.unregisterHandler(this,c.default.EMOJI_INACTIVE),e.unregisterHandler(this,c.default.EMOJI_ENTER),e.unregisterHandler(this,c.default.EMOJI_LEFT),e.unregisterHandler(this,c.default.EMOJI_RIGHT),e.unregisterHandler(this,c.default.EMOJI_TAB)}},{key:"renderTab",value:function(e){return o.createElement("div",{className:s.default.searchBody,key:"RECENT"},o.createElement(l.default,{ref:(0,f.GetRef)("emojiSuggestionsPanel",this),key:this.state.query,onEmoji:this.onEmoji,onFocusRelease:this.onInactive,onSkinTonePicker:this.props.onSkinTonePicker,emojiList:e}))}},{key:"render",value:function(){var e=this.state.emojiList,t=e?o.createElement(b.default,{displayName:"EmojiSuggestions",escapable:!0,requestDismiss:this.onEscape,requestFocus:this.releaseFocus},o.createElement("div",{className:(0,a.default)(s.default.overlayContainer,{[s.default.mediaCaption]:this.props.theme===_.MEDIA_CAPTION,[s.default.emojiInput]:this.props.theme===_.EMOJI_INPUT})},o.createElement("div",{className:s.default.resultsContainer,"data-list-scroll-container":"false"},o.createElement("div",{className:s.default.emojiSearch,onKeyPress:this.onKeyPress,onKeyDown:this.onKeyDown},this.renderTab(e))))):null;return o.createElement(g.default,{component:"div",className:s.default.positioningContainer,transitionName:"emoji-search-panel-slide-up"},t)}}]),t}();j.displayName="EmojiSuggestions";t.Component=j;t.default=(0,m.default)(j)},cdhedbceeh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("fgeddfbg"),i=h(n("gaffaajde")),u=h(n("bdiiahhjbe")),s=h(n("ecdjdjeihf")),l=h(n("dejeiggfhi")),c=h(n("dbdagcfdjh")),f=h(n("bjjhgbbeja")),d=h(n("bbgcdfeifh")),p=h(n("cadedacjj"));function h(e){return e&&e.__esModule?e:{default:e}}var m={minTimeout:1e3,retries:3};function b(e){return!(e instanceof o.MMSThrottleError)&&(e instanceof o.NoMediaHostsError||e instanceof o.HttpNetworkError||e instanceof o.MMSUnauthorizedError||e instanceof o.HttpStatusCodeError&&e.status>=500)}var g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,[{key:"checkIfUploadExists",value:function(e){var t=e.encFilehash,n=e.signal,a=e.type,c=!0,f={encFilehash:e.encFilehash,type:e.type};return u.default.log("mmsClient.checkIfUploadExists: start",f)(),(0,i.default)(r({},m,{signal:n}),function(e,r){return u.default.log(`mmsClient.checkIfUploadExists: attempt #${r+1}`,f)(),d.default.waitIfOffline({signal:n}).then(function(){return s.default.getHostsInfo({operation:p.default.UPLOAD,encFilehash:t,type:a,signal:n}).then(function(e){var o=e.auth,i=e.selectedHost,u=e.fallbackHost,s=r>=2&&!c&&u?u:i;return(0,l.default)({auth:o,encFilehash:t,hostname:s.hostname,type:a,signal:n,onProgress:function(){c=!0}})}).catch(function(t){if(b(t))return e(t);throw t})})}).then(function(e){return u.default.log("mmsClient.checkIfUploadExists: success",f)(),e}).catch(function(e){throw e instanceof o.MediaNotFoundError?u.default.log("mmsClient.checkIfUploadExists: error",f,e)():u.default.error("mmsClient.checkIfUploadExists: error",f,e)(),e})}},{key:"upload",value:function(e){var t=e.ciphertextHmac,n=e.encFilehash,a=e.type,o=e.signal,l=e.onUploadHostFound,c=e.onUploadAttemptSuccess,h=e.onUploadAttemptError,g=!0,v={encFilehash:n,type:a};u.default.log("mmsClient.upload: start",v)();var y=Date.now();return(0,i.default)(r({},m,{signal:o}),function(e,r){return y=Date.now(),u.default.log(`mmsClient.upload: attempt #${r+1}`,v)(),d.default.waitIfOffline({signal:o}).then(function(){return s.default.getHostsInfo({operation:p.default.UPLOAD,encFilehash:n,type:a,signal:o}).then(function(e){var i=e.auth,u=e.selectedHost,s=e.fallbackHost,c=r>=2&&!g&&s?s:u;return l&&l({hostName:c.hostname,hostClass:c.class,failCount:r}),(0,f.default)({auth:i,ciphertextHmac:t,hostname:c.hostname,encFilehash:n,type:a,signal:o,onProgress:function(){g=!0}})}).catch(function(t){var n=b(t);if(!n||r===m.retries||h&&h(t,Date.now()-y),n)return e(t);throw t})})}).then(function(e){return c&&c(Date.now()-y),u.default.log("mmsClient.upload: success",v)(),e}).catch(function(e){throw u.default.error("mmsClient.upload: error",v,e)(),e})}},{key:"download",value:function(e){var t=e.directPath,n=e.encFilehash,a=e.type,l=e.signal,f=!0,d={directPath:t,encFilehash:n,type:a};return u.default.log("mmsClient.download: start",d)(),(0,i.default)(r({},m,{signal:l}),function(e,r){return u.default.log(`mmsClient.download: attempt #${r+1}`,d)(),s.default.getHostsInfo({operation:p.default.DOWNLOAD,directPath:t,encFilehash:n,type:a,signal:l}).then(function(e){var o=e.auth,i=e.selectedHost,u=e.fallbackHost,s=r>=2&&!f&&u?u:i;return(0,c.default)({auth:o,directPath:t,encFilehash:n,hostname:s.hostname,type:a,signal:l,onProgress:function(){f=!0}})}).catch(function(t){if(b(t))return e(t);throw t})}).then(function(e){return u.default.log("mmsClient.download: success",d)(),e}).catch(function(e){throw e instanceof o.MediaNotFoundError?u.default.log("mmsClient.download: expected error",d,e)():u.default.error("mmsClient.download: error",d,e)(),e})}}]),e}();t.default=new g},cdhichafeb:function(e,t){e.exports={"-thumb-radius-window":"4.5px",thumbRadiusWindow:"4.5px","-thumb-radius-fullscreen":"5px",thumbRadiusFullscreen:"5px",controls:"_1ZSng",playpauseBtnContainer:"_2sQuC",fullscreen:"_1LLDD",currentTime:"_2tjFy",duration:"_1ahx-",timeText:"_2sWbB",progressBarContainer:"OZVc4",hiddenProgressBar:"_3N5w5",displayedProgressBar:"_2bTRm",displayedProgress:"_2ZXtj",displayedBuffer:"_29NP7",displayedTrack:"BlZHO",thumb:"_12kgx",hideThumb:"_3P5mI",volumeContainer:"_130CI",volumeBarContainer:"AD15h",volumeLowerTrack:"_3Nf6W",firefoxFix:"_31xd3",lowerTrackLongest:"_3H-Mh",volumeBar:"scAIX",volumePadding:"_28kjQ",tooltipWrapper:"_3T5kf",tooltipTextBoxPosAndSize:"_2nN7G",tooltipTextBoxGeneral:"_2vqPI",tooltipTailGeneral:"_23EAc",tooltipTailPosAndSize:"_4MCrh"}},cdjajhiedh:function(e,t){e.exports={container:"_2XJM3"}},cdjdachjig:function(e,t,n){"use strict";var r=u(n("dicfecifhd")),a=u(n("bdiiahhjbe")),o=u(n("jccfhaecf")),i=n("dcbdjheea");function u(e){return e&&e.__esModule?e:{default:e}}function s(e){try{return(0,i.createWid)(e)}catch(t){return e}}e.exports=function(e){var t="",n="",i=e.singleByte,u=e.doubleByte,l=e.nibbleDecode;this.readNode=function(e){var n=e.readByte(),a=this.readListSize(e,n);if((n=e.readByte())===r.default.STREAM_END)throw new Error("unexpected stream end "+e.debugInfo());var o=this.readString(e,n);if(t=o,0===a||!o)throw new Error("invalid node. 0 list or empty tag"+e.debugInfo());var i=a-2+a%2>>1,u=this.readAttributes(e,i);if(a%2==1)return[o,u,void 0];var s=void 0;if(n=e.readByte(),this.isListTag(n))s=this.readList(e,n);else if(n===r.default.BINARY_8){var l=e.readByte();s=e.readBytes(l)}else if(n===r.default.BINARY_20){var c=e.readInt20();s=e.readBytes(c)}else if(n===r.default.BINARY_32){var f=e.readInt32();s=e.readBytes(f)}else s=this.readString(e,n);return[o,u,s]},this.isListTag=function(e){return e===r.default.LIST_EMPTY||e===r.default.LIST_8||e===r.default.LIST_16},this.readListSize=function(e,t){if(t===r.default.LIST_EMPTY)return 0;if(t===r.default.LIST_8)return e.readByte();if(t===r.default.LIST_16)return e.readInt16();throw new Error("invalid list size "+e.debugInfo())},this.readString=function(e,i){var u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],l=void 0;if(-1===i)throw new Error("invalid start token readString"+e.debugInfo());if(i>2&&i<236){var c=this.getToken(i);return"s.whatsapp.net"===c&&(c="c.us"),c}switch(i){case r.default.DICTIONARY_0:case r.default.DICTIONARY_1:case r.default.DICTIONARY_2:case r.default.DICTIONARY_3:var f=e.readByte();return this.getTokenDouble(i-r.default.DICTIONARY_0,f);case r.default.LIST_EMPTY:return;case r.default.BINARY_8:return l=e.readString(e.readByte()),this.isAttr&&u&&o.default.isWid(l)?s(l):l;case r.default.BINARY_20:return l=e.readString(e.readInt20()),this.isAttr&&u&&o.default.isWid(l)?s(l):l;case r.default.BINARY_32:return l=e.readString(e.readInt32()),this.isAttr&&u&&o.default.isWid(l)?s(l):l;case r.default.JID_PAIR:var d=this.readString(e,e.readByte()),p=this.readString(e,e.readByte());if(void 0!==d&&void 0!==p){var h=d+"@"+p;return u&&o.default.isWid(h)?s(h):h}if(void 0!==p)return p;throw new Error("invalid jid "+d+","+p+" "+e.debugInfo());case r.default.JID_AD:var m=e.readByte(),b=e.readByte(),g=this.readString(e,e.readByte());if(void 0!==g)return s(m&&b?g+"."+m+":"+b+"@c.us":m?g+"."+m+"@c.us":b?g+":"+b+"@c.us":g+"@c.us");throw new Error(`invalid JID_AD agent:${m} device:${b} user:${g}`);case r.default.NIBBLE_8:case r.default.HEX_8:return this.readPacked8(i,e);default:throw a.default.infoVerbose(`\n                Unexpected token in binary protocol read. Token : ${i}\n                lastTag: ${t}\n                lastAttributeKey: ${n}\n                ${e.debugInfoWithPadding()}\n              `)(),new Error("invalid string "+i)}},this.getToken=function(e){var t=void 0;if(e>=0&&e<i.length&&(t=i[e]),void 0===t)throw new Error("invalid token "+e);return t},this.getTokenDouble=function(e,t){var n=void 0,r=256*e+t;if(r>=0&&r<u.length&&(n=u[r]),void 0===n)throw new Error("invalid double byte token "+e+" "+t);return n},this.readAttributes=function(e,t){this.isAttr=!0;for(var r=void 0,a=void 0,i=t?{}:void 0,u=0;u<t;u++)r=this.readString(e,e.readByte()),n=r,a=this.readString(e,e.readByte(),o.default.canBeWid(r)),i[r]=a;return this.isAttr=!1,i},this.readList=function(e,t){for(var n=[],r=this.readListSize(e,t),a=0;a<r;a++)n.push(this.readNode(e));return n},this.readPacked8=function(e,t){for(var n=t.readByte(),r=n>>7,a=127&n,o="",i=0;i<a;i++){var u=t.readByte();o+=this.unpackByte(e,(240&u)>>4),o+=this.unpackByte(e,15&u)}return r&&(o=o.substring(0,o.length-1)),o},this.unpackByte=function(e,t){switch(e){case r.default.NIBBLE_8:return this.unpackNibble(t);case r.default.HEX_8:return this.unpackHex(t);default:throw new Error("unpack non-nibble/hex type: "+e)}},this.unpackNibble=function(e){if(!l.hasOwnProperty(e))throw new Error("invalid nibble to unpack: "+e);return l[e]},this.unpackHex=function(e){if(e>=0&&e<=15)return e.toString(16).toUpperCase();throw new Error("invalid hex to unpack: "+e)}}},cdjfcjheca:function(e,t,n){"use strict";var r,a=n("bdiiahhjbe"),o=(r=a)&&r.__esModule?r:{default:r},i=n("hjbbdjjdf");var u={queryQuickReplies:function(e){return this.sendQuickRepliesQuery(e,!1)},flushQuickReplyCounts:function(e){return this.sendQuickRepliesQuery(e,!0)},sendQuickRepliesQuery:function(e,t){var n=this;return new Promise(function(r,a){var i=e?Object.keys(e).map(function(t){return["quick_reply",{id:t,count:e[t].toString()},void 0]}):void 0,u={type:"quick_reply"};t&&(u.kind="count");var s=n.queryNode(u,i);n.binSend("sendEphemeral",s,a,{onSend:n.binWrap(function(e){n.BinaryProtocol.read(e).then(function(e){var a={data:[]};if(o.default.logColor("green","bin-recv: response,quick_reply",e)(),"response"===n.N.tag(e)&&"quick_reply"===n.N.attr("type",e)){a.checksum=n.N.attr("checksum",e);var i=n.N.children(e);if(Array.isArray(i))for(var u=0;u<i.length;u++){var s=(t?n.parseQuickReplyCount.bind(n):n.parseQuickReply.bind(n))(i[u]);s&&a.data.push(s)}}r(a)}).catch(a)},r),onDrop:n.wrap(a)},{debugString:"query,quick_replies",metricName:"QUERY_QUICK_REPLIES"})})},parseQuickReply:function(e){if("quick_reply"===this.N.tag(e)){var t=this.N.attr("id",e),n=this.N.attr("short",e),r=this.N.attr("message",e),a=parseInt(this.N.attr("count",e),10)||0,o=this.N.attr("type",e),u=[];if("delete"!==o){var s=this.N.children(e);if(Array.isArray(s))for(var l=0;l<s.length;l++){var c=s[l];"matched-text"===this.N.tag(c)&&u.push(this.N.dataStr(c))}}var f={id:t,shortcut:n,message:r,count:a,keywords:u,type:o},d=[!(o||t&&n&&r&&(0,i.isNumber)(a)),o&&"delete"!==o,"delete"===o&&!t];return this.dropIfConditionMet(d,f)}},parseQuickReplyCount:function(e){if("quick_reply"===this.N.tag(e)){var t=this.N.attr("id",e),n=parseInt(this.N.attr("count",e),10)||0,r={id:t,count:n},a=[!t||!(0,i.isNumber)(n)];return this.dropIfConditionMet(a,r)}}};e.exports=u},cdjhjdcbeg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=u(n("ceffhbhahb")),o=u(n("effbcehec")),i=u(n("cjgadgafji"));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.large,n=e.a8nText,u=e.onClick,s=e.children,l=(0,a.default)(i.default.btn,{[i.default.large]:t});return r.createElement("div",{"data-a8n":o.default.key(n),role:"button",className:l,onClick:u},s)};s.displayName="Round",t.default=s},ceaabfjiba:function(e,t){e.exports={messageList:"_1ays2",messageListSelectable:"_2A6NB"}},cebabjecdf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={DEBUG_LOG:1,QUERY_RESUME:2,QUERY_RECEIPT:3,QUERY_MEDIA:4,QUERY_CHAT:5,QUERY_CONTACTS:6,QUERY_MESSAGES:7,PRESENCE:8,PRESENCE_SUBSCRIBE:9,GROUP:10,READ:11,CHAT:12,RECEIVED:13,PIC:14,STATUS:15,MESSAGE:16,QUERY_ACTIONS:17,BLOCK:18,QUERY_GROUP:19,QUERY_PREVIEW:20,QUERY_EMOJI:21,QUERY_MESSAGE_INFO:22,SPAM:23,QUERY_SEARCH:24,QUERY_IDENTITY:25,QUERY_URL:26,PROFILE:27,CONTACT:28,QUERY_VCARD:29,QUERY_STATUS:30,QUERY_STATUS_UPDATE:31,PRIVACY_STATUS:32,QUERY_LIVE_LOCATIONS:33,LIVE_LOCATION:34,QUERY_VNAME:35,QUERY_LABELS:36,CALL:37,QUERY_CALL:38,QUERY_QUICK_REPLIES:39,QUERY_CALL_OFFER:40,QUERY_RESPONSE:41,QUERY_STICKER_PACKS:42,QUERY_STICKERS:43,ADD_OR_REMOVE_LABELS:44,QUERY_NEXT_LABEL_COLOR:45,QUERY_LABEL_PALETTE:46,CREATE_OR_DELETE_LABELS:47,EDIT_LABELS:48,QUERY_RECENT_STICKERS:49}},cebdifcdab:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=D(n("ddhijeejag")),o=L(n("ebcagbhefg")),i=L(n("bbchdeehff")),u=L(n("baagejbchg")),s=L(n("ccdfjfdccf")),l=L(n("ddjbidjfjh")),c=L(n("djcchigfih")),f=L(n("djbhiedbef")),d=n("dajffajabh"),p=L(d),h=L(n("fijafegab")),m=D(n("cajijabhgb")),b=n("bgddggdhc"),g=L(n("bjbdcigbdi")),v=L(n("jheedhagg")),y=n("ejbdjaifi"),_=L(n("cigbgdjabj")),E=L(n("eceadcicaf")),j=n("ddbddjjgia"),O=L(n("biecbbiiee")),S=L(n("eigdejjai")),w=L(n("eafabiffad")),P=L(n("bibjgdifc")),M=L(n("bjbedjfe")),C=L(n("bfgbdiffgd")),T=L(n("becfabjeeg")),A=L(n("ihfccfgdf")),N=L(n("bfdcadbbif")),k=n("bfjajhbdf"),I=L(k),R=L(n("caceaafdic"));function L(e){return e&&e.__esModule?e:{default:e}}function D(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var U=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=x(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.setRefScrollable=function(e){r.refScrollable=e},r.state={msgInfo:void 0,unimplemented:!1},r.wrapper=null,r.isMsgVisible=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e===r.props.msg.id&&(!!t||r.getMsgComponent())},r.onClose=function(){r.props.uim.uie.requestDismiss()},x(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;S.default.find(this.props.msg.id).checkpoint(this.props.rejectOnUnmount()).then(function(t){e.setState({msgInfo:t}),e.props.listeners.add(t,"change:playedRemaining change:readRemaining change:deliveryRemaining")}).catch(m.Unmount,function(){}).catch(function(){e.setState({unimplemented:!0}),i.default.openToast(a.createElement(I.default,{msg:l10n.t(747),id:(0,k.genId)("msg_info_failed")}))})}},{key:"componentDidMount",value:function(){var e=this,t=(0,b.forbiddenFindDOMNode)(this.refScrollable);this.props.msg.type===u.default.MSG_TYPE.IMAGE&&t&&(t.scrollTop=t.scrollHeight),this.props.listeners.add(this.props.msg,"remove",function(t,n){n===O.default&&e.props.uim.uie.requestDismiss()})}},{key:"getMsgComponent",value:function(){var e=this.wrapper;if(e)return e.getMsgComponentRef()}},{key:"render",value:function(){var e=this.props.msg,t=this.state,n=t.msgInfo,r=t.unimplemented,i=void 0,m=void 0;if(n){var b=[],v=void 0,E=void 0,O=void 0;n.isPTT&&(m=l10n.t(720),E=(v=n.played.head())&&v.t,O=a.createElement("span",{className:l.default.icon},a.createElement(N.default,{name:"status-ptt-blue"})),b.push(a.createElement(s.default,{title:l10n.t(715),t:E,icon:O,key:"played"}))),E=(v=n.read.head())&&v.t,O=a.createElement("span",{className:l.default.icon},a.createElement(N.default,{name:"status-dblcheck-ack"})),m=m||l10n.t(717),b.push(a.createElement(s.default,{title:m,t:E,icon:O,key:"read"})),E=(v=n.delivery.head())&&v.t,O=a.createElement("span",{className:l.default.icon},a.createElement(N.default,{name:"status-dblcheck"})),b.push(a.createElement(s.default,{title:l10n.t(713),t:E,icon:O,key:"delivery"})),C.default.frequentlyForwardedMessages&&e.numTimesForwarded>0&&!e.isFrequentlyForwarded&&b.push(a.createElement(w.default,{key:"forward",msg:e})),i=a.createElement(h.default,{theme:"padding"},b)}var S=void 0;n||r||(S=a.createElement("div",{className:l.default.spinner,key:"spinner"},a.createElement(T.default,{size:50,stroke:4})));var M=null;return e.labels&&e.labels.length&&g.default.supportsFeature(g.default.F.LABELS_DISPLAY)&&(M=a.createElement(h.default,{theme:"padding"},a.createElement(_.default,{labels:e.labels}))),a.createElement(c.default,{key:"message-info-modal"},a.createElement(p.default,{title:l10n.t(712),type:d.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onClose}),a.createElement(P.default,{ref:this.setRefScrollable,chatPreference:o.default.assertGet("defaultPreference")},a.createElement(R.default,{msg:e,ref:(0,y.GetRef)("wrapper",this),displayType:u.default.DISP_TYPE.MSG_INFO,isMsgVisible:this.isMsgVisible,position:j.MsgPosition.END,onProductClick:this.props.onProductClick})),a.createElement(f.default,null,M,a.createElement("div",{className:l.default.body},S,i)))}}]),t}();U.CONCERNS={msg:["id","star","type","isGif","labels","numTimesForwarded","isFrequentlyForwarded"]},U.displayName="ContactMsgInfoDrawer",t.default=(0,v.default)((0,M.default)((0,E.default)((0,A.default)(U,U.CONCERNS))))},cecdfacjga:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e?e.replace(/\uFE0F/g,""):e}},cecfgggbdj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.mediaKey,n=e.ciphertextHmac,p=e.expectedPlaintextHash,m=e.type;return new Promise(function(e,b){var g={mediaKey:t.slice(0,10),type:m};if(f.default.log("decryptMedia: start",g)(),n.byteLength<h)throw new l.MediaDecryptionError(`ciphertext too short: ${n.byteLength}`);var v=new d.default.WebcCryptoMedia({webcCryptoType:d.default.WEBC_CRYPTO_TYPE_CODE.DECRYPT,webcCryptoLibrary:d.default.WEBC_CRYPTO_LIBRARY_CODE.WEBCRYPTO,webcCryptoFileSize:n.byteLength});(0,u.default)(m,t).then(function(e){var t=e.iv,a=e.encKey,u=e.macKey,f=(0,o.default)(Uint8Array,n),d=(0,i.default)(Uint8Array,[new Uint8Array(t),f.slice(0,0-h)]);return new c.default(u).sign(d,h).then(function(e){var t=f.buffer.slice(0-h);if(!(0,s.default)(e,t))throw new l.MediaDecryptionError("decryptMedia: hmac mismatch");return(0,r.aesCbcDecrypt)(a,d)})}).then(function(e){return null==p?e:(0,a.default)(e).then(function(t){if(t!==p)throw new l.MediaDecryptionError("decryptMedia: plaintext hash mismatch");return e})}).then(function(t){f.default.log("decryptMedia: success",g)(),v.markWebcCryptoElapsedT(),v.commit(),e(t)}).catch(function(e){if(f.default.error("decryptMedia: error",g,e)(),e instanceof l.MediaDecryptionError)throw e;throw new l.MediaDecryptionError(`decryption error: ${String(e)}; stack: ${e.stack}`)}).catch(b)})};var r=n("eaiigfgagg"),a=p(n("baeghbhigj")),o=p(n("bcjbjghiih")),i=p(n("djhfjffeaj")),u=p(n("feacbgeaf")),s=p(n("gchhabjba")),l=n("cajijabhgb"),c=p(n("bbejegbieb")),f=p(n("bdiiahhjbe")),d=p(n("bfbggcdbfb"));function p(e){return e&&e.__esModule?e:{default:e}}var h=10},cedaiijige:function(e,t){e.exports={markerAdmin:"FPZFa",markerInvited:"_3ywxI",chatControls:"_1Dfrr",screenName:"_3VvbK",contactSmall:"_2ILbv"}},ceddibihdf:function(e,t){e.exports={image:"_1yrMk",default:"_3gatw",container:"_1wybK",hasBorder:"_1d0W1",square:"_3KG1x"}},cedifchehj:function(e,t){e.exports={meta:"_3MYI2",chromeFix:"wPLkG",metaLight:"_3UgZX",timestamp:"_3fnHB",icon:"_3Ux6T",status:"_370iZ",labels:"_2HsLW"}},ceegagjdfb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.shift(),n=t.from,r=t.to,a=t.ack,i=t.participant,u=t.t;switch(t.cmd){case"ack":o.default.MsgInfo.updateInfo(t.id,n,r,a,i,u);break;case"acks":t.id.forEach(function(e){o.default.MsgInfo.updateInfo(e,n,r,a,i,u)})}};var r,a=n("bhggeigghg"),o=(r=a)&&r.__esModule?r:{default:r}},ceeggdegaf:function(e,t,n){"use strict";var r,a=n("ebjfcagbfd"),o=(r=a)&&r.__esModule?r:{default:r};e.exports=function(e,t){return t.reduce(function(e,t){var n=t.parsers;return n?n.reduce(function(e,t){return t(e)},e):e},(0,o.default)(e))}},cefaeicfec:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n("cgeeeeddea")),o=n("ebffadhefa"),i=n("dbcbifhbge"),u=l(n("cahfddcdga")),s=n("fgiejiccg");function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._pending=new Map,this._onResponseReceipt=function(e){var n=(0,s.unwrapResponsePayload)(e.data);if(null!=n){var r=n.invocationId,a=n.result;if(t._pending.has(r))(0,(0,u.default)(t._pending.get(r)).resolve)(a),t._pending.delete(r)}}}return r(e,[{key:"setConnectionManager",value:function(e){var t=this;this._conn=e,e.waitForConnection().then(function(){var n=(0,u.default)(e.getPort(),"Port obtained from ConnectionManager after connection");n.addEventListener("message",t._onResponseReceipt),n.start()})}},{key:"invoke",value:function(e,t){var n=this;return(0,a.default)(this._conn,"Connection has not been inited"),this._conn.waitForConnection().then(function(){(0,a.default)(n._conn,"Connection has not been inited");var r=(0,u.default)(n._conn.getPort(),"Port obtained from ConnectionManager after connection"),s=(0,i.genInvocationId)();return r.postMessage((0,o.buildInvocationPayload)({invocationId:s,method:e,args:t})),new Promise(function(e,t){n._pending.set(s,{resolve:e,reject:t})})})}}]),e}();t.default=new c},cefeghcbch:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;var r=T(n("bgjcbiaddd")),a=T(n("bhdddbafig")),o=T(n("iidhbgeed")),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),s=n("iaibjaeb"),l=T(s),c=T(n("ebjaejiaba")),f=T(n("dbdfbgehgj")),d=T(n("ebaiajghdj")),p=T(n("bcajjbibcd")),h=T(n("bbchdeehff")),m=T(n("baagejbchg")),b=(T(n("ccfcjccjbg")),T(n("hdccjfbbg"))),g=T(n("cbedjffdai")),v=T(n("fifhbjiec")),y=n("bbhhbdicgc"),_=T(y),E=T(n("ddajbaceej")),j=T(n("dhfbfehaef")),O=n("gaifbabbj"),S=T(n("eceadcicaf")),w=T(n("ceigficjgj")),P=(T(n("cbcbdjdah")),T(n("dagdiahdfi")),T(n("cbgeijgefb"))),M=T(n("fbjjefaic")),C=T(n("caffijjhc"));function T(e){return e&&e.__esModule?e:{default:e}}function A(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var N={SEC_CHATS:"SEC_CHATS",SEC_CONTACTS:"SEC_CONTACTS",SEC_GROUPCHATS:"SEC_GROUPCHATS",SEC_STARRED:"SEC_STARRED",SEC_MSG:"SEC_MSG",SEC_COLLAPSE_MUTED:"SEC_COLLAPSE_MUTED"},k={ROW_CHATS:"ROW_CHATS",ROW_CONTACTS:"ROW_CONTACTS",ROW_GROUPCHATS:"ROW_GROUPCHATS",ROW_STARRED:"ROW_STARRED",ROW_MSG:"ROW_MSG"},I=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onListPointerEventsOff=function(){n._listPointerEvents=!1},n.onListPointerEventsOn=function(){n._listPointerEvents=!0},n.updateSelected=function(e){n.debouncedOpenSelected.cancel(),n.props.selection.setVal(e,!1),n.oldSelection=e},n.onContactClick=function(e,t){n.onClick(e,t.id)},n.onChatClick=function(e,t){n.onClick(e,t.id)},n.onMessageClick=function(e,t,r){n.onClick(e,t.id,r)},n.onClick=function(e,t,r){e.preventDefault(),e.stopPropagation(),f.default.find(t).then(function(e){r?h.default.openChatAt(e,r).then(function(t){t&&h.default.focusChatTextInput(e)}):e!==n.getActiveChat()?h.default.openChatFromUnread(e).then(function(t){t&&h.default.focusChatTextInput(e)}):h.default.focusChatTextInput(e)})},n.restoreFocus=function(){n.props.selection.reset(!0)},n.onFocusGain=function(e){if(e.target===n.refHotKeys&&!n.props.multiSelection&&n._listPointerEvents)if(n.props.selection.index<0)n.focusFirst();else{var t=n.uie;t&&t.activate(),n.props.selection.reset(!0)}},n.onFocusSearch=function(e){e.stopPropagation(),e.preventDefault(),n.props.onFocusSearch()},n.setRefUIE=function(e){n.uie=e},n.setRefHotKeys=function(e){n.refHotKeys=e},n.onFocusList=function(){var e=n.refList,t=n.refHotKeys;e&&t&&E.default.focus(t)},n.requestFocus=function(){n.props.selection.reset(!1),n.props.selection.index>-1&&document.activeElement===document.body&&n.onFocusList()},n.setRefList=function(e){n.refList=e},n.onMultiSelect=function(e,t,r){var a=n.props.multiSelection;a&&a.setVal(e,t,r)},n.renderWrappedItem=function(e,t){var r=n.props,a=r.multiSelection,o=r.selectableState;return a&&o?u.createElement(p.default,{model:t,theme:"chat-checkbox",selectableState:o,multiSelection:a,onSelect:n.onMultiSelect},e):e},n.toggleCollapseMuted=function(){n.setState(function(e){return{isMutedExpanded:!e.isMutedExpanded}})},n.renderItem=function(e){var t=n.props.searchQuery;switch(e.type){case N.SEC_CHATS:return u.createElement(P.default,{header:l10n.t(1157)});case N.SEC_CONTACTS:return u.createElement(P.default,{header:l10n.t(1164)});case N.SEC_GROUPCHATS:return u.createElement(P.default,{header:l10n.t(1255)});case N.SEC_STARRED:return u.createElement(P.default,{header:l10n.t(1356)});case N.SEC_MSG:return u.createElement(P.default,{header:l10n.t(1268)});case N.SEC_COLLAPSE_MUTED:var r=n.state.mutedChatList.reduce(function(e,t){return e+t.unreadCount},0);return u.createElement("div",{className:d.default.collapseMutedSec,onClick:n.toggleCollapseMuted},u.createElement("div",{className:d.default.collapseMutedSecText},u.createElement("span",null,n.state.isMutedExpanded?`Hide ${n.state.mutedChatList.length} Muted Chats`:`Show ${n.state.mutedChatList.length} Muted Chats`),r>0?u.createElement("span",{className:d.default.mutedUnreadBadge},Math.min(r,99)):null));case k.ROW_CHATS:var a=e.data;return n.renderWrappedItem(u.createElement(l.default,{chat:a,contact:a.contact,mode:s.Mode.LAST,searchQuery:t,onClick:n.onChatClick,mouseDownAsClick:!0,selectableState:n.props.selectableState,multiSelection:n.props.multiSelection,active:n.props.selection}),a);case k.ROW_CONTACTS:var o=e.data;return n.renderWrappedItem(u.createElement(b.default,{contact:o,active:n.props.selection,searchQuery:t,onClick:n.onContactClick,mouseDownAsClick:!0,waitIdle:!0}),o);case k.ROW_GROUPCHATS:var i=e.data,c=i[0],f=n.getGroupChatSubtitle(i);return n.renderWrappedItem(u.createElement(l.default,{chat:c,contact:c.contact,secondary:f,mode:s.Mode.LAST,searchQuery:t,onClick:n.onChatClick,mouseDownAsClick:!0,selectableState:n.props.selectableState,multiSelection:n.props.multiSelection,active:n.props.selection}),c);case k.ROW_STARRED:var p=e.data;return n.renderWrappedItem(u.createElement(w.default,{msg:p,chat:p.chat,searchQuery:t,onClick:n.onMessageClick,active:n.props.selection}),p);case k.ROW_MSG:var h=e.data;return n.renderWrappedItem(u.createElement(w.default,{msg:h,chat:h.chat,searchQuery:t,onClick:n.onMessageClick,active:n.props.selection}),h);default:throw new y.UnknownDataError(e)}},n._listPointerEvents=!0,n.oldSelection=null,n.debouncedOpenSelected=n.props.debounce(function(){n.openSelected(n.focusComposer),n.focusComposer=!1},200),n.state={textsize:g.default.get().textsize,isMutedExpanded:!1,mutedChatList:[],collapseMuted:!1,ftsStarred:[],ftsMessages:[]},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),i(t,null,[{key:"getDerivedStateFromProps",value:function(e){return{ftsStarred:(0,o.default)(e.ftsResult,{star:!0}),ftsMessages:(0,o.default)(e.ftsResult,{star:!1})}}}]),i(t,[{key:"componentWillUnmount",value:function(){var e=this.getSelection(),t=this.props.selection.getVal();t&&t.isState&&!this.props.isSearching&&!e.length&&h.default.clearChat(t)}},{key:"componentDidMount",value:function(){var e=this;this.props.selection.init(this.getSelection()),this.props.listeners.add(h.default,"focus_chat_list",this.restoreFocus),this.props.listeners.add(h.default,"focus_next_chat",function(t){e.onNextChat(null,!0,t)}),this.props.listeners.add(h.default,"focus_prev_chat",function(t){e.onPrevChat(null,!0,t)}),this.props.listeners.add(h.default,"update_chatlist_selection",this.updateSelected),this.props.listeners.add(h.default,"textsize_change",function(t){e.setState({textsize:t})})}},{key:"componentDidUpdate",value:function(e,t){var n=e.selection.getVal();this.props.selection.init(this.getSelection(),!e.isSearching&&!this.props.isSearching);var r=this.props.selection.getVal();e.isSearching&&!this.props.isSearching&&!r&&this.oldSelection&&this.props.selection.setVal(this.oldSelection),r&&r!==n&&(this.focusComposer=!0,this.debouncedOpenSelected())}},{key:"openSelected",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.props.selection.getVal();t&&(t instanceof c.default&&t!==this.getActiveChat()?h.default.openChatFromUnread(t).then(function(n){n&&e&&h.default.focusChatTextInput(t)}):e&&h.default.focusChatTextInput(t))}},{key:"getSelection",value:function(){return[].concat(A(this.props.chats),A(this.props.contacts),A(this.props.groupChats.map(function(e){return e[0]})),A(this.state.ftsStarred),A(this.state.ftsMessages))}},{key:"scrollListIntoFocusedItem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;this.refList&&this.refList.scrollIntoViewIfNeeded(this.props.selection.index,e)}},{key:"focusFirst",value:function(){var e=this.uie;e&&e.activate(),this.props.selection.setFirst(),this.scrollListIntoFocusedItem(0),this.debouncedOpenSelected()}},{key:"onNextChat",value:function(e,t,n){e&&(e.preventDefault(),e.stopPropagation());var r=this.props.selection.next();this.props.selection.index!==r&&(this.props.selection.setNext(!0),this.focusComposer=n,this.scrollListIntoFocusedItem(),this.debouncedOpenSelected())}},{key:"onPrevChat",value:function(e,t,n){e&&(e.stopPropagation(),e.preventDefault()),this.props.selection.prev()>-1?(this.props.selection.setPrev(!0),this.focusComposer=n,this.scrollListIntoFocusedItem(),this.debouncedOpenSelected()):t||(this.debouncedOpenSelected.cancel(),this.openSelected(),this.props.onFocusSearch())}},{key:"getHeight",value:function(){var e=this.state.textsize,t=m.default.LIST_HEIGHT_TEXTSIZE_MAP.find(function(t){return t.scale===e});return t?t.height:72}},{key:"getData",value:function(){var e=this.props,t=e.chats,n=e.contacts,r=e.groupChats,a=e.isSearching,o=this.state,i=o.ftsStarred,u=o.ftsMessages,s=o.mutedChatList,l=o.isMutedExpanded,c=o.collapseMuted,f=[];if(a&&t.length>0&&f.push({itemKey:"section-chats",type:N.SEC_CHATS}),!a&&c){var d=s,p=d.reduce(function(e,t){return e+t.unreadCount},0),h=l?"show":"hide";d.length>0&&f.push({itemKey:"section-collapse-muted",contentKey:`${h}:${d.length}:${p}:${String(c)}`,type:N.SEC_COLLAPSE_MUTED,height:30}),l&&f.push.apply(f,A(s.map(function(e){return{itemKey:`chat-${e.id.toString()}`,data:e,expanded:l,type:k.ROW_CHATS}}))),f.push.apply(f,A(t.filter(function(e){return!e.mute.isMuted}).map(function(e){return{itemKey:`chat-${e.id.toString()}`,data:e,type:k.ROW_CHATS}})))}else f.push.apply(f,A(t.map(function(e){return{itemKey:`chat-${e.id.toString()}`,data:e,type:k.ROW_CHATS}})));return a&&n.length>0&&f.push({itemKey:"section-contacts",type:N.SEC_CONTACTS}),f.push.apply(f,A(n.map(function(e){return{itemKey:`contact-${e.id.toString()}`,data:e,type:k.ROW_CONTACTS}}))),a&&r.length>0&&f.push({itemKey:"section-groupchats",type:N.SEC_GROUPCHATS}),f.push.apply(f,A(r.map(function(e){return{itemKey:`groupchat-${e[0].id.toString()}-${e[1].map(function(e){return e.id.toString()}).join("-")}`,data:e,type:k.ROW_GROUPCHATS}}))),a&&i.length>0&&f.push({itemKey:"section-starred",type:N.SEC_STARRED}),f.push.apply(f,A(i.map(function(e){return{itemKey:`starred-${e.id.toString()}`,data:e,type:k.ROW_STARRED}}))),a&&u.length>0&&f.push({itemKey:"section-msg",type:N.SEC_MSG}),f.push.apply(f,A(u.map(function(e){return{itemKey:`msg-${e.id.toString()}`,data:e,type:k.ROW_MSG}}))),f}},{key:"render",value:function(){var e=this,t={down:function(t){return e.onNextChat(t,!0)},j:function(t){return e.onNextChat(t,!0)},up:function(t){return e.onPrevChat(t,!0)},k:function(t){return e.onPrevChat(t,!0)},"/":function(t){return e.onFocusSearch(t)}};return u.createElement(C.default,{displayName:"Chatlist",ref:this.setRefUIE,state:C.default.State.PASSIVE,requestFocus:this.requestFocus},u.createElement(j.default,{handlers:t,onFocus:this.onFocusGain,onRef:this.setRefHotKeys,"data-tab":3},u.createElement(_.default,{data:this.getData(),renderItem:this.renderItem,flatListController:this.props.flatListController,direction:"vertical",defaultItemHeight:this.getHeight(),onPointerEventsOff:this.onListPointerEventsOff,onPointerEventsOn:this.onListPointerEventsOn,ref:this.setRefList})))}},{key:"getActiveChat",value:function(){return f.default.toArray().find(function(e){return e.active})}},{key:"getGroupChatSubtitle",value:function(e){var t=e[1],n=e[0].groupMetadata.participants.map(function(e){return e.contact}),o=(0,a.default)(n,t),i=(0,r.default)(t,o).map(function(e){return e.formattedShortNameWithNonBreakingSpaces}).join(l10n.t(421)),s=O.Configuration.Search({terms:[this.props.searchQuery.trimmed]});return u.createElement(v.default,{text:i,formatters:s,titlify:!0,direction:"auto"})}}]),t}();I.defaultProps={chats:[],groupChats:[]},I.displayName="Chatlist";t.Component=I;t.default=(0,S.default)((0,M.default)(I))},cefgfgdhj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments[3],a=[];t.lastIndex=0;var i=void 0;for(;(i=t.exec(e))&&t.lastIndex>0;)r&&(i=r(i,t)),i&&a.push((0,o.default)(i,n));return a};var r,a=n("cfjfcfhchg"),o=(r=a)&&r.__esModule?r:{default:r}},cefjbaedhh:function(e,t){e.exports={footer:"_2s9K8",isMedia:"_1omJG",dirMismatch:"_1XawA"}},cefjgcjhgf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setLastReceivedKey=function(e,t){if(a.default.supportsFeature(a.default.F.MODEL_STORAGE))return r.default.merge(e.toString(),{lastReceivedKey:t});return Promise.resolve()};var r=o(n("begbbgieee")),a=o(n("bjbdcigbdi"));function o(e){return e&&e.__esModule?e:{default:e}}},cegfacfjjj:function(e,t){e.exports={container:"_1w7r7",centerChild:"_1V7b0",show:"_14WjA",image:"_1Wf2y"}},cegfhjajbg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("bgaeiiadg"),i=(r=o)&&r.__esModule?r:{default:r};function u(){return a.createElement("div",{className:i.default.border})}u.displayName="CellBorder"},ceggedffg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments[2];return function(o){function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,o),r(i,null,[{key:"match",value:function(r){return(0,a.default)(r,e,t,n)}}]),i}(o.default)};var a=i(n("cefgfgdhj")),o=i(n("gjhhbhigc"));function i(e){return e&&e.__esModule?e:{default:e}}},ceghehfgdc:function(e,t){e.exports={screenshots:"_1tV1q",action:"_1T8rb",disabled:"_3yioW",screenshotPreview:"_2VDPW",screenshotsImg:"opM6t",btnDelete:"_3H9fr"}},ceghjibjjg:function(e,t){e.exports={nextButton:"x9mId",section:"_1eFDy"}},cehaihfgda:function(e,t){e.exports={newGroupButton:"_11p3Q"}},cehdgbej:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BoldedContactName=t.UntrustedGroupDesc=t.TrustedGroupDesc=t.FormattedNotification=t.RawNotification=t.ComposeBox=t.QuotedMention=t.Format=t.FTSMessage=t.LastMessage=t.Search=t.UntrustedConversation=t.TrustedConversation=t.Compatibility=t.StatusV3Caption=t.StatusV3Text=t.LargeEmojiOnly=t.EmojiOnly=void 0;var r=n("eehjjeabe");t.EmojiOnly=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).selectable;return[[[r.Emoji,{selectable:e}]]]},t.LargeEmojiOnly=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).selectable;return[[[r.Emoji,{selectable:e,size:"large"}]]]},t.StatusV3Text=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.links,n=e.selectable;return[[[r.Code,{selectable:n}]],[[r.Link,{links:t,selectable:n}]],[[r.Bold,{selectable:n}],[r.Italic,{selectable:n}],[r.Strikethrough,{selectable:n}]],[[r.Emoji,{selectable:n,size:"xlarge"}]]]},t.StatusV3Caption=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).selectable;return[[[r.Code,{selectable:e}]],[[r.Bold,{selectable:e}],[r.Italic,{selectable:e}],[r.Strikethrough,{selectable:e}]],[[r.Emoji,{selectable:e}]]]},t.Compatibility=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).selectable;return[[[r.Emoji,{selectable:e}]]]},t.TrustedConversation=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mentions,n=e.links,a=e.selectable;return t?[[[r.Code,{selectable:a}]],[[r.Link,{links:n,selectable:a}]],[[r.Mention,{mentions:t,selectable:a}]],[[r.Bold,{selectable:a}],[r.Italic,{selectable:a}],[r.Strikethrough,{selectable:a}]],[[r.Emoji,{selectable:a}]]]:[[[r.Code,{selectable:a}]],[[r.Link,{links:n,selectable:a}]],[[r.Bold,{selectable:a}],[r.Italic,{selectable:a}],[r.Strikethrough,{selectable:a}]],[[r.Emoji,{selectable:a}]]]},t.UntrustedConversation=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mentions,n=e.selectable;return t?[[[r.Code,{selectable:n}]],[[r.Mention,{mentions:t,selectable:n}]],[[r.Bold,{selectable:n}],[r.Italic,{selectable:n}],[r.Strikethrough,{selectable:n}]],[[r.Emoji,{selectable:n}]]]:[[[r.Code,{selectable:n}]],[[r.Bold,{selectable:n}],[r.Italic,{selectable:n}],[r.Strikethrough,{selectable:n}]],[[r.Emoji,{selectable:n}]]]},t.Search=function(e){var t=e.boundary,n=e.terms,a=e.selectable,o=e.mentions;return[[[r.TextMention,{mentions:o,selectable:a}]],[[r.Bold,{selectable:a}],[r.Italic,{selectable:a}],[r.Strikethrough,{selectable:a}]],[[r.Highlight,{terms:n,boundary:t,selectable:a,ignoreDiacritics:!0}]],[[r.Emoji,{selectable:a}]]]},t.LastMessage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mentions,n=e.selectable;return t?[[[r.Code,{selectable:n}]],[[r.TextMention,{mentions:t,selectable:n}]],[[r.Bold,{selectable:n}],[r.Italic,{selectable:n}],[r.Strikethrough,{selectable:n}]],[[r.Emoji,{selectable:n}]]]:[[[r.Code,{selectable:n}]],[[r.Bold,{selectable:n}],[r.Italic,{selectable:n}],[r.Strikethrough,{selectable:n}]],[[r.Emoji,{selectable:n}]]]},t.FTSMessage=function(e){var t=e.boundary,n=e.mentions,a=e.terms,o=e.selectable;return[[[r.Code,{selectable:o}]],[[r.TextMention,{mentions:n,selectable:o}]],[[r.Bold,{selectable:o}],[r.Italic,{selectable:o}],[r.Strikethrough,{selectable:o}]],[[r.Highlight,{terms:a,boundary:t,selectable:o}]],[[r.Emoji,{selectable:o}]]]},t.Format=function(e){var t=e.mentions,n=e.selectable;return[[[r.Code,{selectable:n}]],[[r.TextMention,{mentions:t,selectable:n}]],[[r.Bold,{selectable:n}],[r.Italic,{selectable:n}],[r.Strikethrough,{selectable:n}]],[[r.Emoji,{selectable:n}]]]},t.QuotedMention=function(e){var t=e.mentions,n=e.selectable;return[[[r.Code,{selectable:n}]],[[r.TextMention,{mentions:t,selectable:n,theme:{quoted:!0}}]],[[r.Bold,{selectable:n}],[r.Italic,{selectable:n}],[r.Strikethrough,{selectable:n}]],[[r.Emoji,{selectable:n}]]]},t.ComposeBox=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).selectable;return[[[r.Code,{selectable:e}]],[[r.Link,{selectable:e}]],[[r.Bold,{selectable:e}],[r.Italic,{selectable:e}],[r.Strikethrough,{selectable:e}]],[[r.Emoticon,{selectable:e}]]]},t.RawNotification=function(e){var t=e.mentions,n=e.selectable;return[[[r.RawMention,{mentions:t,selectable:n}]]]},t.FormattedNotification=function(e){var t=e.mentions,n=e.selectable;return[[[r.Code,{selectable:n}]],[[r.RawMention,{mentions:t,selectable:n}]],[[r.Bold,{selectable:n}],[r.Italic,{selectable:n}],[r.Strikethrough,{selectable:n}]]]},t.TrustedGroupDesc=function(e){var t=e.links;return[[[r.Code,{selectable:!0}]],[[r.Link,{links:t,selectable:!0}]],[[r.Bold,{selectable:!0}],[r.Italic,{selectable:!0}],[r.Strikethrough,{selectable:!0}]],[[r.Emoji,{selectable:!0}]]]},t.UntrustedGroupDesc=function(){return[[[r.Code,{selectable:!0}]],[[r.Bold,{selectable:!0}],[r.Italic,{selectable:!0}],[r.Strikethrough,{selectable:!0}]],[[r.Emoji,{selectable:!0}]]]},t.BoldedContactName=function(e){var t=e.selectable;return[[[r.BoldFirstWord,{selectable:t}]],[[r.Emoji,{selectable:t}]]]}},cehhcbdgih:function(e,t){e.exports={linkContainer:"_1Td9v",descContainer:"_1ODlg",icon:"_3M3Wb"}},cehjcbedfe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n("dfacahcafg")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=d(n("eceadcicaf")),u=d(n("cgfidiajgj")),s=n("dhjffabgfb"),l=d(n("bdjihaecid")),c=d(n("faeabghda")),f=d(n("dfcihdhibf"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=function(e){function t(e){p(this,t);var n=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._handleFetchState=function(){n.forceUpdate()},n._handleRetryClick=function(){n.props.stickers.fetch(!0)},n._setRefScrollGrid=function(e){n._refScrollGrid=e},n._fetchStickers(n.props.stickers),n}return m(t,o.PureComponent),a(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.stickers;t.fetchState===s.FETCH_STATE.ERROR&&t.fetch(!0)}},{key:"UNSAFE_componentWillUpdate",value:function(e){var t=this.props.stickers,n=e.stickers;this._handleStickersChange(t,n)}},{key:"focus",value:function(e){this._refScrollGrid&&this._refScrollGrid.focus(e)}},{key:"_fetchStickers",value:function(e){this.props.listeners.add(e,"change:fetchState",this._handleFetchState),e.fetch()}},{key:"_handleStickersChange",value:function(e,t){e!==t&&(e&&this.props.listeners.remove(e,"change:fetchState",this._handleFetchState),this._fetchStickers(t),this._refScrollGrid&&this._refScrollGrid.scrollToTop())}},{key:"render",value:function(){var e=this.props.stickers;if(e.fetchState===s.FETCH_STATE.ERROR)return this.props.renderError(this._handleRetryClick);if(!e.fetchState||e.fetchState===s.FETCH_STATE.PENDING){var t=u.default.getPlaceholder();return o.createElement("div",{className:c.default.container},(0,r.default)(24,function(e){return o.createElement(l.default,{key:e,sticker:t})}))}return o.createElement(f.default,{ref:this._setRefScrollGrid,onFocusPrev:this.props.onFocusPrev,onScroll:this.props.onScroll,onStickerClick:this.props.onStickerClick,onStickerEnter:this.props.onStickerEnter,stickers:this.props.stickers.toArray()})}}]),t}();b.displayName="StickersScrollGrid";var g=(0,i.default)(b),v=function(e){function t(){return p(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,g),a(t,[{key:"focus",value:function(e){this.getComponent().focus(e)}}]),t}();t.default=v},cehjjfagii:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=h(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=h(n("cjaagagigi")),u=h(n("dbdfbgehgj")),s=h(n("bbchdeehff")),l=h(n("fifhbjiec")),c=h(n("bjbdcigbdi")),f=h(n("bdiiahhjbe")),d=h(n("ihfccfgdf")),p=h(n("djbfhebjhe"));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t,n){var r=void 0;if(n){var a=u.default.get(n);r=a?a.formattedTitle:l10n.t(503)}return t?`${e}  ${l10n.t(1032)}`:r?`${e}  ${r}`:e}var g=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.onClick=function(){u.default.find(r.props.msg.sender).then(function(e){s.default.openChatFromUnread(e).then(function(t){t&&s.default.focusChatTextInput(e)})})},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.msg,n=e.chat,r=e.contact,u=e.disableClick,s=e.displaySelf,d=e.quotedRemoteJid,h=e.albumId,m=n||t.chat;f.default.assert(m,"author-with-no-chat")();var g=m?m.assignedColor(t.sender):1,v=u?null:this.onClick,y=(0,a.default)(i.default.author,`color-${g}`,{[i.default.hoverable]:v}),_=void 0;if(s)_=o.createElement(l.default,{text:b(l10n.t(1414),t.isStatusV3,d)});else if(r.name)_=[o.createElement(l.default,{text:b(r.name,t.isStatusV3,d),className:i.default.name,key:"author",onClick:v})];else if(_=[o.createElement("span",{className:i.default.number,role:v?"button":null,key:`${t.id.toString()}-number`,onClick:v},b((0,p.default)(r.id),t.isStatusV3,d))],!t.isStatusV3){var E=h?`${h}-push-name`:`${t.id.toString()}-push-name`,j=void 0;r.notifyName?j=r.notifyName:c.default.supportsFeature(c.default.F.CONTACT_HAS_PUSHNAME)&&(j=r.pushname),_.push(o.createElement(l.default,{className:i.default.screenName,key:E,onClick:v,direction:"auto",ellipsify:!0,text:j}))}return o.createElement("div",{className:y,role:this.props.role||""},_)}}]),t}();g.CONCERNS={msg:["sender","chat","type","isLive","isStatusV3","id","quotedMsg"],contact:["id","name","notifyName","pushname"]},g.displayName="Author",t.default=(0,d.default)(g,g.CONCERNS)},ceibefacih:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=L(n("hhegggegb")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=R(n("ddhijeejag")),i=L(n("bbchdeehff")),u=L(n("baagejbchg")),s=L(n("djcchigfih")),l=L(n("djbhiedbef")),c=n("dajffajabh"),f=L(c),d=L(n("dbgdaechch")),p=L(n("bhhdeihhhf")),h=n("cicgeajfge"),m=R(n("cajijabhgb")),b=n("bgddggdhc"),g=L(n("ddajbaceej")),v=L(n("jheedhagg")),y=n("ejbdjaifi"),_=L(n("dhfbfehaef")),E=L(n("fffdgbfji")),j=L(n("eceadcicaf")),O=L(n("bdiiahhjbe")),S=n("bhfdfhefca"),w=L(n("bjbedjfe")),P=L(n("jcfhjhibi")),M=L(n("dcaibchbg")),C=L(n("becfabjeeg")),T=L(n("ddifaecacd")),A=L(n("iibcehaia")),N=L(n("bfdcadbbif")),k=L(n("djbecaeiae")),I=L(n("didfdhbecg"));function R(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function L(e){return e&&e.__esModule?e:{default:e}}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function U(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var G=function(e){function t(e){D(this,t);var n=x(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.msgRefs={},n.getInitialState=function(){var e=n.props.starredMsgs;return{cursor:P.default.create({msgCollection:e,type:u.default.RENDER_CURSOR.STARRED_DRAWER}).loadAfter(e,{count:u.default.MSG_PRELOAD_THRESHOLD})}},n.handleStarChange=function(e){n.initSelectionObjects(),n.forceUpdate()},n.initSelectionObjects=function(){var e=n.props.starredMsgs.toArray();n.currSelection.init(e,!0),n.activeSelection.init(e)},n.setRefMsgComponent=function(e,t){t?n.msgRefs[e.id.toString()]=t:delete n.msgRefs[e.id.toString()]},n.loadEarlierMsgs=function(){var e=n.state.cursor,t=n.props.chat&&n.props.chat.id,r=n.props.starredMsgs,a=r.models;if(e.getEnd(r)<a.length)n.setState({cursor:e.loadAfter(r)});else{if(r.isSynced)return;n.props.starredMsgs.sync(t).checkpoint(n.props.rejectOnUnmount()).then(function(){e.hasAfter(r)&&n.setState({cursor:e.loadAfter(r)})}).catch(m.Unmount,function(){}).catch(function(e){O.default.log("StarredDrawer:loadEarlierMsgs failed")(),O.default.log(e)()})}},n.onClose=function(){n.props.onClose?n.props.onClose():n.props.uim.uie.requestDismiss()},n.focus=function(){n.body&&g.default.focus((0,b.forbiddenAssertDOMNode)(n.body))},n.onFocusGain=function(e){n.body&&((e?e.target:document.activeElement)===(0,b.forbiddenAssertDOMNode)(n.body)&&(n.currSelection.index<0?n.currSelection.setFirst(!0):n.currSelection.reset(!1)))},n.onNextMsg=function(e){e&&(e.preventDefault(),e.stopPropagation());var t=n.currSelection.next();n.currSelection.index!==t&&n.currSelection.setNext(!0)},n.onPrevMsg=function(e){e&&(e.stopPropagation(),e.preventDefault()),n.currSelection.prev()>-1&&n.currSelection.setPrev(!0)},n.onScroll=function(e){n.handleScroll(e.currentTarget)},n._handleScroll=function(e){n.updateMsgListInfo(),function(e){return e.scrollTop+u.default.SCROLL_FUDGE>e.scrollHeight-e.clientHeight}(e)&&n.loadEarlierMsgs()},n.selectMsg=function(e){n.currSelection.setVal(e),n.activeSelection.setVal(e),i.default.openChatAt(e.chat,e.chat.getSearchContext(e)),i.default.focusShowMsg(e.id)},n.getMsgList=function(){var e=n.state.cursor,t=n.props.starredMsgs,r=t.toArray(),a=t.isSynced?e.getEnd(t):Math.min(e.getEnd(t),r.length);return r=r.slice(e.getStart(t),a),n.length=r.length,r},n.getMsgVisibility=function(e){if(!e)return u.default.VISIBILITY.BELOW;if(n.scrollContainer){var t=(0,b.forbiddenAssertDOMNode)(n.scrollContainer),r=t.previousSibling.clientHeight,a=t.scrollTop+r,o=a+t.clientHeight,i=(0,b.forbiddenAssertDOMNode)(e);return i?i.offsetTop+i.clientHeight<=a?u.default.VISIBILITY.ABOVE:i.offsetTop>=o?u.default.VISIBILITY.BELOW:u.default.VISIBILITY.VISIBLE:u.default.VISIBILITY.BELOW}},n.isMsgVisible=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!!n.msgListInfo.visibleMsgs[e.toString()]&&(!!t||n.getMsgComponent(e))},n.getMsgComponent=function(e){var t=n.msgRefs[e.toString()];if(t){var r=t.getComponent(),a=r&&r.wrapper;return a&&"function"==typeof a.getMsgComponentRef?a.getMsgComponentRef():void 0}},n._updateMsgListInfo=function(){for(var e=n.getMsgList(),t={},r=0,a=n.length-1;r<a;){var o=Math.floor((r+a)/2),i=n.msgRefs[e[o].id.toString()];n.getMsgVisibility(i)===u.default.VISIBILITY.ABOVE?r=o+1:a=o}for(var s=r;s<e.length;s++){var l=n.msgRefs[e[s].id.toString()];if(n.getMsgVisibility(l)!==u.default.VISIBILITY.VISIBLE)break;t[e[s].id.toString()]=!0}n.pauseHiddenGifs(n.msgListInfo.visibleMsgs,t),n.msgListInfo.visibleMsgs=t},n.pauseHiddenGifs=function(e,t){for(var r in e)if(!t[r]){var a=n.props.starredMsgs.get(r);if(a&&a.isGif){var o=n.getMsgComponent(r);o&&o.playCount&&o.pause()}}},n.handleScroll=(0,r.default)(n._handleScroll,100),n.updateMsgListInfo=(0,r.default)(n._updateMsgListInfo,100),n.msgListInfo={visibleMsgs:{}},n.state=n.getInitialState(),n}return U(t,o.Component),a(t,[{key:"UNSAFE_componentWillMount",value:function(){this.currSelection=new M.default([],function(e){return e.id.toString()}),this.activeSelection=new M.default([],function(e){return e.id.toString()})}},{key:"componentDidMount",value:function(){var e=this;this.focus(),this.props.listeners.add(window,"resize",this.updateMsgListInfo),!this.props.starredMsgs.isSynced&&this.props.starredMsgs.length<u.default.PAGE_SIZE&&this.props.listeners.uiIdle(this.loadEarlierMsgs),this.props.listeners.add(this.props.starredMsgs,"reset sync",function(){e.initSelectionObjects(),e.forceUpdate()}),this.initSelectionObjects(),this.forceUpdate(),this.props.listeners.add(this.props.starredMsgs,"add remove",this.handleStarChange),this.onFocusGain(),this.props.listeners.add(this.props.starredMsgs,"reset",function(){e.msgListInfo={visibleMsgs:{}},e.setState(e.getInitialState()),e.loadEarlierMsgs()})}},{key:"componentWillUnmount",value:function(){this.handleScroll.cancel(),this.updateMsgListInfo.cancel()}},{key:"componentDidUpdate",value:function(){this.updateMsgListInfo()}},{key:"render",value:function(){var e=this,t=this.getMsgList(),n=this.state.cursor,r=this.props.starredMsgs,a=this.props.chat||null,i=void 0,d=void 0;if(d=r.isSynced&&n.getEnd(r)>=t.length?null:this.props.starredMsgs.syncPromise?o.createElement("div",{className:T.default.more,title:E.default.t(662)},o.createElement(C.default,{stroke:6,size:24})):o.createElement("div",{className:T.default.more},o.createElement("div",{title:E.default.t(659),onClick:this.loadEarlierMsgs},o.createElement(N.default,{name:"refresh"}))),t.length>0){var p=t.map(function(t){var n=t.type===u.default.MSG_TYPE.IMAGE||t.type===u.default.MSG_TYPE.VIDEO||t.type===u.default.MSG_TYPE.AUDIO;return o.createElement(A.default,{key:t.id.toString(),ref:function(n){e.setRefMsgComponent(t,n)},msg:t,isMsgVisible:n?e.isMsgVisible:function(){},currSelection:e.currSelection,activeSelection:e.activeSelection,onClickMsg:e.selectMsg})});i=o.createElement(I.default,{transitionName:"slide"},p)}else this.props.starredMsgs.isSynced?i=o.createElement(h.StarredMsgs,null):(i=o.createElement(h.Loading,null),d=null);var m={down:this.onNextMsg,up:this.onPrevMsg},b=t.length>0?o.createElement(S.MenuBarItem,{a8nText:"starred-menu",icon:o.createElement(N.default,{name:"menu-white"}),title:E.default.t(704)},o.createElement(F,{chat:a,msgs:t})):null;return o.createElement(s.default,{theme:"gallery"},o.createElement(_.default,{className:T.default.hotKeyWraper,handlers:m,onFocus:this.onFocusGain,"data-tab":2,ref:(0,y.GetRef)("body",this)},o.createElement(f.default,{title:E.default.t(1029),onBack:this.onClose,type:c.DRAWER_HEADER_TYPE.LARGE,menu:b}),o.createElement(l.default,{onScroll:this.onScroll,ref:(0,y.GetRef)("scrollContainer",this)},i,d)))}}]),t}();G.displayName="StarredDrawer";var F=function(e){function t(){var e,n,r;D(this,t);for(var a=arguments.length,u=Array(a),s=0;s<a;s++)u[s]=arguments[s];return n=r=x(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.sendUnstarAll=function(){i.default.openModal(o.createElement(k.default,{msgs:r.props.msgs,chat:r.props.chat}))},x(r,n)}return U(t,o.Component),a(t,[{key:"render",value:function(){var e=this.props.msgs;return o.createElement(d.default,{type:"dropdown_menu",flipOnRTL:!0,key:"StarredDrawerHeader",dirX:"LEFT"},o.createElement(p.default,{a8n:"mi-unstar-all menu-item",action:this.sendUnstarAll,disabled:0===e.length},E.default.t(1074)))}}]),t}();F.displayName="StarredHeaderDropdown",t.default=(0,v.default)((0,w.default)((0,j.default)(G)))},ceigficjgj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=O(n("dgibicjjj")),i=n("cgejchjdhj"),u=n("bgddggdhc"),s=O(n("ddajbaceej")),l=n("ejbdjaifi"),c=n("dhfbfehaef"),f=O(c),d=O(n("dgiechcbec")),p=O(n("eceadcicaf")),h=O(n("cbcbdjdah")),m=O(n("biecbbiiee")),b=O(n("bhheahajjg")),g=n("caijdggfg"),v=O(n("ihfccfgdf")),y=n("bheafeifce"),_=O(n("cbeecgcage")),E=n("hjbbdjjdf"),j=O(n("bcifhbgija"));function O(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var w=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),l=0;l<a;l++)o[l]=arguments[l];return n=r=S(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.onSearch=function(){r.setState({searchText:r.props.searchQuery.trimmed})},r.onActiveChange=function(e,t){if("focus"===e){var n=(0,u.forbiddenAssertDOMNode)(r);s.default.focus(n),(0,i.scrollIntoViewIfNeeded)(n)}r.setState({active:!!e})},r.onClick=function(e){var t=r.props.onClick;if((0,E.isFunction)(t)){var n=r.props,a=n.msg,o=n.chat,i=m.default.assertGet(a.id),u=o.getSearchContext(i);u.msg=i,t(e,(0,y.unproxy)(o),u)}},r.onMouseDown=function(e){0===e.button&&r.onClick(e)},r.onEnter=function(e){e.preventDefault(),e.stopPropagation(),(0,c.shouldIndicateFocus)(),r.onClick(e)},r.indicateFocus=function(e){e.stopPropagation(),e.preventDefault(),(0,c.indicateFocus)(r.cell,["#e9eaeb","#cbdde7"],{complete:r.onBlur})},r.onBlur=function(e){var t=(0,u.forbiddenFindDOMNode)(r.cell);t&&((0,j.default)(t,"stop"),t.style.backgroundColor="")},S(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"UNSAFE_componentWillMount",value:function(){this.initListeners(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.initListeners(e,this.props)}},{key:"initListeners",value:function(e,t){var n=e.listeners,r=e.active,a=e.msg,o=e.searchQuery;t&&t.searchQuery&&t.searchQuery!==o&&n.remove(o,g.SEARCH_EVENT,this.onSearch),!o||t&&o===t.searchQuery||n.add(o,g.SEARCH_EVENT,this.onSearch);var i=t?t.msg.id:null;i&&!a.id.equals(i)&&(t&&t.active&&n.remove(t.active,t.msg.id.toString(),this.onActiveChange),r&&n.add(r,a.id.toString(),this.onActiveChange));var u=r&&r.value instanceof h.default&&r.value.id.equals(a.id);this.setState({searchText:o.trimmed,active:u})}},{key:"render",value:function(){var e=this.props,t=e.msg,n=e.chat,r=e.searchQuery,i=e.mouseDownAsClick,u=this.state.active,s=a.createElement(_.default,{msg:t}),c=a.createElement(d.default,{msg:t,msgType:"FTSMessage",searchQuery:r.highlighted}),p={enter:this.onEnter};return a.createElement(f.default,{handlers:p,onFocus:this.indicateFocus,onBlur:this.onBlur},a.createElement(o.default,{ref:(0,l.GetRef)("cell",this),contextEnabled:function(){return!1},theme:"chat-checkbox"===this.props.theme?"cell-message-checkbox":"cell-message",active:!!u,primary:a.createElement(b.default,{chat:n,labels:t.labels,showLabel:!0,titlify:!0,ellipsify:!0}),primaryDetail:s,secondary:c,onClick:i?null:this.onClick,onMouseDown:i?this.onMouseDown:null}))}}]),t}();w.CONCERNS={msg:["id","isSentByMe","isGroupMsg","isNotification","senderObj","dir","rtl","type","labels"],chat:["id","isUser","contact","formattedTitle"]},w.displayName="Message",t.default=(0,p.default)((0,v.default)(w,w.CONCERNS))},ceihfbbggi:function(e,t,n){"use strict";e.exports={singleByte:["location","document","elapsed","revoke_invite","expiration","unsubscribe","disable"]}},ceijcbgdah:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(e){for(var t=[],n=0;n<e.length;++n)for(var a=0;a<e[n].length;++a){var o=r(e[n][a],2),i=o[0],u=o[1];t.push([i,u,n])}return t}},cejbjjbged:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.HANDSHAKE_COMMAND="@@handshake",t.INVOCATION_COMMAND="@@invoke",t.RESPONSE_COMMAND="@@response"},cejfhccbi:function(e,t,n){e.exports=function(){return new Worker(n.p+"04858c9e5b890868ed81.js")}},cejheebceh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=d(n("dddgijibah")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=d(n("bbchdeehff")),u=(d(n("baagejbchg")),n("bidfjbaebi")),s=d(n("cfhehaefih")),l=d(n("ihfccfgdf")),c=d(n("ciheehhei")),f=d(n("edbaidcaf"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.onLinkClick=function(){var e=r.props.msg.matchedText;(0,u.openExternalLink)(e)},r.onSuspiciousLinkClick=function(e){i.default.openModal(o.createElement(c.default,{link:e}))},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.msg,r=t.displayType,i=t.invite,u=null;if(!i){u=f.default.hostname(n.canonicalUrl||n.matchedText);try{u=a.default.toUnicode(u)}catch(e){}}var l=n.getSuspiciousLinks().filter(function(e){var t=e.url;return n.matchedText===t}),c=void 0,d=void 0,p=void 0;return l.length?p=function(){return e.onSuspiciousLinkClick(l[0])}:(c=n.description,d=n.thumbnail,p=this.onLinkClick),o.createElement(s.default,{canonicalUrl:u,description:c,displayType:r,invite:i,onClick:p,isSentByMe:n.isSentByMe,thumbnailJpeg:d,title:n.title,star:n.star})}}]),t}();h.CONCERNS={msg:["thumbnail","title","description","canonicalUrl","matchedText","isSentByMe","star"]},h.displayName="LinkPreviewContainer",t.default=(0,l.default)(h,h.CONCERNS)},cfafieaaec:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=P(n("jcfacighg")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=P(n("cegfhjajbg")),u=P(n("dhbceejbjg")),s=P(n("dhigahgdjb")),l=P(n("cehaihfgda")),c=P(n("chdfbgffgh")),f=P(n("djcchigfih")),d=P(n("djbhiedbef")),p=n("dajffajabh"),h=P(p),m=n("cicgeajfge"),b=P(n("bggeiidigb")),g=P(n("ddajbaceej")),v=P(n("dgjddffcfg")),y=P(n("bjbdcigbdi")),_=n("dhfbfehaef"),E=P(_),j=P(n("dbciicjiad")),O=P(n("fdcfhecbj")),S=P(n("bfdcadbbif")),w=P(n("fbjjefaic"));function P(e){return e&&e.__esModule?e:{default:e}}function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var C=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=M(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={searchText:""},r.setSearch=function(e){r.search=e},r.setRefList=function(e){r.refList=e},r.flatListController=new b.default,r.onSearch=function(e){r.searchText=e,r._onSearch(e)},r._onSearch=r.props.debounce(function(e){r.setState({searchText:e})},100),r.onFocusList=function(e){r.refList&&(e.preventDefault(),e.stopPropagation(),(0,_.shouldIndicateFocus)(),r.refList&&r.refList.focusFirst())},r.onSelectFirst=function(e){e.preventDefault(),e.stopPropagation();var t=r.frequentContacts[0];if(t)return(0,_.shouldIndicateFocus)(),void r.props.onClick(e,t);var n=r.getFilteredContacts(r.searchText)[0];n&&((0,_.shouldIndicateFocus)(),r.props.onClick(e,n))},r.onFocusSearch=function(){(0,_.shouldIndicateFocus)(),g.default.focus(r.search)},M(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"getFilteredContacts",value:function(e){var t=e;if(s.default.ensureSorted(),!(t="string"==typeof t?t:this.state.searchText))return s.default.getFilteredContacts();var n=s.default.getFilteredContacts().concat(s.default.filter(function(e){return e.name&&!e.isMe&&!e.isPSA&&!e.isWAContact}));t=l10n.accentFold(t);var r=v.default.numberSearch(t);return n.filter(function(e){return e.searchMatch(t,r)})}},{key:"calculateFrequentContacts",value:function(){if(this.state.searchText||!y.default.supportsFeature(y.default.F.FREQUENT_CONTACTS))return[];var e=s.default.frequentContacts("message");return(0,r.default)(e)}},{key:"render",value:function(){var e=void 0,t=null,n=this.getFilteredContacts();if(this.frequentContacts=this.calculateFrequentContacts(),e=0===n.length?this.state.searchText?(0,m.SearchWithKeyword)(this.state.searchText):(0,m.SearchWithoutKeyword)():o.createElement(c.default,{ref:this.setRefList,contacts:n,flatListController:this.flatListController,frequentContacts:this.frequentContacts,onClick:this.props.onClick,onFocusSearch:this.onFocusSearch,showPersonGroupDivisionHeader:!!this.state.searchText}),!this.state.searchText){var r=o.createElement(O.default,null,o.createElement(S.default,{name:"new-group",directional:!0}));t=o.createElement("div",{"data-list-scroll-offset":!0},o.createElement("div",{className:l.default.newGroupButton},o.createElement(u.default,{image:r,primary:l10n.t(1262),onClick:this.props.onNewGroup}),o.createElement(i.default,null)))}var a={down:this.onFocusList,enter:this.onSelectFirst};return o.createElement(f.default,{key:"contact-modal"},o.createElement(h.default,{title:this.props.title,type:p.DRAWER_HEADER_TYPE.LARGE,onBack:this.props.onBack}),o.createElement(E.default,{handlers:a},o.createElement(j.default,{ref:this.setSearch,onSearch:this.onSearch,placeholder:l10n.t(975)})),o.createElement(d.default,{flatListControllers:[this.flatListController]},t,e))}}]),t}();C.displayName="ContactDrawer",t.default=(0,w.default)(C)},cfbeeihgea:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=l(n("dgjddffcfg")),o=l(n("dbbbgjbbgf")),i=l(n("ijbagjdgc")),u=l(n("bfdcadbbif")),s=l(n("dbabefhajh"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.msg,n=e.displayAuthor;return r.createElement(s.default,{msg:t,displayAuthor:n},r.createElement("div",{className:i.default.icon},r.createElement(u.default,{name:"unknown"})),r.createElement("div",{className:i.default.text},r.createElement(o.default,{msg:t,theme:"placeholder"},a.default.msgText(t))))}c.displayName="OversizedMsg"},cfcdedaej:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=c(n("bbchdeehff")),i=c(n("biddiiafgd")),u=c(n("bjigbaghc")),s=c(n("eceadcicaf")),l=c(n("eaaehfdjdg"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.close=function(){0===u.default.tos&&o.default.closeModal()},r.logout=function(){o.default.closeModal(),l.default.logout()},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(u.default,"change:tos",this.close)}},{key:"render",value:function(){var e=void 0,t=void 0,n=void 0;switch(u.default.tos){default:case 1:e=l10n.t(1380),t=l10n.t(862),n=function(){return o.default.closeModal()};break;case 2:e=l10n.t(1381),t=l10n.t(693),n=this.logout}return a.createElement(i.default,{onOK:n,okText:t},e)}}]),t}();d.displayName="TermsOfServiceModal",t.default=(0,s.default)(d)},cfchhaeaaf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=u(n("bhhdeihhhf")),i=u(n("ihfccfgdf"));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.pin=function(){var e=r.props,t=e.chat;(0,e.onPinOrUnpin)(!t.pin)},s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.chat,n=e.disabled;return a.createElement(o.default,{a8n:"mi-pin",action:this.pin,key:"PinChat",disabled:n},null!=t.pin&&0!==t.pin?l10n.t(1070):l10n.t(886))}}]),t}();l.CONCERNS={chat:["pin"]},l.displayName="PinMenuItem",t.default=(0,i.default)(l,l.CONCERNS)},cfdejhjab:function(e,t){e.exports={"-overlay-border-right":"1px",overlayBorderRight:"1px","-overlay-border-left":"1px",overlayBorderLeft:"1px",footer:"_1N6pS",positioningContainer:"_3LVW7",overlayContainer:"_30sf0",blockCompose:"_2i7Ej",inputContainer:"_13mgZ",childPadding:"hnQHL",disabled:"_15S_w",btnSend:"_3M-N-"}},cfdfdbefea:function(e,t){e.exports={button:"_26IFT",buttonIcon:"k5AVL",nextButton:"_3qJWs",prevButton:"wF7YD",resizeContainer:"_2iLBO"}},cfedfiga:function(e,t){e.exports={imageWrapper:"_12ikd",msgImage:"_3j0rH",composeBox:"_2B8Xd",statusV3:"_3rn4N",image:"_2gKWQ"}},cfegbbcefd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("dbdfbgehgj")),i=l(n("bbchdeehff")),u=l(n("ihfccfgdf")),s=l(n("dahbdjdajd"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,u=Array(a),s=0;s<a;s++)u[s]=arguments[s];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.onClick=function(){var e=r.props.contact;o.default.find(e.id).then(function(e){return i.default.openChatBottom(e)})},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.contact,n=e.theme,r=e.selectable,o=t.isMe?void 0:this.onClick;return a.createElement(s.default,{contact:t,theme:n,selectable:r,onClick:o})}}]),t}();f.CONCERNS={contact:["id","isMe"]},f.displayName="Mention",t.default=(0,u.default)(f,f.CONCERNS)},cfegjiegcd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=d(n("ejiicdbii")),i=d(n("dhigahgdjb")),u=d(n("bcbahjefec")),s=n("bgjddhffji"),l=d(n("bggcifcgdc")),c=d(n("jheeiegi")),f=d(n("djicifaabb"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,d=Array(u),h=0;h<u;h++)d[h]=arguments[h];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(d))),r.pushProductDetails=function(e,t){var n=r.props,o=n.chat,i=n.refreshCarousel,u=a.createElement(l.default,{chat:o,product:e,onEnd:r._end,onBack:r._pop,onProductDetail:r.onProductDetail,onProductCatalog:r.onProductCatalog,refreshCarousel:i,sessionId:t});r.push(u)},r.pushProductDetailsWithDeepLink=function(e,t){var n=a.createElement(c.default,{chat:r.props.chat,productInfo:e,onEnd:r._end,onBack:r._pop,onProductDetail:r.onProductDetail,onProductCatalog:r.onProductCatalog,sessionId:t});r.push(n)},r.onProductDetail=function(e,t){r.pushProductDetails(e,t)},r.onProductCatalog=function(e,t){var n=i.default.gadd(e);(0,s.logCarouselViewMoreClick)(e.toString(),t),o.default.find(e).then(function(o){var i=a.createElement(f.default,{contact:n,onProductDetail:r.onProductDetail,catalogId:e,onBack:r._pop,sessionId:t,businessProfile:o});r.push(i)})},r._pop=function(){r.pop()},r._end=function(){r.end(!0)},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),r(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.product,n=e.productInfo,r=e.sessionId;if(t)this.pushProductDetails(t,r);else{if(!n)throw new Error("ProductDetailsFlow:no-product");this.pushProductDetailsWithDeepLink(n,r)}}}]),t}();t.default=h},cffajefeag:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n("bjigbaghc")),o=l(n("bdiiahhjbe")),i=l(n("djfhifiigg")),u=l(n("jccfhaecf")),s=n("dcbdjheea");function l(e){return e&&e.__esModule?e:{default:e}}var c=n("bjbdcigbdi"),f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t;if(!n)throw new Error("MsgKey error: obj is null/undefined");n.id instanceof e&&(n=n.id,o.default.error("MsgKey error: id is already a MsgKey")());var r=n.from&&n.to&&n.id,i=void 0!==n.fromMe&&n.remote&&n.id,s=void 0,l=void 0,f=void 0,d=void 0,p=void 0,h=void 0,m=void 0;if(!a.default.me)throw new Error("MsgKey error: Conn.me is undefined");if(r&&i)throw new Error("MsgKey error: unclear which constructor to use: "+JSON.stringify(n));if(!r&&!i)throw new Error("MsgKey error: don't have a matching constructor "+JSON.stringify(n));if(r){var b=n;if(s=b.from,l=b.to,f=b.id,d=b.participant,p=b.selfDir,!(s instanceof u.default)||!(l instanceof u.default)||d&&!(d instanceof u.default))throw new Error(`MsgKey error: something's not a wid: from:${String(s)} to:${String(l)} p:${String(d)}`);p=u.default.equals(s,l)?p:void 0,u.default.equals(s,l)&&u.default.equals(s,a.default.me)?(h="out"===p,m=a.default.me):u.default.equals(s,a.default.me)?(h=!0,m=l):u.default.equals(l,a.default.me)?(h=!1,m=s):u.default.equals(s,l)&&(u.default.isGroup(s)||u.default.isBroadcast(s))?(h=!0,m=s):o.default.error("MsgKey case error: "+[s,l,f,a.default.me].join())(),void 0!==h&&(this.fromMe=h),m&&(this.remote=m),f&&(this.id=f)}else if(i){var g=n;if(h=g.fromMe,m=g.remote,f=g.id,d=g.participant,!(m instanceof u.default)||d&&!(d instanceof u.default))throw new Error(`MsgKey error: something's not a wid: remote:${String(m)} p:${String(d)}`);u.default.equals(a.default.me,m)&&(p=h?"out":"in"),void 0!==h&&(this.fromMe=h),m&&(this.remote=m),f&&(this.id=f)}var v=[this.fromMe,this.remote,this.id];void 0!==p&&(this.self=p,v.push(this.self)),c.supportsFeature(c.F.KEY_PARTICIPANT)&&void 0!==d&&(this.participant=d,v.push(this.participant)),this._serialized=v.join("_")}return r(e,[{key:"toString",value:function(){return this._serialized}},{key:"clone",value:function(){return new e({fromMe:this.fromMe,remote:this.remote,id:this.id,participant:this.participant})}},{key:"equals",value:function(t){return t instanceof e&&this.toString()===t.toString()}}],[{key:"fromString",value:function(t){var n=(0,i.default)(t),r=n.fromMe,a=n.remote,o=n.id,u=n.participant;return new e({fromMe:r,remote:(0,s.createWid)(a),id:o,participant:u?(0,s.createWid)(u):void 0})}}]),e}();t.default=f},cfffidafid:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFiles=function(e,t){var n=e.target.files||e.dataTransfer&&e.dataTransfer.files,r=n?Array.from(n):[];if(t){var o="string"==typeof t?[t]:t,u=o.map(function(e){return new RegExp(e)});r=r.filter(function(e){return u.some(function(t){return e.type.match(t)})})}if(r.length)return Promise.resolve(r);var s=e.dataTransfer;if(s&&s.getData("text/uri-list"))return i.default.urlToFile(s.getData("text/uri-list")).then(function(e){return[e]});if(s&&s.getData("text/html")){var l=new DOMParser,c=l.parseFromString(s.getData("text/html"),"text/html");if(c.createNodeIterator(c.childNodes[0],NodeFilter.SHOW_TEXT).nextNode()){if(s.getData("text/plain")){var f=new a.MediaDragDropError(`dropped html has text nodes: ${s.getData("text/plain")}`);return Promise.reject(f)}}else{var d=c.getElementsByTagName("img");if(d.length)return i.default.urlToFile(d[0].src).then(function(e){return[e]})}}return Promise.resolve(r)};var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cajijabhgb")),o=n("dgjacfgggf"),i=(r=o)&&r.__esModule?r:{default:r}},cffhcdjiff:function(e,t){e.exports={notification:"_1_8_q",icon:"_3egzF"}},cffibfiejh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=s(n("djijjheei")),u=s(n("becfabjeeg"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){var e=this.props.className;return o.createElement("div",{className:(0,a.default)(i.default.container,e)},o.createElement(u.default,{size:50,stroke:3,color:"solidwhite"}))}}]),t}();l.displayName="AvatarSpinner",t.default=l},cfficaagef:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BUBBLE_PADDING=t.MAX_DIM=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=C(n("ceffhbhahb")),o=M(n("ddhijeejag")),i=n("bgiachiigg"),u=C(n("effbcehec")),s=C(n("cehjjfagii")),l=C(n("jhcabjcaf")),c=C(n("bfjbdahdag")),f=C(n("bbchdeehff")),d=C(n("baagejbchg")),p=C(n("dfeecdfijg")),h=C(n("ecfbhafded")),m=n("ejbdjaifi"),b=C(n("bffjfbgbg")),g=C(n("eiiicijcj")),v=n("ecibddhig"),y=M(v),_=C(n("cieaeggjg")),E=C(n("bfbggcdbfb")),j=C(n("ihfccfgdf")),O=n("bheafeifce"),S=C(n("bfdcadbbif")),w=C(n("cbjacjjfgc")),P=C(n("ccfdaijebj"));function M(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var A=t.MAX_DIM=parseInt(h.default["-width-picture-bubble-inner"].replace(/px$/,""),10),N=t.BUBBLE_PADDING=parseInt(h.default["-padding-picture-bubble"].replace(/px$/,""),10),k=A/5.4,I=3,R=6,L=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return n=r=T(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={playing:!1},r.playCount=0,r.pause=function(){r.playCount=0,r._pause()},r.play=function(e){var t=r.props.mediaData,n=r.playerRef;if(t.mediaStage===b.default.STAGE.RESOLVED&&n){e&&e.stopPropagation();var a=r.duration;if(null==a||0===a){var o=n.getDuration();null!=o?a=o:t.duration&&"0"!==t.duration&&(a=parseInt(t.duration,10))}if(null!=a&&0!==a){var i=Math.ceil(R/a);r.playCount=Math.max(i,I)}else r.playCount=I;r._play()}},r._pause=function(){r.setState({playing:!1}),r.playerRef&&r.playerRef.pauseAndReset()},r._play=function(){r.playerRef&&(r.playCount<=0?r.pause():(r.playCount-=1,r.state.playing||r.setState({playing:!0}),r.playerRef.play()))},r.showMediaMissing=function(){f.default.openModal(o.createElement(g.default,{msg:r.props.msg}))},r.getZoomNode=function(e){var t=r.props.isMsgVisible;if(!t)return null;var n=t(e);return n?n.getImgNode&&n.getImgNode():null},r.launchMediaViewer=function(e){e&&e.stopPropagation(),f.default.mediaViewerModal({msg:(0,O.unproxy)(r.props.msg),getZoomNode:r.getZoomNode})},r.downloadMedia=function(){r.props.msg.downloadMedia(!0,E.default.WEBC_RMR_REASON_CODE.MSG_CLICK)},r.cancelDownload=function(){r.props.msg.cancelDownload()},r.cancelUpload=function(){r.props.msg.cancelUpload()},r.resumeUpload=function(){r.props.msg.resumeUpload()},r.resumeRemoteUpload=function(){r.props.msg.resumeRemoteUpload()},T(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.props.msg.downloadMedia(!1,E.default.WEBC_RMR_REASON_CODE.MSG_RENDER)}},{key:"getStyle",value:function(){var e=this.props.mediaData,t=e.aspectRatio;if(!t)return{bubbleWidth:A,bubbleHeight:"100%",contentWidth:A,contentHeight:"100%"};var n=void 0,r=void 0;t<1/5.4?(r=A,n=2.5*k):t<1?(r=A,n=A*t):t<5.4?(n=A,r=A/t):(n=A,r=k);var a=e.renderableUrl&&e.fullWidth||n,o=e.renderableUrl&&e.fullHeight||r;return a/o>n/r?(a=a*r/o,o=r):(o=o*n/a,a=n),o>A&&(o=A),{bubbleWidth:n,bubbleHeight:r,contentWidth:a,contentHeight:o}}},{key:"getFlexSize",value:function(e){var t=this.props.mediaData.aspectRatio,n=void 0,r=void 0,a=2.5*k;t>=1?e<A?(r=(n=e)/t)<k&&(r=k):(r=(n=A)/t)<k&&(r=k):((n=(r=A)*t)<a&&(n=a),e<A&&n>e&&(n=e));var o=n,i=r;return o/i>n/r?(o=o*r/i,i=r):(i=i*n/o,o=n),{bubbleWidth:n,bubbleHeight:r,contentWidth:o,contentHeight:i}}},{key:"getImgNode",value:function(){if(this.playerRef)return this.playerRef.underlyingVideo()}},{key:"render",value:function(){var e=this.props.msg,t=this.props.mediaData,n=t.preview?t.preview.url():void 0,r=null,f=null,g=null,E=this.getStyle();null!=this.props.maxWidth&&this.props.maxWidth<E.bubbleWidth&&(E=this.getFlexSize(this.props.maxWidth));var j=E,O=j.bubbleWidth,M=j.contentWidth,C=j.contentHeight;switch(t.mediaStage){case b.default.STAGE.RESOLVED:this.state.playing||this.playCount!==1/0&&(r=o.createElement(v.GifIcon,{onClick:this.play}));var T=t.aspectRatio>=1?{width:"auto",height:C}:{width:M,height:"auto"};g=o.createElement("div",{className:h.default.thumbVideo},o.createElement(P.default,{ref:(0,m.GetRef)("playerRef",this),src:t.renderableUrl,style:T,onEnded:this._play,muted:!0},l10n.t(1115))),f=this.launchMediaViewer;break;case b.default.STAGE.INIT:f=this.launchMediaViewer;break;case b.default.STAGE.FETCHING:r=o.createElement(y.PendingCancel,null),f=this.cancelDownload;break;case b.default.STAGE.NEED_POKE:r=o.createElement(y.Download,{filesize:t.size}),f=this.downloadMedia;break;case b.default.STAGE.UPLOADING:r=o.createElement(y.PendingCancel,null),f=this.cancelUpload;break;case b.default.STAGE.NEED_UPLOAD:r=o.createElement(y.Upload,{filesize:t.size}),f=this.resumeUpload;break;case b.default.STAGE.REMOTE_NEED_UPLOAD:r=o.createElement(y.Upload,{filesize:t.size}),f=this.resumeRemoteUpload;break;case b.default.STAGE.ERROR_MISSING:f=this.showMediaMissing;break;case b.default.STAGE.SENDING:r=e.isFailed?null:o.createElement(y.Pending,null);break;default:r=o.createElement(y.Pending,null)}var A=n?o.createElement("div",{className:h.default.thumbImage,style:{backgroundImage:`url(${n})`}}):null,k=e.caption?o.createElement("div",{className:h.default.caption,style:{maxWidth:O}},o.createElement(c.default,{msg:e,trusted:this.props.trusted})):null,I=k?null:o.createElement(w.default,null),R=this.props.displayAuthor&&!e.isSentByMe&&e.isGroupMsg,L=e.showForwarded(),x=(0,a.default)(h.default.bubble,{[h.default.hasCaption]:e.caption,[h.default.hasAuthor]:R,[h.default.forwarded]:L,[h.default.isPSA]:e.isPSA,[h.default.isGallery]:this.props.displayType===d.default.DISP_TYPE.STARRED_MSGS||this.props.displayType===d.default.DISP_TYPE.GALLERY,[h.default.isInfo]:this.props.displayType===d.default.DISP_TYPE.MSG_INFO}),U=R?o.createElement("div",{className:h.default.author},o.createElement(s.default,{msg:e,contact:e.senderObj})):null,G=L?o.createElement(p.default,{msg:e,className:h.default.forwardedIndicator}):null,F=void 0;switch(e.gifAttribution){case i.VIDEO_MESSAGE_ATTRIBUTION.GIPHY:F=o.createElement("div",{className:h.default.vendor},o.createElement(S.default,{name:"giphy"}));break;case i.VIDEO_MESSAGE_ATTRIBUTION.TENOR:F=o.createElement("div",{className:h.default.vendor},o.createElement(S.default,{name:"tenor"}));break;default:F=null}var B=this.props.quotedMsg?o.createElement("div",{className:h.default.quote},this.props.quotedMsg):null,$=o.createElement(o.Fragment,null,U,G,B,o.createElement("div",{"data-a8n":u.default.key("image-thumb-gif"),className:h.default.thumb,onClick:f,style:{width:M,height:C}},r,A,g,I,F),k,o.createElement("div",{className:h.default.meta},o.createElement(_.default,{msg:this.props.msg})));if(k)return o.createElement(l.default,{contact:e.senderObj,msg:e,className:x,onClick:D,style:{width:O}},$);var V=O+2*N;return o.createElement("div",{className:x,onClick:D,style:{width:V}},$)}}]),t}();function D(e){e.stopPropagation()}L.CONCERNS={msg:["id","ack","caption","isFailed","isPSA","isSentByMe","isGroupMsg","gifAttribution","senderObj"],mediaData:["aspectRatio","preview","duration","type","mediaStage","renderableUrl","fullWidth","fullHeight","size"]},L.displayName="Gif",t.default=(0,j.default)(L,L.CONCERNS)},cfgbadhada:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e){var t=e.auth,n=e.encFilehash,i=e.hostname,u=e.query,s=e.type,l=r({auth:t,token:(0,o.default)(n)},u);return(0,a.default)({encFilehash:n,hostname:i,type:s,query:l})};var a=i(n("hefjgabce")),o=i(n("ebfbbaecji"));function i(e){return e&&e.__esModule?e:{default:e}}},cfghbhcedd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("bhaigiibeh")),i=l(n("bcbahjefec")),u=n("ddgbhifaji"),s=n("dgfecega");function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.sendMedia=function(e){var t=e.getImg,n=e.caption,a=e.mentionedJidList,o=r.props.chat,i=o.composeQuotedMsg;o.composeQuotedMsg=null,(0,u.prepRawMedia)(t,{}).sendToChat(o,{caption:n,mentionedJidList:a,quotedMsg:i}),r.end()},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,[{key:"componentDidMount",value:function(){var e=this;this.push(a.createElement(o.default,{onBack:function(){e.end()},chat:this.props.chat,caption:!0,layoutType:s.FIT_TYPE.CONTAIN,onSend:this.sendMedia,stream:this.props.stream}))}}]),t}();t.default=f},cfhcfebgda:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("bbchdeehff")),i=l(n("biddiiafgd")),u=l(n("fifhbjiec")),s=l(n("ihfccfgdf"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.onStop=function(){var e=r.props.chat.liveLocation;e&&e.stopMyLiveLocation(),o.default.closeModal()},r.onCancel=function(){o.default.closeModal()},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props.chat,t=e.name,n=e.isGroup?l10n.t(92,{name:t}):l10n.t(93,{name:t});return a.createElement(i.default,{onOK:this.onStop,okText:l10n.t(651),onCancel:this.onCancel},a.createElement(u.default,{text:n}))}}]),t}();f.CONCERNS={chat:["name","isGroup","liveLocation"]},f.displayName="LiveLocationStopPopup",t.default=(0,s.default)(f,f.CONCERNS)},cfhehaefih:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var r=l(n("ceffhbhahb")),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("baagejbchg")),i=l(n("fifhbjiec")),u=l(n("dajegcbgdi")),s=l(n("bfdcadbbif"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.canonicalUrl,n=e.compose,l=e.description,c=e.displayType,f=e.invite,d=e.onClick,p=e.isSentByMe,h=e.star,m=e.thumbnail,b=e.thumbnailJpeg,g=e.title,v=e.theme,y=void 0,_=void 0;if(null!=m?_=a.createElement("div",{className:u.default.media},m):b?_=a.createElement("img",{className:u.default.media,src:"data:image/jpeg;base64,"+b}):c===o.default.DISP_TYPE.GALLERY&&(_=a.createElement("div",{className:u.default.noThumbContainer},a.createElement(s.default,{className:u.default.noThumbIcon,name:"link"}))),c===o.default.DISP_TYPE.GALLERY){var E=h?a.createElement(s.default,{className:u.default.iconStar,name:"star-light"}):null;y=a.createElement("div",{className:u.default.noThumbContainer},_,E)}else y=_;var j=null!=l?a.createElement("div",{className:u.default.description},"string"==typeof l?a.createElement(i.default,{text:l,titlify:!0}):l):null,O=t?a.createElement("div",{className:u.default.source},a.createElement(i.default,{text:t})):null,S=(0,r.default)(u.default.preview,{[u.default.isInvite]:c!==o.default.DISP_TYPE.GALLERY&&f,[u.default.isCompose]:n,[u.default.bubbleIn]:!p,[u.default.bubbleOut]:p,[u.default.extended]:"extended"===v});return a.createElement("div",{className:S,onClick:d},y,a.createElement("div",{className:u.default.body},a.createElement("div",{className:u.default.title,title:g},a.createElement(i.default,{text:g})),j,O))}c.displayName="LinkPreview"},cfhgffgbcb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=m(n("fidbefhib")),i=m(n("ebjaejiaba")),u=m(n("bbchdeehff")),s=m(n("baagejbchg")),l=m(n("biddiiafgd")),c=m(n("bcbahjefec")),f=m(n("bijffg")),d=n("bddhdheedf"),p=m(n("bdbcafgecc")),h=m(n("bfbggcdbfb"));function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,p=Array(c),m=0;m<c;m++)p[m]=arguments[m];return n=r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(p))),r.newlyAddedLabels=new Set,r.logWamEvent=function(){var e=r.props.modelsToUpdate.length;r.labelViewType=1===e?r.props.modelsToUpdate[0]instanceof i.default?h.default.LABEL_TARGETS.LABEL_CHAT_DIALOG:h.default.LABEL_TARGETS.LABEL_MESSAGE_DIALOG:h.default.LABEL_TARGETS.LABEL_COMBINED_DIALOG,(0,d.logLabelOperationEvent)(h.default.LABEL_OPERATIONS.VIEW,e,r.labelViewType)},r.onLabelUpdateComplete=function(){r.props.onLabelUpdateComplete&&r.props.onLabelUpdateComplete(),r._pop()},r.onAddLabel=function(e,t){f.default.addNewLabel(e,t).then(function(){r.newlyAddedLabels.add(e)})},r.shouldScrollIntoViewAndSelect=function(e){return r.newlyAddedLabels.has(e)?(r.newlyAddedLabels.delete(e),{shouldScrollIntoView:!0,shouldSelect:!0}):{shouldScrollIntoView:!1,shouldSelect:!1}},r.onAddNewLabel=function(){f.default.toArray().length>=s.default.MAX_SMB_LABEL_COUNT?u.default.openModal(a.createElement(l.default,{okText:l10n.t(862),onOK:function(){return u.default.closeModal()}},l10n.t(1434,{count:s.default.MAX_SMB_LABEL_COUNT}))):r.push(a.createElement(o.default,{onAddLabel:r.onAddLabel,onCancel:r._pop}))},r.popAndLogEvent=function(){r.labelViewType&&(0,d.logLabelOperationEvent)(h.default.LABEL_OPERATIONS.CLICK_NEGATIVE,r.props.modelsToUpdate.length,r.labelViewType),r.pop()},r._pop=function(){r.pop()},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default),r(t,[{key:"componentDidMount",value:function(){this.logWamEvent(),this.push(a.createElement(p.default,{shouldScrollIntoViewAndSelect:this.shouldScrollIntoViewAndSelect,onAddNewLabel:this.onAddNewLabel,onLabelUpdateComplete:this.onLabelUpdateComplete,onCancel:this.popAndLogEvent,modelsToUpdate:this.props.modelsToUpdate}))}}]),t}();g.defaultProps={removeTopDrawer:!0,pushTransition:"none",popTransition:"none"},t.default=g},cfigdibdj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=f(n("bcbahjefec")),u=n("cjcffhicea"),s=f(u),l=f(n("bfgbdiffgd")),c=f(n("ebbghebbdh"));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.confirmSendContacts=function(e){r.push(o.createElement(c.default,{contactList:e,onSend:function(){return r.sendContacts(e)},onBack:r._popNone,chat:r.props.chat}),"none"),r.contacts=e},r.sendContacts=function(e){var t=r.props.chat,n=t.composeQuotedMsg;1===e.length?t.sendContact(e[0],n):t.sendContactList(e,n),t.composeQuotedMsg=null,r.end()},r._getContacts=function(){return r.contacts},r._pop=function(){r.pop()},r._popNone=function(){r.pop("none")},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"componentDidMount",value:function(){var e=this.props.serverProps.maxParticipants;this.contacts=[],this.push(o.createElement(s.default,{title:l10n.t(994),onCancel:this._pop,onChat:this.confirmSendContacts,getInitialItems:this._getContacts,listType:u.ListType.CONTACT_SELECT_MODAL,maxItems:e,allowBlockedContacts:!0}))}}]),t}();t.default=function(e){return o.createElement(p,r({},e,{serverProps:l.default}))}},cfiighfhhg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n("ceffhbhahb")),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("dbbbgjbbgf")),i=s(n("cdfiibedj")),u=s(n("bfdcadbbif"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.hasCaption?e.children:a.createElement("div",{className:i.default.text},a.createElement(o.default,{msg:e.msg,theme:"placeholder"},e.children)),n=e.iconName?a.createElement("div",{className:i.default.icon},a.createElement(u.default,{name:e.iconName})):null;return a.createElement("div",{className:(0,r.default)(i.default.container,{[i.default.containerSmallIcon]:"small-icon"===e.theme})},n,t)};l.displayName="MsgPlaceholder",t.default=l},cfjfcfhchg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.index,a=r(e,1)[0],o=n+a.length-1,i=[n,n,o,o,e];if(t){var u=e[t];i[1]=n+a.indexOf(u),i[2]=i[1]+u.length-1}return i}},cgabfhdfbj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return t[e]()}},cgajhcgiji:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=u(n("ecbgeejjjh"));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"render",value:function(){var e=null;switch(this.props.theme){case"upper":e=o.createElement("div",{key:"upper-shade",className:(0,a.default)(i.default.fullWidthShade,i.default.stripHeightShade,i.default.upperShade)});break;case"lower":e=o.createElement("div",{key:"lower-shade",className:(0,a.default)(i.default.fullWidthShade,i.default.stripHeightShade,i.default.lowerShade)});break;case"full-rounded":e=o.createElement("div",{key:"full-rounded-shade",className:(0,a.default)(i.default.fullWidthShade,i.default.fullHeightShade,i.default.roundedCorners)});break;case"full-sharp":e=o.createElement("div",{key:"full-sharp-shade",className:(0,a.default)(i.default.fullWidthShade,i.default.fullHeightShade)})}return e}}]),t}();s.displayName="Shade",t.default=s},cgbbacefei:function(e,t,n){"use strict";var r=i(n("dgdjiicfdg")),a=i(n("bdiiahhjbe")),o=i(n("bhggeigghg"));function i(e){return e&&e.__esModule?e:{default:e}}var u={queryNextLabelColor(){return this._queryLabelColor(!0)},queryLabelPalette(){return this._queryLabelColor()},createLabel(e,t){return this._createOrDeleteLabels("create",e,t)},deleteLabel(e){return this._createOrDeleteLabels("delete",void 0,void 0,e)},_queryLabelColor:function(e){var t=this,n=e?"next label color":"all label color palette";return new Promise(function(r,o){var i=t.queryNode({type:"label",kind:"color",create:e?"true":void 0});t.binSend("sendEphemeral",i,o,{onSend:t.binWrap(function(e){t.BinaryProtocol.read(e).then(function(e){var o={};if(a.default.logColor("green",`bin-recv: response,${n}`,e)(),"response"===t.N.tag(e)&&"label"===t.N.attr("type",e)){o.labelColors=[];var i=t.N.children(e);if(Array.isArray(i))for(var u=0;u<i.length;u++){var s=t.parseLabelColor(i[u]);s&&o.labelColors.push(s)}}r(o)}).catch(o)},r),onDrop:t.wrap(o)},{debugString:`query,${n}`,metricName:e?"QUERY_NEXT_LABEL_COLOR":"QUERY_LABEL_PALETTE"})})},addOrRemoveLabels:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise(function(a,i){var u=t.wrap(a),s=e.map(function(e){return["label",{id:e.id,type:e.type},void 0]}),l=n.map(function(e){return e instanceof o.default.Chat.modelClass?["chat",{jid:e.id},void 0]:e instanceof o.default.Contact.modelClass?["contact",{jid:e.id},void 0]:e instanceof o.default.Msg.modelClass?["message",{index:e.id.id,owner:void 0===e.id.fromMe?void 0:e.id.fromMe.toString(),jid:e.id.remote},void 0]:void 0}),c=t.actionNode("set",[["label",{type:"update"},l.concat(s)]]);t.binSend("send",c,i,{onSend:u,onDrop:t.wrap(i)},{debugString:"action,label,remove or add",metricName:"ADD_OR_REMOVE_LABELS",expires:(0,r.default)().unix()})})},_createOrDeleteLabels:function(e,t,n,a){var o=this;if("delete"!==e&&"create"!==e)throw new Error("_createOrDeleteLabels must be called with type of delete or create");return new Promise(function(i,u){var s=o.wrap(i),l={type:e,name:t,color:n,id:a||void 0},c=o.actionNode("set",[["label",l,void 0]]);o.binSend("send",c,u,{onSend:s,onDrop:o.wrap(u)},{debugString:"action,label,create or delete",metricName:"CREATE_OR_DELETE_LABELS",expires:(0,r.default)().unix()})})},editLabel:function(e,t,n){var a=this;return new Promise(function(o,i){var u=a.wrap(o),s={id:e,name:t||void 0,color:n||void 0,type:"update"},l=a.actionNode("set",[["label",s,void 0]]);a.binSend("send",l,i,{onSend:u,onDrop:a.wrap(i)},{debugString:"action,label,edit",metricName:"EDIT_LABELS",expires:(0,r.default)().unix()})})},parseLabelColor:function(e){if("label"===this.N.tag(e)){var t=this.N.attr("color",e),n={color:t},r=[!t];return this.dropIfConditionMet(r,n)}}};e.exports=u},cgbdcdhgig:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.markPlayed=function(e){return function(e){c(e)?(0,u.default)(e).then(function(){e.ack=r.default.ACK_PLAYED}).catch(a.WapDrop,function(){}):i.default.log("Msg:msg should not call sendPlayed")()}((0,s.unproxy)(e))},t.canMarkPlayed=function(e){return c((0,s.unproxy)(e))};var r=l(n("baagejbchg")),a=n("ddjgcfjicj"),o=l(n("bjbdcigbdi")),i=l(n("bdiiahhjbe")),u=l(n("ccffgjicjj")),s=n("bheafeifce");function l(e){return e&&e.__esModule?e:{default:e}}function c(e){return!e.isSentByMe&&(!(e.ack>=r.default.ACK_PLAYED)&&("ptt"===e.type||"video"===e.type&&!e.isGif&&o.default.supportsFeature(o.default.F.VIDEO_PLAYED_STATUS)))}},cgbdhdjdcf:function(e,t,n){e.exports=n.p+"bryndan_write_20e48b2ec8c64b2a1ceb5b28d9bcc9d0.ttf"},cgbdjhghfb:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=x(n("cajbicccif")),i=x(n("dabbhadeic")),u=x(n("bbchdeehff")),s=x(n("biddiiafgd")),l=x(n("bjigbaghc")),c=x(n("dhhfaeacef")),f=n("dbgdaechch"),d=x(f),p=x(n("bhhdeihhhf")),h=x(n("bjbdcigbdi")),m=x(n("chcdheijc")),b=x(n("eceadcicaf")),g=n("bhfdfhefca"),v=x(n("biecbbiiee")),y=x(n("dagdiahdfi")),_=x(n("icadbbfej")),E=x(n("daijadgha")),j=x(n("bajidgjehj")),O=x(n("dhefcajhhb")),S=x(n("icaahcghc")),w=x(n("ceibefacih")),P=x(n("djfhiceeje")),M=x(n("ihfccfgdf")),C=x(n("gbbacfeci")),T=x(n("egfffcbhi")),A=x(n("bfdcadbbif")),N=x(n("fbjjefaic")),k=n("bfjajhbdf"),I=x(k),R=x(n("egjjcjcg")),L=x(n("didfdhbecg")),D=x(n("eaaehfdjdg"));function x(e){return e&&e.__esModule?e:{default:e}}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function F(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var B=function(e){function t(){U(this,t);var e=G(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onWindowFocus=function(){},e.onMouseDown=function(){},e.onDrag=function(t){e.didDrag=!0},e.onClickCapture=function(e){},e.onNewChat=function(e){e.preventDefault(),u.default.openDrawerLeft(a.createElement(_.default,null))},e.onProfile=function(){var e=C.default.assertGet(l.default.me),t=O.default.assertGet(l.default.me);u.default.openDrawerLeft(a.createElement(j.default,{status:e,profilePicThumb:t,conn:l.default}))},e.onUnmute=function(){y.default.globalMute().unmute(),u.default.openToast(a.createElement(I.default,{msg:l10n.t(500),id:(0,k.genId)()}))},e.state={},e}return F(t,a.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){}},{key:"render",value:function(){var e=null;this.props.mute.isMuted&&(e=a.createElement(g.MenuBarItem,{a8nText:"menu-bar-unmute",icon:a.createElement(A.default,{name:"dnd"}),title:l10n.t(499),onClick:this.onUnmute,key:"btn-dnd"}));var t=null;return h.default.supportsFeature(h.default.F.STATUS_V3_UI_VIEWING)&&(t=a.createElement(T.default,null)),a.createElement("header",{className:i.default.header,onMouseDown:this.onMouseDown,onClickCapture:this.onClickCapture},a.createElement("div",{className:i.default.listUser},a.createElement(c.default,{id:l.default.me,size:40,onClick:this.onProfile})),a.createElement("div",{className:i.default.listControls},a.createElement(g.MenuBar,{key:"chatlist-header"},a.createElement(L.default,{transitionName:"btn"},e,t,a.createElement(g.MenuBarItem,{a8nText:"menu-bar-chat",icon:a.createElement(A.default,{name:"chat",directional:!0}),title:l10n.t(1265),onClick:this.onNewChat}),a.createElement(g.MenuBarItem,{a8nText:"menu-bar-menu",icon:a.createElement(A.default,{name:"menu"}),title:l10n.t(704)},a.createElement($,null))))))}}]),t}();B.CONCERNS={mute:["isMuted"]},B.displayName="ChatlistHeader",e.exports=(0,N.default)((0,b.default)((0,M.default)(B,B.CONCERNS)));var $=function(e){function t(){U(this,t);var e=G(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onCreateGroup=function(){u.default.openDrawerLeft(a.createElement(E.default,null))},e.onProfile=function(){var e=C.default.assertGet(l.default.me),t=O.default.assertGet(l.default.me);u.default.openDrawerLeft(a.createElement(j.default,{status:e,profilePicThumb:t,conn:l.default}))},e.onDisconnect=function(){if(!v.default.some(function(e){return 0===e.ack&&e.local&&e.isSentByMe}))return D.default.logout();u.default.openModal(a.createElement(s.default,{title:l10n.t(332),onOK:function(){return D.default.logout()},okText:l10n.t(693),onCancel:function(){return u.default.closeModal()},cancelText:l10n.t(1153)},l10n.t(1026)))},e.onArchived=function(){u.default.openDrawerLeft(a.createElement(o.default,null))},e.onSettings=function(){u.default.openDrawerLeft(a.createElement(S.default,null))},e.onStarred=function(){u.default.openDrawerLeft(a.createElement(w.default,{starredMsgs:P.default}))},e.onLabel=function(){u.default.openDrawerLeft(a.createElement(m.default,null))},e.state={rememberMe:R.default.getRememberMe()},e}return F(t,a.Component),r(t,[{key:"render",value:function(){var e=a.createElement(p.default,{a8n:"mi-new-group menu-item",action:this.onCreateGroup},l10n.t(1262)),t=a.createElement(p.default,{a8n:"mi-starred menu-item",action:this.onStarred},l10n.t(701)),n=null;h.default.supportsFeature(h.default.F.LABELS_EDIT)&&(n=a.createElement(p.default,{a8n:"mi-setting menu-item",action:this.onLabel},l10n.t(621)));var r=l10n.t(698);return a.createElement(d.default,{type:"dropdown_menu",flipOnRTL:!0,key:"ChatlistHeader",dirX:f.DirX.LEFT},e,a.createElement(p.default,{a8n:"mi-profile-status menu-item",action:this.onProfile},r),a.createElement(p.default,{a8n:"mi-archived menu-item",action:this.onArchived},l10n.t(688)),t,n,a.createElement(p.default,{a8n:"mi-setting menu-item",action:this.onSettings},l10n.t(700)),a.createElement(p.default,{a8n:"mi-logout menu-item",action:this.onDisconnect},l10n.t(693)))}}]),t}();$.displayName="ChatlistHeaderDropdown"},cgbfcjgjcf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=f(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=n("ejbdjaifi"),u=f(n("bffjfbgbg")),s=f(n("dhgfhcggji")),l=f(n("ihfccfgdf")),c=f(n("bfdcadbbif"));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"componentDidMount",value:function(){this.props.imgRef&&this.props.imgRef(this.img)}},{key:"componentWillUnmount",value:function(){this.props.imgRef&&this.props.imgRef(null)}},{key:"renderPlaceholder",value:function(){return o.createElement("div",{className:(0,a.default)(s.default.mediaCanvas,s.default.placeholder),onClick:this.props.onClick},o.createElement(c.default,{name:"business-description"}))}},{key:"render",value:function(){var e=this.props,t=e.mediaData,n=e.theme,r=e.active,l=e.onClick,c=void 0;c=t.mediaStage===u.default.STAGE.RESOLVED?o.createElement("div",{className:s.default.mediaCanvas,style:{backgroundImage:`url(${t.renderableUrl})`},onClick:l,ref:(0,i.GetRef)("img",this)}):t.mediaStage===u.default.STAGE.PREPARING?this.renderPlaceholder():t.mediaStage===u.default.STAGE.ERROR_MISSING?null:o.createElement("div",{className:s.default.mediaCanvas});var f=(0,a.default)(this.props.classes,{[s.default.canvasSecondRow]:"hideableSecondRow"===n,[s.default.canvasComponent]:"list"!==n,[s.default.list]:"list"===n,[s.default.viewerFlow]:"viewerFlow"===n,[s.default.active]:!0===r});return this.props.large?o.createElement("div",{className:s.default.canvasComponentLarge},c):o.createElement("div",{className:f},o.createElement("div",{className:s.default.canvasBody}),c)}}]),t}();d.CONCERNS={mediaData:["mediaStage","mediaBlob","renderableUrl","preview"]},d.displayName="ProductThumb",t.default=(0,l.default)(d,d.CONCERNS)},cgbgedjgag:function(e,t){e.exports={actionBtns:"pTuis",newLabelBtn:"_1Lre5",plus:"R8Aiw"}},cgcgbfbffj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CACHE_POLICY=void 0;var r=j(n("cifjgjcead")),a=j(n("jcfacighg")),o=j(n("cbjgdhddc")),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},l=n("dbjfahieed"),c=E(n("dfhjacfbjg")),f=j(n("fcedgihic")),d=j(n("bjigbaghc")),p=n("ddjgcfjicj"),h=E(n("cajijabhgb")),m=j(n("bdiiahhjbe")),b=j(n("dcdiaahjj")),g=n("hjbbdjjdf"),v=j(n("egjjcjcg")),y=n("eaaehfdjdg"),_=j(y);function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function j(e){return e&&e.__esModule?e:{default:e}}var O="QUERY",S="FIND",w="UPDATE";t.CACHE_POLICY=l.CACHE_POLICY_TYPE;var P=(new Object).toString(),M={id:"none",policy:l.CACHE_POLICY_TYPE.NONE},C=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._inflight={},e._cachePolicy=(0,l.createCachePolicy)(e,e.constructor.cachePolicy||M),e._staleCollection=e.constructor.staleCollection||!1,e._resumeOnAvailable=e.constructor.resumeOnAvailable||!1,(!0===e._staleCollection||(0,g.isFunction)(e.onResume))&&(e.listenTo(_.default,"change:stream",e._handleStreamChange),e.listenTo(_.default,"didResume",e._onResume),e._resumeOnAvailable&&e.listenTo(b.default,"change:available",function(){b.default.available&&e._needsUpdate&&e._onResume()})),e._cachePolicy.enableCaching(),e._cachePolicy.constructor.policy===l.CACHE_POLICY_TYPE.LOAD&&e.listenTo(d.default,"change:me",e._updateFromCache),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.default),u(t,[{key:"initializeFromCache",value:function(e){this.add(e)}},{key:"saveToCache",value:function(){if(d.default.me){var e=this._cachePolicy.id;m.default.log(`baseCollection:saveToCache save: ${String(e)}`)(),v.default.setCollection(e,this.toJSON(),this._cachePolicy.constructor.policy===l.CACHE_POLICY_TYPE.IMMEDIATE)}}},{key:"add",value:function(e,n){var r=this;if(e){if(d.default.blockStoreAdds)throw new p.LogoutDrop("adding to store when blocking store adds");var a=Array.isArray(e)?e:[e];if(a.every(function(e){return e&&e.isState})){var i=(0,o.default)(a,function(e){return r.get(e.id)});return i.length&&s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,i,n),a}}return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,n)}},{key:"findQuery",value:function(e,t){return this._query(O,e,t)}},{key:"find",value:function(e,t){return e?this._query(S,e,t):(c.upload(m.default.trace("Called find without an id")),Promise.reject("called find without an id"))}},{key:"update",value:function(e,t){return e?this._query(w,e,t):(c.upload(m.default.trace("Called update without an id")),Promise.reject("called update without an id"))}},{key:"handle",value:function(e){var t=this._handle(e.shift());if(this._staleCollection){var n=Array.isArray(t)?t:[t];(0,a.default)(n).forEach(function(e){e.stale=!1})}this.add(t,{merge:!0})}},{key:"gadd",value:function(e,t){if(this.modelClass.prototype.isIdType(e)){var n=this.get(e);if(n)return n;var r={id:e};return this.add(r,t)[0]}if(e&&e.id){var a=t||{};return a.merge=!0,this.add(e,a)[0]}throw new Error("gadd called without an id attr (id)")}},{key:"gaddUp",value:function(e){var t=void 0,n=this._staleCollection;if(this.modelClass.prototype.isIdType(e)){var r={stale:n,id:e};t=this.get(e)||this.add(r,{merge:!0})[0]}else e&&e.id&&(this.get(e.id)&&(n=!1),e=i({stale:n},e),t=this.add(e,{merge:!0})[0]);if(t)return t.stale&&this.find(t.id).catch(p.WapDrop,function(){}),t;throw new Error(".gaddUp called without an id attr (id)")}},{key:"delete",value:function(){this._inflight={},this.reset()}},{key:"isStateStale",value:function(e){var t=this.get(e);return!!t&&t.stale}},{key:"_handleResume",value:function(){switch(_.default.stream){case y.STREAM.DISCONNECTED:if(!this._staleCollection)return;this.forEach(function(e){e&&(e.stale=!0)});break;case y.STREAM.RESUMING:case y.STREAM.SYNCING:case y.STREAM.CONNECTED:}}},{key:"_onResume",value:function(){(0,g.isFunction)(this.onResume)&&(this._resumeOnAvailable&&!b.default.available?this._needsUpdate=!0:(this.onResume(),this._needsUpdate=!1))}},{key:"_query",value:function(e,t,n){var a=this,o=(0,g.isString)(t)?t:t.toString();o===P&&(o=(0,r.default)("collection_query_"));var i=e===O?void 0:this.get(t),u="force-"+o;return(this._inflight[u]&&e===S||e===w)&&(o=u),this._inflight[o]?e===S&&i&&!i.stale?Promise.resolve(i):this._inflight[o]:!i||i&&i.stale||e===w?this._inflight[o]=this._serverQuery(e,t,n).finally(function(){delete a._inflight[o]}).catch(p.LogoutDrop,function(e){m.default.error(e.toString())(e)}).catch(g.isString,function(e){m.default.log("baseCollection:query query promise rejected: "+String(e))()}).catch(p.WapDrop,function(e){throw m.default.warn(e.toString())(),e}):Promise.resolve(i)}},{key:"_serverQuery",value:function(e,t,n){var r=this,o=void 0;if(e===w)o=this._update(t);else if(e===S)o=this._find(t);else{var i=n&&n.logOnSend;o=this._findQuery(t,i)}return o.then(function(e){if(r._staleCollection){var t=Array.isArray(e)?e:[e];(0,a.default)(t).forEach(function(e){void 0===e.stale&&(e.stale=!1)})}var o=void 0;if(o=n&&n.set?r.set(e):r.add(e,{merge:!0}),Array.isArray(e))return o;if(o[0])return o[0];throw new h.ModelCreateError("Unknown",e)})}},{key:"_update",value:function(e){return this._find(e)}},{key:"_handleStreamChange",value:function(){this._handleResume(),this._cachePolicy.constructor.policy===l.CACHE_POLICY_TYPE.LOAD&&this._updateFromCache()}},{key:"_updateFromCache",value:function(){var e=this._cachePolicy.id;this._cachePolicy.disableCaching(),d.default.me&&(m.default.log(`baseCollection:initFromCache load: ${String(e)}`)(),this.initializeFromCache(v.default.getCollection(e)),this._cachePolicy.enableCaching())}}]),t}();t.default=C},cgcgefjeah:function(e,t){e.exports={dimmed:"W1iiE"}},cgchdicacf:function(e,t){e.exports={conversation:"lp3Gs",placeholder:"_1g3ta",composeBoxQuoted:"_3a9fe",quoted:"_1G7oM",stickerPanel:"n9kOx",clickable:"_1VqBB",hide:"_1PrrL"}},cgddafdgie:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addAndSendMsgToChat=function(e,t,n){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=Promise.resolve(t).then(function(t){return(0,o.appendMessage)(e.id,t).then(function(){var e=l.default.Msg.add(t)[0];if(e)return e.waitForPrep().then(function(){return e});throw new a.ModelCreateError("Msg",t)})}),i=e.addQueue.enqueue(r).then(function(t){return e.msgs.add(t)[0]}),u=n?i.then(n).then(function(){return i}):i,s=c(e,u);return[i,s]}((0,u.unproxy)(e),t,n)},t.sendMsgToChat=function(e,t){return c((0,u.unproxy)(e),t)};var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cajijabhgb")),o=n("ecdfgaagba"),i=n("bdgehigfig"),u=n("bheafeifce"),s=n("bhggeigghg"),l=(r=s)&&r.__esModule?r:{default:r};function c(e,t){return e.sendQueue.enqueue(t).then(function(e){return(0,i.sendMsgRecord)(e)})}},cgdfjifbb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("cdhedbceeh");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}})},cgebaggcga:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=p(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=p(n("dgibicjjj")),u=p(n("cfadcbbiie")),s=p(n("bjbdcigbdi")),l=p(n("bfgbdiffgd")),c=p(n("ihfccfgdf")),f=p(n("cgcgefjeah")),d=p(n("gdhdegbhg"));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.statusV3,n=e.contact,r=(0,a.default)({[f.default.dimmed]:n.statusMute}),c=void 0;return c=l.default.statusRanking&&s.default.supportsFeature(s.default.F.STATUS_RANKING)?t.hasUnread?l10n.t(1041,{count:t.unreadCount,_plural:t.unreadCount}):l10n.t(1040,{count:t.totalCount,_plural:t.totalCount}):u.default.relativeDateAndTimeStr(t.t),o.createElement(i.default,{className:r,key:t.id.toString(),customImage:!0,theme:"status-list",image:o.createElement(d.default,{statusV3:t,contact:n,onClick:this.props.onClick}),primary:n.formattedName,secondary:c,onClick:this.props.onClick,contextEnabled:function(){return!1}})}}]),t}();h.CONCERNS={statusV3:["id","t","hasUnread","unreadCount","totalCount","contact"],contact:["formattedName","statusMute"]},h.displayName="StatusV3Cell",t.default=(0,c.default)(h,h.CONCERNS)},cgecdbiihg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PLAYER_TYPE={FLOATER:"FLOATER",OG_FLOATER:"OG_FLOATER",MEDIA_VIEWER:"MEDIA_VIEWER"},t.YOUTUBE_VIDEO_DEFAULT_ASPECT_RATIO=16/9,t.URL_PATTERNS={ONLINE_VIDEO_URL:{YOUTUBE:[/^https?:\/\/youtu\.be\/(.{11})/,/^https?:\/\/www\.youtube\.com\/watch\?v=(.{11})/,/^https?:\/\/m\.youtube\.com\/watch\?v=(.{11})/]}},t.YOUTUBE_URL_TIME_PARAM_NAME="t",t.YOUTUBE_URL_TIME_PARAM_PATTERN=/^(\d+h)?(\d+m)?(\d+s)?(\d+)?$/},cgejbjhjej:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FETCH_STATE=void 0;var r=l(n("ccjgiajgj")),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("dhjffabgfb");Object.defineProperty(t,"FETCH_STATE",{enumerable:!0,get:function(){return i.FETCH_STATE}});var u=n("dhjffabgfb"),s=l(n("bihdhbjih"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n._parseStickersRes=function(e){if(200!==e.status||!e.data)throw new Error("sticker pack stickers query error");return e.data.map(function(e,t){return a({},(0,r.default)(e,["directPath","mimetype","mediaKey","filehash","width","height"]),{index:t,id:e.filehash,clientUrl:e.url,uploadhash:e.encFilehash,mediaKeyTimestamp:0})})},n.stickerPackId=e;var o=t._cache[n.stickerPackId];if(o)return c(n,o);var i=void 0,u=n;return Object.defineProperty(n,"fetchState",{get:()=>i,set(e){i!==e&&(i=e,u.trigger("change:fetchState",e))}}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.StickerCollection),o(t,[{key:"fetch",value:function(e){var t=this;return e&&this.fetchState!==u.FETCH_STATE.PENDING&&delete this._fetchPromise,this._fetchPromise?this._fetchPromise:(this.fetchState=u.FETCH_STATE.PENDING,n("cdaedfafjc").default.isPlaceholderId(this.stickerPackId)?(this._fetchPromise=new Promise(function(){}),this._fetchPromise):(this._fetchPromise=s.default.queryStickersInStickerPack(this.stickerPackId).then(this._parseStickersRes).then(function(e){var n=Math.max(t.length||e.length);t._resetRange(0,n,e),t.fetchState=u.FETCH_STATE.SUCCESS}).catch(function(e){t.fetchState=u.FETCH_STATE.ERROR}),this._fetchPromise))}},{key:"_resetRange",value:function(e,t,n){var r=this;this._forEachInRange(e,t,function(t,a){var o=n[a-e];t?o?t.id===o.id?t.set(o):(r.remove(t),r.add(o)):r.remove(t):o&&r.add(o)})}},{key:"_forEachInRange",value:function(e,t,n){for(var r=e;r<t;r++){n(this.at(r),r)}}}]),t}();f._cache={},f.comparator=function(e,t){return e.index<t.index?-1:e.index>t.index?1:0},t.default=f},cgejchjdhj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scrollIntoViewIfNeeded=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments[2];if(e.scrollIntoViewIfNeeded&&(0,a.isFunction)(e.scrollIntoViewIfNeeded))return e.scrollIntoViewIfNeeded(t);var r=u(n||e.parentNode),o=window.getComputedStyle(r,null),i=parseInt(o.getPropertyValue("border-top-width")),s=e.offsetTop-r.offsetTop<r.scrollTop,l=e.offsetTop-r.offsetTop+e.clientHeight-i>r.scrollTop+r.clientHeight,c=s&&!l;(s||l)&&t&&(r.scrollTop=e.offsetTop-r.offsetTop-r.clientHeight/2-i+e.clientHeight/2);!s&&!l||t||e.scrollIntoView(c);return!(s||l)},t.scrollIntoView=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=u(arguments[2]||e.parentNode),r=window.getComputedStyle(n,null),a=parseInt(r.getPropertyValue("border-top-width")),o=e.offsetTop-n.offsetTop<n.scrollTop,i=e.offsetTop-n.offsetTop+e.clientHeight-a>n.scrollTop+n.clientHeight,s=o&&!i;t?n.scrollTop=e.offsetTop-n.offsetTop-n.clientHeight/2-a+e.clientHeight/2:e.scrollIntoView(s);return!(o||i)},t.scrollAt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=u(t||e.offsetParent),a=n.pos||"center",o=null!=n.duration&&0!==n.duration?n.duration:1e3,s=n.offset||0;switch(a){case"top":return r.scrollTop=e.offsetTop+s,Promise.resolve();case"bottom":return r.scrollTop=e.offsetTop+e.clientHeight-r.clientHeight,Promise.resolve();case"center":return n.animate?((0,i.default)(e,"stop"),(0,i.default)(r,"stop"),(0,i.default)(e,"scroll",{duration:o,container:r,offset:(e.clientHeight-r.clientHeight)/2,easing:n.easing})):(r.scrollTop=e.offsetTop+e.clientHeight/2-r.clientHeight/2,Promise.resolve());case"offset":return n.animate?((0,i.default)(e,"stop"),(0,i.default)(r,"stop"),(0,i.default)(e,"scroll",{duration:o,container:r,offset:-s,easing:n.easing})):(r.scrollTop=e.offsetTop-s,Promise.resolve())}return Promise.resolve()};var r,a=n("hjbbdjjdf"),o=n("bcifhbgija"),i=(r=o)&&r.__esModule?r:{default:r};function u(e){if(e&&e instanceof HTMLElement)return e;throw new Error("utils:DOM parent not defined or is not a valid HTMLElement")}},cgfdiahhcd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n("eaaagccfda")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("bdfbccfifg"),i=u(o);function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n.id));return a._trigger=n.trigger||"all",a._delay=n.delay,a._saveToCache=(0,r.default)(a.saveToCache,a._delay),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"saveToCache",value:function(){this.collection.saveToCache()}},{key:"enableCaching",value:function(){this.listenTo(this.collection,this._trigger,this._saveToCache)}},{key:"disableCaching",value:function(){this.stopListening(this.collection,this._trigger,this._saveToCache)}}]),t}();s.policy=o.CACHE_POLICY_TYPE.LOAD,t.default=s},cgfdjcbhag:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=b(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=b(n("bdghdbcbdc")),u=b(n("cfdfdbefea")),s=b(n("dgfhiaehb")),l=b(n("bifbhbbiie")),c=b(n("fffdgbfji")),f=b(n("bdiiahhjbe")),d=b(n("bfifafibjc")),p=b(n("bfdcadbbif")),h=b(n("ciaidfgabf")),m=b(n("didfdhbecg"));function b(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={menuWidth:null,offset:0},n._handleItemClick=function(e,t){n.props.onItemClick&&n.props.onItemClick(e,t)},n._handleNextClick=function(){var e=n.props.numItems,t=n.state.offset+n.props.numColumns;"number"!=typeof e||t>e||n.setState({offset:n.state.offset+1})},n._handlePrevClick=function(){0!==n.state.offset&&n.setState({offset:n.state.offset-1})},n._handleResize=function(e){var t=e.width;n.setState({menuWidth:t})},n._renderItem=function(e,t,r){var a=n.props.numItems;if("number"==typeof a&&e>=a)return null;var i=e-n.state.offset;return o.createElement(s.default,{column:i,carouselNumColumns:n.props.numColumns,key:e,menuWidth:r,onClick:n._handleItemClick,index:e,selected:t},n.props.renderItem(e))},n._checkSelectedIndex(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this._checkSelectedIndex(e)}},{key:"_checkSelectedIndex",value:function(e){var t=e.onItemClick,n=e.numItems,r=e.selectedIndex;if(t&&0!==n){f.default.assert(r>=0,"carousel_menu: selectedIndex is smaller than 0")();var a=n-1;r>a&&t(a)}}},{key:"_renderPrevButton",value:function(){if(0===this.state.offset)return null;var e=c.default.isRTL()?"chevron-right":"chevron-left";return this._renderButton({className:u.default.prevButton,icon:e,onClick:this._handlePrevClick})}},{key:"_renderNextButton",value:function(){var e=this.props,t=e.numColumns,n=e.numItems;if("number"!=typeof n)return null;if(this.state.offset+t>=n)return null;var r=c.default.isRTL()?"chevron-left":"chevron-right";return this._renderButton({className:u.default.nextButton,icon:r,onClick:this._handleNextClick})}},{key:"_renderButton",value:function(e){var t=e.className,n=e.icon,r=e.onClick,i=this.props.numColumns,s=void 0;return s=null!=this.state.menuWidth&&0!==this.state.menuWidth?`${Math.round(this.state.menuWidth/i)}px`:`${100/i}%`,o.createElement("div",{className:(0,a.default)(u.default.button,t),style:{width:s},onClick:r,role:"button"},o.createElement(p.default,{className:u.default.buttonIcon,name:n}))}},{key:"render",value:function(){var e=this.props,t=e.numColumns,n=e.numItems,r=e.selectedIndex,a=this.state,s=a.menuWidth,c=a.offset,f=void 0;if(r<c)f=-1;else if(r>=c+t){f=t-1+1}else f=(r-c)%t;return o.createElement(i.default,{className:this.props.className},o.createElement(d.default,{className:u.default.resizeContainer,onResize:this._handleResize},o.createElement(m.default,null,this._renderPrevButton()),o.createElement(l.default,{menuWidth:s,numColumns:t,numItems:n,offset:c,renderItem:this._renderItem,selectedIndex:r}),o.createElement(m.default,null,this._renderNextButton()),o.createElement(h.default,{numTabs:t,selectedTabIndex:f,hide:-1===f||0===f&&c>0||f===t})))}}]),t}();g.displayName="CarouselMenu",t.default=g},cgffcjcehg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("baagejbchg")),i=s(n("ihfccfgdf")),u=s(n("bfdcadbbif"));function s(e){return e&&e.__esModule?e:{default:e}}var l=o.default.MSG_TYPE,c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props.msg,t=e.ack,n=e.isMedia&&!e.caption&&e.type!==l.AUDIO||e.type===l.LOCATION&&!e.loc&&!e.isLive,r=void 0;return r=t<1?n?"msg-time-light":"msg-time":1===t?n?"msg-check-light":"msg-check":2===t?n?"msg-dblcheck-light":"msg-dblcheck":n?"msg-dblcheck-ack-light":"msg-dblcheck-ack",a.createElement(u.default,{name:r})}}]),t}();c.CONCERNS={msg:["ack","isMedia","caption","type","loc","isLive"]},c.displayName="Status",t.default=(0,i.default)(c,c.CONCERNS)},cgfidiajgj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sticker=void 0;var r=f(n("fhfbcdaib")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("dcaifjegcg"),i=f(o),u=n("ddgbhifaji"),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),l=f(n("bffjfbgbg")),c=n("daichdjff");function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=(0,r.default)(function(){return new m({id:"placeholder",isPlaceholder:!0})}),h=t.Sticker=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.id=(0,o.prop)(),r.mediaData=(0,o.session)(),r.mediaObject=(0,o.prop)(),r.clientUrl=(0,o.prop)(),r.directPath=(0,o.prop)(),r.filehash=(0,o.prop)(),r.height=(0,o.prop)(),r.index=(0,o.prop)(),r.mediaKey=(0,o.prop)(),r.mediaKeyTimestamp=(0,o.prop)(),r.mimetype=(0,o.prop)(),r.size=(0,o.prop)(),r.type=(0,o.prop)(c.OUTWARD_TYPES.STICKER),r.uploadhash=(0,o.prop)(),r.width=(0,o.prop)(),r.isPlaceholder=(0,o.prop)(),d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"initialize",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this),this.addChild("mediaData",new l.default),this.isPlaceholder||s.registerSticker(this)}},{key:"downloadMedia",value:function(){return s.downloadStickerOrStickerPackIcon(this,"STICKER")}},{key:"sendToChat",value:function(e){n("jdigiabic").default.enqueue([this]),this.mediaData&&this.mediaData.mediaBlob&&this.mediaData.mediaBlob.retain();var t={quotedMsg:e.composeQuotedMsg};return e.composeQuotedMsg=null,(0,u.prepSticker)(this).sendToChat(e,t)}}]),t}();h.Proxy="sticker",h.getPlaceholder=p;var m=(0,o.defineModel)(h);m.getPlaceholder=p,t.default=m},cgfjebhhej:function(e,t,n){"use strict";var r=b(n("iidhbgeed")),a=b(n("dbafiicfja")),o=b(n("bhdddbafig")),i=b(n("bebifggehf")),u=b(n("ddbbigfbec")),s=b(n("eicihhaba")),l=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=b(n("bdiiahhjbe")),f=b(n("cahfddcdga")),d=b(n("dhefcajhhb")),p=n("hjbbdjjdf"),h=b(n("djbfhebjhe")),m=n("dcbdjheea");function b(e){return e&&e.__esModule?e:{default:e}}var g=n("dgdjiicfdg"),v=/X-([^;:]+)(?:;[^:]+)*:(.+)/,y={"X-ABLabel":[/X-ABLabel(?:;([^:]+))*:(.+)/,1],ADR:[/ADR(?:;([^:]+))*:;;(.*);(.*);(.*);(.*);(.*)/,5],"X-ABADR":[/X-ABADR(?:;([^:]+))*:(.*)/,1],URL:[/URL(?:;([^:]+))*:(.*)/,1],EMAIL:[/EMAIL(?:;([^:]+))*:(.+)/,1],TEL:[/TEL(?:;([^:]+))*:(.+)/,1]},_={N:[/N(?:;([^:]+))*:([^;]*);([^;]*);([^;]*);([^;]*);(.*)/,5],FN:[/FN(?:;([^:]+))*:(.*)/,1],NICKNAME:[/NICKNAME(?:;([^:]+))*:(.*)/,1],"X-PHONETIC-FIRST-NAME":[/X-PHONETIC-FIRST-NAME(?:;([^:]+))*:(.*)/,1],"X-PHONETIC-LAST-NAME":[/X-PHONETIC-LAST-NAME(?:;([^:]+))*:(.*)/,1],ORG:[/ORG(?:;([^:]+))*:([^;]*)(?:;(.*))*/,2],TITLE:[/TITLE(?:;([^:]+))*:(.*)/,1],TEL:[/TEL(?:;([^:]+))*:(.*)/,1],PHOTO:[/PHOTO(?:;([^:]+))*:(.*)/,1],BDAY:[/BDAY(?:;([^:]+))*:(.*)/,1],URL:[/URL(?:;([^:]+))*:(.+)/,1],EMAIL:[/EMAIL(?:;([^:]+))*:(.+)/,1]},E=function e(t,n,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=t,this.index=n,this.properties=r||{},this.value=a};function j(e,t,n){e[t]||(e[t]=[]),e[t].push(n)}function O(e){var t={};return e?(e.split(";").forEach(function(e){var n=e.split(/=/);if(1===n.length){var r=n[0];j(t,r.toLowerCase(),!0)}else if(2===n.length){var a=l(n,2),o=a[0],i=a[1];j(t,o.toLowerCase(),i.toLowerCase())}}),t):t}function S(e){return e?e.replace(/\\/g,"\\\\").replace(/;/g,"\\;").replace(/,/g,"\\,"):""}var w={getDate(e){var t=e;return(0,i.default)([/-([^-]*)-([^-]*)-([^-]*)/,/([^-]*)-([^-]*)-([^-]*)/],function(n){var r=e.match(n);if(r){var a=!r[1].length||"1604"===r[1],o=a?"0000":r[1];return t=g(`${o}-${r[2]}-${r[3]}`).format("l"),a&&(t=t.replace(/[.,-\/\s]*0000[.,-\/\s]*/,"")),!1}}),t},getOrganizationString(e){var t,n=e.ORG&&e.ORG[0],r=e.TITLE&&e.TITLE[0];if(n&&Array.isArray(n.value)&&n.value.length>0){var a=null;r&&r.value&&(a=`${r.value}`.trim());var o=(t=n.value,Array.isArray(t)?t:Array.from(t)),i=o[0],u=o.slice(1);u.push(i);var s=u.map(function(e){return(0,p.isString)(e)?e.trim():""}).filter(function(e){return e.length}).join(l10n.t(421));return(a||"")+(a&&a.length&&s.length?" - ":"")+s}return""},getType:function(e){var t={jabber:l10n.t(1103),"skype-username":l10n.t(1108),skype:l10n.t(1108),msn:l10n.t(1105),aim:l10n.t(1095),yahoo:l10n.t(1111),icq:l10n.t(1101)},n=e.properties["X-ABLabel"]||t[e.type.toLowerCase()];if(n)return function(e){if(e)return e.replace(/^_\$!<([^>]*)>!\$_$/,"$1").replace(/\\,/,",").replace(/\\;/,";").replace(/\\\\/,"\\")}(n);var r={TEL:[[["cell"],l10n.t(1097)],[["iphone"],l10n.t(1102)],[["main"],l10n.t(1104)],[["home","fax"],l10n.t(1100)],[["work","fax"],l10n.t(1110)],[["home"],l10n.t(1099)],[["work"],l10n.t(1109)],[["pager"],l10n.t(1107)],[[],l10n.t(1099)]],EMAIL:[[["home"],l10n.t(1099)],[["work"],l10n.t(1109)],[["internet"],l10n.t(1098)]],URL:[[["home"],l10n.t(1099)],[["work"],l10n.t(1109)]],ADR:[[["home"],l10n.t(1099)],[["work"],l10n.t(1109)]]};return n=e.type,(0,s.default)(r,function(t){if(t){var r=l(t,2),i=r[0],u=r[1];if(0===(0,o.default)(i,(0,a.default)(e.properties.type,function(e){return e.toLowerCase()})).length)return n=u,!1}}),n},vcardWAids:function(e){var t=[];return e&&e.TEL&&e.TEL.forEach(function(e){e.properties&&e.properties.waid&&e.properties.waid.length>0&&(t=t.concat((0,a.default)(e.properties.waid,m.numberToWid)))}),t},thumbnailWAid:e=>e.find(function(e){var t=d.default.get(e);return t&&t.img}),parse(e){var t=e.replace(/\r?\n|\r/g,"\n").replace(/\n^[ \t]/gm,"").split("\n").filter(function(e){return 0!==e.trim().length}),n={},r={};if(!(t.length<3)){var a=t[0].trim().toUpperCase(),o=t[1].trim().toUpperCase(),i=t[t.length-1].trim().toUpperCase(),d="VERSION:2.1"===o||"VERSION:3.0"===o||"VERSION:4.0"===o;if("BEGIN:VCARD"===a&&d&&"END:VCARD"===i){for(var h=2;h<t.length-1;h++){var m=t[h],b=m.match(/item(\d+)\.(.*)/),g=b?b[2]:m,S=(0,f.default)(g.match(/([^:;]*)[:;].*/))[1],w=b?y:_,P=S,M=S,C=void 0,T=void 0;if(w[P]){var A=l(w[P],2),N=A[0],k=A[1],I=g.match(N);I&&(C=O(I[1]),T=1===k?T=I[2]:I.slice(2,2+k))}else{var R=g.match(v);R&&(M="SERVICE",P=R[1],T=R[2],C={})}if((Array.isArray(T)?T:[T]).some(function(e){return e&&(0,p.isString)(e)&&e.trim()}))if(b){var L=b[1];r[L]?r[L].fields.push(new E(P,null,C,T)):r[L]={type:P,index:h,key:M,properties:C,value:T,fields:[]}}else j(n,M,new E(P,h,C,T))}return Object.keys(r).forEach(function(e){var t=r[e],a=t.key,o=t.index,i=t.type,u=t.value,s=t.properties;t.fields.forEach(function(e){s[e.type]=e.value}),j(n,a,new E(i,o,s,u))}),function(e){var t={};return(0,s.default)(e,function(e,n){t[n]=(0,u.default)(e,function(e){return e.index})}),t}(n)}c.default.assert(!1,"vcard-fault",`vcard:parse failed because the vCard is not formatted as expected:\n                Header as expected? ${String("BEGIN:VCARD"===a)}\n                Version as expected? ${String(d)}\n                Footer as expected? ${String("END:VCARD"===i)}\n                Lines: ${t.length}`)()}},vCardSerialize:e=>e.map(function(e){return e.line.replace(/(.{75,75})/g,"$1\n ").replace(/\n^-$/gm,"")}).join("\n"),thumbnail(e){if(e){var t=e.replace(/\n^ /gm,"").match(/^PHOTO;(BASE64|ENCODING=b;TYPE=image\/jpeg):(.*)$/m);return t?t[2]:void 0}},getName(e){var t=(0,r.default)(e.formattedName.split(e.formattedShortName)),n=t.length?t[0].trim():void 0,a=n?e.formattedShortName:e.formattedName;return`${S(n)};${S(a)};;;`},getNameFromParsedVCard(e){var t=null,n=e.FN,r=e.NICKNAME,a=e.TEL;if(n&&n[0])t=n[0].value;else if(r&&r[0])t=r[0].value;else if(a&&a[0]){var o=a[0],i=o.properties.waid[0];t=i?(0,h.default)(i):o.value}return t},fromContactModel(e){var t=S(e.formattedName);return{displayName:t,vcard:`BEGIN:VCARD\nVERSION:3.0\nN:${this.getName(e)}\nFN:${t}\nTEL;type=CELL;waid=${String(e.userid)}:${(0,h.default)(e.userid)}\nEND:VCARD`}}};e.exports=w},cgfjiaegih:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=T(n("ceffhbhahb")),o=T(n("dgdjiicfdg")),i=C(n("ddhijeejag")),u=T(n("djibdcebeh")),s=T(n("bbchdeehff")),l=T(n("baagejbchg")),c=T(n("bjigbaghc")),f=n("bidfjbaebi"),d=n("facgccaif"),p=n("ffchhcfdj"),h=T(p),m=T(n("eceadcicaf")),b=T(n("bfbggcdbfb")),g=C(n("ebggjhghhi")),v=T(n("ceddibdhdb")),y=T(n("ihfccfgdf")),_=n("dcdiaahjj"),E=T(_),j=T(n("bfdcadbbif")),O=T(n("bcjcbbafcj")),S=T(n("cbbhbjebii")),w=T(n("didfdhbecg")),P=T(n("cfgcdfcfee")),M=T(n("eaaehfdjdg"));function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var I=3e3,R=function(e){function t(){var e,n,r;A(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=N(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={allowReconnect:!0},r.reconnect=function(){var e=P.default.numSocketsAttempted+1;M.default.poke(),g.waitForBBEvent(E.default,"change:displayInfo",function(){return E.default.displayInfo===_.StreamInfo.NORMAL}).then(function(){new b.default.WebcManualWebsocketAttempt({webcManualWebsocketAttemptSuccessful:P.default.numSocketsAttempted===e}).commit()}),r.setState({allowReconnect:!1}),r._reconnectTimeoutTimer.onOrAfter(I)},r._reconnectTimeoutTimer=new v.default(function(){r.setState({allowReconnect:!0})}),N(r,n)}return k(t,i.PureComponent),r(t,[{key:"componentWillUnmount",value:function(){this._reconnectTimeoutTimer.cancel()}},{key:"render",value:function(){var e=void 0,t=void 0;return this.state.allowReconnect?(e=i.createElement(i.Fragment,null,`${l10n.t(676)} `,i.createElement(V,{action:this.reconnect},l10n.t(919))),t=l10n.t(321)):(e=null,t=l10n.t(347)),i.createElement(G,{type:"computer",title:t,text:e})}}]),t}();R.displayName="Offline";var L=function(e){function t(){var e,n,r;A(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=N(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={takingTooLong:!1,didShowSubtitle:!1},r._timeoutTimer=new v.default(function(){r.setState({takingTooLong:!0,didShowSubtitle:!0})}),r.onProgress=function(){r._rerenderTimer.cancel(),r._timeoutTimer.onOrBefore(3e3),r.setState({takingTooLong:!1})},r._rerenderTimer=new v.default(function(){r.forceUpdate()}),r.retry=function(){M.default.poke(),r.onProgress()},N(r,n)}return k(t,i.Component),r(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(M.default,"change:state",this.onProgress),this.props.listeners.add(M.default,"change:retryTimestamp",this.onProgress),this._timeoutTimer.onOrBefore(3e3)}},{key:"componentWillUnmount",value:function(){this._timeoutTimer.cancel(),this._rerenderTimer.cancel()}},{key:"render",value:function(){var e=void 0,t=void 0;if(E.default.displayInfo===_.StreamInfo.OPENING)e=l10n.t(346);else{if(E.default.displayInfo!==_.StreamInfo.CONNECTING)return null;e=l10n.t(347)}if(this.state.takingTooLong){this._rerenderTimer.onOrAfter(1e3);var n=M.default.retryTimestamp-Date.now();if(n<1)n=l10n.t(963),setTimeout(function(){M.default.poke()},0);else if(n<6e4){var r=Math.ceil(n/1e3);n=l10n.t(965,{number:r,_plural:r})}else n=l10n.t(964,{duration:o.default.duration(n).humanize()});t=i.createElement(i.Fragment,null,n," ",i.createElement(V,{action:this.retry},l10n.t(951)))}else t=this.state.didShowSubtitle?i.createElement("span",null,l10n.t(963)):null;return i.createElement(G,{type:"computer",title:e,text:t})}}]),t}();L.displayName="ResumeClass";var D=(0,m.default)(L),x=function(e){function t(e){A(this,t);var n=N(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onReload=function(){S.default.restart()},n.onClickManualDownload=function(){},n._showBatteryTimer=new v.default(function(){return n.batteryUpdate(!1)}),n.dismissLowBatteryWarning=function(){var e=n.state.lowBatteryWarning;e>0&&n.setState({lowBatteryWarning:-e})},n._showNotifyTimer=new v.default(function(e){n.setState({showNotify:e})}),n.requestPermissions=function(){s.default.openModal(i.createElement(h.default,{messaging:p.Messaging.NOTIFICATIONS,onConfirm:F,onCancel:B,type:h.default.TYPE.GUIDE_ALLOW})),window.Notification.requestPermission(function(e){s.default.closeModal(),n.setState({notifyPermission:e})})};var r=c.default.battery<l.default.BATTERY_LOW_THRESHOLD_1?c.default.battery<l.default.BATTERY_LOW_THRESHOLD_2?2:1:0;n.state={lowBatteryWarning:c.default.plugged?0:r,notifyPermission:window.Notification&&window.Notification.permission,showNotify:!1};var a=function(){n.batteryUpdate(!0)};return e.listeners.add(c.default,"change:plugged",a),e.listeners.add(c.default,"change:battery",a),n}return k(t,i.PureComponent),r(t,[{key:"componentWillUnmount",value:function(){this._showNotifyTimer.cancel(),this._showBatteryTimer.cancel()}},{key:"batteryUpdate",value:function(e){var t=this.state.lowBatteryWarning;c.default.plugged||c.default.battery>l.default.BATTERY_LOW_THRESHOLD_1?0!==t&&this.setState({lowBatteryWarning:0}):c.default.battery<=l.default.BATTERY_LOW_THRESHOLD_2?-2!==t&&(e?this._showBatteryTimer.onOrBefore(l.default.BATTERY_DELAY):2!==t&&this.setState({lowBatteryWarning:2})):t>-1&&c.default.battery<=l.default.BATTERY_LOW_THRESHOLD_1&&(e?this._showBatteryTimer.onOrBefore(l.default.BATTERY_DELAY):1!==t&&this.setState({lowBatteryWarning:1}))}},{key:"render",value:function(){var e=null;switch(E.default.displayInfo){case _.StreamInfo.OFFLINE:e=i.createElement(R,{key:"bbar"});break;case _.StreamInfo.OPENING:case _.StreamInfo.CONNECTING:e=i.createElement(D,{key:"bbar"});break;case _.StreamInfo.NORMAL:break;case _.StreamInfo.RESUMING:case _.StreamInfo.TIMEOUT:var t=i.createElement(i.Fragment,null,l10n.t(677)," ",i.createElement(V,{action:$},l10n.t(622)));e=i.createElement(G,{type:"phone",key:"bbar",title:l10n.t(880),text:t})}if(!e&&this.state.lowBatteryWarning>0&&(e=i.createElement(G,{type:"battery",key:"bbar",title:l10n.t(878),text:l10n.t(295),dismissable:!0,onDismiss:this.dismissLowBatteryWarning})),!e&&E.default.needsUpdate){var n=i.createElement(V,null,l10n.t(317));e=i.createElement(G,{type:"update",key:"bbar",title:l10n.t(1084),text:n,action:this.onReload})}if(e)this.state.showNotify&&this._showNotifyTimer.onOrBefore(0,!1);else if(this.state.showNotify){if(window.Notification&&this.state.notifyPermission===l.default.PERMISSION_DEFAULT){var r=i.createElement(V,null,l10n.t(420));e=i.createElement(G,{type:"notification",key:"bbar",title:l10n.t(479),text:r,action:this.requestPermissions})}}else this._showNotifyTimer.onOrBefore(l.default.NOTIFICATION_PROMPT_DELAY,!0);return i.createElement(w.default,{transitionName:"butterbar",className:u.default.container},e)}}]),t}();x.CONCERNS={stream:["displayInfo","needsUpdate"]},x.displayName="ButterBarClass";var U=(0,m.default)((0,y.default)(x,x.CONCERNS));function G(e){var t=e.action||null,n=(0,a.default)(u.default.butterbar,{[u.default.action]:t,[u.default.computer]:"computer"===e.type,[u.default.phone]:"phone"===e.type,[u.default.notification]:"notification"===e.type,[u.default.battery]:"battery"===e.type,[u.default.update]:"update"===e.type}),r=e.onDismiss?i.createElement("div",{className:u.default.controls},i.createElement(j.default,{name:"x-light",onClick:e.onDismiss})):null,o=e.text?i.createElement("div",{className:u.default.text},e.text):null;return i.createElement("div",{className:u.default.wrapper},i.createElement("div",{className:n,onClick:t},i.createElement("div",{className:u.default.icon},i.createElement(j.default,{name:{computer:"alert-computer",phone:"alert-phone",notification:"alert-notification",battery:"alert-battery",update:"alert-update"}[e.type]})),i.createElement("div",{className:u.default.body},i.createElement("div",{className:u.default.title},e.title),o),r))}function F(){s.default.closeModal()}function B(){switch(O.default.browser){case l.default.BROWSER_TYPE.CHROME:return(0,f.openExternalLink)((0,d.getNotificationChromeFaqUrl)());case l.default.BROWSER_TYPE.FIREFOX:return(0,f.openExternalLink)((0,d.getNotificationFirefoxFaqUrl)());case l.default.BROWSER_TYPE.SAFARI:return(0,f.openExternalLink)((0,d.getNotificationSafariFaqUrl)());case l.default.BROWSER_TYPE.OPERA:return(0,f.openExternalLink)((0,d.getNotificationOperaFaqUrl)());case l.default.BROWSER_TYPE.EDGE:return(0,f.openExternalLink)((0,d.getNotificationEdgeFaqUrl)());default:return(0,f.openExternalLink)((0,d.getNotificationChromeFaqUrl)())}}function $(){(0,f.openExternalLink)((0,d.getCannotConnectFaqUrl)())}function V(e){return i.createElement("span",{className:u.default.actionLink},i.createElement("span",{className:u.default.actionText,onClick:e.action},e.children),i.createElement(j.default,{className:u.default.chevron,directional:!0,name:"chevron-right-text"}))}t.default=function(){return i.createElement(U,{stream:E.default})},G.displayName="BB",V.displayName="ActionLink"},cggajedfhg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=O(n("cehjjfagii")),i=O(n("ejegihaeh")),u=O(n("bbchdeehff")),s=O(n("baagejbchg")),l=O(n("bjgiedaj")),c=O(n("fifhbjiec")),f=O(n("jfgccegaj")),d=O(n("jheedhagg")),p=n("gaifbabbj"),h=n("bgjddhffji"),m=O(n("dhccihecch")),b=O(n("eeghcebdh")),g=O(n("deabffecii")),v=O(n("cfegjiegcd")),y=O(n("iiaihjfbi")),_=O(n("ihfccfgdf")),E=n("bheafeifce"),j=n("dcbdjheea");function O(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var w=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=S(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.ProductCatalogSession=new g.default,r.launchProductView=function(e){e&&e.stopPropagation();var t=r.props,n=t.msg,o=t.onProductClick;if(n){var i=n.productId,s=n.businessOwnerJid;if(i&&s){var l=(0,f.default)({productId:i,businessOwnerJid:s,msgT:n.t});if(l){(0,h.logProductMsgClick)((0,E.unproxy)(l),r.ProductCatalogSession.toString());var c=r.ProductCatalogSession.toString();o?o(l,c):u.default.openDrawerRight(a.createElement(v.default,{refreshCarousel:!0,chat:n.chat,product:l,sessionId:c}),"slide-left",r.props.uim)}}}},S(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){var e=this.props.msg;e.businessOwnerJid&&(0,j.createWid)(e.businessOwnerJid)&&i.default.addMsgAsproduct((0,E.unproxy)(e))}},{key:"renderProductInfo",value:function(){var e=this.props,t=e.msg,n=e.trusted,r=t.title,o=t.description,i=t.priceAmount1000,u=t.currencyCode,f=(n?p.Configuration.TrustedConversation:p.Configuration.UntrustedConversation)({mentions:t.mentionMap(),links:t.getLinks(),selectable:!0}),d=null!=i&&u?l.default.format(u,i):o,h=a.createElement(c.default,{direction:"inherit",selectable:!0,text:r,formatters:f,ellipsify:!0,className:b.default.title}),m=d?a.createElement(y.default,{msg:t,className:b.default.subtitle},a.createElement(c.default,{direction:"inherit",selectable:!0,text:d,formatters:f,textLimit:s.default.MAX_PRODUCT_SUBTITLE_LENGTH})):null;return a.createElement("div",{className:b.default.productInfo,onClick:this.launchProductView},h,m)}},{key:"render",value:function(){var e=this.props,t=e.displayAuthor,n=e.msg,r=e.mediaData,i=e.trusted,u=(!1!==t?!n.isSentByMe&&n.isGroupMsg:null)?a.createElement("div",{className:b.default.author},a.createElement(o.default,{msg:n,contact:n.senderObj})):null,s=a.createElement(m.default,{msg:n,mediaData:r,trusted:i,displayAuthor:!1,contentContainerClassName:b.default.productContainer,captionComponent:this.renderProductInfo(),thumbClassName:b.default.thumb,onThumbClick:this.launchProductView}),l=a.createElement(c.default,{className:b.default.productCta,onClick:this.launchProductView,text:l10n.t(897)});return a.createElement("div",{className:b.default.bubble},u,s,l)}}]),t}();w.CONCERNS={msg:["businessOwnerJid","chat","chat","currencyCode","description","dir","id","isGroupMsg","isProductInquiry","isSentByMe","mediaData","priceAmount1000","productId","productImageCount","retailerId","rtl","senderObj","t","title","url"]},w.displayName="Product",t.default=(0,d.default)((0,_.default)(w,w.CONCERNS))},cggchheahd:function(e,t){e.exports={container:"_38w5G",fullscreen:"blq_W",youtubeContainer:"_7KBPw",blockYoutube:"_25JqX",videoControlsWrapper:"_3Tkpy",strippedVideoControls:"_2wzgf",opacityTransition:"_1Cx2d",widgetsWrapper:"Xv_gE",dimmed:"_2oMEO"}},cghfaedged:function(e,t){e.exports={highRes:"_298rb",wrapper:"_2ZDCk",medium:"_2a0VK",lowRes:"_23bAn",large:"_3CMkL",xlarge:"_2FANH",animation:"_1EdGp",invisible:"_1nia9",heart:"_1Kzee"}},cgidhbdcgc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.associateMediaWithMsg=function(e,t){e.addMsg(t)},t.disassociateMediaFromMsg=function(e,t){if(t.mediaObject=null,e.removeMsg(t),e.hasAssociatedMsgsOrStickers())return;e.filehash&&delete i[e.filehash];e.delete()},t.delistAndDeleteAllMedia=function(){var e=i;for(var t in i={},e)e[t].delete()},t.getOrCreateMediaObject=function(e){return i.hasOwnProperty(e)?i[e]:i[e]=new o.default},t.clearMediaForChat=function(e){},t.associateMediaWithStickerPack=function(e,t){e.addStickerPack(t)},t.disassociateMediaFromStickerPack=function(e,t){if(t.mediaObject=null,e.removeStickerPack(t),e.hasAssociatedMsgsOrStickers())return;e.filehash&&delete i[e.filehash];e.delete()},t.associateMediaWithSticker=function(e,t){e.addSticker(t)},t.disassociateMediaFromSticker=function(e,t){if(t.mediaObject=null,e.removeSticker(t),e.hasAssociatedMsgsOrStickers())return;e.filehash&&delete i[e.filehash];e.delete()};var r,a=n("chfghiiefb"),o=(r=a)&&r.__esModule?r:{default:r};var i={}},cgjafchgje:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.StickerPanelEmpty=m;var a=d(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=d(n("cjfhhbcfdh")),u=d(n("ecjegjabde")),s=d(n("dhfbfehaef")),l=d(n("dfhebgbhja")),c=d(n("iagahbjff")),f=d(n("dbhijaface"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._handleGridFocusPrev=function(){r.props.onFocusPrev&&r.props.onFocusPrev()},r._setRefScrollGrid=function(e){r._refScrollGrid=e},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"focus",value:function(){this._refScrollGrid&&this._refScrollGrid.focus()}},{key:"_getContent",value:function(){return this.props.recentStickersEnabled&&0===this.props.selectedStickerPackIndex?o.createElement(c.default,{ref:this._setRefScrollGrid,onFocusPrev:this._handleGridFocusPrev,onScroll:this.props.onScroll,onStickerClick:this.props.onSticker,onStickerEnter:this.props.onSticker}):o.createElement(f.default,{ref:this._setRefScrollGrid,onFocusPrev:this._handleGridFocusPrev,onScroll:this.props.onScroll,onStickerClick:this.props.onSticker,onStickerEnter:this.props.onSticker,selectedStickerPackIndex:this.props.selectedStickerPackIndex-this.props.specialItemsCount})}},{key:"render",value:function(){return o.createElement(s.default,{className:l.default.container,handlers:(0,u.default)({"shift+tab":this.props.onFocusPrev,tab:this.props.onFocusNext})},this._getContent())}}]),t}();function m(e){var t=e.containerClassName,n=e.onClick,r=e.onFocusPrev,u=e.onFocusNext,c=e.onRef;return o.createElement("div",{className:(0,a.default)(t,l.default.emptyContainer),onClick:n},o.createElement("div",{className:l.default.emptySticker,style:{backgroundImage:`url(${i.default})`}}),o.createElement(s.default,{handlers:{"shift+tab":r,tab:u},onRef:c},o.createElement("p",{className:l.default.emptyText},l10n.t(1050))))}h.displayName="StickerPanelContent",t.default=h,m.displayName="StickerPanelEmpty"},cgjcdbggeb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addParticipants=function(e,t){return function e(t,n){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,a.genId)();var f=t.groupMetadata.participants;if(n.some(function(e){return f.get(e.id)}))return s.default.error("models:groupMetadata:participantCollection:addParticipants already a group member")(),Promise.reject(new i.ActionError);if(!f.canAdd())return Promise.reject(new i.ActionError);var d=(0,l.sendAddParticipants)(t.id,n.map(function(e){return e.id}));var p=n.map(function(e){return e.formattedShortName}).join(l10n.t(421));var h=new a.ActionType(l10n.t(116,{participantNames:p,_plural:n.length}));var m=d.then(function(e){f.sendForNeededAddRequest(e);var t=u.formatResult(e,u.addSuccessString,u.addFailedString,u.addPartialFailedString,n);return new a.ActionType(t)}).catch(function(r){return s.default.error("models:groupMetadata:participantCollection:addParticipants dropped")(r),new a.ActionType(l10n.t(113,{participantNames:p,_plural:n.length}),l10n.t(154),function(){return e(t,n,c)})});o.default.openToast(r.createElement(a.ActionToast,{id:c,initialAction:h,pendingAction:m}));return d.then(function(){})}((0,c.unproxy)(e),t)},t.removeParticipants=function(e,t){return function e(t,n){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,a.genId)();var f=t.groupMetadata.participants;if(n.some(function(e){return!f.canRemove(e)}))return Promise.reject(new i.ActionError);var d=(0,l.sendRemoveParticipants)(t.id,n.map(function(e){return e.id}));var p=n.map(function(e){return e.contact.formattedShortName}).join(l10n.t(421));var h=new a.ActionType(l10n.t(135,{participantNames:p,_plural:n.length}));var m=d.then(function(e){var t=u.formatRemoveResult(e,n.map(function(e){return e.contact}));return new a.ActionType(t)}).catch(function(r){return s.default.error("models:groupMetadata:participantCollection:removeParticipants dropped")(r),new a.ActionType(l10n.t(131,{participantNames:p,_plural:n.length}),l10n.t(154),function(){return e(t,n,c)})});o.default.openToast(r.createElement(a.ActionToast,{id:c,initialAction:h,pendingAction:m}));return d.then(function(){})}((0,c.unproxy)(e),t)},t.promoteParticipants=function(e,t){return function e(t,n){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,a.genId)();var f=t.groupMetadata.participants;if(n.some(function(e){return!f.canPromote(e)}))return Promise.reject(new i.ActionError);var d=(0,l.sendPromoteParticipants)(t.id,n.map(function(e){return e.id}));var p=n.map(function(e){return e.contact.formattedShortName}).join(l10n.t(421));var h=new a.ActionType(l10n.t(130,{participantNames:p,_plural:n.length}));var m=d.then(function(e){var t=u.formatResult(e,u.promoteSuccessString,u.promoteFailedString,u.promotePartialFailedString,n.map(function(e){return e.contact}));return new a.ActionType(t)}).catch(function(r){return s.default.error("models:groupMetadata:participantCollection:removeParticipants dropped")(r),new a.ActionType(l10n.t(127,{participantNames:p,_plural:n.length}),l10n.t(154),function(){return e(t,n,c)})});o.default.openToast(r.createElement(a.ActionToast,{id:c,initialAction:h,pendingAction:m}));return d.then(function(){})}((0,c.unproxy)(e),t)},t.demoteParticipants=function(e,t){return function e(t,n){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,a.genId)();var f=t.groupMetadata.participants;if(n.some(function(e){return!f.canDemote(e)}))return Promise.reject(new i.ActionError);var d=(0,l.sendDemoteParticipants)(t.id,n.map(function(e){return e.id}));var p=n.map(function(e){return e.contact.formattedShortName}).join(l10n.t(421));var h=new a.ActionType(l10n.t(121,{participantNames:p,_plural:n.length}));var m=d.then(function(e){var t=u.formatResult(e,u.demoteSuccessString,u.demoteFailedString,u.demotePartialFailedString,n.map(function(e){return e.contact}));return new a.ActionType(t)}).catch(function(r){return s.default.error("models:groupMetadata:participantCollection:demoteParticipants dropped")(r),new a.ActionType(l10n.t(117,{participantNames:p,_plural:n.length}),l10n.t(154),function(){return e(t,n,c)})});o.default.openToast(r.createElement(a.ActionToast,{id:c,initialAction:h,pendingAction:m}));return d.then(function(){})}((0,c.unproxy)(e),t)};var r=d(n("ddhijeejag")),a=n("ccihhdchab"),o=f(n("bbchdeehff")),i=d(n("cajijabhgb")),u=d(n("gcehifbbc")),s=f(n("bdiiahhjbe")),l=n("bceahhbbcj"),c=n("bheafeifce");function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}},cgjfaifddg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var r=l(n("ceffhbhahb")),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("dhigahgdjb")),i=l(n("fffdgbfji")),u=l(n("bhfajidgce")),s=l(n("djbfhebjhe"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if(!e.receiverJid)return null;var t=o.default.get(e.receiverJid),n=t?t.notifyName?`~${t.notifyName}`:t.formattedName:(0,s.default)(e.receiverJid),l=void 0;switch(e.subtype){case"send":l=t&&t.isMe?i.default.t(1311):i.default.t(1310,{receiverName:n});break;case"request":l=t&&t.isMe?i.default.t(1303):i.default.t(1302,{receiverName:n})}return a.createElement("span",{className:(0,r.default)(u.default.container,{[u.default.isQuoted]:e.isQuoted})},l)}c.displayName="PaymentType"},cgjijjgidi:function(e,t){e.exports={hidden:"_3hTQn",container:"_34tCm"}},chaebfegeh:function(e,t,n){"use strict";var r=u(n("ccebfaijda")),a=u(n("bdiiahhjbe")),o=u(n("jccfhaecf")),i=n("dcbdjheea");function u(e){return e&&e.__esModule?e:{default:e}}function s(e){try{return(0,i.createWid)(e)}catch(t){return e}}e.exports=function(e){var t="",n="",i=e.singleByte,u=e.doubleByte,l=e.nibbleDecode;this.readNode=function(e){var n=e.readByte(),a=this.readListSize(e,n);if((n=e.readByte())===r.default.STREAM_END)throw new Error("unexpected stream end "+e.debugInfo());var o=this.readString(e,n);if(0===a||!o)throw new Error("invalid node. 0 list or empty tag"+e.debugInfo());var i=a-2+a%2>>1;t=o;var u=this.readAttributes(e,i);if(a%2==1)return[o,u,void 0];var s=void 0;if(n=e.readByte(),this.isListTag(n))s=this.readList(e,n);else if(n===r.default.BINARY_8){var l=e.readByte();s=e.readBytes(l)}else if(n===r.default.BINARY_20){var c=e.readInt20();s=e.readBytes(c)}else if(n===r.default.BINARY_32){var f=e.readInt32();s=e.readBytes(f)}else s=this.readString(e,n);return[o,u,s]},this.isListTag=function(e){return e===r.default.LIST_EMPTY||e===r.default.LIST_8||e===r.default.LIST_16},this.readListSize=function(e,t){if(t===r.default.LIST_EMPTY)return 0;if(t===r.default.LIST_8)return e.readByte();if(t===r.default.LIST_16)return e.readInt16();throw new Error("invalid list size "+e.debugInfo())},this.readString=function(e,i){var u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],l=void 0;if(-1===i)throw new Error("invalid start token readString"+e.debugInfo());if(i>2&&i<236){var c=this.getToken(i);return"s.whatsapp.net"===c&&(c="c.us"),c}switch(i){case r.default.DICTIONARY_0:case r.default.DICTIONARY_1:case r.default.DICTIONARY_2:case r.default.DICTIONARY_3:var f=e.readByte();return this.getTokenDouble(i-r.default.DICTIONARY_0,f);case r.default.LIST_EMPTY:return;case r.default.BINARY_8:return l=e.readString(e.readByte()),this.isAttr&&u&&o.default.isWid(l)?s(l):l;case r.default.BINARY_20:return l=e.readString(e.readInt20()),this.isAttr&&u&&o.default.isWid(l)?s(l):l;case r.default.BINARY_32:return l=e.readString(e.readInt32()),this.isAttr&&u&&o.default.isWid(l)?s(l):l;case r.default.JID_PAIR:var d=this.readString(e,e.readByte()),p=this.readString(e,e.readByte());if(void 0!==d&&void 0!==p){var h=d+"@"+p;return u&&o.default.isWid(h)?s(h):h}if(void 0!==p)return p;throw new Error("invalid jid "+d+","+p+" "+e.debugInfo());case r.default.NIBBLE_8:case r.default.HEX_8:return this.readPacked8(i,e);default:throw a.default.infoVerbose(`\n                Unexpected token in binary protocol read. Token : ${i}\n                lastTag: ${t}\n                lastAttributeKey: ${n}\n                ${e.debugInfoWithPadding()}\n              `)(),new Error("invalid string "+i)}},this.getToken=function(e){var t=void 0;if(e>=0&&e<i.length&&(t=i[e]),void 0===t)throw new Error("invalid token "+e);return t},this.getTokenDouble=function(e,t){var n=void 0,r=256*e+t;if(r>=0&&r<u.length&&(n=u[r]),void 0===n)throw new Error("invalid double byte token "+e+" "+t);return n},this.readAttributes=function(e,t){this.isAttr=!0;for(var r=void 0,a=void 0,i=t?{}:void 0,u=0;u<t;u++)r=this.readString(e,e.readByte()),n=r,a=this.readString(e,e.readByte(),o.default.canBeWid(r)),i[r]=a;return this.isAttr=!1,i},this.readList=function(e,t){for(var n=[],r=this.readListSize(e,t),a=0;a<r;a++)n.push(this.readNode(e));return n},this.readPacked8=function(e,t){for(var n=t.readByte(),r=n>>7,a=127&n,o="",i=0;i<a;i++){var u=t.readByte();o+=this.unpackByte(e,(240&u)>>4),o+=this.unpackByte(e,15&u)}return r&&(o=o.substring(0,o.length-1)),o},this.unpackByte=function(e,t){switch(e){case r.default.NIBBLE_8:return this.unpackNibble(t);case r.default.HEX_8:return this.unpackHex(t);default:throw new Error("unpack non-nibble/hex type: "+e)}},this.unpackNibble=function(e){if(!l.hasOwnProperty(e))throw new Error("invalid nibble to unpack: "+e);return l[e]},this.unpackHex=function(e){if(e>=0&&e<=15)return e.toString(16).toUpperCase();throw new Error("invalid hex to unpack: "+e)}}},chbfbiahhb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=s(n("dfbccdiiii")),u=s(n("bfdcadbbif"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"render",value:function(){return o.createElement("div",{className:(0,a.default)(i.default.button,{[i.default.fullscreen]:this.props.isFullscreenMode}),onClick:this.props.onClick},this.props.isFullscreenMode?o.createElement(u.default,{name:"video-exit-fullscreen"}):o.createElement(u.default,{name:"video-fullscreen"}))}}]),t}();l.displayName="FullscreenToogleButton",t.default=l},chbgjdggfh:function(e,t){e.exports={chat:"_2UaNq",chatAvatar:"_3vpWv",chatBody:"_2WP9Q",chatDetails:"_2-LYg",chatMain:"KgevS",noDelete:"_221a1",chatSecondary:"xD91K",chatTitle:"_3H4MS",chatStatus:"_2Bw3Q",chatMeta:"_0LqQ",unread:"_2ko65",active:"_3mMX1",chatDrag:"_3w49t",idle:"_1k-OW",isMuted:"_3vQQf",themeMessage:"_2J5yE",themeSearch:"_3sA1g",themeDrawerList:"_2nQ7u",themeStatus:"_2t0gn",themeCheckbox:"_3UYKy",themeIdentity:"_3fAgu",themePlain:"_3Ff9z",themeListNames:"_27Ppf",member:"_30Q1W",themeLabel:"_2ZcHO",groupV4Invite:"_1tsvT",product:"_2f0ay",media:"ROigK"}},chbjajaddg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n("cgcgbfbffj")),o=n("ddjgcfjicj"),i=l(n("bjbdcigbdi")),u=l(n("cbcbdjdah")),s=l(n("biecbbiiee"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.syncPromise=null,r.isSynced=!1,c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"onResume",value:function(){this.isSynced=!1,this.sync(this.parent)}},{key:"sync",value:function(e){var t=this;return i.default.supportsFeature(i.default.F.INDEX_RECEIVED_VCARD)?this.isSynced?Promise.resolve():this.syncPromise?this.syncPromise:(this.syncPromise=s.default.queryVCard(e.id).then(function(e){return t.add(e)}).catch(o.E499,function(){}).catch(function(){}).finally(function(){t.isSynced=!0,t.syncPromise=null}),this.syncPromise):(this.isSynced=!0,Promise.resolve())}}]),t}();f.model=u.default,f.resumeOnAvailable=!0,t.default=f},chccggajbc:function(e,t){e.exports={statusLoading:"_2kE6F"}},chcdheijc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=m(n("fidbefhib")),i=m(n("bbchdeehff")),u=m(n("baagejbchg")),s=m(n("biddiiafgd")),l=m(n("bcbahjefec")),c=m(n("bijffg")),f=m(n("cahigbeecb")),d=m(n("hbciiabei")),p=m(n("dggfjficbb")),h=m(n("cfhgffgbcb"));function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,d=Array(l),m=0;m<l;m++)d[m]=arguments[m];return n=r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(d))),r.onDeleteLabel=function(e){e.forEach(function(e){var t=e.id;c.default.deleteLabel(t)})},r.onManageLabels=function(e){i.default.openModal(a.createElement(h.default,{modelsToUpdate:e}))},r.onEditLabel=function(e){i.default.openModal(a.createElement(o.default,{labelId:e,onUpdateLabel:r.onUpdateLabel,onCancel:i.default.closeModal()}))},r.onLabelClick=function(e){r.push(a.createElement(p.default,{openLabelColorDrawer:r.openLabelColorDrawer,labelId:e,onManageLabels:r.onManageLabels,onClose:r._pop,onRemoveLabel:r.onRemoveLabel,onEditLabel:r.onEditLabel}))},r.openAddLabel=function(){c.default.toArray().length>=u.default.MAX_SMB_LABEL_COUNT?i.default.openModal(a.createElement(s.default,{okText:l10n.t(862),onOK:function(){return i.default.closeModal()}},l10n.t(1434,{count:u.default.MAX_SMB_LABEL_COUNT}))):i.default.openModal(a.createElement(o.default,{onAddLabel:r.onAddLabel,onCancel:i.default.closeModal()}))},r.onUpdateLabel=function(e,t){c.default.updateLabel(e,t)},r.openLabelColorDrawer=function(e,t){r.push(a.createElement(f.default,{labelId:e,onClose:r._pop,onUpdateColor:r.onUpdateLabel,currentColor:t}))},r._pop=function(){r.pop()},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default),r(t,[{key:"componentDidMount",value:function(){this.push(a.createElement(d.default,{onDeleteLabel:this.onDeleteLabel,onLabelClick:this.onLabelClick,onClose:this._pop,openAddLabel:this.openAddLabel}))}},{key:"onAddLabel",value:function(e,t){c.default.addNewLabel(e,t)}},{key:"onRemoveLabel",value:function(e,t){var n=[{id:e,type:"remove"}];c.default.addOrRemoveLabels(n,t)}}]),t}();t.default=g},chdbbjcefd:function(e,t){e.exports={intro:"_1qNwV",body:"_18W8t",title:"Qk8nZ",text:"tzihe",textContainer:"mOuAM",image:"HGVhc",secondary:"IMBOA",divider:"_2a2hS",secondaryText:"Jeekp",secondaryTextBody:"_2nIcO",secondaryIcon:"_2kj3R"}},chdbdhafaj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=d(n("cfadcbbiie")),o=d(n("ichdigdd")),i=n("fgeddfbg"),u=n("cgffhfegce"),s=d(n("bdiiahhjbe")),l=d(n("cjbdijighi")),c=d(n("cgdfjifbb")),f=d(n("cbiibcfhjf"));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.checkIfAlreadyUploaded=(0,l.default)(function(e){return e.encFilehash},function(e){var t={encFilehash:e.encFilehash,type:e.type};return s.default.log("uploadManager.checkIfAlreadyUploaded: start",t)(),c.default.checkIfUploadExists(e).catch(i.MediaNotFoundError,function(e){return null}).then(function(e){return s.default.log("uploadManager.checkIfAlreadyUploaded: success",t)(),e}).catch(function(e){throw s.default.error("uploadManager.checkIfAlreadyUploaded: error",t,e)(),e})}),this._memoizedUpload=(0,l.default)(function(e){return e.encFilehash},function(e){var t=e.ciphertextHmac,n=e.encFilehash,r=e.type,a=e.signal,o=e.onUploadHostFound,i=e.onUploadAttemptSuccess,u=e.onUploadAttemptError,s=e.onUploadSuccess;return c.default.upload({ciphertextHmac:t,encFilehash:n,type:r,signal:a,onUploadHostFound:o,onUploadAttemptSuccess:i,onUploadAttemptError:u}).then(function(e){return s&&s(),e})}),this._getExistingOrUpload=(0,l.default)(function(e){return e.encFilehash},function(e){var n=e.ciphertextHmac,r=e.encFilehash,a=e.signal,o=e.type,i=e.onCheckExistingSuccess,u=e.onCheckExistingError,l=e.onUploadHostFound,c=e.onUploadAttemptSuccess,f=e.onUploadAttemptError,d=e.onUploadSuccess,p={encFilehash:r,type:o};return s.default.log("uploadManager._getExistingOrUpload: start",p)(),t.checkIfAlreadyUploaded({encFilehash:r,type:o,signal:a}).catch(function(e){throw u&&u(e),e}).then(function(e){return e?(i&&i(),e):t._memoizedUpload({ciphertextHmac:n,encFilehash:r,type:o,signal:a,onUploadHostFound:l,onUploadAttemptSuccess:c,onUploadAttemptError:f,onUploadSuccess:d})}).then(function(e){return s.default.log("uploadManager._getExistingOrUpload: success",p,e)(),e}).catch(function(e){throw s.default.error("uploadManager._getExistingOrUpload: error",p,e)(),e})})}return r(e,[{key:"encryptAndUpload",value:function(e){var t=this,n=e.blob,r=e.signal,i=e.type,l=e.onArrayBufferCreated,c=e.onCheckExistingSuccess,d=e.onCheckExistingError,p=e.onUploadHostFound,h=e.onUploadAttemptSuccess,m=e.onUploadAttemptError,b=e.onUploadSuccess,g=e.onUploadError,v={type:i};return s.default.log("uploadManager.encryptAndUpload: start",v)(),(0,u.blobToArrayBuffer)(n).then(function(n){l&&l(n);var u=null==e.mediaKey?(0,f.default)():e.mediaKey,s=null==e.mediaKeyTimestamp?a.default.globalUnixTime():e.mediaKeyTimestamp;return(0,o.default)({type:i,plaintext:n,mediaKey:u}).then(function(n){var a=n.ciphertextHmac,o=n.hash,l=n.sidecar,f=n.firstFrameSidecar;return(e.mediaKey?t._getExistingOrUpload({ciphertextHmac:a,encFilehash:o,type:i,signal:r,onCheckExistingSuccess:c,onCheckExistingError:d,onUploadHostFound:p,onUploadAttemptSuccess:h,onUploadAttemptError:m,onUploadSuccess:b}):t._memoizedUpload({ciphertextHmac:a,encFilehash:o,type:i,signal:r,onUploadHostFound:p,onUploadAttemptSuccess:h,onUploadAttemptError:m,onUploadSuccess:b})).then(function(e){return{directPath:e.directPath,encFilehash:o,mediaKey:u,mediaKeyTimestamp:s,sidecar:l,firstFrameSidecar:f,url:e.url}})})}).then(function(e){return s.default.log("uploadManager.encryptAndUpload: success",v)(),e}).catch(function(e){throw s.default.error("uploadManager.encryptAndUpload: error",v,e)(),g&&g(e),e})}}]),e}();t.default=new p},chdbigaida:function(e,t,n){"use strict";e.exports={APPLE:["34e1336","ecf7f4f","86f866c","1bba1ea","06e06df","61ad299","4dc72d5","b742847","fb12588","5d18229","ee918ee","79b19a5","1af657f","e448f00","1e2f4cc","d7d614e","d8b7d84","a8ee9f5","80b68c6","63f94e6","2534bc1","0aa4c10","b177f98","538bf78","fd7216c","a3d3dad","fa8d24e","abb3b08","f578d52","05293d9","3bd8721","3e607c4","f031439","1b59e0c","cc11700","bf5324d","601478c","af25d95","75a5046","2951a86","dfedbd9","fe9405b","8585ec9","9b23501","fa7cf16","4a25fce","fd0b7e2","080a59b","41e57ea","1103220","fac05f8","0bb08eb","8e58c76","6b8ab48","6e29c23","0c744e8","f74f1bd","0daa531","b24007f","d35c35d","5ca93ef","be9d3bf","4ffaa74","3369a62","59be734","0cdd143","73e6ddc","cd29065","b4165e3","a817f27","c6a1836","7bacd1b","389bacf","73a689b","7f633f3","6ce70c7","3200be4","9905988","dd1a741","061253e","b68ad3e","e06f3be","b50e252","2af37d4","77b6fd8","65a8520","b905850","9c6aa84","d5d5f28","d64291d","97b62b0","5ec91ce","524ab91","a0e55e8","e7861ef","2a0b059","1d5caae","23ec82d","5a6b517","0bf6782","f9bcde8"],WHATSAPP:["476772c","bfd062b","037d4a7","b17692e","ee1814d","7815c92","0bc3748","9070ddb","19afc89","6b3a9c5","e92e997","9530fb9","2741011","7065843","c86ad78","44afe6f","f0da581","e06bc62","e91656e","5d05e86","b125356","b9c555a","aed7df3","71c8aee","9313a22","9fa5331","6c1db32","b66439c","de6f200","aefd1c4","4779a9b","b2e26cd","6a4178f","d83a021","a3fa464","1cf5549","b79b78b","7713ca9","1944c74","0752df1","bc9f2dc","198d45b","9d78e2f","a9955f2","addceaa","5a342bb","231b615","ae4fffd","c39877e","ce58aa2","baba5f4","d0dc13d","07a70cf","7016cc6","c7c3e38","39c4e58","ac08be4","052b7e6","81829bd","870ce8c","6076fae","b268017","8938e4a","48f9624","3993e1f","69c09a4","70543d2","1b3a680","bd94bd7","e87a0a7","59f0d91","97ab37f","2f46bcc","4bcfe48","3390b14","2868835","3b34ad5","aecd271","0896f08","71886e7","3682609","f4fe22b","c70c1e8","55c09bf","e69998f","463d609","a596f39","02ba543","c9bba3c","d64ece2","d22197e","7789ef1","d7727b9","49dcd03","e4fc948","1074e7c","20e2c8f","5f8a7e7","4629b88","2cfac62","36629e7","b00571c"]}},chdcdgjaad:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n="INIT",r=void 0,a=0;return function(){switch(n){case"INIT":case"FAILURE":return n="INFLIGHT",r=e().then(function(e){return n="SUCCESS",e}).catch(function(e){throw n="FAILURE",a++,t&&t(a),e});case"INFLIGHT":case"SUCCESS":return(0,o.default)(r);default:throw new Error("retriable_promise_hoc:promiseStatus is invalid")}}};var r,a=n("cahfddcdga"),o=(r=a)&&r.__esModule?r:{default:r}},chdfbgffgh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=g(n("cegfhjajbg")),i=n("iaibjaeb"),u=g(i),s=g(n("dbdfbgehgj")),l=n("hdccjfbbg"),c=g(l),f=g(n("bcfjfagjhe")),d=n("bbhhbdicgc"),p=g(d),h=g(n("dhfbfehaef")),m=g(n("cbgeijgefb")),b=g(n("dcaibchbg"));function g(e){return e&&e.__esModule?e:{default:e}}function v(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=0,E=1,j=2,O=3,S=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,u=Array(i),l=0;l<i;l++)u[l]=arguments[l];return n=r=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.selection=new b.default([],function(e){return e.id.toString()}),r.getSelectionList=function(){var e=r.props,t=e.contacts,n=e.frequentContacts||[],a=[],o=[];return t.forEach(function(e){if(e.isGroup){var t=s.default.get(e.id);t&&o.push(t)}else a.push(e)}),n.concat(a).concat(o)},r.onFocusGain=function(e){e.target===r.refList&&(r.selection.index<0?r.focusFirst():r.selection.reset(!0))},r.focusFirst=function(){r.selection.setFirst(!0)},r.onNextContact=function(e){e.preventDefault(),e.stopPropagation(),r.selection.setNext(!0)},r.onPrevContact=function(e){e.preventDefault(),e.stopPropagation(),r.selection.prev()>-1?r.selection.setPrev(!0):(r.selection.unset(),r.props.onFocusSearch(e))},r.setRefHotKeys=function(e){r.refList=e},r.renderContact=function(e,t){var n=void 0;return e.isBlocked()&&(n=l10n.t(351)),a.createElement(c.default,{active:r.selection,contact:e,onClick:r.props.onClick,secondary:n,frequent:t,waitIdle:!0})},r.renderItem=function(e){switch(e.type){case _:return a.createElement(m.default,{key:"frequent-contacts-header",header:l10n.t(1196)});case O:var t=e.data,n=e.frequent;return r.renderChat(t,n);case j:var i=e.data,u=e.frequent;return r.renderContact(i,u);case E:var s=e.data,l=e.separator;return a.createElement("div",{className:f.default.header},l?a.createElement(o.default,{key:`separator-${s}`}):null,a.createElement(m.default,{header:s}));default:throw new d.UnknownDataError(e)}},y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"renderChat",value:function(e,t){return a.createElement(u.default,{active:this.selection,chat:e,mode:i.Mode.INFO,noContext:!0,onClick:this.props.onClick,frequent:t})}},{key:"getFrequentContactsData",value:function(e){var t=this,n=[];return e.forEach(function(e){var r=t.getContactDataItem(e,!0);r&&n.push(r)}),n}},{key:"getContactDataItem",value:function(e,t){var n=(t?l.FREQUENT_PREFIX:"")+e.id.toString();if(e.isGroup){var r=s.default.get(e.id);return r?{itemKey:n,data:r,type:O,frequent:t}:null}return{itemKey:n,data:e,type:j,frequent:t}}},{key:"getData",value:function(){var e=this.props.frequentContacts,t=[],n=[],r=[];e&&e.length&&(t.push({itemKey:"frequent-contacts-header",type:_}),t.push.apply(t,v(this.getFrequentContactsData(e)))),this.props.contacts.forEach(function(e){e.isGroup?r.push(e):n.push(e)});var a=this.getDataFromContacts(n),o=this.getDataFromContacts(r);if(this.props.showPersonGroupDivisionHeader&&a.length>0){var i=l10n.t(1164);t.push({itemKey:`header-${i}`,data:i,separator:!0,type:E})}if(t.push.apply(t,v(a)),this.props.showPersonGroupDivisionHeader&&o.length>0){var u=l10n.t(1255);t.push({itemKey:`header-${u}`,data:u,separator:!0,type:E})}return t.push.apply(t,v(o)),t}},{key:"getDataFromContacts",value:function(e){if(0===e.length)return[];for(var t=e[0].isGroup?"group":"contact",n=[],r=e.length>10,a="XXX",o=0;o<e.length;o++){var i=e[o];if(r&&i.header){var u=i.header;if(u!==a){var s=o<e.length-1&&u!==e[o+1].header;n.push({itemKey:`header-${t}-${u}`,data:u,separator:s,type:E}),a=u}}var l=this.getContactDataItem(i);l&&n.push(l)}return n}},{key:"render",value:function(){this.selection.init(this.getSelectionList());var e={down:this.onNextContact,up:this.onPrevContact};return a.createElement(h.default,{onRef:this.setRefHotKeys,handlers:e,onFocus:this.onFocusGain,"data-tab":3},a.createElement(p.default,{data:this.getData(),renderItem:this.renderItem,flatListController:this.props.flatListController,direction:"vertical"}))}}]),t}();S.displayName="ContactList",t.default=S},chdggedfah:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=(u(n("baagejbchg")),u(n("dgjddffcfg"))),o=u(n("cfiighfhhg")),i=u(n("dbabefhajh"));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.msg,n=e.displayAuthor;e.displayType;return r.createElement(i.default,{msg:t,displayAuthor:n},r.createElement(o.default,{iconName:"unknown",msg:t},a.default.msgText(t)))}s.displayName="TemplateMessage"},chdhhgfaj:function(e,t){e.exports={container:"_15Ywg",wrapper:"fsf95",innerWrapper:"_1Awt5",starIcon:"_11MuB",thumb:"K-kNO",blur:"_2sb6A"}},chegeejfcg:function(e,t){e.exports={"-emoji-width":"44px",emojiWidth:"44px",panel:"_2JiCb"}},chfehjfdj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("sticker"!==t.tag(e))return;var n=t.attr("filehash",e);if(!n)return void o.default.error("sticker:parse missing filehash field")();var r={id:n,clientUrl:t.attr("url",e),directPath:t.attr("direct_path",e),mediaKey:t.attr("media_key",e),filehash:n,uploadhash:t.attr("enc_filehash",e),mimetype:t.attr("mimetype",e),width:parseInt(t.attr("width",e),10),height:parseInt(t.attr("height",e),10),size:parseInt(t.attr("size",e),10)};(!r.mimetype||Number.isNaN(r.width)||Number.isNaN(r.height)||Number.isNaN(r.size))&&o.default.error("sticker:parse missing preferred fields: ")(r);return r};var r,a=n("bdiiahhjbe"),o=(r=a)&&r.__esModule?r:{default:r}},chfghiiefb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.webMediaTypeToWamMediaType=function(e){switch(e){case"VIDEO":return 3;case"IMAGE":return 2;case"AUDIO":return 4;case"STICKER":return 16;case"DOCUMENT":return 8;case"PRODUCT":return 18;default:throw new Error(`web media type is invalid: ${e}`)}};var i=v(n("baagejbchg")),u=v(n("feacbgeaf")),s=n("beadfddidc"),l=v(n("bdiiahhjbe")),c=n("eifaagjjg"),f=n("daichdjff"),d=v(n("gbjefdbgb")),p=n("fabajdgab"),h=v(n("beeieigghj")),m=v(n("ceddibdhdb")),b=n("becjcdaafd"),g=v(n("bihdhbjih"));function v(e){return e&&e.__esModule?e:{default:e}}n("bfbggcdbfb");var y=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._msgs=[],this._notifyTimer=new m.default(function(){!function(e){var t={};_(t,e,f.FIELDS.RAW),_(t,e.contentInfo,e.contentFields()),e.mediaBlob&&(t.renderableUrl=e.mediaBlob.url());for(var n=e._msgs,r=n.length,o=0;o<r;o++){var u=a(n[o],2),s=u[0],l=u[1];if(!l){if(s.type!==i.default.MSG_TYPE.CIPHERTEXT){t.mediaStage=E(s,e);for(var c=0;c<f.MSG_SPECIFIC_FIELDS.length;c++){var d=f.MSG_SPECIFIC_FIELDS[c];t[d]=s[f.MEDIA_TO_MSG[d]]}}else{delete t.mediaStage;for(var p=0;p<f.MSG_SPECIFIC_FIELDS.length;p++)delete t[f.MSG_SPECIFIC_FIELDS[p]]}s.mediaData.set(t)}}for(var h=n.length-1;h>=0;h--)n[h][1]&&n.splice(h,1);var m=e._callOnConsolidate;!e._pendingChanges&&m&&(e._callOnConsolidate=null,m.forEach(function(e){e()}));e._saveMedia&&e._saveMedia(e)}(t),function(e){var t={};_(t,e,f.FIELDS.RAW),_(t,e.contentInfo,e.contentFields()),e.mediaBlob&&(t.renderableUrl=e.mediaBlob.url());var n=j(e);e._stickers=e._stickers.filter(function(e){var t=a(e,2);return t[0],!t[1]}),e._stickers.forEach(function(e){var o=a(e,2),i=o[0];o[1],i.mediaData.set(r({},t,{mediaStage:n}))}),e._stickerPacks=e._stickerPacks.filter(function(e){var t=a(e,2);return t[0],!t[1]}),e._stickerPacks.forEach(function(e){var o=a(e,2),i=o[0];o[1],i.mediaData.set(r({},t,{mediaStage:n}))}),!e._pendingChanges&&e._callOnConsolidate&&(e._callOnConsolidate.forEach(function(e){e()}),e._callOnConsolidate=null);e._saveMedia&&e._saveMedia(e)}(t)}),this._uploadAsGif=!1,this._callOnConsolidate=null,this._keyedProcesses=null,this._pendingChangesCount=0,this._saveMedia=null,this._stickers=[],this._stickerPacks=[],this.entries=new c.MediaEntryList,this.downloadStage=f.DOWNLOAD_STAGE.INIT,this.uploadStage=f.UPLOAD_STAGE.INIT,this.userAttemptCount=0,this.mustDownloadMedia=!1,this.downloadPromise=null,this.uploadPromise=null,this.mediaBlob=null,this.size=void 0,this.filehash=void 0,this.contentInfo={}}return o(e,[{key:"consolidate",value:function(e){return!!function(e,t){var n=e.contentInfo,r=!1,a=function(e,t){switch(e){case f.OUTWARD_TYPES.TEMPLATE:if((0,s.shouldEnableHsm)()){if(t===i.default.TEMPLATE_SUBTYPE.IMAGE)return f.TYPE.IMAGE;if(t===i.default.TEMPLATE_SUBTYPE.VIDEO)return f.TYPE.VIDEO;if(t===i.default.TEMPLATE_SUBTYPE.DOCUMENT)return f.TYPE.DOCUMENT}case f.OUTWARD_TYPES.IMAGE:case f.OUTWARD_TYPES.PRODUCT:return f.TYPE.IMAGE;case f.OUTWARD_TYPES.VIDEO:return f.TYPE.VIDEO;case f.OUTWARD_TYPES.STICKER:return f.TYPE.STICKER;case f.OUTWARD_TYPES.AUDIO:case f.OUTWARD_TYPES.PTT:return f.TYPE.AUDIO;case f.OUTWARD_TYPES.DOCUMENT:default:return}}(t.type,t.subtype);a&&!e.type&&(e.type=a,r=!0);var o=t.downloadStage,u=t.uploadStage;o&&o!==e.downloadStage&&(e.downloadStage=o,r=!0);u&&u!==e.uploadStage&&(e.uploadStage=u,r=!0);t.resolvedPreview&&!n.preview&&(t.resolvedPreview.retain(),n.preview=t.resolvedPreview,r=!0);var l=t.mediaBlob;l&&!l.isBlobEqual(e.mediaBlob)&&(e.mediaBlob&&e.clearBlob(),l.retain(),e.mediaBlob=l,e.size=l.size(),r=!0);null!=t.size&&(null==e.size||t.size<e.size)&&(e.size=t.size,r=!0);t.filehash&&!e.filehash&&(e.filehash=t.filehash,r=!0);for(var c=e.contentFields(),d=0;d<c.length;d++){var p=c[d];switch(p){case"preview":t.preview&&!n._preview&&(e.runProcessIfNotRunBefore("preview",O,t.preview),n._preview=t.preview,r=!0);break;case"fullWidth":case"fullHeight":case"aspectRatio":var h=t[p];null!=h&&0!==h&&n[p]!==h&&(n[p]=h,r=!0);break;case"animationDuration":var m=t[p];null!=m&&m!==n[p]&&(n[p]=m,r=!0);break;default:var b=t[p];void 0!==b&&void 0===n[p]&&(n[p]=b,r=!0)}}null!=n.aspectRatio&&0!==n.aspectRatio||(null!=n.fullWidth&&0!==n.fullWidth&&null!=n.fullHeight&&0!==n.fullHeight?(n.aspectRatio=n.fullWidth/n.fullHeight,r=!0):n.preview&&e.runProcessIfNotRunBefore("aspectRatio",S,n.preview));return r}(this,e)&&(this.notifyMsgsAsync(),!0)}},{key:"clearBlob",value:function(){var e=this.mediaBlob;e&&(this.mediaBlob=null,e.autorelease())}},{key:"contentFields",value:function(){var e=this.type||f.TYPE.DOCUMENT;return f.FIELDS[e]}},{key:"resolveWhenConsolidated",value:function(){var e=this;return this._notifyTimer.ts||this._pendingChanges?new Promise(function(t){e._callOnConsolidate?e._callOnConsolidate.push(t):e._callOnConsolidate=[t]}):Promise.resolve()}},{key:"notifyMsgsAsync",value:function(){this._notifyTimer.debounce(0)}},{key:"addMsg",value:function(e){for(var t=this._msgs,n=0;n<t.length;n++){var r=a(t[n],2),o=r[0],i=r[1];l.default.assert(o!==e||i,"redundant-media-msg")()}t.push([e,!1]),this.notifyMsgsAsync()}},{key:"removeMsg",value:function(e){for(var t=this._msgs,n=!1,r=0;!n&&r<t.length;r++){var o=a(t[r],2),i=o[0],u=o[1];i!==e||u||(t[r][1]=!0,n=!0)}}},{key:"hasAssociatedMsgsOrStickers",value:function(){for(var e=this._msgs,t=0;t<e.length;t++)if(!e[t][1])return!0;return this.hasAssociatedStickers()||this.hasAssociatedStickerPacks()}},{key:"associatedMsgs",value:function(){for(var e=this._msgs,t=[],n=0;n<e.length;n++){var r=a(e[n],2),o=r[0];r[1]||t.push(o)}return t}},{key:"rmr",value:function(e){var t=this,n=this.associatedStickers();if(n.length>0)return(0,b.rmrSticker)(this.entries,this._stickers,n[0]).then(function(e){return e.sticker?{status:e.status,url:e.sticker.url,mediaKey:e.sticker.mediaKey}:{status:e.status}});var r=this.associatedStickerPacks();if(r.length>0)return(0,b.rmrStickerPack)(this.entries,this._stickerPacks,r[0]).then(function(e){return e.stickerPack?{status:e.status,url:e.stickerPack.url,mediaKey:e.stickerPack.mediaKey}:{status:e.status}});for(var o=void 0,i=this._msgs,u=0;!o&&u<i.length;u++){var s=a(i[u],2),c=s[0];s[1]||c.isUnsentPhoneMsg()||(o=c)}return l.default.assert(o,"media-fault: rmr called on MediaObject with no msg")(),o?(e.onMsgSelect(o),g.default.requestMediaReupload(o).tap(function(e){if(200===e.status&&o){var n=t.entries.updateEntry(e.url,e.mediaKey||o.mediaKey);n&&n.markWhetherOnServer(!0)}})):Promise.reject(new Error("rmr called on MediaObject with no msg"))}},{key:"msgProps",value:function(e){var t={};_(t,this,f.FIELDS.RAW),_(t,this.contentInfo,this.contentFields()),_(t,e,f.MSG_SPECIFIC_FIELDS),t.preview=this.contentInfo._preview;var n={};for(var r in t){var a=f.MEDIA_TO_MSG[r];a&&(n[a]=t[r])}return n}},{key:"uploadType",value:function(){switch(this.type){case f.TYPE.VIDEO:return this._uploadAsGif?f.UPLOAD_TYPE.GIF:f.UPLOAD_TYPE.VIDEO;case f.TYPE.IMAGE:case f.TYPE.PRODUCT:return f.UPLOAD_TYPE.IMAGE;case f.TYPE.AUDIO:return f.UPLOAD_TYPE.AUDIO;default:return f.UPLOAD_TYPE.DOCUMENT}}},{key:"delete",value:function(){this._saveMedia=null,this.downloadPromise&&this.downloadPromise.cancel(),this.uploadPromise&&this.uploadPromise.control.cancel(),this.clearBlob()}},{key:"runProcessIfNotRunBefore",value:function(e,t,n){var r=this,a=this._keyedProcesses;a||(a=this._keyedProcesses={}),a.hasOwnProperty(e)||(this._pendingChangesCount++,a[e]=Promise.resolve(n).then(t).then(function(e){r.consolidate(e)}).finally(function(){r._pendingChangesCount--,0===r._pendingChangesCount&&r.notifyMsgsAsync()}))}},{key:"getPendingProcess",value:function(e){return 0!==this._pendingChangesCount&&this._keyedProcesses&&this._keyedProcesses.hasOwnProperty(e)?this._keyedProcesses[e]:Promise.resolve()}},{key:"videoStreamingInfo",value:function(e){var t=this;if(this.type!==f.TYPE.VIDEO)return l.default.assert(!1,"media-fault: media streaming info request for non-video type",`type: ${String(this.type)}`)(),null;var n=this.entries.getDownloadEntry();return n&&n.sidecar?Promise.all([(0,u.default)(d.default.VIDEO,n.mediaKey),n.url()]).then(function(o){var i=a(o,2),u=i[0],s=i[1];return{cryptoKeys:r({},u,{cipherKey:u.encKey,sidecar:n.sidecar}),streamData:{clientUrl:s,size:t.size,msgKey:e}}}):null}},{key:"addStickerPack",value:function(e){for(var t=this._stickerPacks,n=0;n<t.length;n++){var r=a(t[n],2),o=r[0],i=r[1];l.default.assert(o!==e||i,"redundant-sticker-pack-add")()}t.push([e,!1]),this.notifyMsgsAsync()}},{key:"addSticker",value:function(e){for(var t=this._stickers,n=0;n<t.length;n++){var r=a(t[n],2),o=r[0],i=r[1];l.default.assert(o!==e||i,"redundant-sticker-add")()}t.push([e,!1]),this.notifyMsgsAsync()}},{key:"removeSticker",value:function(e){for(var t=this._stickers,n=!1,r=0;!n&&r<t.length;r++){var o=a(t[r],2),i=o[0],u=o[1];i!==e||u||(t[r][1]=!0,n=!0)}}},{key:"removeStickerPack",value:function(e){for(var t=this._stickerPacks,n=!1,r=0;!n&&r<t.length;r++){var o=a(t[r],2),i=o[0],u=o[1];i!==e||u||(t[r][1]=!0,n=!0)}}},{key:"hasAssociatedStickers",value:function(){return this._stickers.some(function(e){var t=a(e,2);t[0];return!t[1]})}},{key:"hasAssociatedStickerPacks",value:function(){return this._stickerPacks.some(function(e){var t=a(e,2);t[0];return!t[1]})}},{key:"associatedStickers",value:function(){return this._stickers.reduce(function(e,t){var n=a(t,2),r=n[0];return n[1]?e:e.concat(r)},[])}},{key:"associatedStickerPacks",value:function(){return this._stickerPacks.reduce(function(e,t){var n=a(t,2),r=n[0];return n[1]?e:e.concat(r)},[])}},{key:"toJSON",value:function(){return{mediaBlob:this.mediaBlob,size:this.size,filehash:this.filehash,type:this.type,contentInfo:this.contentInfo,downloadStage:this.downloadStage,uploadStage:this.uploadStage}}}]),e}();function _(e,t,n){for(var r=0;r<n.length;r++){var a=n[r];e[a]=t[a]}}function E(e,t){return t.filehash?e.id.fromMe&&e.ack<1?(l.default.assert(e.local,"media-fault: unsent media system message not local")(),function(e){switch(e.uploadStage){case f.UPLOAD_STAGE.INIT:case f.UPLOAD_STAGE.PREPARING:return f.STAGE.PREPARING;case f.UPLOAD_STAGE.UPLOADING:return f.STAGE.UPLOADING;case f.UPLOAD_STAGE.NEED_UPLOAD:return f.STAGE.NEED_UPLOAD;case f.UPLOAD_STAGE.ERROR_MISSING:return f.STAGE.ERROR_MISSING;case f.UPLOAD_STAGE.ERROR_TOO_LARGE:return f.STAGE.ERROR_TOO_LARGE;case f.UPLOAD_STAGE.UPLOADED:return f.STAGE.SENDING}}(t)):j(t):f.STAGE.PREPARING}function j(e){switch(e.downloadStage){case f.DOWNLOAD_STAGE.INIT:return f.STAGE.INIT;case f.DOWNLOAD_STAGE.PREPARING:return f.STAGE.PREPARING;case f.DOWNLOAD_STAGE.REUPLOADING:return f.STAGE.REUPLOADING;case f.DOWNLOAD_STAGE.FETCHING:return f.STAGE.FETCHING;case f.DOWNLOAD_STAGE.PROCESSING:return f.STAGE.DECRYPTING;case f.DOWNLOAD_STAGE.NEED_POKE:return f.STAGE.NEED_POKE;case f.DOWNLOAD_STAGE.ERROR_MISSING:return f.STAGE.ERROR_MISSING;case f.DOWNLOAD_STAGE.ERROR_UNSUPPORTED:return f.STAGE.ERROR_UNSUPPORTED;case f.DOWNLOAD_STAGE.RESOLVED:return f.STAGE.RESOLVED}}function O(e){return h.default.createFromBase64Jpeg(e).then(function(e){return e.autorelease(),{resolvedPreview:e}})}function S(e){return(0,p.getImageWidthHeight)(e).then(function(e){return{aspectRatio:e.width/e.height}})}t.default=y},chgafjbahd:function(e,t){e.exports={container:"Drque",quotedMsg:"_2HTIU",statusV3QuotedMsg:"_7Q1c5",composeBoxQuotedMsg:"_2I-yY",hover:"_1W7nH",colorBar:"_1dvF4",msgBody:"_3LVMN",msgText:"SdGy6",quotedPaymentMsg:"zPdFn"}},chgfegiddc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=ne(n("ddbbigfbec")),a=ne(n("echehdcaii")),o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.hasPending=function(){if(!v.default.connected)return!1;var e=n("ecfbchagde").hasText,t=L.default.some(function(e){return 0===e.ack&&e.local&&e.isSentByMe}),r=p.default.some(function(e){return!!e.composeContents.text});return t||r||e()};var u=ne(n("ceffhbhahb")),s=ne(n("dgdjiicfdg")),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),c=ne(n("cjihfbehgb")),f=ne(n("djheacfeif")),d=ne(n("jaigjeiig")),p=ne(n("dbdfbgehgj")),h=ne(n("hhbhaabfi")),m=ne(n("bbchdeehff")),b=ne(n("baagejbchg")),g=ne(n("biddiiafgd")),v=ne(n("bjigbaghc")),y=ne(n("fjeagagdf")),_=n("bicbaggehc"),E=ne(_),j=n("bbicdddbdj"),O=n("bgddggdhc"),S=ne(n("ddajbaceej")),w=ne(n("ihgefacbb")),P=n("dhfbfehaef"),M=ne(P),C=ne(n("bdgeaggfea")),T=ne(n("ebidfedahj")),A=ne(n("bhhgagadei")),N=ne(n("eceadcicaf")),k=ne(n("bdiiahhjbe")),I=ne(n("cbgedejjgb")),R=ne(n("bfbggcdbfb")),L=ne(n("biecbbiiee")),D=ne(n("dhgfgiaedi")),x=ne(n("dhabbfcefj")),U=ne(n("bjbedjfe")),G=n("hfifjaejc"),F=ne(n("bgidiahdfc")),B=ne(n("ceddibdhdb")),$=ne(n("cbjedbdgjh")),V=ne(n("dcdiaahjj")),H=ne(n("dedjffeefj")),W=ne(n("cfcdedaej")),Y=ne(n("bcjcbbafcj")),K=ne(n("caffijjhc")),q=ne(n("cdeahgaaii")),z=ne(n("edbaidcaf")),Q=ne(n("egjjcjcg")),J=ne(n("bcifhbgija")),Z=ne(n("bfdijdeegj")),X=ne(n("eaaehfdjdg")),ee=ne(n("ecbjchafdg")),te=ne(n("gcbhjhjhg"));function ne(e){return e&&e.__esModule?e:{default:e}}function re(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ae=n("bbaibbdgdj"),oe=n("chiaeadhif"),ie=[[document,"mousemove"],[document,"scroll"],[document,"keydown"],[window,"focus"],[window,"resize"]];function ue(e){window.history.pushState({},"",window.location.href)}var se=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=a=re(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.state={drawerActive:!1,drawerAnimating:!1},a.idleMonitor=null,a.serverPropsQueryLoop=null,a.rightDrawerOut=!1,a.onBlurTimer=new B.default(function(){if(document.activeElement===document.body){var e=q.default.Manager.top;e&&e.uie.requestFocus()}}),a.onBlur=function(){a.onBlurTimer.debounce(10)},a.onRightDrawerIn=function(){a.rightDrawerOut=!1,m.default.onPanesWillChange(3),a.setState({drawerActive:!0,drawerAnimating:!0},function(){m.default.onPanesDidChange(3)});var e=a.calculateConversationPaneScale();null!=e&&a.animateConversationPane(e)},a.onRightDrawerOut=function(){a.rightDrawerOut=!0;var e={drawerActive:a.state.drawerActive,drawerAnimating:!0},t=a.calculateConversationPaneScale();null!=t&&a.animateConversationPane(t),1!==t?(m.default.onPanesWillChange(2),e.drawerActive=!1,a.setState(e,m.default.onPanesDidChange.bind(m.default,2))):a.setState(e)},a.onRightDrawerAnimationComplete=function(){var e={drawerActive:a.state.drawerActive,drawerAnimating:!1};a.state.drawerActive&&a.rightDrawerOut&&(e.drawerActive=!1),a.setState(e)},a.onRotateFocus=function(e){var t=1;e&&(e.stopPropagation(),e.preventDefault(),t=e.shiftKey?-1:1,(0,P.shouldIndicateFocus)());var n=[];if(Array.from((0,O.forbiddenAssertDOMNode)(a).querySelectorAll("[data-tab]")).forEach(function(e){n.push(e)}),m.default.existsDrawerLeft(function(e){if(e){var t=(0,O.forbiddenFindDOMNode)(a.refChatList);n=n.filter(function(e){return!(t&&t.contains(e))})}}),m.default.existsDrawerMid(function(e){if(e){var t=(0,O.forbiddenFindDOMNode)(a.refConversation);t&&(n=n.filter(function(e){return!(t&&t.contains(e))}))}}),n.length){n=(0,r.default)(n,function(e){return parseInt(e.getAttribute("data-tab"),10)||0});var o=0,i=document.activeElement;i&&(o=C.default.ring(n.findIndex(function(e){return e.contains(i)})+t,n));var u=n[o];(0,P.shouldIndicateFocus)(),u.restoreFocus?u.restoreFocus():S.default.focus(u)}},a.showTOS=function(){switch(v.default.tos){case 1:case 2:m.default.openModal(l.createElement(W.default,null),{blockClose:!0});break;case 3:X.default.logout()}},a.showSmbTos=function(){v.default.smbTos&&m.default.openModal(l.createElement($.default,null),{blockClose:!0})},a.setRefContainer=function(e){a.refContainer=e},a.setRefChatList=function(e){a.refChatList=e},a.setRefConversation=function(e){a.refConversation=e},a.showKeyboardShortcuts=function(e){for(var t,n=e.target,r=0;r<5;r++){if((t=n)&&t.getAttribute("contentEditable")||t instanceof HTMLInputElement)return;n=n.parentNode}m.default.openModal(l.createElement(ee.default,null)),e.preventDefault()},re(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.PureComponent),i(t,[{key:"UNSAFE_componentWillMount",value:function(){V.default.uiActive=!0,V.default.markAvailable();var e=v.default.platform;(0,F.default)("iphone"===e?j.EMOJI_TYPE.APPLE:j.EMOJI_TYPE.WHATSAPP),d.default.setPlatform(e)}},{key:"componentWillUnmount",value:function(){this.onBlurTimer.cancel(),A.default.menuBatchRenderWith(function(){A.default.trigger(`${T.default.Event}:${T.default.Events.LOGGED_OUT}`)}),z.default.canMuckHistory()&&window.history.back(),V.default.uiActive=!1,this.clearIdleMonitor(),this.clearServerPropsQueryLoop(),this.stopTrackingFPS&&this.stopTrackingFPS()}},{key:"componentDidMount",value:function(){var e=this.props.listeners;if(A.default.menuBatchRenderWith(function(){A.default.trigger(`${T.default.Event}:${T.default.Events.LOGGED_IN}`)}),z.default.canMuckHistory()&&(window.history.pushState({},"",window.location.href),e.add(window,"popstate",ue)),this.beginIdleMonitor(!0),this.beginServerPropsQueryLoop(),e.add(v.default,"change:tos",this.showTOS),this.showTOS(),v.default.isSMB&&(e.add(v.default,"change:smbTos",this.showSmbTos),this.showSmbTos()),S.default.focus((0,O.forbiddenAssertDOMNode)(this)),Y.default.isSafari&&(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)){var t=Q.default.getNUX(b.default.NUX.SAFARI_LIMITED_SUPPORT);(!t||t<t.maxViews)&&(setTimeout(function(){var e=l10n.t(1425,{chrome_homepage:b.default.BROWSER_LINK.CHROME,firefox_homepage:b.default.BROWSER_LINK.FIREFOX,opera_homepage:b.default.BROWSER_LINK.OPERA});m.default.openModal(l.createElement(g.default,{onOK:function(){return m.default.closeModal()},okText:l10n.t(862)},l.createElement("div",{dangerouslySetInnerHTML:{__html:e}})))},250),Q.default.setNUX(b.default.NUX.SAFARI_LIMITED_SUPPORT,{views:1,maxViews:1}))}if(this.stopTrackingFPS=w.default.whenLessThan(1,function(e,t){new R.default.WebcUiFreeze({webcUiFreezeFps:e,webcUiFreezeT:(0,a.default)(t,0)}).commit(),k.default.log(`Low FPS Tracker: ${(0,a.default)(e,2)}fps, ${(0,a.default)(t,3)/1e3}s since page open.`)()}),te.default.supported){var n=navigator.serviceWorker;n&&n.controller&&oe.request(n.controller,ae.PRELOAD_LAZY_LOADED_BUNDLES).catch(function(){})}}},{key:"beginIdleMonitor",value:function(e){var t=this,n=e?b.default.IDLE_TIMEOUT:0;this.idleMonitor=Promise.loop(function(){return Promise.delay(n).addCancelControl().then(function(){V.default.markUnavailable(3e4);var e=void 0,r=new Promise(function(t){e=t});return ie.forEach(function(n){var r=o(n,2),a=r[0],i=r[1];t.props.listeners.add(a,i,e)}),r.addCancelControl().finally(function(){ie.forEach(function(n){var r=o(n,2),a=r[0],i=r[1];t.props.listeners.remove(a,i,e)})}).then(function(){document.hasFocus()&&V.default.markAvailable(),n=b.default.IDLE_TIMEOUT})})}).finally(function(){t.idleMonitor=null}).catch(Promise.CancellationError,function(){}).endWithControls("cancel")}},{key:"clearIdleMonitor",value:function(){this.idleMonitor&&this.idleMonitor.control.cancel()}},{key:"beginServerPropsQueryLoop",value:function(){var e=this;this.serverPropsQueryLoop=f.default.setLocalTimeout(function(){(0,G.queryServerProps)(),e.beginServerPropsQueryLoop()},(0,s.default)().add(1,"days").valueOf())}},{key:"clearServerPropsQueryLoop",value:function(){f.default.clearTimeout(this.serverPropsQueryLoop)}},{key:"calculateConversationPaneScale",value:function(){if(!(this.refChatList&&this.refContainer&&this.refConversation))return null;var e=(0,O.forbiddenAssertDOMNode)(this.refChatList),t=(0,O.forbiddenAssertDOMNode)(this.refConversation),n=(0,O.forbiddenAssertDOMNode)(this.refContainer);return t.clientWidth/(n.clientWidth-e.clientWidth)}},{key:"animateConversationPane",value:function(e){(0,J.default)((0,O.forbiddenAssertDOMNode)(this.refConversation),{scaleX:[1,e]},{duration:300,easing:[.1,.82,.25,1]})}},{key:"render",value:function(){var e=(0,u.default)("app",I.default.app,{three:this.state.drawerActive,two:!this.state.drawerActive,"app-animating":this.state.drawerAnimating,[I.default.noAnimation]:!this.props.animate}),t={tab:this.onRotateFocus,"shift+tab":this.onRotateFocus,"shift+?":this.showKeyboardShortcuts};return l.createElement(K.default,{state:K.default.State.INACTIVE,ref:this.setRefContainer,displayName:"Main"},l.createElement(M.default,{handlers:t,className:e,onBlur:this.onBlur},l.createElement(D.default,null),l.createElement(c.default,null),l.createElement(x.default,null),l.createElement(Z.default,null),l.createElement(H.default,null),void 0,l.createElement("div",{className:I.default.drawerManager},l.createElement("div",{className:(0,u.default)(I.default.pane,I.default.paneOne)},l.createElement(E.default,{direction:_.Dir.LEFT})),l.createElement("div",{className:(0,u.default)(I.default.pane,I.default.paneTwo)},l.createElement(E.default,{direction:_.Dir.MID})),l.createElement("div",{className:(0,u.default)(I.default.pane,I.default.paneThree)},l.createElement(E.default,{direction:_.Dir.RIGHT,onDrawerIn:this.onRightDrawerIn,onDrawerOut:this.onRightDrawerOut,onDrawerAnimationComplete:this.onRightDrawerAnimationComplete}))),l.createElement("div",{className:(0,u.default)(I.default.pane,I.default.paneOne)},l.createElement(h.default,{ref:this.setRefChatList})),l.createElement("div",{className:(0,u.default)(I.default.pane,I.default.paneTwo)},l.createElement(y.default,{animate:this.props.animate,ref:this.setRefConversation}))))}}]),t}();se.displayName="Main",t.default=(0,N.default)((0,U.default)(se))},chghgadcbg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("dcaifjegcg"),o=s(a),i=s(n("bhggeigghg")),u=s(n("jccfhaecf"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.id=(0,a.prop)(),l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"contact",value:function(){return i.default.Contact.gadd(this.id)}},{key:"getCollection",value:function(){return n("bgfcjjddjf").default}}]),t}();c.Proxy="blocklist",c.idClass=u.default,t.default=(0,a.defineModel)(c)},chhcagejdh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=b(n("bhaghghai")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=b(n("ceffhbhahb")),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=n("bgddggdhc"),s=n("ddajbaceej"),l=n("ccgdfaeibd"),c=b(n("dhfbfehaef")),f=b(n("eceadcicaf")),d=b(n("dfgeejdaib")),p=b(n("cjiiehdbge")),h=b(n("cdcbgdeab")),m=b(n("bfdcadbbif"));function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _={RIGHT:"RIGHT",LEFT:"LEFT"},E=4,j=function(e){function t(){var e,n,r;g(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={curIndex:0,direction:_.RIGHT},r.msgLength=0,r.starredPreviewRef={},r.selectionIndex=0,r.onSlideLeft=function(){return r.hasLeft()?new Promise(function(e){r.setState({curIndex:r.state.curIndex-1,direction:_.LEFT},function(){e(!0)})}):Promise.resolve(!1)},r.onSlideRight=function(){return r.hasRight()?new Promise(function(e){r.setState({curIndex:r.state.curIndex+1,direction:_.RIGHT},function(){e(!0)})}):Promise.resolve(!1)},r.setRef=function(e){r._ref=e},r.hasRight=function(){return r.state.curIndex+E<r.msgLength},r.hasLeft=function(){return r.state.curIndex>0},r.handleLeftArrow=function(e){r.onSlideLeft().then(function(t){r.selectionIndex=t?r.selectionIndex:r.selectionIndex-1,r.selectionIndex<0?r.stopEvent(e):(r.stopEvent(e),r.focusStarredGif())})},r.handleRightArrow=function(e){r.onSlideRight().then(function(t){r.selectionIndex=t?r.selectionIndex-1:r.selectionIndex;var n=Object.keys(r.starredPreviewRef).length;if(r.selectionIndex<3&&r.selectionIndex<n-1)r.selectionIndex=r.selectionIndex+1;else{if(!r.hasRight())return void r.stopEvent(e);r.selectionIndex=3}r.stopEvent(e),r.focusStarredGif()})},r.stopEvent=function(e){e&&(e.preventDefault(),e.stopPropagation())},r.handleEnter=function(e){r.stopEvent(e),r.starredPreviewRef[r.selectionIndex].component._gifRef.handleClick()},r.focusStarredGif=function(){var e=(0,u.forbiddenAssertDOMNode)(r.starredPreviewRef[r.selectionIndex]);e&&(0,s.focus)(e)},r.initSelection=function(){r.selectionIndex=0,r.focusStarredGif()},v(r,n)}return y(t,i.Component),a(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this,t=d.default;this.props.listeners.add(t,"add remove reset",function(){e.forceUpdate()}),t.isSynced||t.sync()}},{key:"getClientHeight",value:function(){return this._ref&&this._ref.clientHeight}},{key:"hasGifs",value:function(){return Boolean(this._ref&&this._ref.childNodes.length)}},{key:"isStarredGif",value:function(e){return!!e&&(!!this._ref&&this._ref.contains(e))}},{key:"render",value:function(){var e=this,t={left:this.handleLeftArrow,right:this.handleRightArrow,enter:this.handleEnter},n=(0,r.default)(d.default.toArray(),"filehash");if(this.msgLength=n.length,0===n.length)return i.createElement("div",null);if(n.length<=E){var a=0,u=n.map(function(t,n){return a+=Math.round(t.mediaData.aspectRatio*l.TARGET_GIF_HEIGHT),i.createElement(p.default,{key:t.filehash,ref:function(t){return e.starredPreviewRef[n]=t},msg:t,onSend:e.props.onSend})});return a+=(u.length-1)*l.GAP_SIZE,i.createElement(c.default,{className:h.default.section,handlers:t},i.createElement("div",{ref:this.setRef,className:h.default.searchRow,style:{maxWidth:`${a}px`}},u))}var s=this.hasLeft(),f=this.hasRight(),b=s?this.onSlideLeft:null,g=f?this.onSlideRight:null,v=(0,o.default)(h.default.pager,h.default.pagerLeft,{[h.default.pagerDisabled]:!s}),y=(0,o.default)(h.default.pager,h.default.pagerRight,{[h.default.pagerDisabled]:!f}),_=i.createElement("div",{className:v,onClick:b},i.createElement(m.default,{name:"chevron-left-alt"})),j=i.createElement("div",{className:y,onClick:g},i.createElement(m.default,{name:"chevron-right-alt"})),O=n.slice(this.state.curIndex,this.state.curIndex+E).map(function(t,n){return i.createElement(p.default,{key:t.filehash,ref:function(t){return e.starredPreviewRef[n]=t},msg:t,onSend:e.props.onSend})});return i.createElement("div",{className:h.default.section},i.createElement(c.default,{onRef:this.setRef,className:h.default.searchRow,handlers:t},_,i.createElement("div",{className:h.default.body},O),j))}}]),t}();j.displayName="StarredGifs";var O=(0,f.default)(j),S=function(e){function t(){return g(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,O),a(t,[{key:"getClientHeight",value:function(){return this.getComponent().getClientHeight()}},{key:"hasGifs",value:function(){return this.getComponent().hasGifs()}},{key:"isStarredGif",value:function(e){return this.getComponent().isStarredGif(e)}}]),t}();t.default=S},chhjhdffbh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.linkOrphanAck=function(e){var t=void 0;if(o.default.supportsFeature(o.default.F.MODEL_STORAGE)&&o.default.supportsFeature(o.default.F.MD_BACKEND))return Promise.reject(new Error("linkOrphanReceipt: not supported for non MD"));t=Promise.reject("linkOrphanReceipt: not supported without model storage and md backend");return t};var r,a=n("bjbdcigbdi"),o=(r=a)&&r.__esModule?r:{default:r}},chihfebbce:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=v(n("dbdfbgehgj")),o=v(n("bbchdeehff")),i=v(n("baagejbchg")),u=v(n("dhigahgdjb")),s=v(n("cijheiibhg")),l=v(n("cccehdaiaf")),c=v(n("bdiiahhjbe")),f=v(n("bfbggcdbfb")),d=v(n("biecbbiiee")),p=n("bcjidabgad"),h=v(n("bjdjjaiejj")),m=n("dcdiaahjj"),b=v(m),g=v(n("egjjcjcg"));function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(){return Math.floor(window.performance.now())}var E=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.timings={chatSync:0,contactSync:0,endSync:0,msgSync:0,startSync:0},e.data={webcPersistentLoginEnabled:!1,webcQrCodes:0,webcSyncMessageCount:0,webcSyncMessageSize:0},window.performance&&window.performance.now?g.default.knowsPhone()?(e.listenToOnce(o.default,"logout",e.init),y(e)):(e.init(),e):y(e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default),r(t,[{key:"init",value:function(){this.timings.startSync=b.default.lastSyncStart,this.listenTo(b.default,"change:mode",this.changeStreamMode),this.listenTo(a.default,i.default.COLLECTION_HAS_SYNCED,this.onChatSync),this.listenTo(u.default,i.default.COLLECTION_HAS_SYNCED,this.onContactSync),this.listenTo(d.default,i.default.COLLECTION_HAS_SYNCED,this.onMsgSync),this.listenTo(d.default,"handle:msg_history",this.onMsgHistory)}},{key:"changeStreamMode",value:function(){b.default.mode===m.StreamMode.SYNCING&&(this.timings.startSync=_(),this.data.webcPersistentLoginEnabled=g.default.getRememberMe()),b.default.mode===m.StreamMode.MAIN&&(this.timings.endSync=_(),this.maybeLogToWam())}},{key:"onChatSync",value:function(e){null!=e.timing?this.data.webcSyncChatT=e.timing:this.timings.chatSync=_(),this.data.webcSyncChatCount=e.count,this.data.webcSyncChatSize=e.binarySize,this.maybeLogToWam()}},{key:"onMsgSync",value:function(e){e&&(this.timings.msgSync=_(),this.data.webcSyncMessageCount+=e.count,this.data.webcSyncMessageSize+=e.binarySize),this.maybeLogToWam()}},{key:"onContactSync",value:function(e){null!=e.timing?this.data.webcSyncContactT=e.timing:this.timings.contactSync=_(),this.data.webcSyncContactCount=e.count,this.data.webcSyncContactSize=e.binarySize,this.maybeLogToWam()}},{key:"onMsgHistory",value:function(e){this.data.webcSyncMessageSize+=e.binarySize,this.data.webcSyncMessageCount+=e.count,this.timings.msgSync&&(this.timings.msgSync=_())}},{key:"maybeLogToWam",value:function(){var e=this,t=this.timings,n=t.contactSync,r=t.msgSync,a=t.chatSync,o=Number.isFinite(a||this.data.webcSyncChatT),i=Number.isFinite(n||this.data.webcSyncContactT),u=Number.isFinite(r);o&&i&&u&&(this._commitPromise||(this._commitPromise=(0,s.default)().then(function(t){return e._commitEvent(t)}).catch(function(t){c.default.error("wam:Error comitting login event")(t,e.data)}).finally(function(){return e.reset()})))}},{key:"_commitEvent",value:function(e){var t=this.timings,n=t.startSync,r=t.endSync,a=t.contactSync,o=t.msgSync,i=t.chatSync,u=h.default.initialDisplayDate;null!=u&&0!==u&&Number.isFinite(u)&&Number.isFinite(n)&&Number.isFinite(r)?(this.data.webcQrLoadT=u,this.data.webcQrCodes=h.default.get(),this.data.webcLoginT=n-u,this.data.webcSyncT=r-n,this.data.webcSyncMessageT=o-n,this.data.webcSyncChatT||(this.data.webcSyncChatT=i-n),this.data.webcSyncContactT||(this.data.webcSyncContactT=a-n),this.data.webcBrowserNetworkType=(0,p.getEffectiveNetworkType)(),e&&(this.data.webcBrowserStorageQuotaBytes=e.quota,this.data.webcBrowserStorageQuotaUsedBytes=e.usage),new f.default.WebcLogin(this.data).commit()):c.default.error("One or more of the login timings was not logged: ")(this.timings)}},{key:"reset",value:function(){this.stopListening(),this.data={webcPersistentLoginEnabled:!1,webcQrCodes:0,webcSyncMessageCount:0,webcSyncMessageSize:0},this.timings={chatSync:0,contactSync:0,endSync:0,msgSync:0,startSync:0},this._commitPromise=void 0,this.listenToOnce(o.default,"logout",this.init)}}]),t}();t.initialize=function(){return new E}},chjchbjied:function(e,t){e.exports={quote:"_2FaAB",hasAuthor:"woe4f",forwarded:"_3mOLI",hasSuspiciousLinks:"_2UjxI",linkPreview:"NB3Gq",meta:"_1sfgn",title:"KfTPt"}},chjdbchg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=T(n("ddhijeejag")),o=C(n("dhbceejbjg")),i=C(n("bbchdeehff")),u=C(n("dhhfaeacef")),s=C(n("djcchigfih")),l=C(n("djbhiedbef")),c=C(n("cabhjigfgc")),f=n("dajffajabh"),d=C(f),p=C(n("fifhbjiec")),h=n("cicgeajfge"),m=n("ddjgcfjicj"),b=T(n("cajijabhgb")),g=n("bejbgaghc"),v=C(n("cehhcbdgih")),y=C(n("bhedcifgbg")),_=C(n("fffdgbfji")),E=C(n("bjbedjfe")),j=n("eagfdbhhhh"),O=C(n("cccgaejadd")),S=C(n("ihfccfgdf")),w=C(n("bfdcadbbif")),P=n("bfjajhbdf"),M=C(P);function C(e){return e&&e.__esModule?e:{default:e}}function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var N={LOADING:0,REVOKING:1,SUCCESS:2},k=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,f=Array(s),d=0;d<s;d++)f[d]=arguments[d];return n=r=A(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(f))),r.state={state:N.LOADING},r.getErrorMessageFromStatusCode=function(e){switch(e){case 401:return _.default.t(526);case 403:return _.default.t(527);case 404:return _.default.t(528);default:return _.default.t(529)}},r.handleLoadingErrorStatusCode=function(e){var t=r.getErrorMessageFromStatusCode(e);r.props.onBack(),i.default.openToast(a.createElement(M.default,{msg:t,id:(0,P.genId)()}))},r.handleRevokeGroupInvite=function(){i.default.openModal(a.createElement(y.default,{pushTransition:"none",popTransition:"none",chat:r.props.chat,onConfirm:r.handleConfirmRevokeGroupInvite}),{transition:"modal-flow"})},r.handleRevokingErrorStatusCode=function(e){var t=r.getErrorMessageFromStatusCode(e);r.props.onBack(),i.default.openToast(a.createElement(M.default,{msg:t,id:(0,P.genId)()}))},r.handleConfirmRevokeGroupInvite=function(){r.setState({state:N.REVOKING});var e=(0,g.revokeGroupInvite)(r.props.groupMetadata);Promise.delay(500).then(function(){return e}).checkpoint(r.props.rejectOnUnmount()).then(function(){i.default.openToast(a.createElement(M.default,{msg:_.default.t(534),id:(0,P.genId)()})),r.setState({state:N.SUCCESS})}).catch(m.ServerStatusCodeError,function(e){r.handleRevokingErrorStatusCode(e.statusCode)}).catch(b.Unmount,function(){})},r.handleSendGroupInviteLink=function(){i.default.openModal(a.createElement(O.default,{chat:r.props.chat,pushTransition:"none",popTransition:"none"}),{transition:"modal-flow"})},r.handleClickGroupInviteLinkCapture=function(e){e.preventDefault(),e.stopPropagation()},r.handleCopyLink=function(){window.getSelection().removeAllRanges();var e=document.querySelector("#group-invite-link-anchor"),t=document.createRange();e&&t.selectNode(e),window.getSelection().addRange(t);var n=void 0;try{n=document.execCommand("copy"),window.getSelection().removeAllRanges()}catch(e){n=!1}n?i.default.openToast(a.createElement(M.default,{msg:_.default.t(523),id:(0,P.genId)()})):i.default.openToast(a.createElement(M.default,{msg:_.default.t(522),id:(0,P.genId)()}))},r.renderDrawerBody=function(){var e=r.props.groupMetadata,t=void 0;if(r.state.state===N.LOADING)t=a.createElement(h.LoadingWithText,{text:_.default.t(514)});else if(r.state.state===N.REVOKING)t=a.createElement(h.LoadingWithText,{text:_.default.t(533,{groupName:r.props.chat.contact.name})});else{var n=e.groupInviteLink,i=null;document.queryCommandSupported("copy")&&(i=a.createElement(c.default,{a8nText:"li-copy-link",icon:a.createElement(w.default,{name:"copy",className:v.default.icon}),onClick:r.handleCopyLink},_.default.t(517)));var s=a.createElement(u.default,{id:r.props.chat.id,size:82,quality:u.default.Quality.HIGH}),f=a.createElement("span",{className:v.default.linkContainer},a.createElement(j.SelectableLink,{id:"group-invite-link-anchor",href:n,selectable:!0},n));t=a.createElement(l.default,null,a.createElement(o.default,{image:s,primary:a.createElement(p.default,{text:r.props.chat.contact.name,direction:"auto"}),theme:"identity",secondary:f}),a.createElement("div",{className:v.default.descContainer},_.default.t(524)),a.createElement(c.default,{a8nText:"li-share-link",icon:a.createElement(w.default,{name:"forward",className:v.default.icon}),onClick:r.handleSendGroupInviteLink},_.default.t(519)),i,a.createElement(c.default,{a8nText:"li-revoke-link",icon:a.createElement(w.default,{name:"revoke",className:v.default.icon}),onClick:r.handleRevokeGroupInvite},_.default.t(518)))}return t},A(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){var e=this;(0,g.queryGroupInviteCode)(this.props.groupMetadata).checkpoint(this.props.rejectOnUnmount()).then(function(){e.setState({state:N.SUCCESS})}).catch(m.ServerStatusCodeError,function(t){e.handleLoadingErrorStatusCode(t.statusCode)}).catch(b.Unmount,function(){})}},{key:"render",value:function(){return a.createElement(s.default,null,a.createElement(d.default,{title:_.default.t(521),onBack:this.props.onBack,type:f.DRAWER_HEADER_TYPE.SMALL}),this.renderDrawerBody())}}]),t}();k.CONCERNS={groupMetadata:["inviteCode","groupInviteLink"]},k.displayName="GroupInviteLinkDrawer",t.default=(0,E.default)((0,S.default)(k,k.CONCERNS))},chjfbhjejb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.shift();return(0,o.default)(t)};var r,a=n("bbehjhfdfe"),o=(r=a)&&r.__esModule?r:{default:r}},chjjhigbaj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendSpamReport=function(e){var t=void 0;t=a.default.supportsFeature(a.default.F.MD_BACKEND)?Promise.reject(new Error("Should not reach here")):i.default.sendSpamReport(e.id).then(function(e){if(200!==e.status)throw new r.ServerStatusCodeError(e.status)});return t},t.sendNotSpam=function(e){var t=void 0;t=a.default.supportsFeature(a.default.F.MD_BACKEND)?Promise.resolve():i.default.sendConversationNotSpam(e.id).then(function(e){if(200!==e.status)throw new r.ServerStatusCodeError(e.status)});return t.then(function(){return a.default.supportsFeature(a.default.F.MODEL_STORAGE)?o.Chat.merge(e.id.toString(),{notSpam:!0}):Promise.resolve()})};var r=n("ddjgcfjicj"),a=u(n("bjbdcigbdi")),o=n("cefcddgdgg"),i=u(n("bihdhbjih"));function u(e){return e&&e.__esModule?e:{default:e}}},ciaidfgabf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=u(n("ceffhbhahb")),o=u(n("fffdgbfji")),i=u(n("bacfgbeffc"));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=o.default.isRTL()?-1:1,n=-1===e.selectedTabIndex?-2:e.selectedTabIndex,u={width:`${100/e.numTabs}%`,transform:`translateX(${100*n*t}%)`};return r.createElement("div",{className:(0,a.default)(i.default.menuTabsMarker,{[i.default.hide]:e.hide}),style:u})}s.displayName="MenuTabMarker"},ciajafaaie:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isParsableOnlineVideoURL=function(e,t,n){if(!i.default.supportsFeature(i.default.F.VIDEO_PLAYBACK_URL))return!1;if(n)return!1;if(e===r.EXTENDED_TEXT_MESSAGE_PREVIEWTYPE.VIDEO&&t){var s=u.default.hostname(t);if(s===a.default.HOSTNAME.INSTAGRAM||s===a.default.HOSTNAME.STREAMABLE||s===a.default.HOSTNAME.FACEBOOK||s===a.default.HOSTNAME.LASSOVIDEOS&&i.default.supportsFeature(i.default.F.LASSO_VIDEOS))return!0}if(t)for(var l in o.URL_PATTERNS.ONLINE_VIDEO_URL)for(var c=o.URL_PATTERNS.ONLINE_VIDEO_URL[l],f=0;f<c.length;f++)if(c[f].test(t))return!0;return!1};var r=n("bgiachiigg"),a=s(n("baagejbchg")),o=n("cgecdbiihg"),i=s(n("bjbdcigbdi")),u=s(n("edbaidcaf"));function s(e){return e&&e.__esModule?e:{default:e}}},cibcaiabfd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=m(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=m(n("baagejbchg")),u=m(n("bjbdcigbdi")),s=m(n("eceadcicaf")),l=m(n("bdiiahhjbe")),c=m(n("bdgdgicfaf")),f=m(n("ddgfdbejhb")),d=n("cicjibbhdb"),p=m(n("ihfccfgdf")),h=m(n("bfdcadbbif"));function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.updateAfterFeatureFlagChange=function(){r.forceUpdate()},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(u.default,u.default.FEATURE_CHANGE_EVENT,this.updateAfterFeatureFlagChange)}},{key:"render",value:function(){var e=this.props.msg,t=function(e){switch(e.type){case i.default.MSG_TYPE.VIDEO:return e.isGif?"status-gif":"status-video";case i.default.MSG_TYPE.AUDIO:return e.isGif?"status-gif":"status-audio";case i.default.MSG_TYPE.VCARD:case i.default.MSG_TYPE.MULTI_VCARD:return e.isGif?"status-gif":"status-vcard";case i.default.MSG_TYPE.DOCUMENT:return e.isGif?"status-gif":"status-document";case i.default.MSG_TYPE.CIPHERTEXT:return e.isGif?"status-gif":"status-ciphertext";case i.default.MSG_TYPE.UNKNOWN:return e.isGif?"status-gif":"status-unknown";case i.default.MSG_TYPE.IMAGE:return e.isGif?"status-gif":"status-image";case i.default.MSG_TYPE.PRODUCT:return"business-description";case i.default.MSG_TYPE.STICKER:return"status-sticker";case i.default.MSG_TYPE.CALL_LOG:switch(e.subtype){case"miss_video":case"miss_group_video":return"status-miss_video"}return"status-miss";case i.default.MSG_TYPE.PTT:return 4===e.ack?"status-ptt-blue":e.isSentByMe?"status-ptt-gray":"status-ptt-green";case i.default.MSG_TYPE.REVOKED:return"recalled-in";case i.default.MSG_TYPE.LOCATION:return e.isLive?(0,d.liveLocationIcon)(!1):"status-location";case i.default.MSG_TYPE.GROUPS_V4_INVITE:return u.default.supportsFeature(u.default.F.GROUPS_V_4_JOIN_PERMISSION)?"group":"status-unknown";case i.default.MSG_TYPE.PAYMENT:return"status-unknown";case i.default.MSG_TYPE.TEMPLATE:switch(e.subtype){case i.default.TEMPLATE_SUBTYPE.IMAGE:return"status-image";case i.default.TEMPLATE_SUBTYPE.VIDEO:return"status-video";case i.default.TEMPLATE_SUBTYPE.DOCUMENT:return"status-document";case i.default.TEMPLATE_SUBTYPE.LOCATION:return"status-location"}return"status-unknown"}return l.default.log(`chat:getClasses Invalid msg type:"${e.type}"`)(),"status-unknown"}(e),n=(0,a.default)(c.default.symbol,t,e.isRevoked?null:c.default.margin),r=e.paymentAmount1000&&e.paymentCurrency;return o.createElement("div",{className:n},e.type===i.default.MSG_TYPE.PAYMENT&&r?o.createElement(f.default,{currency:e.paymentCurrency,subtype:e.subtype,paymentStatus:e.paymentStatus,isCompact:!0}):o.createElement(h.default,{name:t}))}}]),t}();g.CONCERNS={msg:["ack","isGif","isLive","type","subtype","isRevoked","isSentByMe","paymentCurrency","paymentAmount1000","paymentStatus"]},g.displayName="MsgSymbol",t.default=(0,s.default)((0,p.default)(g,g.CONCERNS))},cicabfhdbb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMOJI_WIDTH=void 0;var r=O(n("dbafiicfja")),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=O(n("bbchdeehff")),s=n("dbgdaechch"),l=O(n("bhhdeihhhf")),c=O(n("djegeegcbf")),f=O(n("bggjbiacd")),d=O(n("chegeejfcg")),p=O(n("fifhbjiec")),h=O(n("dfbhcehadj")),m=O(n("jheedhagg")),b=O(n("dhfbfehaef")),g=n("gaifbabbj"),v=O(n("eceadcicaf")),y=O(n("fbjjefaic")),_=O(n("caffijjhc")),E=O(n("dadidajbgf")),j=n("eecehffbj");function O(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var M=t.EMOJI_WIDTH=parseInt(d.default["-emoji-width"].replace(/px$/,""),10),C=function(e){function t(){var e,n,a;S(this,t);for(var o=arguments.length,m=Array(o),v=0;v<o;v++)m[v]=arguments[v];return n=a=w(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(m))),a.state={selectedIndex:0,skinTonePicker:null},a.emojiList=null,a.rowLength=0,a.emojiPanelRef=i.createRef(),a.emojisRef=i.createRef(),a.windowResized=function(){var e=a.getEmojiRowLength();if(a.rowLength!==e){a.rowLength=e;var t=a.state.selectedIndex>=e?e-1:a.state.selectedIndex;a.setState({selectedIndex:t})}},a.onEmojiClick=function(e){if(N(e),e.target instanceof HTMLElement){var t=e.target.dataset.unicode;if(t)if(c.default.skinToneEmojis[t]){var n=a.getEmojiVariant(t);n?a.onEmoji(n):a.onContextMenu(e)}else a.onEmoji(t)}},a.onEmojiMouseDown=function(e){if(N(e),e.target instanceof HTMLElement){var t=e.target.dataset.unicode;t&&c.default.skinToneEmojis[t]&&a.startPickerTimer(e)}},a.onEmoji=function(e){a.props.onEmoji(e),a.releaseFocus()},a.releaseFocus=function(){a.props.onFocusRelease&&a.props.onFocusRelease()},a.getEmojiVariant=function(e){return c.default.skinToneEmojis[e]?h.default.getVariant(e):null},a.setEmojiVariant=function(e,t,n){N(e),a.onEmoji(n),h.default.setVariant(t,n);var r=a.props.uim;return r&&(r.pop(!1,!1),r.uie.requestDismiss()),!1},a.onContextMenu=function(e){if(N(e),e.target instanceof HTMLElement){var t=e.target.dataset.unicode;t&&c.default.skinToneEmojis[t]&&a._onContextMenu(t,e.target)}},a._onContextMenu=function(e,t,n){a.clearPickerTimer();var r=c.default.skinToneEmojis[e],o=j.SKIN_TONE_VARIATIONS.map(function(t){var n=c.default.variantToUnicode(r,t);return i.createElement(l.default,{type:"emoji",key:n,a8n:"mi-emoji-variant",action:function(t){return a.setEmojiVariant(t,e,n)}},i.createElement(p.default,{text:n,formatters:g.Configuration.LargeEmojiOnly(),tabIndex:"-1"}))});a.setState({skinTonePicker:{menu:o,anchor:t,type:"picker",dirX:s.DirX.RIGHT,dirY:s.DirY.TOP,horizontal:!0,autoFocus:n}},function(){var e=a.props.onSkinTonePicker;e&&e(!0)})},a.closeSkinTonePicker=function(){a.setState({skinTonePicker:null},function(){var e=a.props.onSkinTonePicker;e&&e(!1)})},a.clearPickerTimer=function(){null!=a.pickerTimer&&(a.props.clearTimeout(a.pickerTimer),a.pickerTimer=null)},a.startPickerTimer=function(e){N(e),a.clearPickerTimer();var t=e.target;if(t instanceof HTMLElement){var n=t.dataset.unicode;a.pickerTimer=a.props.setTimeout(function(){a.props.listeners.addOnce(u.default,"window_click",N),a._onContextMenu(n,t)},250),a.props.listeners.addOnce(window,"mouseup",a.clearPickerTimer,!0)}},a.getEmojiRowLength=function(){var e=a.emojiPanelRef.current&&a.emojiPanelRef.current.offsetWidth;return null==e?8:Math.floor(e/M)},a.onEmojiArrowLeft=function(e){a.onEmojiArrow(e,"left")},a.onEmojiArrowRight=function(e){a.onEmojiArrow(e,"right")},a.onEmojiArrow=function(e,t){if(N(e),e.target instanceof HTMLElement){var n=e.target.dataset.emojiIndex;if(n){n=Number(n);var r=a.props.emojiList,o=n;switch(t){case"left":n>0&&(o=n-1);break;case"right":if(n+1>=r.length)return;o=n+1}a.setState({selectedIndex:o})}}},a.renderEmojiList=function(e){var t=e,n=a.getEmojiRowLength();t&&t.length>n&&(t=t.slice(0,n));var o=(0,r.default)(t,function(e,t){var n=c.default.getUnicodeFromEmoji(e),r=a.getEmojiVariant(n),o=a.state.selectedIndex===t&&!a.state.skinTonePicker;return i.createElement(f.default,{element:"span",emoji:r||n,size:"large",key:n,"data-unicode":n,"data-variant":r,tabIndex:"-1","data-emoji-index":t,selected:o})});return i.createElement(b.default,{onMouseDown:a.onEmojiMouseDown,onClick:a.onEmojiClick,onContextMenu:a.onContextMenu},i.createElement("div",{className:d.default.panel,ref:a.emojisRef},o))},a.onEmojiEnter=function(e){if(N(e),e.target instanceof HTMLElement){var t=e.target.dataset.emojiIndex;if(t&&a.props.emojiList){var n=a.props.emojiList[Number(t)],r=c.default.getUnicodeFromEmoji(n);a.keyboardSelectEmoji(e,r)}}},a.keyboardSelectEmoji=function(e,t){if(c.default.skinToneEmojis[t]){var n=a.getEmojiVariant(t);if(n)a.onEmoji(n);else{if(N(e),!(e.target instanceof HTMLElement))return;a._onContextMenu(t,e.target,!0)}}else a.onEmoji(t)},w(a,n)}return P(t,i.Component),o(t,[{key:"componentDidUpdate",value:function(e,t){this.state.skinTonePicker&&this.state.skinTonePicker===t.skinTonePicker&&this.closeSkinTonePicker()}},{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(h.default,"add remove change:variant",function(){return e.forceUpdate()});var t=this.props.debounce(this.windowResized,100);this.props.listeners.add(window,"resize",t),this.windowResized()}},{key:"getEmojiAtIndex",value:function(e){return e>=0&&e<this.props.emojiList.length?c.default.getUnicodeFromEmoji(this.props.emojiList[e]):null}},{key:"getEmojiElement",value:function(e){if(!(e<0)&&this.emojisRef.current){var t=this.emojisRef.current.children;if(!(e>=t.length))return t[e]}}},{key:"render",value:function(){var e=void 0;return this.state.skinTonePicker&&(e=i.createElement(_.default,{displayName:"SkinTonePicker",popable:!0,escapable:!0,requestDismiss:this.closeSkinTonePicker},i.createElement(E.default,{tooltip:this.state.skinTonePicker}))),i.createElement("div",{ref:this.emojiPanelRef},this.renderEmojiList(this.props.emojiList),e)}},{key:"moveSelectionLeft",value:function(){this.setState({selectedIndex:Math.max(this.state.selectedIndex-1,0)})}},{key:"moveSelectionRight",value:function(){this.setState({selectedIndex:Math.min(this.state.selectedIndex+1,this.getEmojiRowLength()-1,this.props.emojiList.length-1)})}},{key:"pickSelectedEmoji",value:function(){var e=this.getEmojiAtIndex(this.state.selectedIndex);if(e)if(c.default.skinToneEmojis[e]){var t=this.getEmojiVariant(e);if(t)this.onEmoji(t);else{var n=this.getEmojiElement(this.state.selectedIndex);n&&this._onContextMenu(e,n,!0)}}else this.onEmoji(e)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{selectedIndex:Math.min(t.selectedIndex,e.emojiList.length-1)}}}]),t}();C.displayName="BaseEmojiSuggestionsPanel";var T=(0,m.default)((0,v.default)((0,y.default)(C))),A=function(e){function t(){return S(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P(t,T),o(t,[{key:"moveSelectionLeft",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).moveSelectionLeft()}},{key:"moveSelectionRight",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).moveSelectionRight()}},{key:"pickSelectedEmoji",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).pickSelectedEmoji()}}]),t}();function N(e){e&&(e.preventDefault(),e.stopPropagation())}t.default=A},cicdfhbegf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GROUP_ACTIONS=void 0,t.handleGroupAction=function(e,t,n){!function(e,t,n){var a=n.action;switch(n.action){case u.SUBJECT:var i={name:n.subject};return void e.contact.set(i);case u.ADD:case u.PROMOTE:case u.DEMOTE:var s="promote"===a,l=n.participants.map(function(e){return{id:e,isAdmin:s}});return e.groupMetadata.participants.add(l,{merge:!0}),void("add"===a&&n.participants.forEach(function(t){o.default.GroupMetadata.trigger(`group_participant_change_${t.toString()}`,e.id)}));case u.REMOVE:var c=e.groupMetadata;return n.participants.forEach(function(e){c.participants.remove(e)}),void n.participants.forEach(function(t){o.default.GroupMetadata.trigger(`group_participant_change_${t.toString()}`,e.id)});case u.MODIFY:if(t&&n.participants&&n.participants.length>0){var f=t,d=n.participants[0],p=e.groupMetadata.participants.remove(f),h=!1,m=!1;p&&p.length&&p[0]&&(h=p[0].isAdmin,m=p[0].isSuperAdmin);var b={id:d,isAdmin:h,isSuperAdmin:m};e.groupMetadata.participants.add(b)}return;case u.INVITE_CODE:return void(n.code?e.groupMetadata.inviteCode=n.code:r.default.error(`model:chat:handleGroupAction:invalid invite code: ${n.code} for ${e.id.toString()}`)());case u.DESC_ADD:return void e.groupMetadata.set({desc:n.desc,descId:n.descId,descTime:n.descTime,descOwner:t});case u.DESC_REMOVE:return void(e.groupMetadata.descId===n.descId&&e.groupMetadata.set({desc:void 0,descId:void 0,descTime:void 0,descOwner:void 0}));case u.RESTRICT:return void(e.groupMetadata.restrict=!!n.value);case u.ANNOUNCE:return void(e.groupMetadata.announce=!!n.value);case u.NO_FORWARD:return void(e.groupMetadata.noFrequentlyForwarded=!!n.value);case u.EPHEMERAL:return void(e.groupMetadata.ephemeralDuration=n.duration);default:;}}((0,a.unproxy)(e),t,n)};var r=i(n("bdiiahhjbe")),a=n("bheafeifce"),o=i(n("bhggeigghg"));function i(e){return e&&e.__esModule?e:{default:e}}var u=t.GROUP_ACTIONS=Object.freeze({SUBJECT:"subject",ADD:"add",PROMOTE:"promote",DEMOTE:"demote",REMOVE:"remove",MODIFY:"modify",INVITE_CODE:"invite",DESC_ADD:"desc_add",DESC_REMOVE:"desc_remove",RESTRICT:"restrict",ANNOUNCE:"announce",NO_FORWARD:"no_frequently_forwarded",EPHEMERAL:"ephemeral"})},cicgeajfge:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LazyLoadRetry=t.NoResultForLabel=t.LoadingWithText=t.Loading=t.ImageSearchEmpty=t.SearchingImages=t.BeforeImageSearch=t.DocMsgs=t.LinkMsgs=t.MediaMsgs=t.StarredMsgs=t.AllArchived=t.ListStatus=t.BeforeSearchMessages=t.ListGroups=t.ListChats=t.SearchMessagesUnavailable=t.SearchMessages=t.SearchGroups=t.SearchWithKeyword=t.SearchWithoutKeyword=t.SearchContacts=t.SearchingMessages=t.Searching=t.Search=t.Archived=t.Blocked=t.Empty=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=h(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=h(n("effbcehec")),u=h(n("dbdfbgehgj")),s=h(n("bbchdeehff")),l=h(n("fifhbjiec")),c=h(n("dfbcaibdjh")),f=h(n("bijffg")),d=h(n("becfabjeeg")),p=h(n("bfdcadbbif"));function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){var t=e.a8nText,n=e.a8nTitle,u=e.children,s=e.className,f=e.icon,d=e.text,p=e.theme,h=e.title,m=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["a8nText","a8nTitle","children","className","icon","text","theme","title"]),b=h?o.createElement("div",{"data-a8n":i.default.key(n),className:c.default.title},h):null,g=d?o.createElement("div",{"data-a8n":i.default.key(t),className:c.default.text},o.createElement(l.default,{text:d})):null,v=(0,a.default)(c.default.empty,s,{[c.default.compact]:"compact"===p});return o.createElement("div",r({className:v},m),f,b,g,u)};function b(){var e=n("cajbicccif");s.default.openDrawerLeft(o.createElement(e,null))}m.displayName="Empty",t.Empty=m,(t.Blocked=function(){var e=o.createElement("div",{className:c.default.icon},o.createElement(p.default,{name:"empty-blocked"}));return o.createElement(m,{icon:e,title:l10n.t(218),text:l10n.t(161),a8nTitle:"blocked-empty",a8nText:"add-blocked-description"})}).displayName="Blocked",(t.Archived=function(){var e=o.createElement("div",{className:c.default.icon},o.createElement(p.default,{name:"empty-archived"}));return o.createElement(m,{icon:e,title:l10n.t(183),a8nTitle:"archived-empty"})}).displayName="Archived",(t.Search=function(){return o.createElement(m,{className:c.default.emptyTop,text:l10n.t(980),a8nText:"search-no-chats-or-contacts"})}).displayName="Search",(t.Searching=function(){return o.createElement(m,{className:c.default.emptyTop,text:l10n.t(988),a8nText:"searching-chats-contacts-messages"})}).displayName="Searching",(t.SearchingMessages=function(){return o.createElement(m,{className:c.default.emptyTop,text:l10n.t(990),a8nText:"searching-messages"})}).displayName="SearchingMessages",(t.SearchContacts=function(){return o.createElement(m,{className:c.default.emptyTop,text:l10n.t(981),a8nText:"search-no-contacts"})}).displayName="SearchContacts",(t.SearchWithoutKeyword=function(){return o.createElement(m,{className:c.default.emptyTop,text:l10n.t(851),a8nText:"search-no-results-without-keyword"})}).displayName="SearchWithoutKeyword",(t.SearchWithKeyword=function(e){return o.createElement(m,{className:c.default.emptyTop,text:l10n.t(984,{keyword:e}),a8nText:"search-no-results-without-keyword"})}).displayName="SearchWithKeyword",(t.SearchGroups=function(){return o.createElement(m,{className:c.default.emptyTop,text:l10n.t(982),a8nText:"search-no-groups"})}).displayName="SearchGroups",(t.SearchMessages=function(){return o.createElement(m,{className:c.default.emptyTop,text:l10n.t(983),a8nText:"search-no-messages"})}).displayName="SearchMessages",(t.SearchMessagesUnavailable=function(){return o.createElement(m,{className:c.default.emptyTop,text:l10n.t(987),a8nText:"search-results-unavailable"})}).displayName="SearchMessagesUnavailable",(t.ListChats=function(){return o.createElement(m,{text:l10n.t(843),a8nText:"no-chats"})}).displayName="ListChats",(t.ListGroups=function(){return o.createElement(m,{text:l10n.t(846),a8nText:"no-groups"})}).displayName="ListGroups",(t.BeforeSearchMessages=function(e,t){var n=t?l10n.t(298,{chatName:e}):l10n.t(358,{chatName:e});return o.createElement(m,{className:c.default.emptyTop,text:n,a8nText:"chat-search-prompt"})}).displayName="BeforeSearchMessages",(t.ListStatus=function(){return o.createElement(m,null)}).displayName="ListStatus",(t.AllArchived=function(){var e=u.default.filter(function(e){return e.archive}).length;return o.createElement(m,{title:l10n.t(176),a8nTitle:"all-chats-archived"},o.createElement("div",{"data-a8n":i.default.key("see-archived"),role:"button",onClick:b,className:c.default.action},l10n.t(991,{count:e,_plural:e})))}).displayName="AllArchived",(t.StarredMsgs=function(){return o.createElement(m,{text:l10n.t(852),a8nText:"no-starred-messages"})}).displayName="StarredMsgs",(t.MediaMsgs=function(){return o.createElement(m,{text:l10n.t(848),a8nText:"no-media"})}).displayName="MediaMsgs",(t.LinkMsgs=function(){return o.createElement(m,{text:l10n.t(847),a8nText:"no-links"})}).displayName="LinkMsgs",(t.DocMsgs=function(){return o.createElement(m,{text:l10n.t(845),a8nText:"no-docs"})}).displayName="DocMsgs",(t.BeforeImageSearch=function(){return o.createElement(m,{text:l10n.t(599),a8nText:"image-search-prompt"})}).displayName="BeforeImageSearch",(t.SearchingImages=function(){return o.createElement(m,{text:l10n.t(989),a8nText:"searching-images"})}).displayName="SearchingImages",(t.ImageSearchEmpty=function(){return o.createElement(m,{text:l10n.t(598),a8nText:"image-search-no-results"})}).displayName="ImageSearchEmpty",(t.Loading=function(){return o.createElement(m,null,o.createElement(d.default,{size:50,stroke:4}))}).displayName="Loading",(t.LoadingWithText=function(e){var t=e.text;return o.createElement(m,null,o.createElement("div",{className:c.default.spinner},o.createElement(d.default,{size:50,stroke:4})),o.createElement(l.default,{element:"div",className:c.default.text,text:t}))}).displayName="LoadingWithText",(t.NoResultForLabel=function(e){var t=e.labelId,n=f.default.assertGet(t);return o.createElement(m,null,o.createElement(l.default,{element:"div",className:c.default.text,text:l10n.t(850,{labelName:n.name})}))}).displayName="NoResultForLabel",(t.LazyLoadRetry=function(e){var t=e.className,n=e.onClick;return o.createElement(m,{className:t,onClick:n},o.createElement(p.default,{name:"live-location-refresh"}),o.createElement("div",null,l10n.t(950)))}).displayName="LazyLoadRetry"},cicjcfabii:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=s(n("cahfddcdga")),u=s(n("bfifafibjc"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,u=Array(o),s=0;s<o;s++)u[s]=arguments[s];return n=a=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a._setRefObserver=function(e){a._refObserver=e,a.props.onRef&&a.props.onRef(e)},a.getScrollFromStart=function(){var e=a._refObserver;if(e)return"horizontal"===a.props.direction?e.scrollLeft:e.scrollTop},a.setScrollFromStart=function(e){var t=a._refObserver;t&&("horizontal"===a.props.direction?t.scrollLeft=e:t.scrollTop=e)},a._handleRegisterList=function(){var e=(0,i.default)(a._refObserver);a.props.flatListControllers.forEach(function(t){return t.triggerLayout({position:e.getBoundingClientRect(),width:e.clientWidth,height:e.clientHeight})})},a._handleScroll=function(e){var t=a.props,n=t.flatListControllers,r=t.onScroll;r&&r(e),n.forEach(function(e){return e.triggerScroll()})},a._handleResize=function(e){var t=a.props,n=t.flatListControllers,o=t.onLayout,u=(0,i.default)(a._refObserver),s=r({position:u.getBoundingClientRect()},e);n.forEach(function(e){return e.triggerLayout(s)}),o&&o(s)},l(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){var e=this;this.props.flatListControllers.forEach(function(t){return t.registerContainer({getScrollFromStart:e.getScrollFromStart,setScrollFromStart:e.setScrollFromStart,onRegisterList:e._handleRegisterList})})}},{key:"componentWillUnmount",value:function(){this.props.flatListControllers.forEach(function(e){return e.unregisterContainer()})}},{key:"render",value:function(){var e=this.props,t=e.children,n=(e.flatListControllers,e.onScroll,e.onLayout,e.onRef,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["children","flatListControllers","onScroll","onLayout","onRef"]));return o.createElement(u.default,r({},n,{onResize:this._handleResize,onScroll:this._handleScroll,onRef:this._setRefObserver}),t)}}]),t}();c.displayName="FlatListContainer",t.default=c},cicjibbhdb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.liveLocationIcon=function(e){var t="live-location";e&&(t+="-active");var n=function(){switch(o.default.platform){case a.PLATFORMS.ANDROID:case a.PLATFORMS.SMBA:return"android";case a.PLATFORMS.IPHONE:case a.PLATFORMS.SMBI:case a.PLATFORMS.IPAD:case a.PLATFORMS.IPOD:return"iphone";case a.PLATFORMS.WP7:return"wp";default:return""}}();n&&(t+="-"+n);return t};var r,a=n("bjigbaghc"),o=(r=a)&&r.__esModule?r:{default:r}},ciddcjeaij:function(e,t,n){"use strict";var r=g(n("iidhbgeed")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=g(n("djcchigfih")),u=g(n("djbhiedbef")),s=n("dajffajabh"),l=g(s),c=g(n("cdbcigcahd")),f=n("chcadgfgad"),d=g(f),p=g(n("cgfjebhhej")),h=g(n("cdjajhiedh")),m=g(n("djbfhebjhe")),b=n("dcbdjheea");function g(e){return e&&e.__esModule?e:{default:e}}var v=window.l10n,y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"renderContacts",value:function(){var e=this;return(0,r.default)(this.props.vCard.TEL,function(e){return e.properties.waid}).map(function(t){var n=(0,b.numberToWid)(t.properties.waid[0]);return o.createElement("div",{className:h.default.container,key:`vCard-${t.index}`},o.createElement(c.default,{title:(0,m.default)(n),onClick:function(){return e.onSelect(n)},icon:e.props.icon},p.default.getType(t)))})}},{key:"onSelect",value:function(e){this.props.onSelect(e)}},{key:"render",value:function(){return o.createElement(d.default,{type:f.BoxModalType},o.createElement(i.default,null,o.createElement(l.default,{onCancel:this.props.onCancel,type:s.DRAWER_HEADER_TYPE.POPUP,title:v.t(304)}),o.createElement(u.default,null,this.renderContacts())))}}]),t}();y.defaultProps={onCancel:function(){},onSelect:function(){}},y.displayName="VCardWAidChoiceModal",e.exports=y},cieaaiahhf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n("iffjgahba"),o=(r=a)&&r.__esModule?r:{default:r},i=n("cajijabhgb");var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,`File (${e.type()}) size = ${e.size()}`));return n.opaqueData=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,(0,o.default)("MediaFileTooLarge",i.MediaFileError)),t}();t.default=u},cieaeggjg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.MetaFrame=_;var a=b(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=b(n("cfadcbbiie")),u=b(n("bbchdeehff")),s=b(n("baagejbchg")),l=b(n("icghcjegh")),c=b(n("cedifchehj")),f=b(n("ihfccfgdf")),d=n("bheafeifce"),p=b(n("cgffcjcehg")),h=b(n("bfdcadbbif")),m=b(n("bcjcbbafcj"));function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=s.default.MSG_TYPE,y=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.openInfoDrawer=function(){u.default.msgInfoDrawer((0,d.unproxy)(r.props.msg))},g(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"render",value:function(){var e=this.props.msg,t=this.props.theme,n=[],r=(e.type===v.IMAGE||e.type===v.VIDEO)&&!e.caption||e.type===v.LOCATION&&!e.isLive&&!e.get("loc");if(e.star&&!e.isRevoked){var a=r?"star-light":e.isSentByMe?"star":"star-in";n.push(o.createElement(h.default,{name:a}))}if(e.broadcast){var u=r?"broadcast-light":"broadcast";n.push(o.createElement(h.default,{name:u}))}if(e.isEphemeral){var s=r?"timer-light":"timer";n.push(o.createElement(h.default,{name:s}))}var c=e.isSentByMe&&e.type!==v.REVOKED,f=c?o.createElement(p.default,{msg:this.props.msg}):null,d=e.labels&&e.labels.length>0?o.createElement(l.default,{labels:e.labels,showName:!1}):null;return o.createElement(_,{icons:n,labels:d,light:r,onClick:c?this.openInfoDrawer:null,status:f},"date"!==t?e.t?i.default.timestampStr(e.t):null:e.t?i.default.relativeStr(e.t):null)}}]),t}();function _(e){var t=e.icons&&e.icons.length>0?e.icons.map(function(e,t){return o.createElement("div",{className:c.default.icon,key:`icon-${t}`},e)}):null,n=e.labels?o.createElement("div",{className:c.default.labels},e.labels):null,r=e.status?o.createElement("div",{className:c.default.status},e.status):null,i=(0,a.default)(c.default.meta,{[c.default.metaLight]:e.light,[c.default.chromeFix]:m.default.os===s.default.OS_TYPE.MAC&&m.default.browser===s.default.BROWSER_TYPE.CHROME&&m.default.osVersion.includes("10.15")});return o.createElement("div",{className:i,onClick:e.onClick,role:e.onClick?"button":null},t,n,o.createElement("span",{className:c.default.timestamp,dir:"auto"},e.children),r)}y.CONCERNS={msg:["broadcast","caption","isEphemeral","isLive","isRevoked","isSentByMe","labels","star","t","type"]},y.displayName="Meta",_.displayName="MetaFrame",t.default=(0,f.default)(y,y.CONCERNS)},ciebcgbegd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=j(n("effbcehec")),i=j(n("jaigjeiig")),u=j(n("bbchdeehff")),s=j(n("baagejbchg")),l=j(n("djcchigfih")),c=j(n("djbhiedbef")),f=j(n("cabhjigfgc")),d=n("dajffajabh"),p=j(d),h=n("bidfjbaebi"),m=n("facgccaif"),b=j(n("fbdhjahjj")),g=j(n("ecbjchafdg")),v=n("bfbggcdbfb"),y=n("eagfdbhhhh"),_=j(n("bfebbjhgbh")),E=n("dfjhjafaab");function j(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var S=n("bjhdcidgah"),w={id:"animated-doodle",selector:`.${b.default.animation}`,low:{default:S},high:{default:S}},P=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=O(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.openTime=-1,r.actionsTaken=!1,r.onTOS=function(){r.actionsTaken=!0,(0,h.openExternalLink)((0,E.getTosUrl)())},r.onFAQ=function(){(0,h.openExternalLink)((0,m.getFaqUrl)()),r.logSessionEvent(v.CONTACT_US_EXIT_STATE.FAQ)},r.onContactUs=function(){u.default.openModal(a.createElement(_.default,{onCancel:r.onContactUsCancel,onSend:r.onContactUsSend}))},r.onSendNativeLogComplete=function(e,t){e?r.onContactUsSend():r.onContactUsCancel()},r.onContactUsCancel=function(){r.logSessionEvent(v.CONTACT_US_EXIT_STATE.PROBLEM_DESCRIPTION)},r.onContactUsSend=function(e){r.logSessionEvent(v.CONTACT_US_EXIT_STATE.EMAIL_SEND,e)},r.onKeyboardShortcuts=function(){u.default.openModal(a.createElement(g.default,null))},O(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){this.openTime=performance.now(),i.default.loadAsset(w)}},{key:"componentWillUnmount",value:function(){this.actionsTaken||this.logSessionEvent(v.CONTACT_US_EXIT_STATE.CANCELLED)}},{key:"logSessionEvent",value:function(e,t){var n=new v.ContactUsSession({contactUsExitState:e,contactUsT:Math.ceil(performance.now()-this.openTime)});t&&(n.contactUsAutomaticEmail=!0,n.contactUsProblemDescription=t.subject,n.contactUsScreenshotC=t.numScreenshots),n.commit(),this.actionsTaken=!0}},{key:"render",value:function(){return a.createElement(l.default,null,a.createElement(p.default,{a8n:"drawer-title-help",title:l10n.t(588),onBack:this.props.onClose,type:d.DRAWER_HEADER_TYPE.LARGE}),a.createElement(c.default,null,a.createElement("div",{className:b.default.animation}),a.createElement(y.SelectableDiv,{"data-a8n":o.default.key("version"),className:b.default.version,selectable:!0},l10n.t(1112,{version:""}),l10n.embedLTR(s.default.VERSION_STR)),a.createElement(f.default,{a8nText:"li-faq",onClick:this.onFAQ},l10n.t(1352)),void 0,a.createElement(f.default,{a8nText:"li-contact-us",onClick:this.onContactUs},l10n.t(1010)),a.createElement(f.default,{a8nText:"li-tos",onClick:this.onTOS},l10n.t(1059)),void 0,void 0))}}]),t}();P.displayName="HelpDrawer",t.default=P},cieccfhhib:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=n("eceadcicaf"),u=(r=i)&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=function(e){function t(){var e,n,r;s(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._setRefInput=function(e){r._refInput=e},r._handleClick=function(e){e.stopPropagation()},r._handleChange=function(e){r.props.onChange(e)},l(r,n)}return c(t,o.PureComponent),a(t,[{key:"open",value:function(){this._refInput&&this._refInput.click()}},{key:"render",value:function(){return o.createElement("input",{accept:this.props.mimes,ref:this._setRefInput,type:"file",multiple:!0,style:{display:"none"},onClick:this._handleClick,onChange:this._handleChange})}}]),t}();f.displayName="FilePicker";var d=(0,u.default)(f),p=function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return c(t,d),a(t,[{key:"open",value:function(){return function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).open()}}]),t}();t.default=p},ciefdgaafc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=n("hdccjfbbg"),u=f(i),s=f(n("bdfjbfgea")),l=f(n("eceadcicaf")),c=f(n("didfdhbecg"));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderPills=function(e){var t=n.props,a=t.useShortName,s=t.isDisabled,l=t.onDelete;return e.length?e.map(function(e){var t=s&&s(e.id)?null:{onDelete:l};return o.createElement(u.default,r({contact:e,useShortName:a},t,{type:i.Type.SMALL,key:e.id.toString(),theme:"list-names",waitIdle:!0}))}):null},n.props.listeners.add(n.props.selections,"all"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){this.forceUpdate()}},{key:"render",value:function(){return o.createElement(c.default,{transitionName:"slide-up-down-footer",className:s.default.selectedListContainer},this.renderPills(this.props.selections.getSelected()))}}]),t}();d.displayName="ContactSelectionPill",t.default=(0,l.default)(d)},ciehajbjae:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(e){return(e||"").trim().toLowerCase().split("\n").reduce(function(e,t){if(!t.trim())return e;var n=t.split(":"),a=r(n,2),o=a[0],i=a[1];return o=o.trim(),i=i.trim().replace(/;$/,""),e[o]?Array.isArray(e[o])?e[o].push(i):e[o]+=`, ${i}`:e[o]=i,e},{})}},cifgeeeece:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildHandshakePayload=function(e){return{__command:i.HANDSHAKE_COMMAND,__port:e}},t.extractPortFromHandshakePayload=function(e){if(null!=e&&null!=e.__command&&e.__command===i.HANDSHAKE_COMMAND&&null!=e.__port){(0,o.default)(e.__port instanceof MessagePort,"Malformed connection payload");var t=e.__port;return t}};var r,a=n("cgeeeeddea"),o=(r=a)&&r.__esModule?r:{default:r},i=n("cejbjjbged")},cifhabcfgj:function(e,t,n){"use strict";e.exports={SMILEYS_PEOPLE:[1531,1534,1535,1532,1537,1536,1533,1884,2409,1541,1538,1596,1597,1540,1543,1544,2060,1555,1554,1556,1557,1542,1558,1560,1559,1902,1900,2144,1829,1545,1901,2061,1546,1549,1561,1551,1562,1552,1595,2408,1566,1553,1573,2325,2336,1565,1575,1567,1563,1564,1904,1907,1581,2063,2064,1579,1571,1578,1568,1550,1833,1830,1905,1903,1886,1584,1547,1548,1574,1598,1577,1569,1570,1576,1580,1582,1885,1572,1583,1827,2062,1883,1906,1899,1585,2334,1831,1828,1881,1539,1181,1170,1171,1882,1273,1172,1182,2400,1179,1180,1832,429,1588,1586,1587,1589,1590,1591,1594,1593,1592,1925,759,1655,753,1868,741,747,723,2492,1857,1863,1874,2504,1880,1839,735,711,717,699,705,2399,2498,1851,1493,1505,729,1845,1279,1499,2510,1685,2115,2109,1213,1243,692,2116,693,685,691,777,679,677,2269,1521,778,779,1151,791,2156,785,1069,2150,932,1059,924,1058,923,1114,1115,1061,926,1060,925,2168,1145,2162,1139,1121,1132,1133,2174,1084,1085,1162,1163,1205,1206,1471,1472,1062,927,1038,897,1039,898,1040,899,1041,900,1043,902,1044,903,1052,917,1053,918,1054,919,1055,920,1042,901,1057,922,1064,929,1056,921,1063,928,1103,1943,1169,1937,2127,2128,2139,2140,1949,436,2221,2222,2263,2264,2240,2343,2265,2266,2267,2268,2251,2252,2233,2234,1178,1913,1919,1633,1634,1193,1194,1609,1610,1621,1622,1648,1649,1897,1898,1960,1961,1678,1679,1666,1667,1238,1239,1230,1231,2185,2186,1219,1931,1212,1482,1096,1097,1460,1776,1777,500,501,1071,1073,1072,1249,1066,930,1247,1068,931,1070,916,914,912,915,1048,1051,1049,1047,1050,908,911,909,907,910,1045,2315,1046,2313,2314,904,2312,905,2311,906,2290,2289,2273,2065,769,764,765,763,766,768,767,2068,775,2310,776,773,774,2067,2274,2272,2271,467,2270,761,450,2456,760,1245,772,770,771,1297,449,2287,762,1473,2066,304],ANIMALS_NATURE:[667,662,659,670,2309,2078,672,673,654,661,2070,660,668,674,669,666,1635,1636,1637,632,634,653,652,650,649,651,2074,2337,2077,2075,671,637,665,2073,643,641,2079,626,644,642,2099,2091,1474,1475,2071,648,627,2082,2090,2089,639,2085,2084,2098,2069,647,646,645,658,664,625,2076,624,620,621,2087,2081,638,2095,2083,656,657,2086,2092,618,617,619,628,636,629,631,2093,630,2080,635,655,622,633,2072,2094,2096,2102,1425,2308,2097,2101,616,615,676,2088,675,623,663,353,430,350,351,352,349,363,2393,364,444,442,367,366,365,368,640,362,1248,355,357,2013,358,356,360,359,332,331,329,330,328,323,324,325,326,319,320,321,322,327,316,315,317,1280,2542,333,2517,2443,2388,1269,1399,342,310,2384,336,2452,337,2385,338,339,2453,341,340,2520,2387,2451,344,1272,1271,1270,2391,2386,312,343],FOOD_DRINK:[379,378,2303,374,375,376,373,371,382,372,381,380,2057,377,2049,2041,369,370,2029,2050,2056,2030,354,361,2033,2032,395,2028,2059,393,2034,2052,2141,2038,414,2042,2031,2053,386,385,2103,345,383,394,384,2054,2037,346,347,2035,2036,2055,392,391,413,390,398,412,2043,399,388,389,387,400,2044,2058,397,396,402,403,401,2051,2142,411,2304,409,408,407,406,426,404,405,348,2040,410,2039,423,2392,416,2048,417,421,422,2015,418,2016,419,420,425,2017,415,424,2047,2045,2046,2143],ACTIVITY:[2449,487,522,2450,2026,2307,563,523,2027,475,566,607,565,564,2025,562,2018,2464,608,461,2022,2023,485,1826,1824,2468,2024,486,2467,489,546,547,1987,1988,1972,1973,2479,2480,1986,2011,2012,558,559,521,2209,2210,512,513,534,535,1999,2e3,2331,1725,2197,2198,1764,1765,1752,1753,515,2019,2020,2021,514,451,605,452,469,457,468,1984,1985,471,466,470,462,465,484,481,2014,2305,482,2306,483,476,2424,473,477,472,474,2277],TRAVEL_PLACES:[1709,1707,1711,1698,1700,561,1705,1703,1704,1702,1712,1713,1714,1822,1740,1823,560,1730,1706,1699,1710,1708,2332,1718,1717,1689,1697,1716,1715,1690,1691,1694,1688,1692,1693,1696,1695,2485,1818,1819,1817,1295,1820,1686,1825,1687,2333,2466,1726,1816,1821,2465,1719,2434,2482,1729,1728,1727,1701,1525,1530,1528,1527,595,594,578,459,460,458,2463,2462,569,576,575,313,2461,567,1526,568,2481,579,580,571,573,570,592,581,591,582,583,584,585,587,589,590,588,1250,574,2460,1427,1428,1426,2459,1815,1814,1529,448,577,307,306,334,438,437,309,308,572,305,314,311,303],OBJECTS:[2357,1350,2320,1296,2359,1507,1508,1509,1510,1476,1518,1298,1299,1300,1301,1360,1355,1356,1357,463,1361,456,1331,2389,1332,1333,1358,1359,453,454,455,2281,2374,2369,2368,2323,2358,2370,1334,1374,1375,1265,1400,1453,2283,1813,1293,1290,1289,1291,1292,1285,1288,1246,2437,2284,1401,1402,2433,1811,2455,1403,2439,2285,2457,2286,1405,1267,2276,1404,1520,2435,1812,1734,2447,2448,609,1408,1362,2299,1240,2438,1407,1406,1454,1242,1241,2280,2100,2279,2278,335,2293,2294,2295,1784,1738,1786,1793,1792,2296,2297,2288,1806,1380,1519,1732,1798,1807,1804,2292,1511,1805,1810,428,439,446,427,441,440,445,593,447,2275,2486,1342,1341,1340,1244,1338,1337,1339,606,1343,1344,1345,1346,1347,1348,1329,1304,1305,1318,2298,1311,1309,1310,1516,1517,1307,1306,1515,1308,1513,1524,1514,1312,1302,1303,1512,2324,1349,1320,1321,1319,1322,1324,1325,1326,1327,1323,1385,2291,1386,1315,1483,1317,1316,2282,1313,1314,2483,1484,1485,2512,1486,1487,1330,2511,1376,1377,1378,1379,1381,1382],SYMBOLS:[2529,2344,1259,1258,1257,1260,1506,1252,2528,1253,1262,1251,1255,1254,1256,1261,1263,2405,2515,2404,1424,2407,2516,1409,2322,2406,2403,1808,2454,2412,2413,2414,2415,2416,2417,2418,2419,2420,2421,2422,2423,25,2440,301,2401,2402,1352,1351,295,289,297,299,296,2519,31,1283,300,2548,2547,293,294,298,291,17,18,21,22,19,29,2522,2543,1809,2458,1328,1733,1284,1266,2429,1778,1737,1741,1739,1392,1353,1735,2527,2526,2524,2525,2345,2346,1368,1369,2546,2442,1779,1411,2441,1410,2430,2484,290,1294,2521,2518,2523,318,1264,2375,302,1268,586,1785,2432,20,292,288,1794,1795,1796,1797,1780,1781,1783,1782,1736,464,1354,287,1397,2348,1398,1395,1394,27,28,30,23,26,24,3,4,5,6,7,8,9,10,11,12,1393,1396,1,2,2360,2378,2371,2367,2372,2373,2365,2366,2361,2362,2363,2364,2379,1422,1423,2533,2544,2538,2539,2352,2353,2354,2351,2350,2349,2356,2355,2536,2537,1363,1364,1365,1367,1366,479,480,2530,2531,2532,2514,2431,1287,1286,2347,13,14,678,1388,2321,1389,1391,1390,2545,2534,2535,2513,2390,1387,2445,2446,1414,1415,1420,1421,1418,1419,1416,1417,1413,1412,2376,2377,2383,2382,2381,2380,2540,2541,1371,1370,1372,1373,1383,1384,1336,1335,1281,1282,1523,2425,2426,2427,2428,16,478,15,1429,1430,1431,1432,1433,1434,1435,1436,1437,1438,1439,1440,1441,1442,1443,1444,1445,1446,1447,1448,1449,1450,1451,1452],FLAGS:[598,604,599,488,1731,596,597,268,35,47,38,96,43,33,40,37,41,36,42,39,46,45,44,48,64,55,51,50,68,52,69,57,59,65,61,49,67,63,141,275,60,54,53,56,152,79,70,136,85,62,158,73,250,78,80,87,71,81,2302,74,72,77,83,76,133,84,86,88,89,93,92,94,95,98,100,244,123,102,99,104,105,108,109,107,106,110,115,209,251,111,120,114,90,117,118,124,119,113,122,127,126,116,121,128,129,134,132,130,135,144,140,137,143,142,138,2301,139,145,147,149,443,146,148,159,150,153,281,157,151,160,169,161,166,165,170,163,167,168,182,178,176,190,192,189,179,187,177,184,185,188,283,191,2300,173,172,181,174,186,171,193,180,194,203,202,200,195,205,199,196,198,204,197,155,183,201,206,212,219,217,207,210,220,208,211,215,213,218,216,221,222,223,225,226,280,238,243,227,239,224,229,237,232,245,236,234,125,228,240,284,156,242,103,164,58,233,154,162,214,273,230,241,247,231,75,246,263,254,264,253,256,252,255,259,261,258,260,257,249,262,276,266,265,34,112,600,601,602,269,603,270,271,278,272,274,277,279,101,282,285,286]}},cificacaii:function(e,t){e.exports={header:"_1mJpB",photo:"_1Z4e7",text:"_3K8QZ",name:"_1zc7y",description:"_1S1xi",spinner:"_160a0",img:"_1IGJ4"}},cifjfjfegc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediaThumb=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=p(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=p(n("djiibcjggg")),u=p(n("cfadcbbiie")),s=p(n("eceadcicaf")),l=p(n("bffjfbgbg")),c=p(n("cafgbeeihg")),f=p(n("bbjadhadbg")),d=p(n("bfdcadbbif"));function p(e){return e&&e.__esModule?e:{default:e}}var h=t.MediaThumb=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.setRefImg=function(t){e.img=t},e.setRefContainer=function(t){e.container=t},e.onSelectClick=function(t){e.props.onMessageSelect&&e.props.onMessageSelect(e.props.msg,!e.props.selected)},e.onMouseOver=function(t){e.state.hover||e.setState({hover:!0})},e.onMouseEnter=function(t){e.state.hover||e.setState({hover:!0})},e.onMouseLeave=function(t){e.state.hover&&e.setState({hover:!1})},e._renderImgNode=function(t,n,r,a){return e.props.onDragStart?o.createElement("div",{className:t,style:n,onClick:e.props.onClick||null,ref:e.setRefImg,onDragStart:e.props.onDragStart,draggable:!0},a,r):o.createElement("div",{className:t,style:n,onClick:e.props.onClick||null,ref:e.setRefImg},a,r)},e._renderImg=function(){var t=e.props,n=t.msg.mediaData,r=t.preferPreview,a=void 0,i=void 0,u=void 0;switch(e.props.msg.star&&n.type!==l.default.TYPE.AUDIO&&(u=o.createElement("div",{className:c.default.shade})),n.type){case l.default.TYPE.AUDIO:return a=`${c.default.mediaCanvas} attach-media-audio-thumb`,e._renderImgNode(a,i,u);case l.default.TYPE.VIDEO:return u=o.createElement("div",{className:c.default.shade}),a=n.isGif?n.preview?c.default.mediaCanvas:`${c.default.mediaCanvas} media-video-thumb`:c.default.mediaCanvas,n.preview&&(i={backgroundImage:`url("${n.preview.url()}")`}),e._renderImgNode(a,i,u);case l.default.TYPE.IMAGE:a=c.default.mediaCanvas;var s=function(t){var r=null!=t?o.createElement("div",{className:a,style:{backgroundImage:`url(${t})`}}):null;return e._renderImgNode(a,n.preview?{backgroundImage:`url(${n.preview.url()})`}:null,u,r)},d=function(){return n.preview?s(null):e._renderImgNode(a,null,u)};return r?d():o.createElement(f.default,{mediaData:n,placeholderRenderer:d},s);default:return e._renderImgNode(a,i,u)}},e._renderIcon=function(){var t=e.props.msg.mediaData;switch(t.type){case l.default.TYPE.AUDIO:return o.createElement("div",{className:c.default.iconType},o.createElement(d.default,{name:"msg-audio-light"}));case l.default.TYPE.VIDEO:return t.isGif?o.createElement("div",{className:c.default.iconType},o.createElement(d.default,{name:"msg-gif-light"})):o.createElement("div",{className:c.default.iconType},o.createElement(d.default,{name:"msg-video-light"}));default:return null}},e._renderDuration=function(){var t=e.props.msg.mediaData;switch(t.type){case l.default.TYPE.AUDIO:return o.createElement(m,{duration:t.duration});case l.default.TYPE.VIDEO:return t.isGif?null:o.createElement(m,{duration:t.duration});default:return null}},e.state={hover:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(this.props.msg.mediaData,"change:preview"),this.props.listeners.add(this.props.msg,"change:star"),this.props.imgRef&&this.props.imgRef(this.img),this.props.containerRef&&this.props.containerRef(this.container)}},{key:"componentDidUpdate",value:function(){this.props.imgRef&&this.props.imgRef(this.img),this.props.containerRef&&this.props.containerRef(this.container)}},{key:"componentWillUnmount",value:function(){this.props.imgRef&&this.props.imgRef(null),this.props.containerRef&&this.props.containerRef(null)}},{key:"render",value:function(){var e=this.props,t=e.selectable,n=e.theme,r=e.active,u=this.props.selected||!1,s=void 0;(t||this.state.hover)&&(s=o.createElement("div",{className:c.default.mediaSelect},o.createElement("div",{className:c.default.shadeTop,onClick:this.props.onClick||null}),o.createElement(i.default,{onChange:this.onSelectClick,hover:this.state.hover,checked:u})));var l=null,f=null,p=null;this.props.hoverEvent&&(l=this.onMouseOver,f=this.onMouseEnter,p=this.onMouseLeave);var h=(0,a.default)(this.props.classes,c.default.canvasComponent,{[c.default.canvasSelected]:u,[c.default.canvasSecondRow]:"hideableSecondRow"===n,[c.default.viewerFlow]:"viewerFlow"===n||"viewerFlowTransparent"===n,[c.default.viewerFlowTransparent]:"viewerFlowTransparent"===n,[c.default.active]:!0===r});return o.createElement("div",{ref:this.setRefContainer,className:h,onMouseOver:l,onMouseEnter:f,onMouseLeave:p},s,o.createElement("div",{className:c.default.canvasBody},this._renderIcon(),this._renderDuration(),this.props.msg.star?o.createElement("div",{className:c.default.iconStar},o.createElement(d.default,{name:"star-light"})):null),this._renderImg())}}]),t}();function m(e){var t=e.duration,n=u.default.durationStr(t);return n?o.createElement("span",{className:c.default.mediaCanvasDuration},n):null}h.displayName="MediaThumb",t.default=(0,s.default)(h)},cigbgdjabj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("bjbdcigbdi")),i=s(n("ichcjagij")),u=s(n("icghcjegh"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,s=Array(o),c=0;c<o;c++)s[c]=arguments[c];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.renderLabel=function(){var e=r.props.labels;if(e)return e.map(function(e,t){return a.createElement("div",{key:t,className:i.default.labelRow},a.createElement(u.default,{labels:[e],showName:!0}))})},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){return this.props.labels&&o.default.supportsFeature(o.default.F.LABELS_DISPLAY)?a.createElement("div",{className:i.default.labelContainer},this.renderLabel()):null}}]),t}();c.displayName="InfoDrawerLabelWell",t.default=c},cigddfbici:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=b(n("dbdfbgehgj")),i=b(n("bbchdeehff")),u=b(n("biddiiafgd")),s=b(n("dhigahgdjb")),l=n("ddjgcfjicj"),c=b(n("bcbahjefec")),f=b(n("bjbdcigbdi")),d=b(n("bfcjfjfjjj")),p=b(n("becfabjeeg")),h=b(n("bihdhbjih")),m=n("dcbdjheea");function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r._cancel=function(){r._queryChatPromise&&r._queryChatPromise.cancel(),r._queryChatPromise=void 0,r.end()},r.error=function(e){r.push(a.createElement(u.default,{onOK:function(){return r.end()},okText:l10n.t(1287)},l10n.t(748)))},g(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default),r(t,[{key:"componentDidMount",value:function(){var e=this;this.push(a.createElement(u.default,{title:l10n.t(1031),onCancel:this._cancel,cancelText:l10n.t(1153)},a.createElement("div",{className:d.default.spinner},a.createElement(p.default,{stroke:6,size:24})))),this._queryChatPromise=this.queryChat().cancellable().then(function(e){return o.default.find(e)}).then(function(t){e.props.onSuccess(t),e.openChat(t),e.end()}).catch(Promise.CancellationError,function(){}).catch(this.error)}},{key:"queryChat",value:function(){var e=this.props.phone,t=(0,m.createWid)(e.slice(1));return s.default.get(t)?Promise.resolve(t):h.default.queryExist(e).then(function(e){return 200===e.status?(f.default.supportsFeature(f.default.F.QUERY_VNAME)&&e.biz&&h.default.queryVname(e.jid).catch(l.WapDrop,function(){}),e.jid):Promise.reject("Invalid number")})}},{key:"openChat",value:function(e){var t=this.props.msgText;e.active&&t?i.default.pasteChatTextInput(e,t):(t&&e.setComposeContents({text:t}),i.default.openChatFromUnread(e).then(function(t){t&&i.default.focusChatTextInput(e)}))}}]),t}();v.defaultProps={removeTopDrawer:!0,pushTransition:"none",popTransition:"none"},t.default=v},ciggibedij:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryServerProps=function(){var e=void 0;e=r.default.supportsFeature(r.default.F.MD_BACKEND)?Promise.reject(new Error("Should not reach here")):a.default.queryServerProps();return e};var r=o(n("bjbdcigbdi")),a=o(n("bihdhbjih"));function o(e){return e&&e.__esModule?e:{default:e}}},cighigadh:function(e,t){e.exports={msg:"FTBzM",msgContinuation:"_4jEk2",msgSystem:"_3CGDY",message:"_1zGQT",messageBackground:"_2Wx_5",messageTransparent:"a81-s",tailOverrideHide:"PJFFv",messageSystem:"a7otO",messageChat:"_2ugFP",messageCode:"_3kab4",messageE2ENotification:"S-bQb",messageBizNotification:"_1LwB5",messagePlaceholder:"_28d1E",msgGallery:"_3RxKY",messageAudio:"_1uSEj",messageDocument:"oty3x",messageImage:"_26GKj",messageProduct:"nt61F",messageMultiVcard:"_2HP6E",messagePTT:"xPyAe",messagePtt:"xPyAe",messageSticker:"ossEC",messageVcard:"_1ikYm",messageGif:"_2lXrM",messageVideo:"_1hLcX",messageLocation:"_2qxEJ",messageLiveLocation:"_3Vhqk",msgInfo:"_2DWMU",messageHidden:"_2Bze7",msgContainer:"_2WL0u",btnForward:"gxf3C",msgPSA:"_3ZL2B",msgPsa:"_3ZL2B",messageVideoLinkPreview:"wsR1v",placeholder:"_1wS8b",gridContainer:"_1b0ym",author:"_3892J",forwarded:"KD5D6",albumBubbleContainer:"O4QF8",forwardedIndicator:"_1JrqU",hasAuthor:"SCGVi",authorForward:"_11U8j",groupStickerContainer:"hvF75",singleGroupedStickerContainer:"g-0Fi",groupStickerAuthor:"_3tMyP",transparent:"_3aoog",hasBorderBox:"_3LG3B",hasUrlCallButtons:"BXXBZ"}},cihcggiidc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=S(n("dhbceejbjg")),i=S(n("baagejbchg")),u=S(n("dhhfaeacef")),s=S(n("djcchigfih")),l=S(n("djbhiedbef")),c=n("dajffajabh"),f=S(c),d=S(n("fifhbjiec")),p=S(n("begjfegacj")),h=S(n("fffdgbfji")),m=S(n("chcadgfgad")),b=S(n("dfigcajgai")),g=S(n("dhefcajhhb")),v=S(n("bjbedjfe")),y=S(n("cdjhjdcbeg")),_=S(n("bfdcadbbif")),E=S(n("hfhhcchgj")),j=S(n("didfdhbecg")),O=S(n("bjieiiccce"));function S(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var P=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=w(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={isBusy:!1,inviteComment:h.default.t(552)},r.setRefParticipantList=function(e){r.refParticipantList=e},r.onClose=function(){(0,r.props.onClose)()},r.getGroupThumbBase64=function(){var e=r.props.gid,t=g.default.get(e);return new Promise(function(e,n){t&&t.img?O.default.get(t.img,O.default.RESP_TYPE.BLOB).then(function(t){if(200===t.status){var n=new FileReader;n.onloadend=function(){var t=n.result;if(null!=t){var r=t.toString().split(",")[1];e(r)}else e(void 0)},n.readAsDataURL(t.response)}else e(void 0)}).catch(function(){return e(void 0)}):e(void 0)})},r.onSend=function(){var e=r.props.onSend,t=r.state.inviteComment;r.getGroupThumbBase64().then(function(n){e(t,n)})},r.onInviteCommentChange=function(e){r.setState({inviteComment:e})},r.setRefEmojiInput=function(e){r.refEmojiInput=e},w(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=a.createElement(y.default,{a8nText:"group-participants-btn",large:!0,onClick:this.onSend},a.createElement(_.default,{name:"send-light",directional:!0})),t=a.createElement(u.default,{id:this.props.gid}),n=a.createElement(d.default,{text:this.props.subject});return a.createElement(m.default,{type:"invite"},a.createElement(s.default,{theme:"invite"},a.createElement(f.default,{type:c.DRAWER_HEADER_TYPE.POPUP,title:h.default.t(560),onCancel:this.onClose}),a.createElement(l.default,null,a.createElement("div",{className:p.default.search},a.createElement("div",{"data-list-scroll-container":!0},a.createElement(b.default,{ref:this.setRefParticipantList,theme:"list-names",contacts:this.props.participants.map(function(e){return e.contact})}))),a.createElement("div",{className:p.default.commentInput},a.createElement(E.default,{ref:this.setRefEmojiInput,value:this.state.inviteComment,showRemaining:!0,maxLength:i.default.MAX_CAPTION_LENGTH,onChange:this.onInviteCommentChange,theme:"v4-invite-caption",supportsEmoji:!0})),a.createElement(j.default,{transitionName:"btn",className:p.default.onSendInvite},e),a.createElement("div",{className:p.default.groupInfo},a.createElement(o.default,{idle:!0,image:t,primary:n,secondary:h.default.t(557),theme:"group_v4_invite"})))))}}]),t}();P.displayName="GroupV4InviteAddComment",t.default=(0,v.default)(P)},ciheehhei:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=p(n("bbchdeehff")),u=p(n("biddiiafgd")),s=n("bidfjbaebi"),l=p(s),c=n("facgccaif"),f=p(n("bcijeefgje")),d=n("chhhffajfi");function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.onOK=function(){i.default.closeModal()},r.onCancel=function(){var e=r.props.link.href;(0,s.openExternalLink)(e),i.default.closeModal()},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),a(t,[{key:"renderHostname",value:function(){var e=this.props.link,t=e.suspiciousCharacters,n=e.domain.split("."),r=[];return n.forEach(function(e,a){var i=!1,u=e.split("").map(function(e,n){var r=t&&t.has((0,d.codePointAt)(e,0));i=r||i;var u=r?f.default.suspiciousCharacter:void 0;return o.createElement("span",{key:`${a}-${n}-${e}`,className:u},e)}),s=i?f.default.suspiciousHostname:void 0,l=o.createElement("span",{key:`${a}-${e}`,className:s},u);r.push(l),a+1!==n.length&&r.push(o.createElement("span",{key:`${a}`},"."))}),r}},{key:"render",value:function(){var e=this.props.link,t=e.href,n=e.domain,a=t.split(n),i=r(a,2),s=i[0],d=i[1];return o.createElement(u.default,{title:l10n.t(1053),okText:l10n.t(1153),cancelText:l10n.t(1055),onOK:this.onOK,onCancel:this.onCancel},o.createElement("div",{className:f.default.explanation},l10n.t(1056)+" ",o.createElement(l.default,{href:(0,c.getSuspiciousLinkFaqUrl)()},l10n.t(622))),o.createElement("div",{className:f.default.url},s,this.renderHostname(),d))}}]),t}();m.displayName="SuspiciousLinkPopup",t.default=m},cihffbbgjc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendConversationPin=function(e,t,n){return o.default.sendConversationPin(e,t,n).then(function(n){return r.default.supportsFeature(r.default.F.MODEL_STORAGE)&&200===n.status&&!n._duplicate?a.Chat.merge(e.toString(),{pin:t}).then(function(){return n}):n})};var r=i(n("bjbdcigbdi")),a=n("cefcddgdgg"),o=i(n("bihdhbjih"));function i(e){return e&&e.__esModule?e:{default:e}}},cihhicgaca:function(e,t){e.exports={textThumb:"_25_R-",statusImage:"_39J1B",container:"_20CJh"}},cihiahfgbc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n("eaaagccfda")),a=h(n("iidhbgeed")),o=h(n("dbafiicfja")),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),s=n("iaibjaeb"),l=h(s),c=n("cicgeajfge"),f=h(n("dgjddffcfg")),d=h(n("dfjibhjhde")),p=h(n("dcaibchbg"));function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onSelect=function(e,t){if(t instanceof s.Mode){var r=t.props.chat;!0===n.props.filter(r)&&n.props.onGroup(t.props.chat)}},n.onSearch=(0,r.default)(function(e){n.setState({searchText:e})},100),n.renderItem=function(e){var t=n.props,r=t.onGroup,a=void 0,o=void 0,i=(0,t.filter)(e.chat),c="boolean"!=typeof i;return c&&(a=i,o="group-modal"),u.createElement(l.default,{chat:e.chat,contact:e.chat.contact,mode:s.Mode.INFO,active:n.selection,secondary:a,noContext:!0,theme:o,onClick:c?void 0:r.bind(null,e.chat)})},n.selection=new p.default,n.state={loading:!0,searchText:void 0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),i(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this,t=this.props.chats;Promise.delay(300).then(function(){return Promise.all((0,o.default)((0,a.default)(t,function(e){return e.groupMetadata.stale}),function(e){return n("djaadchjch").update(e.groupMetadata.id).catch(function(){})}))}).then(function(){return e.setState({loading:!1})})}},{key:"getData",value:function(){var e=this.props,t=e.chats,n=e.filter,r=this.state,a=r.loading,o=r.searchText;if(a)return[];var i=l10n.accentFold(o),u=f.default.numberSearch(i),s=t.filter(function(e){return n(e)&&(!i||i&&e.contact.searchMatch(i,u))});return this.selection.init(s.filter(function(e){return!0===n(e)}).map(function(e){return e.id})),s.map(function(e){return{chat:e,itemKey:e.id.toString()}})}},{key:"render",value:function(){var e=this.props.onCancel,t=this.state.loading?u.createElement(c.Loading,null):u.createElement(c.SearchGroups,null);return u.createElement(d.default,{title:l10n.t(1255),data:this.getData(),renderItem:this.renderItem,emptyState:t,selection:this.selection,onSearch:this.onSearch,searchPlaceholder:l10n.t(978),onSelect:this.onSelect,onCancel:e})}}]),t}();m.defaultProps={filter:function(){return!0}},m.displayName="GroupsModal",t.default=m},cihjadddhc:function(e,t){e.exports={container:"_1XANn",media:"_2vDTu",document:"_10zRs",text:"Cltyv",icon:"_3YCc3"}},ciibfajghc:function(e,t,n){"use strict";var r=s(n("digcccheca")),a=s(n("jjjdieajj")),o=s(n("ebgjhfacdb")),i=s(n("bidcddiaag")),u=s(n("decdhbjfjc"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=n("bcjcbbafcj").isTrident,f=25,d="/",p={Enter:o.default.ENTER,Tab:o.default.TAB,ArrowUp:o.default.UP,ArrowDown:o.default.DOWN,Backspace:o.default.BACKSPACE},h=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.handleSelect=function(e){e.useOnce();var t=window.getSelection(),n=m(r.ctx,t);void 0!==n&&((0,u.default)(t,n.length+1),r.ctx.replaceSelection(e.message),(0,u.default)(t,e.message.length),r.handle(o.default.INACTIVE))},r.handlers={onKeyDown(e,t){var n=p[e.key];return!!n&&this.handle(n,[e,t])},onSelect(e,t){if(c)return!1;if(this.ctx.isComposing)return!1;var n=window.getSelection(),r=m(this.ctx,n);return void 0===r?(this.handle(o.default.INACTIVE),!1):(this.handle(o.default.FILTER,[r]),!1)},onBlur(){return this.handle(o.default.INACTIVE),!1}},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),t}();function m(e,t){var n="",r=!1,o=!0;return(0,i.default)(e,t,function(e,t,i){return r?(u=e,o=Boolean(a.default[u])||b.test(u),!0):n.length>f||void((r=e===d)||(n=e+n));var u}),r&&o?n:void 0}var b=/\W/;e.exports=new h},ciifehaief:function(e,t){e.exports={container:"_2ndBv",clickable:"_3UFi3",caption:"_3FeE8",author:"_3Qug7",meta:"_1L1b-",hasCaption:"_21klb",actionButton:"_1B0oP",thumb:"_3qW--",avatar:"_2rdru",map:"uTFa6",overlay:"_2qCGf",expired:"aJedp",thumbBody:"_1NZVj",quote:"_23sdy",status:"_3C3Pi",statusIcon:"_149ps",statusText:"_2ofvs",stopLocation:"_2SLZ5",viewLocation:"zPczZ",hidden:"_3upOq"}},cijaehcdg:function(e,t,n){"use strict";e.exports=function(e){return!e.getModifierState("Shift")&&!e.getModifierState("Alt")&&!e.getModifierState("Control")}},cijhadicdb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("dcbcechchi")),i=s(n("becfabjeeg")),u=s(n("bfdcadbbif"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props.direction,t=void 0,n=void 0,r=void 0;if("earlier"===e&&this.props.isLoadingEarlierMsgs||"recent"===e&&this.props.isLoadingRecentMsgs||"around"===e&&this.props.isLoadingAroundMsgs)t=a.createElement(i.default,{stroke:6,size:24,color:"highlight"}),n=l10n.t(662);else{switch(e){case"earlier":n=l10n.t(659);break;case"recent":n=l10n.t(660);break;default:n=l10n.t(662)}t=a.createElement("div",{className:o.default.icon},a.createElement(u.default,{name:"refresh"})),r=this.props.loadMoreMsgs}return a.createElement("div",{className:o.default.wrapper},a.createElement("div",{className:o.default.button,title:n,onClick:r},t))}}]),t}();l.displayName="LoadMoreMessages",t.default=l},cijhchjfjc:function(e,t){e.exports={preview:"HNuTV",bubbleIn:"Lhd3q",bubbleOut:"_2nZ2E",title:"_2IHkF",description:"_3JxFB",source:"_23MBZ",body:"_2a6mc",noThumb:"D_Fkg",thumbnailWrapper:"h6D8Z",thumbnail:"WGJYh",youtubeThumbnail:"pCs82",thumbnailPlaceholder:"_1RKID",mediaStateControlsWrapper:"_2QYdY",attribution:"_2W5M3"}},cijihedhb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("dhhfaeacef"),i=f(n("fifhbjiec")),u=f(n("bhheahajjg")),s=f(n("cificacaii")),l=f(n("ihfccfgdf")),c=f(n("eedjbihej"));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"renderDescription",value:function(){var e=this.props.businessProfile;return e&&e.description?a.createElement("div",{className:s.default.description},a.createElement(i.default,{text:e.description,direction:"auto",selectable:!0,titlify:!0})):null}},{key:"renderPicture",value:function(){var e=this.props,t=e.profilePicThumb,n=e.contact;if(!t)return null;var r=(0,o.getDefaultIcon)(n.id);return a.createElement("div",{className:s.default.photo},a.createElement(o.DetailImageCommon,{profilePicThumb:t,loader:!0,defaultIcon:r,profilePicThumbImg:t.imgFull,spinnerClassName:s.default.spinner,imgClassName:s.default.img,theme:"business"}))}},{key:"render",value:function(){var e=this.props.contact;return a.createElement("div",{className:s.default.header},this.renderPicture(),a.createElement("div",{className:s.default.text},a.createElement(c.default,{block:!0,className:s.default.name,theme:"large"},a.createElement(u.default,{contact:e,useDisplayName:!0,selectable:!0,showBusinessCheckmark:!0})),this.renderDescription()))}}]),t}();d.CONCERNS={profilePicThumb:["imgFull"],contact:["id","isMe"],businessProfile:["description"]},d.displayName="ProductListDrawerHeader",t.default=(0,l.default)(d,d.CONCERNS)},cijjejhjfh:function(e,t){e.exports={stickerItem:"_20-F",stickerMenu:"U-JiQ"}},cjaagagigi:function(e,t){e.exports={author:"_1QjgA",name:"_1uQFN",number:"ZObjg",screenName:"_1F9Ap",verifiedIcon:"_1Tvm-",hoverable:"_2q8oz"}},cjabddhidj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=d(n("cgcgbfbffj")),o=d(n("ebjaejiaba")),i=d(n("dbdfbgehgj")),u=d(n("dfjfgdhbjj")),s=d(n("bjigbaghc")),l=d(n("bhggeigghg")),c=n("eaaehfdjdg"),f=d(c);function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.stale=!1,r.add(e,{silent:!0}),r.contact=n,r.listenTo(l.default.GroupMetadata,`group_participant_change_${s.default.me.toString()}`,r.updateCommonGroups),r.listenTo(l.default.GroupMetadata,`group_participant_change_${r.contact.toString()}`,r.updateCommonGroups),r.listenTo(f.default,"change:stream",function(){f.default.stream===c.STREAM.DISCONNECTED&&(r.stale=!0)}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"updateCommonGroups",value:function(e){var t=l.default.GroupMetadata.assertGet(e).participants,n=s.default.me;this.get(e)?t.get(this.contact)&&t.get(n)||this.remove(e):t.get(this.contact)&&t.get(n)&&this.add(i.default.assertGet(e))}}]),t}();p.model=o.default,p.comparator=u.default,t.default=p},cjafhagbj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendMsgRecord=function(e){var t=Promise.resolve();a.default.supportsFeature(a.default.F.MD_BACKEND)||(t=o.default.msgCreateRecord(e).then(function(e){return 200!==e.status?Promise.reject(new r.ServerStatusCodeError(e.status)):e}));return t};var r=n("ddjgcfjicj"),a=i(n("bjbdcigbdi")),o=i(n("bihdhbjih"));function i(e){return e&&e.__esModule?e:{default:e}}},cjaiehadfe:function(e,t,n){"use strict";var r={sendConversationDismissChangeNumber:function(e){return this.sendConversationOpWithKey("modify",e,void 0,void 0)}};e.exports=r},cjbgdeaacg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("bacgdahheh")),i=s(n("ihfccfgdf")),u=s(n("bfdcadbbif"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props.msg.ack,t=void 0;return t=e<1?"status-time":1===e?"status-check":2===e?"status-dblcheck":"status-dblcheck-ack",a.createElement("div",{className:o.default.ack},a.createElement(u.default,{name:t}))}}]),t}();l.CONCERNS={msg:["ack"]},l.displayName="MsgAck",t.default=(0,i.default)(l,l.CONCERNS)},cjbicbfaej:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=m(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=m(n("cfaiaibca")),u=m(n("bbchdeehff")),s=m(n("dhfbfehaef")),l=m(n("djhbegbdaf")),c=m(n("fffdgbfji")),f=m(n("chcadgfgad")),d=m(n("baehciajii")),p=n("bfjajhbdf"),h=m(p);function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=["NO_MATCH","SPAM","ILLEGAL","SCAM","KNOCKOFF","OTHER"],v=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={reason:null},r.onCancel=function(){var e=r.props.onCancel;e&&e()},r.onSubmit=function(){if(!r.state.reason)return r.noSelectionToast();r.props.onTellUsMoreSubmit(r.state.reason)},r.onReasonChange=function(e){e.target&&e.target.value&&r.setState({reason:e.target.value})},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"noSelectionToast",value:function(){u.default.openToast(o.createElement(h.default,{msg:c.default.t(910),id:(0,p.genId)()}))}},{key:"renderRadioOptions",value:function(){var e=this,t=this.state.reason;return g.map(function(n){return o.createElement("li",{key:`ReportProductReasonPopup-${n}-option`},o.createElement("label",{className:d.default.label},o.createElement("input",{type:"radio",name:n,value:n,onChange:e.onReasonChange,className:d.default.input,checked:t===n}),o.createElement(y,{reason:n})))})}},{key:"render",value:function(){var e=c.default.t(903),t=o.createElement("div",{className:(0,a.default)(d.default.section)},o.createElement("ul",{className:d.default.reasonList},this.renderRadioOptions())),n=o.createElement(i.default,{a8nText:"popup-controls-submit",type:"primary",onClick:this.onSubmit,key:"ReportProductReasonPopup-submitButton",disabled:!this.state.reason},c.default.t(906)),r=o.createElement(i.default,{type:"plain",a8nText:"popup-controls-cancel",onClick:this.onCancel,key:"ReportProductReasonPopup-cancelButton"},c.default.t(1153)),u={escape:this.onCancel},l=o.createElement("div",{className:d.default.buttons},r,n);return o.createElement(s.default,{handlers:u},o.createElement(f.default,{title:e,actions:l,children:t}))}}]),t}();function y(e){var t=e.reason;switch(t){case"NO_MATCH":return o.createElement(l.default,{id:901});case"SPAM":return o.createElement(l.default,{id:905});case"ILLEGAL":return o.createElement(l.default,{id:899});case"SCAM":return o.createElement(l.default,{id:904});case"KNOCKOFF":return o.createElement(l.default,{id:900});case"OTHER":return o.createElement(l.default,{id:902});default:throw new Error(`Invalid reason: ${t}`)}}v.displayName="ReportProductReasonPopup",t.default=v},cjcabghhji:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MMS_VCA_ENABLED=!1,t.CAT_HOST_TIMESPAN=0,t.MAX_BUCKETS=null},cjcaccbiih:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=f(n("bjdfbiahbi")),i=f(n("fifhbjiec")),u=f(n("bjbdcigbdi")),s=f(n("ihfccfgdf")),l=f(n("bfdcadbbif")),c=f(n("ecgfheibgg"));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.contact,n=e.presence,r=void 0,s=void 0;return(r="list"===this.props.location||"info"===this.props.location?n.getFormattedString():n.withholdDisplay?this.props.placeholder:n.getFormattedString()||(n.forceDisplay?"":this.props.placeholder))&&(s=a.createElement(o.default,{text:r,location:this.props.location})),"title"===this.props.location&&u.default.supportsFeature(u.default.F.VNAME_V_2)&&r!==this.props.placeholder&&t&&t.showBusinessVname?a.createElement("div",{className:c.default.wrapper},a.createElement(i.default,{text:t.verifiedName,className:c.default.verifiedText,direction:"auto",ellipsify:!0,titlify:!0}),a.createElement("div",{className:c.default.icon},a.createElement(l.default,{name:"psa-verified"})),s&&a.createElement("span",{className:c.default.divider},""),s):s||null}}]),t}();d.CONCERNS={contact:["name","verifiedName","showBusinessVname"],presence:["withholdDisplay","forceDisplay","hasData"],chatstate:["type","deny","t"]},d.displayName="UserSubtitle",t.default=(0,s.default)(d,d.CONCERNS)},cjcecfgaji:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n("bgeijhbbad")),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=b;var o=h(n("ceffhbhahb")),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=h(n("dhhbehfjej")),s=n("behbjhhbg"),l=n("dgfecega"),c=h(l),f=n("becfabjeeg"),d=h(f),p=h(n("ccfdaijebj"));function h(e){return e&&e.__esModule?e:{default:e}}var m=(0,r.default)(s.MIMETYPES,function(e){return"image"===e.msgType||"video"===e.msgType});function b(e){var t=e.mimeType,n=e.url,r=e.isGif,s=e.size,h=e.processing,b=e.preview,g=void 0;switch(m[t].msgType){case"image":g=i.createElement("img",{src:n,className:u.default.img});break;case"video":var v=r?{loop:!h,autoPlay:!h,muted:!1,controls:!1}:{},y=h?i.createElement("div",{className:u.default.spinner},i.createElement(d.default,{color:f.colorOptions.white,size:50,stroke:3})):null,_=b?i.createElement("img",{className:u.default.staticPreview,src:`data:image/jpeg;base64,${b}`}):null,E=h?null:i.createElement(p.default,a({controls:!0,controlsList:"nodownload nofullscreen",className:u.default.video},v,{src:n}));g=i.createElement("div",{className:(0,o.default)(u.default.img,u.default.videoContainer)},y,E,_);break;case"audio":g=i.createElement("audio",{controls:!0,className:u.default.audio,type:t,src:n})}return i.createElement("div",{className:u.default.container,"data-animate-attach-media":!0},i.createElement("div",{className:u.default.media},i.createElement(c.default,{type:l.FIT_TYPE.SCALE_DOWN,size:s},g)))}b.displayName="AttachMediaTypeMedia"},cjcejcdhic:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return{low:c(`${t}-${"large"===n?"40":"64"}.png`,e.toLowerCase()),high:c(`${t}-64.png`,e.toLowerCase())}},t.getEmojiSpritesPath=function(e,t,n,r){var i=l,u=(0,o.default)(a.default[e][t]);return`${i}/emoji-${t}-${n}_${u}.${r}`};var r=n("ecejfgiega"),a=i(n("chdbigaida")),o=i(n("cahfddcdga"));function i(e){return e&&e.__esModule?e:{default:e}}var u=n("dghhefgjhc").EMOJI,s=u.LARGE_EMOJI_BASE_PATH,l=u.EMOJI_SPRITES_BASE_PATH;function c(e,t){return`${s}/${r.prefixHash}_${t.slice(0,1)}_${e}`}},cjcffhicea:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListType=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=C(n("ciefdgaafc")),i=C(n("bhcdajjdgi")),u=C(n("dbdfbgehgj")),s=n("gajigdged"),l=C(s),c=C(n("bbchdeehff")),f=C(n("ccfcjccjbg")),d=C(n("djcchigfih")),p=C(n("djbhiedbef")),h=n("dajffajabh"),m=C(h),b=n("bgddggdhc"),g=C(n("bggeiidigb")),v=C(n("ddajbaceej")),y=n("dhfbfehaef"),_=C(y),E=C(n("dbciicjiad")),j=n("chcadgfgad"),O=C(j),S=C(n("efhjefegg")),w=C(n("dceicchccd")),P=C(n("dcaibchbg")),M=C(n("fbjjefaic"));function C(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k=t.ListType={CHAT_SELECT_MODAL:"CHAT_SELECT_MODAL",CONTACT_SELECT_MODAL:"CONTACT_SELECT_MODAL",PARTICIPANT_MANAGE_MODAL:"PARTICIPANT_MANAGE_MODAL"},I=function(e){function t(){var e,n,r;T(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=A(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.setSearch=function(e){r.search=e},r.setList=function(e){r.list=e},r.flatListController=new g.default,r.state={searchText:""},r.onSearch=r.props.debounce(function(e){r.setState({searchText:e})},100),r.onFocusList=function(e){e&&(e.preventDefault(),e.stopPropagation()),r.list&&v.default.focus((0,b.forbiddenAssertDOMNode)(r.list))},r.indicateSearchFocus=function(e){r.active.unset(),(0,y.indicateFocus)(r.search,["#fbfbfb","#D9F3FF"])},r.onLeaveList=function(e){(0,y.shouldIndicateFocus)(),v.default.focus(r.search)},r.handleEnter=function(e){r.list&&r.list.toggleFirst(!1)},r.handleForward=function(){var e=r.props,t=e.onChat,n=e.listType,a=r.selectedChats.getSelected();n===k.CONTACT_SELECT_MODAL||n===k.PARTICIPANT_MANAGE_MODAL?t(a):Promise.map(a,function(e){return e instanceof f.default?u.default.find(e.id):e}).then(function(e){t(e)})},r.handleSelectionChanged=function(e,t){r.search&&r.search.select()},r.onSelectedListDelete=function(e,t){r.selectedChats.setVal(t,!1)},r.onCancel=r.props.onCancel?r.props.onCancel:function(){return c.default.closeModal()},A(r,n)}return N(t,a.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){this.active=new P.default([],function(e){return e.id}),this.selectedChats=new w.default([],function(e){return e.id.toString()})}},{key:"componentWillUnmount",value:function(){this.onSearch.cancel()}},{key:"render",value:function(){var e={down:this.onFocusList,enter:this.handleEnter},t=void 0;switch(this.props.listType){case k.CHAT_SELECT_MODAL:t=a.createElement(S.default,{ref:this.setList,msgType:this.props.msgType,excludeChat:this.props.excludeChat,getInitialItems:this.props.getInitialItems,searchText:this.state.searchText,activeChat:this.active,selectedChats:this.selectedChats,maxChats:this.props.maxItems,onLeaveList:this.onLeaveList,onSelectionChanged:this.handleSelectionChanged,hasFrequentlyForwarded:this.props.hasFrequentlyForwarded,flatListController:this.flatListController});break;case k.PARTICIPANT_MANAGE_MODAL:case k.CONTACT_SELECT_MODAL:t=a.createElement(i.default,{ref:this.setList,useAllContacts:this.props.useAllContacts,getInitialItems:this.props.getInitialItems,searchText:this.state.searchText,activeChat:this.active,selectedChats:this.selectedChats,maxContacts:this.props.maxItems,onLeaveList:this.onLeaveList,onSelectionChanged:this.handleSelectionChanged,isDisabled:this.props.isDisabled,isSelected:this.props.isSelected,customSecondaryText:this.props.customSecondaryText,filter:this.props.filter,allowBlockedContacts:this.props.allowBlockedContacts,flatListController:this.flatListController});break;default:throw new Error(`Invalid list type: ${this.props.listType}`)}var n=this.props,r=n.listType,u=n.useShortName,c=!!this.props.getInitialItems&&0!==this.props.getInitialItems().length,f=r===k.PARTICIPANT_MANAGE_MODAL?a.createElement(o.default,{selections:this.selectedChats,useShortName:u,onDelete:this.onSelectedListDelete,isDisabled:this.props.isDisabled}):null,b=r===k.PARTICIPANT_MANAGE_MODAL?s.FooterType.MANAGE_ADMINS:null;return a.createElement(O.default,{type:j.TowerModalType},a.createElement(d.default,{key:"chat-modal"},a.createElement(m.default,{title:this.props.title,type:h.DRAWER_HEADER_TYPE.POPUP,onCancel:this.onCancel}),a.createElement(_.default,{handlers:e,onFocus:this.indicateSearchFocus},a.createElement(E.default,{ref:this.setSearch,onSearch:this.onSearch,placeholder:l10n.t(973)})),this.props.customHeader,f,a.createElement(p.default,{flatListControllers:[this.flatListController]},t),a.createElement(l.default,{type:b,selections:this.selectedChats,onForward:this.handleForward,startActive:c})))}}]),t}();I.displayName="SelectModal";var R=(0,M.default)(I),L=function(e){function t(){return T(this,t),A(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,R),r(t,[{key:"onFocusList",value:function(e){(function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).onFocusList(e)}}]),t}();t.default=L},cjcghajbag:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProductCollection=t.PRODUCT_REVIEW_STATUS=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},o=u(n("cgcgbfbffj")),i=u(n("idbcfjbae"));function u(e){return e&&e.__esModule?e:{default:e}}var s=t.PRODUCT_REVIEW_STATUS={NO_REVIEW:"",PENDING:"PENDING",REJECTED:"REJECTED",APPROVED:"APPROVED",OUTDATED:"OUTDATED"};var l=t.ProductCollection=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"getProductModels",value:function(){var e=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toArray",this).call(this);if(a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"length",this)<1)return e;var n=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"head",this).call(this);return n&&n.catalogWid?a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"filter",this).call(this,function(e){return e.reviewStatus===s.APPROVED&&!e.old}):e}},{key:"add",value:function(e,n){var r=n?a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,n):a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e);return this.sort(),r}}]),t}();l.model=i.default,l.comparator=function(e,t){return e.index-t.index},t.default=l},cjciachhej:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendClear=function(e,t){return function e(t,n){var l=t.promises;if(l.sendClear)return l.sendClear;var c=t.getLastMsgKeyForAction();var f=c?t.msgs.get(c):void 0;var d=l.sendClear=(0,o.sendClear)(t,c,n);var p=new a.ActionType(l10n.t(17));var h=d.then(function(e){return new a.ActionType(l10n.t(16))}).catch(u.ServerStatusCodeError,function(e){if(e.status>=400)return new a.ActionType(l10n.t(15))}).catch(function(r){return s.default.error("models:chat:sendClear dropped")(r),new a.ActionType(l10n.t(15),l10n.t(154),function(){return e(t,n)})});i.default.openToast(r.createElement(a.ActionToast,{id:(0,a.genId)(),initialAction:p,pendingAction:h}));return d.then(function(e){e._duplicate||t.deleteMsgsBeforeMsgInclusive(f,n)}).catch(u.ServerStatusCodeError,function(e){}).finally(function(){l.sendClear=null})}((0,l.unproxy)(e),t)};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=n("ccihhdchab"),o=n("dbbggghaed"),i=c(n("bbchdeehff")),u=n("ddjgcfjicj"),s=c(n("bdiiahhjbe")),l=n("bheafeifce");function c(e){return e&&e.__esModule?e:{default:e}}},cjdaccjhdg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("cjieghfgda")),i=s(n("bffjfbgbg")),u=s(n("ihfccfgdf"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={blob:o.default.get(n.props.mediaData.filehash)},n.state.blob||e.mediaData.mediaStage!==i.default.STAGE.RESOLVED||e.downloadMedia(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidUpdate",value:function(){if(!this.state.blob){var e=this.props.mediaData.filehash;o.default.has(e)&&this.setState({blob:o.default.get(e)})}}},{key:"render",value:function(){var e=this.state.blob;return e?this.props.render(e):this.props.renderPlaceholder()}}]),t}();l.CONCERNS={mediaData:["filehash","mediaStage"]},l.displayName="MediaBlobProvider",t.default=(0,u.default)(l,l.CONCERNS)},cjdafdbcjb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=f(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=f(n("baagejbchg")),u=f(n("eahbjifecd")),s=f(n("bahgfcjcda")),l=f(n("cfedfiga")),c=f(n("cgfjebhhej"));function f(e){return e&&e.__esModule?e:{default:e}}var d=i.default.MSG_TYPE,p=d.CHAT,h=d.IMAGE,m=d.VIDEO,b=d.LOCATION,g=d.DOCUMENT,v=d.VCARD,y=d.MULTI_VCARD,_=d.PRODUCT,E=d.TEMPLATE,j=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.msg,n=e.inConversation,r=e.theme,f=void 0,d=void 0;switch(t.type){case h:case m:case g:case _:f=o.createElement(u.default,{mediaData:t.mediaData});break;case b:t.body&&(f=o.createElement("div",{style:{backgroundImage:`url(data:image/jpeg;base64,${t.body})`},className:l.default.image}));break;case p:t.thumbnail&&(f=o.createElement("div",{style:{backgroundImage:`url("data:image/jpeg;base64,${t.thumbnail}")`},className:l.default.image}));break;case v:d=n?58:79,f=o.createElement(s.default,{waid:t.getVCardThumbnailWAid(),thumb:t.body&&c.default.thumbnail(t.body),quoted:!0,square:!0,size:d});break;case y:d=n?58:79,f=o.createElement(s.default,{size:d,square:!0,quoted:!0});break;case E:if(t.hsmEnabled)switch(t.subtype){case i.default.TEMPLATE_SUBTYPE.IMAGE:case i.default.TEMPLATE_SUBTYPE.VIDEO:case i.default.TEMPLATE_SUBTYPE.DOCUMENT:f=o.createElement(u.default,{mediaData:t.mediaData});break;case i.default.TEMPLATE_SUBTYPE.LOCATION:f=o.createElement("div",{style:{backgroundImage:`url(data:image/jpeg;base64,${t.body})`},className:l.default.image})}}var j=(0,a.default)(l.default.imageWrapper,{[l.default.composeBox]:"composeBox"===r,[l.default.statusV3]:"statusV3"===r});return f?o.createElement("div",{className:j},o.createElement("div",{className:l.default.msgImage},f)):null}}]),t}();j.displayName="QuotedMedia",t.default=j},cjdfbfihbe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._children={},this._indices=[],t&&(this._data=t)}return r(e,[{key:"addBackwardsString",value:function(t,n){for(var r=t.length-1,a=this;r>=0;){var o=t.charAt(r);a._addIndex(n),a=a.get(o)||a.set(o,new e),r--}return a._addIndex(n),this}},{key:"addForwardsString",value:function(t,n){for(var r=0,a=this;r<t.length;){var o=t.charAt(r);a._addIndex(n),a=a.get(o)||a.set(o,new e),r++}return a._addIndex(n),this}},{key:"set",value:function(e,t){return this._children[e]=t,t}},{key:"get",value:function(e){return this._children[e]}},{key:"hasChildren",value:function(){return!function(e){for(var t in e)return!1;return!0}(this._children)}},{key:"search",value:function(e){var t=this._data;if(!t)return[];for(var n=this,r=0;r<e.length&&n;r++){var a=e[r];n=n.get(a)}return n?n.getIndices().map(function(e){return t[e]}):[]}},{key:"_addIndex",value:function(e){this._indices.push(e)}},{key:"getIndices",value:function(){var e=this._indices,t=Object.keys(this._children);return 1===t.length&&0===this._indices.length?this._children[t[0]].getIndices():e}},{key:"_optimize",value:function(){var e=this;if(!this.hasChildren())return this;var t=Object.keys(this._children),n=this._children[t[0]]._indices;return t.forEach(function(t){e._children[t]._optimize()}),1===t.length&&this._indices.length===n.length&&(this._indices=[]),this}},{key:"testOnlyGetChildrenProperty",value:function(){return this._children}},{key:"testOnlyGetIndicesProperty",value:function(){return this._indices}}],[{key:"fromBackwardsStrings",value:function(t,n){return t.reduce(function(e,t,n){return e.addBackwardsString(t,n)},new e(n))._optimize()}},{key:"fromForwardsStrings",value:function(t,n){return t.reduce(function(e,t,n){return e.addForwardsString(t,n)},new e(n))._optimize()}}]),e}();t.default=a},cjeajhjegi:function(e,t){e.exports={container:"_15Rkh",link:"_1000r",title:"lnNFH",address:"eqh3k",hasURL:"_32tnI",hasUrl:"_32tnI",text:"_2mjS6",author:"KKKc8",forwarded:"ZT7uk",forwardedIndicator:"_3Jnwt",hasAuthor:"_2nXsu",meta:"_29iuh",thumb:"_3s-xU",thumbBody:"_1YW53",quote:"_3wvFg",hasCaption:"_3z_3G",caption:"_1FHrD"}},cjecagehda:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return e.onRoot(i(e,t.children,n),n)};var r,a=n("cgeeeeddea"),o=(r=a)&&r.__esModule?r:{default:r};function i(e,t,n){return t.reduce(function(t,r){return t.push(function(e,t,n){if(t.type){var r=t.value;switch(t.type){case"text":return e.onText(r,n);case"delimiter":return e.onDelimiter(r,n);default:(0,o.default)(!1,"Invalid node type")}}return e.onMutator(t.mutator,i(e,t.children,n),t.match[5],t.opts,n)}(e,r,n)),t},[])}},cjedbbhjhh:function(e,t,n){"use strict";var r={AllStarredMsgs:n("djfhiceeje").default,Blocklist:n("bgfcjjddjf").default,BusinessProfile:n("ejiicdbii").default,Call:n("biaifggagf").default,Catalog:n("ejegihaeh").default,Chat:n("dbdfbgehgj").default,ChatPreference:n("ebcagbhefg"),Contact:n("dhigahgdjb").default,ConversionTuple:n("ccbihadedf"),EmojiVariant:n("dfbhcehadj").default,GroupMetadata:n("djaadchjch"),Label:n("bijffg").default,LiveLocation:n("cdcijfdgje").default,Msg:n("biecbbiiee").default,MsgInfo:n("eigdejjai").default,Mute:n("dagdiahdfi").default,Presence:n("ebbjbbjjg").default,ProfilePicThumb:n("dhefcajhhb").default,QuickReply:n("bechejbabh").default,RecentEmoji:n("bjfecgfdgj").default,RecentSticker:n("jdigiabic").default,ServerProps:n("bfgbdiffgd").default,StarredGifMsgs:n("dfgeejdaib"),Status:n("gbbacfeci").default,StatusV3:n("bgcdajbhif").default,Sticker:n("dhjffabgfb").default,StickerPack:n("fagbfehid").default};e.exports=r},cjefbihjci:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.playMidPttTone=function(){i.play()},t.playEndPttTone=function(){u.play()};var r,a=n("baagejbchg"),o=(r=a)&&r.__esModule?r:{default:r};var i=new window.Audio(o.default.PTT_MIDDLE_TONE_PATH),u=new window.Audio(o.default.PTT_END_TONE_PATH)},cjegehjigc:function(e,t){e.exports={playerWrapper:"_2VR0P",mediaStateControls:"g5ZbI",playerBackground:"_3KWZg",media:"_2Rvcb",captionBackdrop:"_3omcs",mediaCaption:"_23YnB",progresBarBackdrop:"_1wQjq",progressBarBackdropNarrow:"_3qWvl",profile:"_2soDh",nonClickProfile:"_1biSk",profileNarrow:"_20Axr",playerAvatar:"_38nNR",measuringProfile:"_1f7BH",profileMac:"N4pj4",msgInfo:"F6FSn",msgInfoName:"_1Og5G",timestamp:"_3sv8f",playerContent:"_1nKyQ",statusPanelPlayerContent:"_3ZnPf",statusThumbnailPlayerContent:"_24B2W",loading:"nck4i",v3Image:"_3LH4d",v3Video:"QYk9n",text:"_2ylxC",textLarge:"Iz658",textMedium:"_3JSAh",textSmall:"_2Rme_",font_1:"_3xchW",font1:"_3xchW",font_2:"_3Y-cn",font2:"_3Y-cn",font_3:"izRyU",font3:"izRyU",font_5:"_1el17",font5:"_1el17",unknown:"_37AKF",textThumbnailPlayerContent:"_1A1Ek"}},cjejfecgc:function(e,t){e.exports={avatar:"_3RWII",avatarDefault:"B9BIa",avatarImage:"jZhyM",isLoaded:"_13Xdg",avatarSquare:"eLUC2",avatarBorder:"L4M2f",status_v3:"_1G8Da",statusV3:"_1G8Da"}},cjfhhbcfdh:function(e,t,n){e.exports=n.p+"img/sticker-empty_9d7feb47a66ef5b59cc731acafd02266.png"},cjfiaefceb:function(e,t){e.exports={ring:"_18eSE",read:"_3J6CL",unread:"_3yudO"}},cjgadgafji:function(e,t){e.exports={btn:"_1g8sv",large:"NOJWi"}},cjgafgfbff:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("fffdgbfji")),i=s(n("cfiighfhhg")),u=s(n("dbabefhajh"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props.msg;return a.createElement(u.default,{msg:e,displayAuthor:this.props.displayAuthor},a.createElement(i.default,{iconName:"unknown",msg:e},o.default.t(301)))}}]),t}();l.displayName="GroupsV4InviteMsgPlaceholder",t.default=l},cjgdeggcdi:function(e,t){e.exports={inputEmoji:"_2hexs",wrapper:"_3ogpF",textInput:"_3B1_S",labelText:"Am8s6",clearInput:"_2DGEU",float:"WoUSh",textActive:"_35YcC",suggestionsPositioner:"_1A9F6",suggestionsContainer:"_2bcHA",charCounter:"_3LlXC",inputControls:"_1zv3N",charCounterWithClearBtn:"_2bX7-",spacer:"_388ph",noPlaceholder:"_1aGJU",buttonContainer:"_3vWnP",active:"_2Fvnm"}},cjggfjjegd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.sendQueryMsgInfo=function(e){var t=void 0,n=e.id;t=i.default.supportsFeature(i.default.F.MD_BACKEND)?Promise.reject(new Error("Should not reach here")):s.default.queryMsgInfo(n).then(function(e){return e.status>=400?(u.default.log("model:MsgInfo:findQuery error "+e.status)(),Promise.reject(new o.ServerStatusCodeError(e.status))):e});return t.then(function(t){return r({},t,{id:n,isPTT:e.type===a.default.MSG_TYPE.PTT})})};var a=l(n("baagejbchg")),o=n("ddjgcfjicj"),i=l(n("bjbdcigbdi")),u=l(n("bdiiahhjbe")),s=l(n("bihdhbjih"));function l(e){return e&&e.__esModule?e:{default:e}}},cjidjghdjj:function(e,t){e.exports={body:"_1IiPy",vcardWrapper:"_1v8mQ"}},cjihajjici:function(e,t){e.exports={mediaPanelHeader:"_3Jv5R",info:"_31qvp",productName:"_1_-3U",mediaPanelTools:"OUGX2",infoName:"_2Hnjv"}},cjihfbehgb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=w(n("ddhijeejag")),i=n("ccihhdchab"),u=S(n("echbdbadad")),s=S(n("bbchdeehff")),l=S(n("baagejbchg")),c=S(n("bjigbaghc")),f=S(n("bafegjjfbj")),d=n("ddjgcfjicj"),p=w(n("cajijabhgb")),h=S(n("cdgebfdaif")),m=S(n("jheedhagg")),b=S(n("fffdgbfji")),g=S(n("eceadcicaf")),v=S(n("bdiiahhjbe")),y=S(n("bffcbhabha")),_=n("bijebbjggf"),E=n("bdheiggeaf"),j=n("dgdhcdgffe"),O=S(n("bihdhbjih"));function S(e){return e&&e.__esModule?e:{default:e}}function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var M=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var m=arguments.length,g=Array(m),S=0;S<m;S++)g[S]=arguments[S];return n=a=P(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(g))),a.openGroupV4InviteRequestFlow=function(e,t,n,r){s.default.openModal(o.createElement(h.default,{participantNeedInvite:e,groupGid:t,subject:n,groupDesc:r}))},a.onMute=function(e,t){if(t){s.default.openModal(o.createElement(y.default,{chat:e,onMute:function(t){e.pendingAction++,e.mute.mute(t,!0).finally(function(){e.pendingAction--})}}),{transition:"modal",uim:a.props.uim})}else e.pendingAction++,e.mute.unmute(!0).finally(function(){e.pendingAction--})},a.onDeleteOrExit=function(e){s.default.openModal(o.createElement(f.default,{chat:e,onDeleteOrExit:function(t){e.pendingAction++,t.finally(function(){e.pendingAction--})}}),{transition:"modal",uim:a.props.uim})},a.onPin=function(e,t){e.pendingAction++,(0,E.setPin)(e,t).catch(function(){}).finally(function(){e.pendingAction--})},a.onClear=function(e){s.default.openModal(o.createElement(u.default,{chat:e}),{transition:"modal",uim:a.props.uim})},a.onArchive=function(e,t){e.pendingAction++,(0,_.setArchive)(e,t).catch(function(){}).finally(function(){e.pendingAction--})},a.onMarkUnread=function(e,t){e.pendingAction++,(0,j.markUnread)(e,t).finally(function(){e.pendingAction--})},a.onSendStarMsgs=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"LEFT";if(!t)return Promise.reject(new p.ActionError);if(t.some(function(e){return!e.id}))return Promise.reject(new p.ActionError);var u=n||(0,i.genId)(),l=t.length,c={count:l,_plural:l},f=new i.ActionType(b.default.t(104,c)),h=e.sendStarMsgs(t,!0).then(function(){return new i.ActionType(b.default.t(103,c),b.default.t(158),a.onSendUnstarMsgs.bind(a,e,t,u,r))}).catch(d.ServerStatusCodeError,function(e){if(e.status>=400)return new i.ActionType(b.default.t(102,c))}).catch(function(n){return v.default.error("chatAction:sendStarMsgs dropped")(n),new i.ActionType(b.default.t(102,c),b.default.t(154),a.onSendStarMsgs.bind(a,e,t,u,r))});return s.default.openToast(o.createElement(i.ActionToast,{id:u,toastPosition:r,initialAction:f,pendingAction:h})),h},a.onSendUnstarMsgs=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"LEFT";if(!t)return Promise.reject(new p.ActionError);if(t.some(function(e){return!e.id}))return Promise.reject(new p.ActionError);var u=n||(0,i.genId)(),l=t.length,c={count:l,_plural:l},f=new i.ActionType(b.default.t(109,c)),h=e.sendStarMsgs(t,!1).then(function(){return new i.ActionType(b.default.t(107,c),b.default.t(158),a.onSendStarMsgs.bind(a,e,t,u,r))}).catch(d.ServerStatusCodeError,function(e){if(e.status>=400)return new i.ActionType(b.default.t(106,c))}).catch(function(n){return v.default.error("chatAction:sendUnstarMsgs dropped")(n),new i.ActionType(b.default.t(106,c),b.default.t(154),a.onSendUnstarMsgs.bind(a,e,t,u,r))});return s.default.openToast(o.createElement(i.ActionToast,{id:u,toastPosition:r,initialAction:f,pendingAction:h})),h},a.onSendDeleteMsgs=function(e,t,n,r){var u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"LEFT";if(!t)return Promise.reject(new p.ActionError);if(t.some(function(e){return!e.id}))return Promise.reject(new p.ActionError);var l=t.length,c=r||(0,i.genId)(),f={count:l,_plural:l},d=new i.ActionType(b.default.t(101,f)),h=e.sendDeleteMsgs(t,n).then(function(e){if(e===l)return new i.ActionType(b.default.t(100,f));var t=l-e;return f={count:t,_plural:t},new i.ActionType(b.default.t(99,f))}).catch(function(n){return v.default.error("chatAction:sendDeleteMsgs dropped")(n),new i.ActionType(b.default.t(99,f),b.default.t(154),a.onSendDeleteMsgs.bind(a,e,t,!1,c,u))});return s.default.openToast(o.createElement(i.ActionToast,{id:c,toastPosition:u,initialAction:d,pendingAction:h})),h},a.onSendRevokeMsgs=function(e,t,n,u){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"LEFT",f=u;if(!t)return Promise.reject(new p.ActionError);var d=t.reduce(function(e,t){var n=[t.canRevoke(),t.type!==l.default.MSG_TYPE.GROUPS_V4_INVITE||t.isGroupsV4InviteExpired?null:t],r=n[0],a=n[1];return[e[0]||!r,e[1]||a]},[!1,null]),h=r(d,2),m=h[0],g=h[1];if(m)return Promise.reject(new p.ActionError);g&&a.handleGroupInviteMsgRevoke(e,g);var y=t.length;f=f||(0,i.genId)();var _={count:y,_plural:y},E=new i.ActionType(b.default.t(101,_)),j=e.sendRevokeMsgs(t,n).then(function(e){return new i.ActionType(b.default.t(100,_))}).catch(function(e){return v.default.error("chatAction:sendRevokeMsgs fail")(e),new i.ActionType(b.default.t(99,_))});return s.default.openToast(o.createElement(i.ActionToast,{id:f,toastPosition:c,initialAction:E,pendingAction:j})),j},a.handleGroupInviteMsgRevoke=function(e,t){var n=t.inviteGrp,r=c.default.me.toString();O.default.revokeGroupV4Invite([t.to.toString()],n,r)},P(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),a(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(s.default,"mute_chat",this.onMute),this.props.listeners.add(s.default,"delete_or_exit_chat",this.onDeleteOrExit),this.props.listeners.add(s.default,"archive_chat",this.onArchive),this.props.listeners.add(s.default,"clear_chat_msgs",this.onClear),this.props.listeners.add(s.default,"mark_chat_unread",this.onMarkUnread),this.props.listeners.add(s.default,"pin_chat",this.onPin),this.props.listeners.add(s.default,"send_star_msgs",this.onSendStarMsgs),this.props.listeners.add(s.default,"send_unstar_msgs",this.onSendUnstarMsgs),this.props.listeners.add(s.default,"send_delete_msgs",this.onSendDeleteMsgs),this.props.listeners.add(s.default,"send_revoke_msgs",this.onSendRevokeMsgs),this.props.listeners.add(s.default,"open_group_v4_invite_request_flow",this.openGroupV4InviteRequestFlow)}},{key:"render",value:function(){return null}}]),t}();M.displayName="ActionListener",t.default=(0,m.default)((0,g.default)(M))},cjihgicbe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("bdiiahhjbe"),i=(r=o)&&r.__esModule?r:{default:r},u=n("bfbggcdbfb");var s={document:u.MEDIA_TYPE.DOCUMENT,video:u.MEDIA_TYPE.VIDEO,gif:u.MEDIA_TYPE.GIF,image:u.MEDIA_TYPE.PHOTO,audio:u.MEDIA_TYPE.AUDIO},l=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mediaPickerSentUnchanged=0,this.mediaPickerDeleted=0,this.mediaPickerChanged=new Set,this.mediaPickerCroppedRotated=new Set,this.mediaPickerDrawing=new Set,this.mediaPickerStickers=new Set,this.mediaPickerText=new Set,this.mediaPickerLikeDoc=0,this.mediaPickerNotLikeDoc=0,this.mediaPickerOrigin=0,this.mediaPickerT=0,this.t0=Date.now(),this.mediaType=s[n],this.mediaPickerOrigin=r,this.medias=new Set,this.medias.add(t),this.changeTypes={mediaPickerCroppedRotated:this.mediaPickerCroppedRotated,mediaPickerDrawing:this.mediaPickerDrawing,mediaPickerStickers:this.mediaPickerStickers,mediaPickerText:this.mediaPickerText}}return a(e,[{key:"onAdd",value:function(e){this.medias.add(e),"document"===this.mediaType?this.mediaPickerLikeDoc++:this.mediaPickerNotLikeDoc++}},{key:"onChange",value:function(e,t){this.mediaPickerChanged.add(e),this.changeTypes[t].add(e)}},{key:"onDelete",value:function(e){if(this.medias.delete(e),this.mediaPickerDeleted++,0===this.medias.size)return this.onCancel()}},{key:"onSend",value:function(){return this.mediaPickerSent=this.medias.size,this.mediaPickerSentUnchanged=this.mediaPickerSent-this.mediaPickerChanged.size,this.dataPreflight()}},{key:"onCancel",value:function(){return this.mediaPickerSent=0,this.mediaPickerSentUnchanged=0,this.dataPreflight()}},{key:"onPause",value:function(){this.mediaPickerT+=Date.now()-(this.t0||0),this.t0=null}},{key:"onResume",value:function(){this.t0=null!=this.t0?this.t0:Date.now()}},{key:"dataPreflight",value:function(){var e=this.mediaPickerSentUnchanged;return isNaN(e)&&(e=0,i.default.assert(!1,"mediaPickerSentUnchange is not a number",`mediaPickerSentUnchange mediaPickerSent: ${null!=this.mediaPickerSent&&0!==this.mediaPickerSent?this.mediaPickerSent:"undefined"}, mediaPickerChanged: ${this.mediaPickerChanged.size||"undefined"}`)()),{mediaPickerSent:this.mediaPickerSent,mediaPickerSentUnchanged:e,mediaPickerT:this.mediaPickerT+(Date.now()-(this.t0||0)),mediaType:this.mediaType,mediaPickerOrigin:this.mediaPickerOrigin,mediaPickerChanged:this.mediaPickerChanged.size,mediaPickerCroppedRotated:this.mediaPickerCroppedRotated.size,mediaPickerDrawing:this.mediaPickerDrawing.size,mediaPickerStickers:this.mediaPickerStickers.size,mediaPickerText:this.mediaPickerText.size,mediaPickerLikeDoc:this.mediaPickerLikeDoc,mediaPickerNotLikeDoc:this.mediaPickerNotLikeDoc,mediaPickerDeleted:this.mediaPickerDeleted}}}]),e}();t.default=l},cjiiehdbge:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=y(n("ceffhbhahb")),o=v(n("ddhijeejag")),i=n("bgiachiigg"),u=y(n("bbchdeehff")),s=y(n("biddiiafgd")),l=n("ccgdfaeibd"),c=y(n("hbabifghf")),f=y(n("eceadcicaf")),d=y(n("bffjfbgbg")),p=v(n("ecibddhig")),h=y(n("bfbggcdbfb")),m=y(n("dfgeejdaib")),b=y(n("chdhhgfaj")),g=y(n("bfdcadbbif"));function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function y(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,c=Array(a),f=0;f<a;f++)c[f]=arguments[f];return n=r=_(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.setRefGif=function(e){r._gifRef=e},r.getGifProvider=function(){switch(r.props.msg.gifAttribution){case i.VIDEO_MESSAGE_ATTRIBUTION.GIPHY:return l.GIPHY;case i.VIDEO_MESSAGE_ATTRIBUTION.TENOR:return l.TENOR;default:return""}},r.handleClick=function(e){switch(e.stopPropagation(),r.props.msg.mediaData.mediaStage){case d.default.STAGE.NEED_POKE:r.props.msg.downloadMedia(!0,h.default.WEBC_RMR_REASON_CODE.MSG_CLICK);break;case d.default.STAGE.FETCHING:r.props.msg.cancelDownload();break;case d.default.STAGE.UPLOADING:r.props.msg.cancelUpload();break;case d.default.STAGE.ERROR_MISSING:u.default.openModal(o.createElement(s.default,{title:l10n.t(741),onOK:function(){return u.default.closeModal()},okText:l10n.t(1287)},l10n.t(740)))}},r.onUnstarMsg=function(){var e=r.props.msg;m.default.remove(e)},_(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"animateGif",value:function(){var e=this;this.props.listeners.uiIdle(function(){e._gifRef&&e._gifRef.setShouldAnimate(!0)})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.msg;this.props.listeners.add(t,"change:mediaData.mediaStage",function(){e.forceUpdate()}),this.props.listeners.uiIdle(function(){t.downloadMedia(!1,h.default.WEBC_RMR_REASON_CODE.MSG_RENDER)}),this.animateGif()}},{key:"componentDidUpdate",value:function(){this.animateGif()}},{key:"render",value:function(){var e=this.props.msg,t=e.mediaData,n=new l.GifInfo(void 0,t.renderableUrl,void 0,void 0,void 0,Math.round(t.aspectRatio*l.TARGET_GIF_HEIGHT),this.getGifProvider(),!1);if(t.mediaStage===d.default.STAGE.RESOLVED)return o.createElement(c.default,{key:e.filehash,ref:this.setRefGif,gif:n,onSend:this.props.onSend,isStarred:!0,onUnstarMsg:this.onUnstarMsg});if(t.preview){var r=t.preview.url(),i=void 0;switch(t.mediaStage){case d.default.STAGE.ERROR_MISSING:break;case d.default.STAGE.NEED_POKE:i=o.createElement(p.Download,null);break;case d.default.STAGE.FETCHING:case d.default.STAGE.UPLOADING:i=o.createElement(p.PendingCancel,null);break;default:i=o.createElement(p.Pending,null)}var u=(0,a.default)(b.default.thumb,{[b.default.blur]:t.mediaStage===d.default.STAGE.ERROR_MISSING}),s=o.createElement("div",{className:u,style:{backgroundImage:`url(${r})`,height:`${l.TARGET_GIF_HEIGHT}px`}});return o.createElement("div",{className:b.default.container,style:{flexBasis:n.widthStr},key:e.filehash},o.createElement("div",{className:b.default.wrapper,style:{width:n.widthStr},onClick:this.handleClick},o.createElement("div",{className:b.default.innerWrapper,style:{paddingBottom:n.ratioStr}},i,s)),o.createElement("button",{className:b.default.starIcon,onClick:this.onUnstarMsg},o.createElement(g.default,{name:"star-light"})))}return null}}]),t}();E.displayName="StarredGifPreview",t.default=(0,f.default)(E)},cjijbdhgbf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=document.createElement("img");return t.src=e,{width:t.naturalWidth,height:t.naturalHeight}}},cjijcbcfhd:function(e,t,n){"use strict";var r,a=n("cahfddcdga"),o=(r=a)&&r.__esModule?r:{default:r};var i={parsePaymentInfo:function(e,t){t&&(e.paymentStatus=t.status,e.paymentCurrency=t.currency||"",e.paymentAmount1000=(0,o.default)(t.amount1000),e.paymentMessageReceiverJid=this.decodeJid((0,o.default)(t.receiverJid)),e.paymentExpiryTimestamp=t.expiryTimestamp,e.paymentTransactionTimestamp=(0,o.default)(t.transactionTimestamp))}};e.exports=i},cjijggjfed:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.THEMES=void 0;var r=s(n("dhgeffcgbg")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=s(n("ceffhbhahb")),u=s(n("bbfiaehhcd"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=t.THEMES={CAROUSEL:"CAROUSEL",CAROUSEL_END:"CAROUSEL_END",MENU:"MENU"},f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._handleClick=function(e){r.props.onClick&&r.props.onClick(r.props.sectionId,e)},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),a(t,[{key:"_getStyle",value:function(e){return(0,r.default)(this._style,e)?this._style:(this._style=e,this._style)}},{key:"render",value:function(){var e=this.props,t=e.theme,n=e.title;return o.createElement("div",{ref:this.props.onRef,role:"button",className:(0,i.default)(u.default.tab,{[u.default.menu]:t===c.MENU,[u.default.carousel]:t===c.CAROUSEL||t===c.CAROUSEL_END,[u.default.carouselEnd]:t===c.CAROUSEL_END,[u.default.selected]:this.props.selected}),onClick:this._handleClick,style:this._getStyle({width:this.props.width,transform:this.props.transform}),title:n},this.props.children)}}]),t}();f.displayName="MenuTab",t.default=f},cjjdbgcihf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaults=void 0;var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("eacifebjhe"),u=(r=i)&&r.__esModule?r:{default:r};var s=t.defaults={jitter:0,maxTimeout:1/0},l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._opts=a({},s,e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),o(t,[{key:"_retryCount",get:function(){return this._i}}]),o(t,[{key:"_next",value:function(){var e=this._opts,n=e.factor,r=e.jitter,a=e.maxTimeout,o=e.retries,i=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_next",this).call(this);if(i.done)return i;if(this._retryCount>o)return this.return();var u=n;return u*=i.value,u*=Math.random()*r*2-r+1,{done:!1,value:u=Math.min(u,a)}}}]),t}();t.default=l},cjjefedaad:function(e,t,n){"use strict";e.exports={"#":1,"":1,"*":2,"0":3,"":3,"1":4,"":4,"2":5,"":5,"3":6,"":6,"4":7,"":7,"5":8,"":8,"6":9,"":9,"7":10,"":10,"8":11,"":11,"9":12,"":12,"":13,"":14,"":17,"":21,"":22,"":23,"":24,"":31,"":32,"":48,"":49,"":54,"":55,"":59,"":61,"":62,"":64,"":79,"":80,"":81,"":82,"":83,"":84,"":85,"":86,"":87,"":88,"":89,"":90,"":91,"":93,"":94,"":95,"":96,"":97,"":100,"":109,"":110,"":115,"":116,"":117,"":120,"":126,"":129,"":130,"":132,"":147,"":148,"":149,"":151,"":153,"":159,"":165,"":183,"":184,"":185,"":188,"":190,"":191,"":192,"":193,"":195,"":199,"":201,"":204,"":205,"":206,"":209,"":210,"":212,"":213,"":214,"":215,"":217,"":218,"":219,"":220,"":221,"":223,"":225,"":226,"":228,"":230,"":231,"":278,"":287,"":298,"":306,"":308,"":341,"":345,"":353,"":421,"":462,"":480,"":481,"":482,"":483,"":485,"":487,"":488,"":489,"":490,"":491,"":492,"":493,"":495,"":497,"":498,"":499,"":500,"":501,"":502,"":503,"":505,"":520,"":526,"":545,"":546,"":548,"":549,"":550,"":551,"":552,"":555,"":557,"":558,"":559,"":560,"":562,"":563,"":566,"":567,"":571,"":576,"":577,"":581,"":582,"":583,"":584,"":585,"":586,"":587,"":588,"":590,"":591,"":592,"":595,"":596,"":605,"":606,"":607,"":608,"":609,"":610,"":611,"":613,"":615,"":616,"":621,"":622,"":623,"":624,"":625,"":626,"":632,"":633,"":634,"":635,"":638,"":639,"":640,"":641,"":642,"":643,"":644,"":645,"":654,"":655,"":657,"":658,"":659,"":660,"":661,"":662,"":664,"":665,"":668,"":669,"":670,"":674,"":675,"":676,"":677,"":679,"":683,"":684,"":685,"":686,"":713,"":720,"":777,"":779,"":780,"":782,"":783,"":784,"":785,"":786,"":787,"":788,"":789,"":790,"":792,"":793,"":798,"":799,"":800,"":824,"":825,"":828,"":829,"":831,"":834,"":835,"":836,"":837,"":838,"":842,"":843,"":847,"":849,"":850,"":851,"":854,"":855,"":856,"":857,"":858,"":859,"":860,"":862,"":863,"":864,"":865,"":866,"":867,"":868,"":869,"":870,"":875,"":878,"":884,"":890,"":892,"":898,"":904,"":910,"":916,"":922,"":928,"":934,"":940,"":946,"":952,"":958,"":959,"":961,"":962,"":964,"":965,"":966,"":969,"":972,"":973,"":974,"":975,"":976,"":979,"":985,"":991,"":1117,"":1268,"":1303,"":1321,"":1327,"":1333,"":1351,"":1359,"":1360,"":1366,"":1367,"":1368,"":1369,"":1394,"":1400,"":1401,"":1431,"":1432,"":1433,"":1434,"":1436,"":1437,"":1439,"":1441,"":1443,"":1445,"":1446,"":1447,"":1450,"":1451,"":1452,"":1453,"":1454,"":1455,"":1456,"":1458,"":1460,"":1461,"":1462,"":1463,"":1465,"":1467,"":1468,"":1469,"":1480,"":1481,"":1489,"":1490,"":1491,"":1492,"":1493,"":1495,"":1496,"":1518,"":1525,"":1528,"":1529,"":1530,"":1531,"":1537,"":1539,"":1542,"":1545,"":1546,"":1547,"":1548,"":1550,"":1551,"":1554,"":1555,"":1556,"":1569,"":1572,"":1576,"":1577,"":1578,"":1579,"":1588,"":1589,"":1596,"":1599,"":1602,"":1606,"":1607,"":1608,"":1609,"":1610,"":1611,"":1627,"":1628,"":1629,"":1630,"":1631,"":1632,"":1633,"":1634,"":1635,"":1636,"":1637,"":1638,"":1726,"":1727,"":1728,"":1732,"":1733,"":1734,"":1735,"":1740,"":1741,"":1743,"":1744,"":1746,"":1749,"":1750,"":1751,"":1753,"":1755,"":1757,"":1759,"":1760,"":1761,"":1763,"":1764,"":1765,"":1766,"":1768,"":1771,"":1773,"":1776,"":1779,"":1780,"":1781,"":1782,"":1786,"":1851,"":1881,"":1887,"":1890,"":1891,"":1892,"":1894,"":1896,"":1899,"":1902,"":1904,"":1905,"":1906,"":1908,"":1910,"":1912,"":1913,"":1921,"":1934,"":1935,"":1937,"":1942,"":1943,"":1948,"":1988,"":1989,"":1990,"":1991,"":1992,"":1993,"":1995}},cjjjgbhjif:function(e,t){e.exports={icon:"_3p0T6",transparent:"w4k6i"}},cjjjhbdicf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.resyncMessages=function(e){return s.default.resyncMessages(e).then(function(e){if(o.default.supportsFeature(o.default.F.MODEL_STORAGE)&&(!e.status||e.status<400)){var t=e.data,n=[],s=[];return t.forEach(function(e){var t=u.default.Chat.get(e.id);t?"clear"===e.type?n.push({id:e.id.toString(),t:e.t,unreadCount:e.unreadCount,archive:e.archive,isReadOnly:e.isReadOnly,modifyTag:e.modifyTag,notSpam:e.notSpam,pin:e.pin,changeNumberOldJid:e.changeNumberOldJid,changeNumberNewJid:e.changeNumberNewJid,muteExpiration:e.muteExpiration,ephemeralDuration:e.ephemeralDuration}):"delete"===e.type?s.push(e.id.toString()):n.push(a({},e,{id:e.id.toString()})):n.push(a({},e,{id:e.id.toString()}))}),i.default.lock(["chat"],function(e){var t=r(e,1),a=t[0];return a.bulkCreateOrMerge(n).then(function(){return a.bulkRemove(s)})}).then(function(){return e})}return e})};var o=l(n("bjbdcigbdi")),i=l(n("ffjiicch")),u=l(n("bhggeigghg")),s=l(n("bihdhbjih"));function l(e){return e&&e.__esModule?e:{default:e}}},daabecicc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1/0;return(0,a.default)(n,(0,r.default)(e,t,i),o)};var r=o(n("dfgcaedggj")),a=o(n("cjecagehda"));function o(e){return e&&e.__esModule?e:{default:e}}},daahhbhaaf:function(e,t){e.exports={wrapper:"_1Ahi2",inactive:"zU1W3",offline:"_3-OfU",circle:"_38rfD",text:"t5gsa",backToCenter:"_4QzIW",visible:"_71XX9"}},dabbhadeic:function(e,t){e.exports={listUser:"_2rZZg",header:"_3Jvyf",listControls:"sbcXq"}},dabbjcaadh:function(e,t,n){"use strict";var r=B(n("ccjgiajgj")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=F(n("ddhijeejag")),i=B(n("effbcehec")),u=B(n("cgijjjgici")),s=B(n("bajahehjcd")),l=B(n("jdcjegfeb")),c=B(n("ddffjbhaib")),f=B(n("ebcagbhefg")),d=B(n("bbchdeehff")),p=B(n("ecfbchagde")),h=B(n("baagejbchg")),m=B(n("ifijdebbd")),b=B(n("bijegdjcac")),g=B(n("ccbjfaficd")),v=B(n("djigcbdaeh")),y=B(n("dcjhajfghf")),_=B(n("cbcchiaeeb")),E=F(n("cajijabhgb")),j=n("bgddggdhc"),O=B(n("bjbdcigbdi")),S=B(n("djdhjggcbi")),w=B(n("hfjhcgage")),P=B(n("dejcdgeeje")),M=n("ejbdjaifi"),C=B(n("eceadcicaf")),T=B(n("bfbggcdbfb")),A=B(n("bajcbaccgg")),N=B(n("dceicchccd")),k=B(n("cahfddcdga")),I=B(n("bjbedjfe")),R=B(n("bfgbdiffgd")),L=B(n("ihfccfgdf")),D=B(n("caffijjhc")),x=B(n("egjjcjcg")),U=B(n("bcifhbgija")),G=B(n("didfdhbecg"));function F(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function B(e){return e&&e.__esModule?e:{default:e}}var $=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));e.fillerHeight=0,e.updateAnnounceGrpState=function(){e.forceUpdate()},e.onComposeState=function(){var t=e.props.chat.canSend;e.state.canCompose!==t&&(t||(e.fillerHeight=0),e.setState({canCompose:t}))},e.onComposeHeightChange=function(t,n){var r=t.input,a=t.overlay,o=void 0===a?0:a,i=(0,j.forbiddenFindDOMNode)(e.refMsgPanel);if(i&&e.msgs){var u=e.msgs.getScrollBottom();if(void 0===r){if(n)return e.fillerHeight=o,void(e.refFiller&&(e.refFiller.style.height=`${e.fillerHeight}px`,e.msgs.setScrollBottom(u)));e.fillerHeight+=o,o<0&&(e.refFiller&&(e.refFiller.style.height=`${e.fillerHeight}px`),e.msgs&&e.msgs.setScrollBottom(u)),e.msgPanelAnimation&&(e.didCancel=!0,e.msgPanelAnimation.cancel()),e.msgPanelAnimation=(e.msgPanelAnimation||Promise.resolve()).then(function(){return(0,U.default)(i,{translateY:o>0?[-o,0]:[0,o]},{duration:300,easing:[.1,.82,.25,1]})}).cancellable().catch(E.Unmount,function(){}).then(function(){o>0&&e.refFiller&&(e.refFiller.style.height=`${e.fillerHeight}px`),i.style.transform="",e.msgs&&o>0&&e.msgs.setScrollBottom(u)}).catch(Promise.CancellationError,function(){(0,U.default)(i,"finish",!0)}).then(function(){e.didCancel?e.didCancel=!1:e.msgPanelAnimation=void 0})}else e.msgs.onComposeHeightChange(r)}},e.onWallpaperColorPreview=function(t){t?e.state.wallpaperColor!==t&&e.setState({wallpaperColor:t}):e.setState({wallpaperColor:f.default.assertGet("defaultPreference").wallpaperColor})},e.onSelectMessages=function(){e.state.selectable||e.setState({selectable:!0})},e.onCancelSelection=function(){e.state.selectable&&(e.selectedMessages.unsetAll(),e.setState({selectable:!1}))},e.onMessageSelect=function(t,n,r){e.onSelectMessages();var a=e.selectedMessages.getSelected().pop(),o=r&&r.shiftKey;e.selectedMessages.setVal(t,n,!0),o&&e.selectMsgRange(a,t,n)},e.selectMsgRange=function(t,n,r){var a=e.props.msgCollection;if(t&&a){var o=a.indexOf(t);if(o)for(var i=a.indexOf(n),u=i>o?-1:1,s=o+(r?u:i<o?0:2*u);i!==s;)e.selectedMessages.setVal((0,k.default)(a.at(i)),r,!0),i+=u}},e.onPageUpDown=function(t){e.msgs.onPageUpDown(t)},e.onDragStart=function(t){e.state.canCompose&&(e.blockDrop=!0)},e.onDragEnd=function(t){e.state.canCompose&&(e.blockDrop=!1)},e.onDragEnter=function(t){if(e.state.canCompose){e.onCancelSelection();var n=new y.default(t.dataTransfer);e.ComposeBoxRef&&!e.blockDrop&&(n.hasType("Files")||n.hasType("text/uri-list")||n.hasType("text/html"))&&(e.ComposeBoxRef.saveComposeContentDebounced.flush(),d.default.attachMediaDrawer({chat:e.props.chat,initCaption:e.ComposeBoxRef.getCurrentComposeContent(),onComplete:e.ComposeBoxRef.updateTextAfterMediaDrawerClose}),t.stopPropagation(),t.preventDefault())}},e.getComposeContents=function(){return e.ComposeBoxRef&&e.ComposeBoxRef.getCurrentComposeContent()},e.onMenuComplete=function(t,n){return e.ComposeBoxRef&&e.ComposeBoxRef.updateTextAfterMediaDrawerClose(t,n)},e.setRefFiller=function(t){e.refFiller=t},e.setRefMsgPanel=function(t){e.refMsgPanel=t},e.handleSetRefHeader=function(t){e.refHeader=t},e.getHeaderOffset=function(t){if(e.refHeader){var n=e.refHeader.getBoundingClientRect();t((0,r.default)(n,["right","bottom"]))}else t(null)},e.closeGroupDescription=function(){e.setState({showGroupDesc:!1})},e.getMsgs=(0,M.GetRef)("msgs",e);var n=e.props.chat;return e.selectedMessages=new N.default([],function(e){return e.id.toString()}),e.state={canCompose:n.canSend,selectable:!1,showGroupDesc:n.isGroup&&e.showGroupDesc(),wallpaperColor:e.props.chatPreference.wallpaperColor},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"showGroupDesc",value:function(){if(!(O.default.supportsFeature(O.default.F.GROUPS_V_3)&&R.default.groupDescLength>0))return!1;var e=this.props.chat;return!x.default.getSeenGroupDesc(e.id)&&(x.default.setSeenGroupDesc(e.id),0===e.unreadCount?!e.msgs.some(function(e){return e.type!==h.default.MSG_TYPE.E2E_NOTIFICATION&&e.type!==h.default.MSG_TYPE.GP2}):!e.shouldShowUnreadDivider)}},{key:"UNSAFE_componentWillMount",value:function(){var e=this,t=this.props.chat;this.props.listeners.add(t,"change:canSend",this.onComposeState),this.props.listeners.add(t,"change:isReadOnly change:isAnnounceGrpRestrict",this.updateAnnounceGrpState),this.props.listeners.add(d.default,"get_conversation_header_offset",this.getHeaderOffset),this.props.listeners.add(t.msgs,"remove",function(t){e.selectedMessages.isSelected(t)&&e.onMessageSelect(t,!1)}),this.openEvent=new T.default.WebcChatOpen({webcUnreadCount:t.unreadCount,webcWindowHeight:(0,S.default)()}),this.uiActionEvent=new T.default.UiAction({uiActionType:T.default.UI_ACTION_TYPE.CHAT_OPEN,uiActionPreloaded:!0});var n=t.getReceivedVCardMsgs();n&&!n.isSynced&&n.sync(t)}},{key:"componentDidMount",value:function(){var e=this,t=this.props.chat;t.active=!0;var n=this.openEvent;if(n){this.openEvent=null,this.msgs&&(n.webcRenderedMessageCount=this.msgs.getRenderedMessageCount()),n.markWebcChatOpenT(),this._beforePaintRafId=requestAnimationFrame(function(){e._beforePaintRafId=null,n.markWebcChatOpenBeforePaintT()});var r=this.props.rejectOnUnmount();(0,_.default)({signal:r}).then(function(){r.isRejected()||(e.msgs&&(n.webcFinalRenderedMessageCount=e.msgs.getRenderedMessageCount()),n.markWebcChatOpenPaintedT(),n.commit())}).catch(u.default,function(){})}var a=this.uiActionEvent;a&&(a.markUiActionT(),a.commit(),this.uiActionEvent=void 0),this.props.listeners.add(f.default,"wallpaper_color_preview",this.onWallpaperColorPreview),t.composeAttachMediaContents&&d.default.attachMediaDrawer({chat:t,animationName:"noop"})}},{key:"componentWillUnmount",value:function(){var e=this.props.chat;e.urlText&&(e.urlText=void 0),e.urlNumber&&(e.urlNumber=void 0),e.active=!1,null!=this._beforePaintRafId&&cancelAnimationFrame(this._beforePaintRafId)}},{key:"render",value:function(){var e=this.props,t=e.chat,n=e.msgCollection,r=e.focusCtx,a=e.groupMetadata,u=void 0,f=void 0,d=void 0,h=void 0;if(this.state.showGroupDesc&&a&&a.desc&&(h=o.createElement(D.default,{displayName:"GroupDesc",escapable:!0,requestDismiss:this.closeGroupDescription},o.createElement(v.default,{onClose:this.closeGroupDescription},o.createElement(w.default,{chat:t,groupMetadata:a})))),this.state.selectable)f=o.createElement(D.default,{displayName:"MultiSelect",escapable:!0,requestDismiss:this.onCancelSelection},o.createElement(A.default,{chat:t,selectedMessages:this.selectedMessages,disableRevoke:!1,noSortOnForward:!1,onCancel:this.onCancelSelection})),u=o.createElement("footer",{className:g.default.footer}),d=o.createElement("div",{ref:this.setRefFiller,className:g.default.filler});else if(this.state.canCompose)u=o.createElement(p.default,{chat:t,ref:(0,M.GetRef)("ComposeBoxRef",this),onComposeHeightChange:this.onComposeHeightChange,onPageUpDown:this.onPageUpDown}),d=o.createElement("div",{ref:this.setRefFiller,style:{height:`${this.fillerHeight}px`},className:g.default.filler});else{var y=void 0,_=void 0;t.isGroup&&!t.isReadOnly&&t.isAnnounceGrpRestrict&&a?y=o.createElement(s.default,{chat:t,groupMetadata:a,mute:t.mute}):_=t.isGroup?l10n.t(1154):t.isPSA?l10n.t(1341):l10n.t(1155,{contact:t.contact.formattedName}),u=o.createElement("footer",{className:g.default.footer},o.createElement("div",{"data-a8n":i.default.key("block-message"),className:g.default.footerMessage},y||_))}return o.createElement(D.default,{displayName:"ConversationPanel",state:D.default.State.INACTIVE},o.createElement("div",{id:"main",className:g.default.pane},o.createElement(m.default,{wallpaperColor:this.state.wallpaperColor}),o.createElement(P.default,{chat:t,onSelectMessages:this.onSelectMessages,canAttach:this.state.canCompose,onRef:this.handleSetRefHeader,getComposeContents:this.getComposeContents,onMenuComplete:this.onMenuComplete}),o.createElement(G.default,{transitionName:"butterbar",className:g.default.subheader},h),o.createElement("div",{className:g.default.subheader},o.createElement(l.default,{chat:t})),o.createElement("div",{className:g.default.body,ref:this.setRefMsgPanel,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd,onDragEnter:this.onDragEnter},o.createElement(b.default,{ref:this.getMsgs,chat:t,selectable:this.state.selectable,onMessageSelect:this.onMessageSelect,msgCollection:n,onSelectMessages:this.onSelectMessages,focusCtx:r,selectedMessages:this.selectedMessages,notifyChatRendered:this.props.notifyChatRendered,updateOpenedChatInfo:this.props.updateOpenedChatInfo})),d,u,o.createElement(G.default,{transitionName:"slide-up"},f),o.createElement(c.default,null)))}}]),t}();$.CONCERNS={chatPreference:["wallpaperColor"]},$.WEAK_CONCERNS={groupMetadata:["desc","announce","participants"]},$.displayName="ConversationPanel",e.exports=(0,I.default)((0,C.default)((0,L.default)($,$.CONCERNS)))},dabcaghhah:function(e,t,n){"use strict";var r={singleByte:[void 0,void 0,void 0,"200","400","404","500","501","502","action","add","after","archive","author","available","battery","before","body","broadcast","chat","clear","code","composing","contacts","count","create","debug","delete","demote","duplicate","encoding","error","false","filehash","from","g.us","group","groups_v2","height","id","image","in","index","invis","item","jid","kind","last","leave","live","log","media","message","mimetype","missing","modify","name","notification","notify","out","owner","participant","paused","picture","played","presence","preview","promote","query","raw","read","receipt","received","recipient","recording","relay","remove","response","resume","retry","s.whatsapp.net","seconds","set","size","status","subject","subscribe","t","text","to","true","type","unarchive","unavailable","url","user","value","web","width","mute","read_only","admin","creator","short","update","powersave","checksum","epoch","block","previous","409","replaced","reason","spam","modify_tag","message_info","delivery","emoji","title","description","canonical-url","matched-text","star","unstar","media_key","filename","identity","unread","page","page_count","search","media_message","security","call_log","profile"],doubleByte:[],nibbleEncode:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,"-":10,".":11,"\0":15},nibbleDecode:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"-",11:".",15:"\0"}};e.exports=r},dabcbibhcf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=u(n("ceffhbhahb")),o=u(n("cegfacfjjj")),i=u(n("bfdcadbbif"));function u(e){return e&&e.__esModule?e:{default:e}}function s(){return r.createElement("div",{className:(0,a.default)(o.default.centerChild,o.default.show)},r.createElement(i.default,{name:"sticker"}))}s.displayName="StickerPackIconPlaceHolder",t.default=s},dabiaaabdf:function(e,t){e.exports={checkboxContainer:"_3wpnE",checkbox:"_1Zo-R",checkmark:"_1ygtt",partialCheckMark:"_3MbsG",checkedCheckbox:"_15wNI",checkedCheckmark:"_3zTzS","checkmark-expand":"_1M_aK",checkmarkExpand:"_1M_aK",uncheckedCheckmark:"_31Di_",disabled:"_2lvd3"}},dabidjgjaj:function(e,t,n){"use strict";e.exports={singleByte:["gif","vcard","frequent"]}},dabieifebj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(0===e.length)return"";var n=e[0];if(1===e.length)return n;var r=e[e.length-1];if(2===e.length)return function(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?l10n.t(764,u(e,t)):a.createElement(i.default,{id:764,params:{A:e,B:t}})}(n,r,t);var o=e[1],s=e.slice(2,e.length-1);return function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=[o?l10n.t(763,u(e,t)):a.createElement(i.default,{id:763,key:"listItem_firstItem",params:{A:e,B:t}})],l=n.reduce(function(e,t,n){return[o?l10n.t(761,u(t,e)):a.createElement(i.default,{id:761,key:`listItem_${n}`,params:{A:t,B:e}})]},s);return o?l10n.t(761,u(l,r)):a.createElement(i.default,{id:762,params:{A:l,B:r}})}(n,o,s,r)};var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("djhbegbdaf"),i=(r=o)&&r.__esModule?r:{default:r};function u(e,t){return{A:e,B:t}}},dacbiajefj:function(e,t,n){"use strict";e.exports={"#":1,"*":2,"0":3,"1":4,"2":5,"3":6,"4":7,"5":8,"6":9,"7":10,"8":11,"9":12,"":13,"":14,"":15,"":16,"":17,"":18,"":19,"":20,"":21,"":22,"":23,"":24,"":25,"":26,"":27,"":28,"":29,"":30,"":31,"":32,"":33,"":34,"":35,"":36,"":37,"":38,"":39,"":40,"":41,"":42,"":43,"":44,"":45,"":46,"":47,"":48,"":49,"":50,"":51,"":52,"":53,"":54,"":55,"":56,"":57,"":58,"":59,"":60,"":61,"":62,"":63,"":64,"":65,"":66,"":67,"":68,"":69,"":70,"":71,"":72,"":73,"":74,"":75,"":76,"":77,"":78,"":79,"":80,"":81,"":82,"":83,"":84,"":85,"":86,"":87,"":88,"":89,"":90,"":91,"":92,"":93,"":94,"":95,"":96,"":97,"":98,"":99,"":100,"":101,"":102,"":103,"":104,"":105,"":106,"":107,"":108,"":109,"":110,"":111,"":112,"":113,"":114,"":115,"":116,"":117,"":118,"":119,"":120,"":121,"":122,"":123,"":124,"":125,"":126,"":127,"":128,"":129,"":130,"":131,"":132,"":133,"":134,"":135,"":136,"":137,"":138,"":139,"":140,"":141,"":142,"":143,"":144,"":145,"":146,"":147,"":148,"":149,"":150,"":151,"":152,"":153,"":154,"":155,"":156,"":157,"":158,"":159,"":160,"":161,"":162,"":163,"":164,"":165,"":166,"":167,"":168,"":169,"":170,"":171,"":172,"":173,"":174,"":175,"":176,"":177,"":178,"":179,"":180,"":181,"":182,"":183,"":184,"":185,"":186,"":187,"":188,"":189,"":190,"":191,"":192,"":193,"":194,"":195,"":196,"":197,"":198,"":199,"":200,"":201,"":202,"":203,"":204,"":205,"":206,"":207,"":208,"":209,"":210,"":211,"":212,"":213,"":214,"":215,"":216,"":217,"":218,"":219,"":220,"":221,"":222,"":223,"":224,"":225,"":226,"":227,"":228,"":229,"":230,"":231,"":232,"":233,"":234,"":235,"":236,"":237,"":238,"":239,"":240,"":241,"":242,"":243,"":244,"":245,"":246,"":247,"":248,"":249,"":250,"":251,"":252,"":253,"":254,"":255,"":256,"":257,"":258,"":259,"":260,"":261,"":262,"":263,"":264,"":265,"":266,"":267,"":268,"":269,"":270,"":271,"":272,"":273,"":274,"":275,"":276,"":277,"":278,"":279,"":280,"":281,"":282,"":283,"":284,"":285,"":286,"":287,"":288,"":289,"":290,"":291,"":292,"":293,"":294,"":295,"":296,"":297,"":298,"":299,"":300,"":301,"":302,"":303,"":304,"":305,"":306,"":307,"":308,"":309,"":310,"":311,"":312,"":313,"":314,"":315,"":316,"":317,"":318,"":319,"":320,"":321,"":322,"":323,"":324,"":325,"":326,"":327,"":328,"":329,"":330,"":331,"":332,"":333,"":334,"":335,"":336,"":337,"":338,"":339,"":340,"":341,"":342,"":343,"":344,"":345,"":346,"":347,"":348,"":349,"":350,"":351,"":352,"":353,"":354,"":355,"":356,"":357,"":358,"":359,"":360,"":361,"":362,"":363,"":364,"":365,"":366,"":367,"":368,"":369,"":370,"":371,"":372,"":373,"":374,"":375,"":376,"":377,"":378,"":379,"":380,"":381,"":382,"":383,"":384,"":385,"":386,"":387,"":388,"":389,"":390,"":391,"":392,"":393,"":394,"":395,"":396,"":397,"":398,"":399,"":400,"":401,"":402,"":403,"":404,"":405,"":406,"":407,"":408,"":409,"":410,"":411,"":412,"":413,"":414,"":415,"":416,"":417,"":418,"":419,"":420,"":421,"":422,"":423,"":424,"":425,"":426,"":427,"":428,"":429,"":430,"":431,"":432,"":433,"":434,"":435,"":436,"":437,"":438,"":439,"":440,"":441,"":442,"":443,"":444,"":445,"":446,"":447,"":448,"":449,"":450,"":451,"":452,"":453,"":454,"":455,"":456,"":457,"":458,"":459,"":460,"":461,"":462,"":463,"":464,"":465,"":466,"":467,"":468,"":469,"":470,"":471,"":472,"":473,"":474,"":475,"":476,"":477,"":478,"":479,"":480,"":481,"":482,"":483,"":484,"":485,"":486,"":487,"":488,"":489,"":490,"":491,"":491,"":492,"":493,"":493,"":494,"":495,"":495,"":496,"":497,"":497,"":498,"":499,"":499,"":500,"":501,"":501,"":502,"":503,"":503,"":504,"":505,"":505,"":506,"":507,"":507,"":508,"":509,"":509,"":510,"":511,"":511,"":512,"":513,"":513,"":514,"":515,"":516,"":517,"":518,"":519,"":520,"":521,"":522,"":523,"":524,"":525,"":525,"":526,"":527,"":527,"":528,"":529,"":529,"":530,"":531,"":531,"":532,"":533,"":533,"":534,"":535,"":535,"":536,"":537,"":537,"":538,"":539,"":539,"":540,"":541,"":541,"":542,"":543,"":543,"":544,"":545,"":545,"":546,"":547,"":547,"":548,"":549,"":549,"":550,"":551,"":551,"":552,"":553,"":553,"":554,"":555,"":555,"":556,"":557,"":557,"":558,"":559,"":559,"":560,"":561,"":562,"":563,"":564,"":565,"":566,"":567,"":568,"":569,"":570,"":571,"":572,"":573,"":574,"":575,"":576,"":577,"":578,"":579,"":580,"":581,"":582,"":583,"":584,"":585,"":586,"":587,"":588,"":589,"":590,"":591,"":592,"":593,"":594,"":595,"":596,"":597,"":598,"":599,"":600,"":601,"":602,"":603,"":604,"":605,"":606,"":607,"":608,"":609,"":610,"":611,"":612,"":613,"":614,"":615,"":616,"":617,"":618,"":619,"":620,"":621,"":622,"":623,"":624,"":625,"":626,"":627,"":628,"":629,"":630,"":631,"":632,"":633,"":634,"":635,"":636,"":637,"":638,"":639,"":640,"":641,"":642,"":643,"":644,"":645,"":646,"":647,"":648,"":649,"":650,"":651,"":652,"":653,"":654,"":655,"":656,"":657,"":658,"":659,"":660,"":661,"":662,"":663,"":664,"":665,"":666,"":667,"":668,"":669,"":670,"":671,"":672,"":673,"":674,"":675,"":676,"":677,"":678,"":679,"":680,"":681,"":682,"":683,"":684,"":685,"":686,"":687,"":688,"":689,"":690,"":691,"":692,"":693,"":694,"":695,"":696,"":697,"":698,"":699,"":700,"":701,"":702,"":703,"":704,"":705,"":706,"":707,"":708,"":709,"":710,"":711,"":712,"":713,"":714,"":715,"":716,"":717,"":718,"":719,"":720,"":721,"":722,"":723,"":724,"":725,"":726,"":727,"":728,"":729,"":730,"":731,"":732,"":733,"":734,"":735,"":736,"":737,"":738,"":739,"":740,"":741,"":742,"":743,"":744,"":745,"":746,"":747,"":748,"":749,"":750,"":751,"":752,"":753,"":754,"":755,"":756,"":757,"":758,"":759,"":760,"":761,"":762,"":763,"":764,"":765,"":766,"":767,"":768,"":769,"":770,"":771,"":772,"":773,"":774,"":775,"":776,"":777,"":778,"":779,"":780,"":781,"":782,"":783,"":784,"":785,"":786,"":787,"":788,"":789,"":790,"":791,"":792,"":793,"":794,"":795,"":796,"":797,"":798,"":799,"":800,"":801,"":802,"":803,"":804,"":805,"":806,"":807,"":808,"":809,"":810,"":811,"":812,"":813,"":814,"":815,"":816,"":817,"":818,"":819,"":820,"":821,"":822,"":823,"":824,"":825,"":826,"":827,"":828,"":829,"":830,"":831,"":832,"":833,"":834,"":835,"":836,"":837,"":838,"":839,"":840,"":841,"":842,"":843,"":844,"":845,"":846,"":847,"":848,"":849,"":850,"":851,"":852,"":853,"":854,"":855,"":856,"":857,"":858,"":859,"":860,"":861,"":862,"":863,"":864,"":865,"":866,"":867,"":868,"":869,"":870,"":871,"":872,"":873,"":874,"":875,"":876,"":877,"":878,"":879,"":880,"":881,"":882,"":883,"":884,"":885,"":886,"":887,"":888,"":889,"":890,"":891,"":892,"":893,"":894,"":895,"":896,"":897,"":898,"":899,"":900,"":901,"":902,"":903,"":904,"":905,"":906,"":907,"":908,"":909,"":910,"":911,"":912,"":913,"":914,"":915,"":916,"":917,"":918,"":919,"":920,"":921,"":922,"":923,"":924,"":925,"":926,"":927,"":928,"":929,"":930,"":931,"":932,"":933,"":934,"":935,"":936,"":937,"":938,"":939,"":940,"":941,"":942,"":943,"":944,"":945,"":946,"":947,"":948,"":949,"":950,"":951,"":952,"":953,"":954,"":955,"":956,"":957,"":958,"":959,"":960,"":961,"":962,"":963,"":964,"":965,"":966,"":967,"":968,"":969,"":970,"":971,"":972,"":973,"":974,"":975,"":976,"":977,"":978,"":979,"":980,"":981,"":982,"":983,"":984,"":985,"":986,"":987,"":988,"":989,"":990,"":991,"":992,"":993,"":994,"":995,"":996,"":997,"":998,"":999,"":1e3,"":1001,"":1002,"":1003,"":1004,"":1005,"":1006,"":1007,"":1008,"":1009,"":1010,"":1011,"":1012,"":1013,"":1014,"":1015,"":1016,"":1017,"":1018,"":1019,"":1020,"":1021,"":1022,"":1023,"":1024,"":1025,"":1026,"":1027,"":1028,"":1029,"":1030,"":1031,"":1032,"":1033,"":1034,"":1035,"":1036,"":1037,"":1038,"":1039,"":1040,"":1041,"":1042,"":1043,"":1044,"":1045,"":1046,"":1047,"":1048,"":1049,"":1050,"":1051,"":1052,"":1053,"":1054,"":1055,"":1056,"":1057,"":1058,"":1059,"":1060,"":1061,"":1062,"":1063,"":1064,"":1065,"":1066,"":1067,"":1068,"":1069,"":1070,"":1071,"":1072,"":1073,"":1074,"":1075,"":1075,"":1076,"":1077,"":1077,"":1078,"":1079,"":1079,"":1080,"":1081,"":1081,"":1082,"":1083,"":1083,"":1084,"":1085,"":1085,"":1086,"":1086,"":1087,"":1088,"":1088,"":1089,"":1090,"":1090,"":1091,"":1092,"":1092,"":1093,"":1094,"":1094,"":1095,"":1096,"":1096,"":1097,"":1098,"":1099,"":1100,"":1101,"":1102,"":1103,"":1104,"":1105,"":1105,"":1106,"":1107,"":1107,"":1108,"":1109,"":1109,"":1110,"":1111,"":1111,"":1112,"":1113,"":1113,"":1114,"":1115,"":1115,"":1116,"":1117,"":1118,"":1119,"":1120,"":1121,"":1122,"":1123,"":1123,"":1124,"":1125,"":1125,"":1126,"":1127,"":1127,"":1128,"":1129,"":1129,"":1130,"":1131,"":1131,"":1132,"":1133,"":1133,"":1134,"":1135,"":1136,"":1137,"":1138,"":1139,"":1140,"":1141,"":1142,"":1143,"":1144,"":1145,"":1146,"":1147,"":1148,"":1149,"":1150,"":1151,"":1152,"":1153,"":1153,"":1154,"":1155,"":1155,"":1156,"":1157,"":1157,"":1158,"":1159,"":1159,"":1160,"":1161,"":1161,"":1162,"":1163,"":1163,"":1164,"":1165,"":1166,"":1167,"":1168,"":1169,"":1170,"":1171,"":1172,"":1173,"":1174,"":1175,"":1176,"":1177,"":1178,"":1179,"":1180,"":1181,"":1182,"":1183,"":1183,"":1184,"":1185,"":1185,"":1186,"":1187,"":1187,"":1188,"":1189,"":1189,"":1190,"":1191,"":1191,"":1192,"":1193,"":1193,"":1194,"":1195,"":1196,"":1196,"":1197,"":1198,"":1198,"":1199,"":1200,"":1200,"":1201,"":1202,"":1202,"":1203,"":1204,"":1204,"":1205,"":1206,"":1206,"":1207,"":1208,"":1209,"":1210,"":1211,"":1212,"":1213,"":1214,"":1215,"":1216,"":1217,"":1218,"":1219,"":1220,"":1220,"":1221,"":1222,"":1222,"":1223,"":1224,"":1224,"":1225,"":1226,"":1226,"":1227,"":1228,"":1228,"":1229,"":1230,"":1230,"":1231,"":1232,"":1232,"":1233,"":1234,"":1234,"":1235,"":1235,"":1236,"":1236,"":1237,"":1237,"":1238,"":1238,"":1239,"":1240,"":1241,"":1242,"":1243,"":1244,"":1245,"":1246,"":1247,"":1248,"":1249,"":1250,"":1251,"":1252,"":1253,"":1254,"":1255,"":1256,"":1257,"":1258,"":1259,"":1260,"":1261,"":1262,"":1263,"":1264,"":1265,"":1266,"":1267,"":1268,"":1269,"":1270,"":1271,"":1272,"":1273,"":1274,"":1275,"":1276,"":1277,"":1278,"":1279,"":1280,"":1281,"":1282,"":1283,"":1284,"":1285,"":1286,"":1287,"":1288,"":1289,"":1290,"":1291,"":1292,"":1293,"":1294,"":1295,"":1296,"":1297,"":1298,"":1299,"":1300,"":1301,"":1302,"":1303,"":1304,"":1305,"":1306,"":1307,"":1308,"":1309,"":1310,"":1311,"":1312,"":1313,"":1314,"":1315,"":1316,"":1317,"":1318,"":1319,"":1320,"":1321,"":1322,"":1323,"":1324,"":1325,"":1326,"":1327,"":1328,"":1329,"":1330,"":1331,"":1332,"":1333,"":1334,"":1335,"":1336,"":1337,"":1338,"":1339,"":1340,"":1341,"":1342,"":1343,"":1344,"":1345,"":1346,"":1347,"":1348,"":1349,"":1350,"":1351,"":1352,"":1353,"":1354,"":1355,"":1356,"":1357,"":1358,"":1359,"":1360,"":1361,"":1362,"":1363,"":1364,"":1365,"":1366,"":1367,"":1368,"":1369,"":1370,"":1371,"":1372,"":1373,"":1374,"":1375,"":1376,"":1377,"":1378,"":1379,"":1380,"":1381,"":1382,"":1383,"":1384,"":1385,"":1386,"":1387,"":1388,"":1389,"":1390,"":1391,"":1392,"":1393,"":1394,"":1395,"":1396,"":1397,"":1398,"":1399,"":1400,"":1401,"":1402,"":1403,"":1404,"":1405,"":1406,"":1407,"":1408,"":1409,"":1410,"":1411,"":1412,"":1413,"":1414,"":1415,"":1416,"":1417,"":1418,"":1419,"":1420,"":1421,"":1422,"":1423,"":1424,"":1425,"":1426,"":1427,"":1428,"":1429,"":1430,"":1431,"":1432,"":1433,"":1434,"":1435,"":1436,"":1437,"":1438,"":1439,"":1440,"":1441,"":1442,"":1443,"":1444,"":1445,"":1446,"":1447,"":1448,"":1449,"":1450,"":1451,"":1452,"":1453,"":1454,"":1455,"":1456,"":1457,"":1458,"":1459,"":1460,"":1461,"":1462,"":1462,"":1463,"":1464,"":1464,"":1465,"":1466,"":1466,"":1467,"":1468,"":1468,"":1469,"":1470,"":1470,"":1471,"":1472,"":1472,"":1473,"":1474,"":1475,"":1476,"":1477,"":1478,"":1479,"":1480,"":1481,"":1482,"":1483,"":1484,"":1485,"":1486,"":1487,"":1488,"":1489,"":1490,"":1491,"":1492,"":1493,"":1494,"":1495,"":1496,"":1497,"":1498,"":1499,"":1500,"":1501,"":1502,"":1503,"":1504,"":1505,"":1506,"":1507,"":1508,"":1509,"":1510,"":1511,"":1512,"":1513,"":1514,"":1515,"":1516,"":1517,"":1518,"":1519,"":1520,"":1521,"":1522,"":1523,"":1524,"":1525,"":1526,"":1527,"":1528,"":1529,"":1530,"":1531,"":1532,"":1533,"":1534,"":1535,"":1536,"":1537,"":1538,"":1539,"":1540,"":1541,"":1542,"":1543,"":1544,"":1545,"":1546,"":1547,"":1548,"":1549,"":1550,"":1551,"":1552,"":1553,"":1554,"":1555,"":1556,"":1557,"":1558,"":1559,"":1560,"":1561,"":1562,"":1563,"":1564,"":1565,"":1566,"":1567,"":1568,"":1569,"":1570,"":1571,"":1572,"":1573,"":1574,"":1575,"":1576,"":1577,"":1578,"":1579,"":1580,"":1581,"":1582,"":1583,"":1584,"":1585,"":1586,"":1587,"":1588,"":1589,"":1590,"":1591,"":1592,"":1593,"":1594,"":1595,"":1596,"":1597,"":1598,"":1599,"":1599,"":1600,"":1601,"":1601,"":1602,"":1603,"":1603,"":1604,"":1605,"":1605,"":1606,"":1607,"":1607,"":1608,"":1609,"":1609,"":1610,"":1611,"":1611,"":1612,"":1613,"":1613,"":1614,"":1615,"":1615,"":1616,"":1617,"":1617,"":1618,"":1619,"":1619,"":1620,"":1621,"":1621,"":1622,"":1623,"":1624,"":1624,"":1625,"":1626,"":1626,"":1627,"":1628,"":1628,"":1629,"":1630,"":1630,"":1631,"":1632,"":1632,"":1633,"":1634,"":1634,"":1635,"":1636,"":1637,"":1638,"":1638,"":1639,"":1640,"":1640,"":1641,"":1642,"":1642,"":1643,"":1644,"":1644,"":1645,"":1646,"":1646,"":1647,"":1648,"":1648,"":1649,"":1650,"":1651,"":1652,"":1653,"":1654,"":1655,"":1656,"":1656,"":1657,"":1658,"":1658,"":1659,"":1660,"":1660,"":1661,"":1662,"":1662,"":1663,"":1664,"":1664,"":1665,"":1666,"":1666,"":1667,"":1668,"":1668,"":1669,"":1670,"":1670,"":1671,"":1672,"":1672,"":1673,"":1674,"":1674,"":1675,"":1676,"":1676,"":1677,"":1678,"":1678,"":1679,"":1680,"":1681,"":1682,"":1683,"":1684,"":1685,"":1686,"":1687,"":1688,"":1689,"":1690,"":1691,"":1692,"":1693,"":1694,"":1695,"":1696,"":1697,"":1698,"":1699,"":1700,"":1701,"":1702,"":1703,"":1704,"":1705,"":1706,"":1707,"":1708,"":1709,"":1710,"":1711,"":1712,"":1713,"":1714,"":1715,"":1716,"":1717,"":1718,"":1719,"":1720,"":1720,"":1721,"":1721,"":1722,"":1722,"":1723,"":1723,"":1724,"":1724,"":1725,"":1725,"":1726,"":1727,"":1728,"":1729,"":1730,"":1731,"":1732,"":1733,"":1734,"":1735,"":1736,"":1737,"":1738,"":1739,"":1740,"":1741,"":1742,"":1743,"":1743,"":1744,"":1745,"":1745,"":1746,"":1747,"":1747,"":1748,"":1749,"":1749,"":1750,"":1751,"":1751,"":1752,"":1753,"":1753,"":1754,"":1755,"":1755,"":1756,"":1757,"":1757,"":1758,"":1759,"":1759,"":1760,"":1761,"":1761,"":1762,"":1763,"":1763,"":1764,"":1765,"":1765,"":1766,"":1767,"":1767,"":1768,"":1769,"":1769,"":1770,"":1771,"":1771,"":1772,"":1773,"":1773,"":1774,"":1775,"":1775,"":1776,"":1777,"":1777,"":1778,"":1779,"":1780,"":1781,"":1782,"":1783,"":1784,"":1785,"":1786,"":1787,"":1788,"":1789,"":1790,"":1791,"":1792,"":1793,"":1794,"":1795,"":1796,"":1797,"":1798,"":1799,"":1800,"":1801,"":1802,"":1803,"":1804,"":1805,"":1806,"":1807,"":1808,"":1809,"":1810,"":1811,"":1812,"":1813,"":1814,"":1815,"":1816,"":1817,"":1818,"":1819,"":1820,"":1821,"":1822,"":1823,"":1824,"":1825,"":1826,"":1827,"":1828,"":1829,"":1830,"":1831,"":1832,"":1833,"":1834,"":1835,"":1836,"":1837,"":1838,"":1839,"":1840,"":1841,"":1842,"":1843,"":1844,"":1845,"":1846,"":1847,"":1848,"":1849,"":1850,"":1851,"":1852,"":1853,"":1854,"":1855,"":1856,"":1857,"":1858,"":1859,"":1860,"":1861,"":1862,"":1863,"":1864,"":1865,"":1866,"":1867,"":1868,"":1869,"":1870,"":1871,"":1872,"":1873,"":1874,"":1875,"":1876,"":1877,"":1878,"":1879,"":1880,"":1881,"":1882,"":1883,"":1884,"":1885,"":1886,"":1887,"":1888,"":1888,"":1889,"":1890,"":1890,"":1891,"":1892,"":1892,"":1893,"":1894,"":1894,"":1895,"":1896,"":1896,"":1897,"":1898,"":1898,"":1899,"":1900,"":1901,"":1902,"":1903,"":1904,"":1905,"":1906,"":1907,"":1908,"":1909,"":1910,"":1911,"":1912,"":1913,"":1914,"":1915,"":1916,"":1917,"":1918,"":1919,"":1920,"":1921,"":1922,"":1923,"":1924,"":1925,"":1926,"":1927,"":1928,"":1929,"":1930,"":1931,"":1932,"":1933,"":1934,"":1935,"":1936,"":1937,"":1938,"":1939,"":1940,"":1941,"":1942,"":1943,"":1944,"":1945,"":1946,"":1947,"":1948,"":1949,"":1950,"":1950,"":1951,"":1952,"":1952,"":1953,"":1954,"":1954,"":1955,"":1956,"":1956,"":1957,"":1958,"":1958,"":1959,"":1960,"":1960,"":1961,"":1962,"":1963,"":1963,"":1964,"":1965,"":1965,"":1966,"":1967,"":1967,"":1968,"":1969,"":1969,"":1970,"":1971,"":1971,"":1972,"":1973,"":1973,"":1974,"":1975,"":1975,"":1976,"":1977,"":1977,"":1978,"":1979,"":1979,"":1980,"":1981,"":1981,"":1982,"":1983,"":1983,"":1984,"":1985,"":1985,"":1986,"":1987,"":1988,"":1988,"":1989,"":1990,"":1990,"":1991,"":1992,"":1992,"":1993,"":1994,"":1994,"":1995,"":1996,"":1996,"":1997,"":1998,"":1998,"":1999,"":2e3,"":2e3,"":2001,"":2001,"":2002,"":2003,"":2003,"":2004,"":2005,"":2005,"":2006,"":2007,"":2007,"":2008,"":2009,"":2009,"":2010,"":2011,"":2011,"":2012,"":2013,"":2014,"":2015,"":2016,"":2017,"":2018,"":2019,"":2020,"":2021,"":2022,"":2023,"":2024,"":2025,"":2026,"":2027,"":2028,"":2029,"":2030,"":2031,"":2032,"":2033,"":2034,"":2035,"":2036,"":2037,"":2038,"":2039,"":2040,"":2041,"":2042,"":2043,"":2044,"":2045,"":2046,"":2047,"":2048,"":2049,"":2050,"":2051,"":2052,"":2053,"":2054,"":2055,"":2056,"":2057,"":2058,"":2059,"":2060,"":2061,"":2062,"":2063,"":2064,"":2065,"":2066,"":2067,"":2068,"":2069,"":2070,"":2071,"":2072,"":2073,"":2074,"":2075,"":2076,"":2077,"":2078,"":2079,"":2080,"":2081,"":2082,"":2083,"":2084,"":2085,"":2086,"":2087,"":2088,"":2089,"":2090,"":2091,"":2092,"":2093,"":2094,"":2095,"":2096,"":2097,"":2098,"":2099,"":2100,"":2101,"":2102,"":2103,"":2104,"":2105,"":2106,"":2107,"":2108,"":2109,"":2110,"":2111,"":2112,"":2113,"":2114,"":2115,"":2116,"":2117,"":2118,"":2119,"":2120,"":2121,"":2122,"":2123,"":2124,"":2125,"":2126,"":2127,"":2128,"":2129,"":2130,"":2131,"":2132,"":2133,"":2134,"":2135,"":2136,"":2137,"":2138,"":2139,"":2140,"":2141,"":2142,"":2143,"":2144,"":2145,"":2146,"":2147,"":2148,"":2149,"":2150,"":2151,"":2152,"":2153,"":2154,"":2155,"":2156,"":2157,"":2158,"":2159,"":2160,"":2161,"":2162,"":2163,"":2164,"":2165,"":2166,"":2167,"":2168,"":2169,"":2170,"":2171,"":2172,"":2173,"":2174,"":2175,"":2176,"":2176,"":2177,"":2178,"":2178,"":2179,"":2180,"":2180,"":2181,"":2182,"":2182,"":2183,"":2184,"":2184,"":2185,"":2186,"":2186,"":2187,"":2187,"":2188,"":2189,"":2189,"":2190,"":2191,"":2191,"":2192,"":2193,"":2193,"":2194,"":2195,"":2195,"":2196,"":2197,"":2197,"":2198,"":2199,"":2199,"":2200,"":2201,"":2201,"":2202,"":2203,"":2203,"":2204,"":2205,"":2205,"":2206,"":2207,"":2207,"":2208,"":2209,"":2209,"":2210,"":2211,"":2211,"":2212,"":2213,"":2213,"":2214,"":2215,"":2215,"":2216,"":2217,"":2217,"":2218,"":2219,"":2219,"":2220,"":2221,"":2221,"":2222,"":2223,"":2223,"":2224,"":2225,"":2225,"":2226,"":2227,"":2227,"":2228,"":2229,"":2229,"":2230,"":2231,"":2231,"":2232,"":2233,"":2233,"":2234,"":2235,"":2235,"":2236,"":2236,"":2237,"":2237,"":2238,"":2238,"":2239,"":2239,"":2240,"":2240,"":2241,"":2241,"":2242,"":2243,"":2243,"":2244,"":2245,"":2245,"":2246,"":2247,"":2247,"":2248,"":2249,"":2249,"":2250,"":2251,"":2251,"":2252,"":2253,"":2254,"":2254,"":2255,"":2256,"":2256,"":2257,"":2258,"":2258,"":2259,"":2260,"":2260,"":2261,"":2262,"":2262,"":2263,"":2264,"":2264,"":2265,"":2265,"":2266,"":2267,"":2267,"":2268,"":2269,"":2270,"":2271,"":2272,"":2273,"":2274,"":2275,"":2276,"":2277,"":2278,"":2279,"":2280,"":2281,"":2282,"":2283,"":2284,"":2285,"":2286,"":2287,"":2288,"":2289,"":2290,"":2291,"":2292,"":2293,"":2294,"":2295,"":2296,"":2297,"":2298,"":2299,"":2300,"":2301,"":2302,"":2303,"":2304,"":2305,"":2306,"":2307,"":2308,"":2309,"":2310,"":2311,"":2312,"":2313,"":2314,"":2315,"":2316,"":2317,"":2318,"":2319,"":2320,"":2321,"":2322,"":2323,"":2324,"":2325,"":2326,"":2327,"":2328,"":2329,"":2330,"":2331,"":2332,"":2333,"":2334,"":2335,"":2336,"":2337,"":2338,"":2339,"":2340,"":2341,"":2342,"":2343,"":2344,"":2345,"":2346,"":2347,"":2348,"":2349,"":2350,"":2351,"":2352,"":2353,"":2354,"":2355,"":2356,"":2357,"":2358,"":2359,"":2360,"":2361,"":2362,"":2363,"":2364,"":2365,"":2366,"":2367,"":2368,"":2369,"":2370,"":2371,"":2372,"":2373,"":2374,"":2375,"":2376,"":2377,"":2378,"":2379,"":2380,"":2381,"":2382,"":2383,"":2384,"":2385,"":2386,"":2387,"":2388,"":2389,"":2390,"":2391,"":2392,"":2393,"":2394,"":2395,"":2396,"":2397,"":2398,"":2399,"":2400,"":2401,"":2402,"":2403,"":2404,"":2405,"":2406,"":2407,"":2408,"":2409,"":2410,"":2411,"":2412,"":2413,"":2414,"":2415,"":2416,"":2417,"":2418,"":2419,"":2420,"":2421,"":2422,"":2423,"":2424,"":2425,"":2426,"":2427,"":2428,"":2429,"":2430,"":2431,"":2432,"":2433,"":2434,"":2435,"":2436,"":2437,"":2438,"":2439,"":2440,"":2441,"":2442,"":2443,"":2444,"":2445,"":2446,"":2447,"":2448,"":2449,"":2450,"":2451,"":2452,"":2453,"":2454,"":2455,"":2456,"":2457,"":2458,"":2459,"":2460,"":2461,"":2462,"":2463,"":2464,"":2465,"":2466,"":2467,"":2468,"":2469,"":2470,"":2470,"":2471,"":2472,"":2472,"":2473,"":2474,"":2474,"":2475,"":2476,"":2476,"":2477,"":2478,"":2478,"":2479,"":2480,"":2480,"":2481,"":2482,"":2483,"":2484,"":2485,"":2486,"":2487,"":2488,"":2489,"":2490,"":2491,"":2492,"":2493,"":2494,"":2495,"":2496,"":2497,"":2498,"":2499,"":2500,"":2501,"":2502,"":2503,"":2504,"":2505,"":2506,"":2507,"":2508,"":2509,"":2510,"":2511,"":2512,"":2513,"":2514,"":2515,"":2516,"":2517,"":2518,"":2519,"":2520,"":2521,"":2522,"":2523,"":2524,"":2525,"":2526,"":2527,"":2528,"":2529,"":2530,"":2531,"":2532,"":2533,"":2534,"":2535,"":2536,"":2537,"":2538,"":2539,"":2540,"":2541,"":2542,"":2543,"":2544,"":2545,"":2546,"":2547,"":2548}},dacdidjdfi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CHECKBOX_THEME=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=u(n("ceffhbhahb")),i=u(n("dabiaaabdf"));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=t.CHECKBOX_THEME={PARTIAL:"PARTIAL"},c=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.onToggle=function(e){e&&e.stopPropagation(),r.props.onChange(e)},s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.checked,n=e.theme,r=e.disabled,u=(0,o.default)(i.default.checkbox,{[i.default.checkedCheckbox]:t,[i.default.disabled]:r}),s=(0,o.default)(i.default.checkmark,{[i.default.checkedCheckmark]:t&&n!==l.PARTIAL,[i.default.uncheckedCheckmark]:!t,[i.default.partialCheckMark]:t&&n===l.PARTIAL});return a.createElement("div",{className:i.default.checkboxContainer,onClick:this.onToggle},a.createElement("div",{className:u},a.createElement("div",{className:s})))}}]),t}();c.displayName="CheckBox",t.default=c},dacfecidja:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n("cgcgbfbffj")),o=c(n("dbdfbgehgj")),i=n("ddjgcfjicj"),u=c(n("bfbggcdbfb")),s=c(n("cbcbdjdah")),l=c(n("biecbbiiee"));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n.hasMoreMsgs=!0,n.resultPage=0,n.searchPromise=null,n.searchTerm=null,n.searchLabel=null,n.updateFtsAfterMsgLabelUpdate=function(){if(n.currentLabelSearch){var e=n.filter(function(e){return!e.labels||!e.labels.includes(n.currentLabelSearch)});n.remove(e,{silent:!0})}};var r=e?e.msgs:l.default;return n.listenTo(r,"remove_msgs",function(e){n.remove(e,{silent:!0}).filter(function(e){return!!e}).length&&n.trigger("bulk_remove")}),n.listenTo(o.default,"remove",function(e){var t=[];n.forEach(function(n){n.chat===e&&t.push(n)}),n.remove(t,{silent:!0}).filter(function(e){return!!e}).length&&n.trigger("bulk_remove")}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"delete",value:function(e){e&&this.stopListening(),function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this)}},{key:"resetSearch",value:function(){this.hasMoreMsgs=!0,this.resultPage=0,this.searchTerm=null,this.searchPromise&&this.searchPromise.cancel()}},{key:"search",value:function(e){var t=this,n=e.chat,r=e.count,a=e.filter,o=void 0===a?{}:a,s=e.searchTerm,c=`${s}__${o.label||o.kind||""}`;this.currentLabelSearch=o.label;var f=!1;this.searchTerm!==c?(this.searchTerm&&0===s.indexOf(this.searchTerm)?f=!0:(this.searchTerm=c,this.delete()),this.resultPage=0,this.hasMoreMsgs=!0):f=!0;var d=new u.default.UiAction({uiActionType:u.default.UI_ACTION_TYPE.IMAGE_OPEN,uiActionPreloaded:f});if(this.searchPromise){if(this.searchTerm===c)return this.searchPromise;this.searchPromise.cancel()}var p=void 0;return p=n?n.fts(s,++this.resultPage,r):l.default.search(s,++this.resultPage,r,void 0,o),this.searchPromise=p.cancellable().then(function(e){return e.eof&&(t.hasMoreMsgs=!1),t.searchTerm!==c&&t.delete(),t.searchTerm=c,e.messages&&t.add(e.messages.filter(function(e){return!e.isRevoked})),d.markUiActionT(),d.commit(),e}).catch(i.WapDrop,Promise.CancellationError,function(){}).finally(function(){t.searchPromise=null,t.trigger("searchPromise_update")}),this.trigger("searchPromise_update"),this.searchPromise}}]),t}();f.model=s.default,t.default=f},dachjgjeda:function(e,t,n){e.exports=function(){return new Worker(n.p+"c9a4b0201b9baf8cf536.js")}},dacicgjcai:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeCodeBlocks=t.isInsideCodeBlock=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=u(n("fahgabfbb")),i=u(n("ceggedffg"));function u(e){return e&&e.__esModule?e:{default:e}}var s=/```([\s\S]*?\S[\s\S]*?)```/g,l=(0,i.default)(s,1),c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l),r(t,null,[{key:"jsx",value:function(e,t,n){var r=n.selectable,i=void 0!==r&&r;return a.createElement(o.default,{selectable:i},e)}}]),t}();c.nestable=!1,c.format=!1,t.default=c;t.isInsideCodeBlock=function(e){var t=e.split(s).pop();return/```/.test(t)},t.removeCodeBlocks=function(e){return e.replace(s," ")}},dadagidhdg:function(e,t){e.exports={closeBtn:"_1DWLi",fullscreen:"_--P4m"}},daddjfeaa:function(e,t){e.exports={menu:"_3lq69",item:"_3j8Pd",selected:"_1eXOh",active:"GPmgf",disabled:"_2-xTw"}},dadhidfcfe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("effbcehec")),i=l(n("dacdidjdfi")),u=l(n("biddiiafgd")),s=l(n("bhcacchcde"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={additionalActions:!0},r.onToggleAdditionalActions=function(){r.setState({additionalActions:!r.state.additionalActions})},r.onReport=function(){r.state.additionalActions?r.props.isGroupChat?r.props.onReportExitClear():r.props.onReportBlockClear():r.props.onReport()},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=void 0,t=void 0;return this.props.isGroupChat?(e=l10n.t(937),t=l10n.t(936)):this.props.isBusiness?(e=l10n.t(931),t=l10n.t(930)):(e=l10n.t(934),t=l10n.t(933)),a.createElement(u.default,{onOK:this.onReport,okText:l10n.t(927),onCancel:this.props.onCancel},e,a.createElement("div",{className:s.default.section,onClick:this.onToggleAdditionalActions},a.createElement("div",{"data-a8n":o.default.key("menu-icon-report-spam"),className:s.default.control},a.createElement(i.default,{onChange:this.onToggleAdditionalActions,checked:this.state.additionalActions})),a.createElement("div",{className:s.default.label},t)))}}]),t}();f.displayName="ReportSpamPopup",t.default=f},dadidajbgf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=s(n("bbchdeehff")),u=s(n("jheedhagg"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){var e=this,t=r({},this.props.tooltip,{uim:this.props.uim});i.default.openTooltip(t,function(t){e.element=t})}},{key:"componentWillUnmount",value:function(){i.default.closeTooltip(this.props.uim)}},{key:"getElement",value:function(){return this.element}},{key:"render",value:function(){return null}}]),t}();l.displayName="UIETooltip",t.default=(0,u.default)(l)},daedihffb:function(e,t){e.exports={price:"_3xyXO",description:"_14zFZ"}},daeidjcaja:function(e,t){e.exports={controls:"_3Z-uK",spinner:"_2se6c","progress-container":"_1rTdA",progressContainer:"_1rTdA",btnMeta:"_10YBz",button:"_3UAb1",icon:"f9onB",cancel:"_1IV9x",cursorPointer:"UsM-b",play:"_13zv_",iconMeta:"_1gFPQ"}},daejhbgabi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n("dhhhjaejje"),o=(r=a)&&r.__esModule?r:{default:r};var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),t}();function u(e){return e.filter(function(e){return!!e}).join("")}i.onDelimiter=function(){},i.onMutator=function(e,t){return u(t)},i.onRoot=function(e){return u(e)},i.onText=function(e){return e},t.default=i},daejhdfjb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("dcaifjegcg"),o=h(a),i=h(n("dghjhchjic")),u=h(n("bbchdeehff")),s=h(n("bjigbaghc")),l=h(n("bjbdcigbdi")),c=n("hgeacfdgi"),f=h(c),d=h(n("bhgjacgcdd")),p=n("cgejjichfa");function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,u=Array(o),s=0;s<o;s++)u[s]=arguments[s];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.id=(0,a.prop)(),r.peerJid=(0,a.prop)(),r.offerTime=(0,a.prop)(),r.startTime=(0,a.prop)(),r.isVideo=(0,a.prop)(!1),r.isGroupCall=(0,a.prop)(!1),r.canHandleLocally=(0,a.prop)(!1),r.outgoing=(0,a.prop)(!1),r.webClientShouldHandle=(0,a.prop)(!1),r.participants=(0,a.collection)(i.default),r._state=(0,a.prop)(),r._ringTimeout=(0,a.prop)(),m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"getState",value:function(){return this._state}},{key:"setState",value:function(e){var t,n=this,r=e;(t=this._state,r in g[t||"EMPTY"])&&(this.webClientShouldHandle||r===p.CALL_STATES.INCOMING_RING||(r=p.CALL_STATES.HANDLED_REMOTELY,f.default.callId===this.id&&d.default.callEndByHandledRemotely()),r===p.CALL_STATES.OUTGOING_RING&&(this._ringTimeout=setTimeout(function(){n._state===p.CALL_STATES.OUTGOING_RING&&d.default.rejectCall()},5e4)),this._state===p.CALL_STATES.OUTGOING_RING&&null!=this._ringTimeout&&(clearTimeout(this._ringTimeout),this._ringTimeout=null),this._state!==p.CALL_STATES.CONNECTION_LOST&&r===p.CALL_STATES.ACTIVE&&(this.startTime=Date.now()),this._state=r,this.handleNotification(),this.potentiallyUpdateCallUi())}},{key:"handleNotification",value:function(){var e=this.getState();!s.default.tosShowCallNotification||!this.peerJid||n("bfgbdiffgd").default.getWebVoipInternalTester()&&l.default.supportsFeature(l.default.F.DESKTOP_VOIP_VOICE_CALL)&&!this.isVideo||(e===p.CALL_STATES.INCOMING_RING?u.default.alertCall(this.peerJid,this.id,this.isVideo,this.canHandleLocally):u.default.cancelCall(this.peerJid))}},{key:"potentiallyUpdateCallUi",value:function(){f.default.callId===this.id?this.setCallUiProps():!f.default.callId&&this.getState()===p.CALL_STATES.INCOMING_RING&&l.default.supportsFeature(l.default.F.VOIP_INDIVIDUAL_INCOMING)&&this.canHandleLocally&&(f.default.callId=this.id,this.setCallUiProps())}},{key:"setCallUiProps",value:function(){f.default.type=this.isVideo?c.CALL_TYPES.VIDEO:c.CALL_TYPES.VOICE,f.default.to=this.outgoing?this.peerJid:s.default.me,f.default.from=this.outgoing?s.default.me:this.peerJid,f.default.startTime=this.startTime,f.default.outgoing=this.outgoing,f.default.state===p.CALL_UI_STATES.ENDED&&(f.default.peerBusy=!1),f.default.state=this.getUiState()}},{key:"getUiState",value:function(){switch(this.getState()){case p.CALL_STATES.INCOMING_RING:return p.CALL_UI_STATES.INCOMING_RING;case p.CALL_STATES.OUTGOING_RING:return p.CALL_UI_STATES.OUTGOING_RING;case p.CALL_STATES.OUTGOING_CALLING:return p.CALL_UI_STATES.OUTGOING_CALLING;case p.CALL_STATES.CONNECTING:return p.CALL_UI_STATES.CONNECTING;case p.CALL_STATES.CONNECTION_LOST:return p.CALL_UI_STATES.RECONNECTING;case p.CALL_STATES.ACTIVE:return p.CALL_UI_STATES.ACTIVE;case p.CALL_STATES.HANDLED_REMOTELY:return p.CALL_UI_STATES.NONE;case p.CALL_STATES.ENDED:return p.CALL_UI_STATES.ENDED;case p.CALL_STATES.REJECTED:return p.CALL_UI_STATES.REJECTED;case p.CALL_STATES.REMOTE_CALL_IN_PROGRESS:return p.CALL_UI_STATES.REMOTE_CALL_IN_PROGRESS;case p.CALL_STATES.FAILED:return p.CALL_UI_STATES.FAILED;default:return p.CALL_UI_STATES.NONE}}},{key:"getCollection",value:function(){return n("biaifggagf").default}}]),t}();b.Proxy="call",t.default=(0,a.defineModel)(b);var g={EMPTY:{[p.CALL_STATES.INCOMING_RING]:!0,[p.CALL_STATES.OUTGOING_CALLING]:!0,[p.CALL_STATES.CONNECTING]:!0,[p.CALL_STATES.REJECTED]:!0,[p.CALL_STATES.HANDLED_REMOTELY]:!0,[p.CALL_STATES.ENDED]:!0,[p.CALL_STATES.FAILED]:!0},INCOMING_RING:{[p.CALL_STATES.HANDLED_REMOTELY]:!0,[p.CALL_STATES.CONNECTING]:!0,[p.CALL_STATES.ACTIVE]:!0,[p.CALL_STATES.REJECTED]:!0,[p.CALL_STATES.ENDED]:!0,[p.CALL_STATES.REMOTE_CALL_IN_PROGRESS]:!0,[p.CALL_STATES.FAILED]:!0},OUTGOING_CALLING:{[p.CALL_STATES.OUTGOING_RING]:!0,[p.CALL_STATES.CONNECTING]:!0,[p.CALL_STATES.ENDED]:!0,[p.CALL_STATES.FAILED]:!0},OUTGOING_RING:{[p.CALL_STATES.ACTIVE]:!0,[p.CALL_STATES.REJECTED]:!0,[p.CALL_STATES.ENDED]:!0,[p.CALL_STATES.FAILED]:!0},CONNECTING:{[p.CALL_STATES.OUTGOING_RING]:!0,[p.CALL_STATES.ACTIVE]:!0,[p.CALL_STATES.ENDED]:!0,[p.CALL_STATES.REMOTE_CALL_IN_PROGRESS]:!0,[p.CALL_STATES.FAILED]:!0},CONNECTION_LOST:{[p.CALL_STATES.ACTIVE]:!0,[p.CALL_STATES.ENDED]:!0,[p.CALL_STATES.FAILED]:!0},ACTIVE:{[p.CALL_STATES.ENDED]:!0,[p.CALL_STATES.FAILED]:!0,[p.CALL_STATES.CONNECTION_LOST]:!0},HANDLED_REMOTELY:{},ENDED:{},REJECTED:{},REMOTE_CALL_IN_PROGRESS:{},FAILED:{}}},dafafigeih:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mungePSAContact=function(e){if(Array.isArray(e)){var t=e.findIndex(function(e){return e&&o.default.isPSA(e.id)}),n=e[t];t>-1&&n&&(n.name=l10n.t(1423),n.shortName=l10n.t(1423))}};var r,a=n("jccfhaecf"),o=(r=a)&&r.__esModule?r:{default:r}},daffbcegjj:function(e,t,n){"use strict";var r=void 0,a=void 0;e.exports={dir:function(e){!function(){if(!r){var e=n("bffadhdafi"),t=e.length/2;r=new Int32Array(t),a=new Int32Array(t);for(var o=0,i=0;o<t;o++,i+=2)r[o]=e[i]+(0===o?0:r[o-1]),a[o]=e[i+1]}}();for(var t=0;t<e.length;t++){var o=0|e.charCodeAt(t);if(55296<=o&&o<56320){if(++t===e.length)break;var i=e.charCodeAt(t);if(!(56320<=i&&i<57344))continue;o=65536+((1023&o)<<10|1023&i)}else if(56320<=o&&o<57344)continue;if(!(o<r[0])){for(var u=0,s=(0|r.length)-1|0;u<s;){var l=s+u>>1;if(r[l]>o)s=l-1|0;else{if(r[l+1]>o){s=l;break}u=l+1|0}}var c=a[s];if(o<(r[s]+Math.abs(c)|0))return c<0?"rtl":"ltr"}}}}},dafiibaihc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("baagejbchg")),i=l(n("djachcgbii")),u=l(n("fffdgbfji")),s=n("chhhffajfi");function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));f.call(n);var r=e.text,a=e.textLimit;return n.state={textLimit:d(r,a,a)?a:1/0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){return a.createElement(a.Fragment,null,this.props.children(this.state),this.state.textLimit!==1/0?a.createElement("span",{className:i.default.read_more,role:"button",onClick:this._handleReadMoreClick}," "+u.default.t(918)):null)}}]),t}(),f=function(){var e=this;this._handleReadMoreClick=function(){var t=e.props.text,n=o.default.SUBSEQUENT_PAGE_SIZE;e.setState(function(e){var r=e.textLimit+o.default.SUBSEQUENT_PAGE_SIZE;return{textLimit:d(t,r,n)?r:1/0}})}};function d(e,t,n){return(0,s.numCodepoints)(e)-t>n*o.default.OVERFLOWING_PAGE_THRESHOLD}c.displayName="ExpandableText",t.default=c},dagdiahdfi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MuteCollection=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("cgcgbfbffj"),o=d(a),i=d(n("bjigbaghc")),u=d(n("bdiiahhjbe")),s=n("dhadcigcaf"),l=d(s),c=d(n("bhggeigghg")),f=d(n("egjjcjcg"));function d(e){return e&&e.__esModule?e:{default:e}}var p=!0,h=!0,m=!0,b=!1,g=t.MuteCollection=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"initializeFromCache",value:function(e){this.add(e),this.setGlobalNotifications(f.default.getGlobalNotifications()),this.setGlobalSounds(f.default.getGlobalSounds()),this.setGlobalPreviews(f.default.getGlobalPreviews()),this.setCollapseMuted(f.default.getCollapseMuted())}},{key:"saveToCache",value:function(){if(i.default.me){var e=this.constructor.cachePolicy.id;u.default.log(`models:mute:cache-save: ${String(e)}`)(),f.default.setCollection(e,[this.globalMute().toJSON()])}}},{key:"globalMute",value:function(){var e=this.get(s.GLOBAL_MUTE);return e||this.add({id:s.GLOBAL_MUTE})[0]}},{key:"getGlobalSounds",value:function(){return p}},{key:"setGlobalSounds",value:function(e){p=e,f.default.setGlobalSounds(e)}},{key:"getGlobalNotifications",value:function(){return h}},{key:"setGlobalNotifications",value:function(e){h=e,f.default.setGlobalNotifications(e)}},{key:"getGlobalPreviews",value:function(){return m}},{key:"setGlobalPreviews",value:function(e){m=e,f.default.setGlobalPreviews(e)}},{key:"getCollapseMuted",value:function(){return b}},{key:"setCollapseMuted",value:function(e){b=e,f.default.setCollapseMuted(e),this.trigger("change:collapseMuted",b)}},{key:"handle",value:function(e){e.forEach(function(e){var t=c.default.Chat.get(e.id);t&&"mute"===e.type&&t.mute.setMute(e.muteExpiration)})}}]),t}();g.model=l.default,g.cachePolicy={id:"mute",policy:a.CACHE_POLICY.LOAD,delay:1e3},t.default=new g},dagibffcjf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_ASPECT_RATIO=t.MIN_ASPECT_RATIO=t.MIN_WIDTH=t.MIN_HEIGHT=t.LONGER_SIDE_DEFAULT_LENGTH=t.MARGIN_Y=t.MARGIN_X=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("bbchdeehff")),i=s(n("habccggff")),u=(s(n("bffjfbgbg")),s(n("gejffefga")));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.MARGIN_X=10,c=t.MARGIN_Y=10,f=t.LONGER_SIDE_DEFAULT_LENGTH=330,d=t.MIN_HEIGHT=145,p=t.MIN_WIDTH=145,h=t.MIN_ASPECT_RATIO=p/f,m=t.MAX_ASPECT_RATIO=f/d,b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=t.getInitialMediaStyle(e.aspectRatio,e.initialPiPStyle),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.state.aspectRatio;if(!e)return null;var t=d*e,n=p<t?t:p,r={x:l,y:c},o=void 0;if(null!=this.props.aspectRatio&&0!==this.props.aspectRatio&&e===h&&e>this.props.aspectRatio||null!=this.props.aspectRatio&&0!==this.props.aspectRatio&&e===m&&e<this.props.aspectRatio){var s=void 0;if(this.props.previewUrl){var f={backgroundImage:this.props.previewUrl};s=a.createElement("div",{className:i.default.bgImg,style:f})}o=a.createElement("div",{className:i.default.bottomLayer},s)}return a.createElement(u.default,{aspectRatio:e,margin:r,minWidth:n,className:i.default.videoFloater,initialStyle:this.state.initialPiPStyle,animationStartStyle:this.props.animationStartStyle},o,this.props.children)}}],[{key:"getDerivedStateFromProps",value:function(e,n){return t.getInitialMediaStyle(e.aspectRatio,e.initialPiPStyle)}},{key:"getInitialMediaStyle",value:function(e,n){var r=t.getAspectRatio(e);if(n)return{initialPiPStyle:n,aspectRatio:r};var a=void 0;o.default.getConversationHeaderOffset(function(e){a=e});var i=void 0,u=void 0;return r>1?u=(i=f)/r:i=(u=f)*r,a||(a={right:window.innerWidth,bottom:0}),{initialPiPStyle:{width:i,left:a.right<window.innerWidth?a.right-i-l:window.innerWidth-i-l,bottom:window.innerHeight-c-u-a.bottom},aspectRatio:r}}},{key:"getAspectRatio",value:function(e){var t=1;return null!=e&&(t=e<h?h:e>m?m:e),t}}]),t}();b.displayName="FloatingVideoPlayer",t.default=b},dahaahdjfa:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToTextWithoutSpecialEmojis=j;var r=n("bgiachiigg"),a=_(n("hgjcbccfg")),o=_(n("cfadcbbiie")),i=n("bjigbaghc"),u=_(i),s=_(n("djegeegcbf")),l=_(n("bjbdcigbdi")),c=n("beadfddidc"),f=_(n("bdiiahhjbe")),d=n("bffjfbgbg"),p=_(n("cffajefeag")),h=_(n("cecdfacjga")),m=_(n("bdcddabebc")),b=_(n("dbgjiabiae")),g=n("hjbbdjjdf"),v=_(n("jccfhaecf")),y=n("dcbdjheea");function _(e){return e&&e.__esModule?e:{default:e}}var E={parseMsgProto:function(e,t,n,r,a,o){if(!e)return f.default.assert(!1,"null-message","drop: not Message")(e,t),t;var i=e.conversation,u=e.imageMessage,s=e.contactMessage,d=e.locationMessage,p=e.liveLocationMessage,h=e.extendedTextMessage,m=e.documentMessage,b=e.audioMessage,v=e.videoMessage,y=e.stickerMessage,_=e.contactsArrayMessage,E=e.protocolMessage,j=e.sendPaymentMessage,O=e.requestPaymentMessage,S=e.productMessage,w=e.groupInviteMessage,P=e.templateMessage,M=e.templateButtonReplyMessage,C=void 0;return(0,g.isString)(i)&&this.parseConversationProto(t,i),w&&this.parseGroupInviteMessageProto(t,w),u&&(this.parseImageMessageProto(t,u),C=u.contextInfo),y&&(this.parseStickerMessageProto(t,y),C=y.contextInfo),s&&(this.parseContactMessageProto(t,s),C=s.contextInfo),_&&(this.parseContactsArrayMessageProto(t,_),C=_.contextInfo),d&&(this.parseLocationMessageProto(t,d),C=d.contextInfo),p&&(this.parseLiveLocationMessageProto(t,p,a),C=p.contextInfo),j&&(C=j&&j.noteMessage&&j.noteMessage.extendedTextMessage&&j.noteMessage.extendedTextMessage.contextInfo,this.parseSendPaymentMessageProto(t,j,r)),O&&(C=O&&O.noteMessage&&O.noteMessage.extendedTextMessage&&O.noteMessage.extendedTextMessage.contextInfo,this.parseRequestPaymentMessageProto(t,O,r)),h&&(this.parseExtendedTextMessageProto(t,h),C=h.contextInfo),m&&(this.parseDocumentMessageProto(t,m),C=m.contextInfo),b&&(this.parseAudioMessageProto(t,b),C=b.contextInfo),v&&(this.parseVideoMessageProto(t,v),C=v.contextInfo),E&&this.parseProtocolMessageProto(t,E,n),S&&(this.parseProductMessageProto(t,S),C=S.contextInfo),w&&this.parseGroupInviteMessageProto(t,w),P&&(l.default.supportsFeature(l.default.F.MD_BACKEND)&&l.default.supportsFeature(l.default.F.MD_HSM)?P.hydratedTemplate?this.parseTemplateMessage(t,P.hydratedTemplate):this.parseTemplateMessage(t,P.fourRowTemplate):l.default.supportsFeature(l.default.F.RICH_HSM)&&this.parseTemplateMessage(t,P.hydratedFourRowTemplate),t.type="template"),M&&((0,c.shouldEnableHsm)()&&(this.parseTemplateButtonReplyMessage(t,M),C=M.contextInfo),t.type="template_button_reply"),C&&this.parseContextInfoProto(t,C,o),t},parseConversationProto:function(e,t){e.type="chat",e.body=j(t)},parseImageMessageProto:function(e,t){e.type="image",e.clientUrl=this.decodeUrl(t.url),e.directPath=t.directPath||"",e.mimetype=t.mimetype||"",e.caption=j(t.caption),e.filehash=this.decodeBytes(t.fileSha256),e.uploadhash=this.decodeBytes(t.fileEncSha256),e.size=t.fileLength||0,e.height=t.height||0,e.width=t.width||0,e.mediaKey=this.decodeBytes(t.mediaKey),e.mediaKeyTimestamp=null!=t.mediaKeyTimestamp?t.mediaKeyTimestamp:o.default.globalUnixTime(),e.body=this.decodeBytes(t.jpegThumbnail)||""},parseStickerMessageProto:function(e,t){e.type="sticker",e.clientUrl=this.decodeUrl(t.url),e.directPath=t.directPath||"",e.mimetype=t.mimetype||"",e.filehash=this.decodeBytes(t.fileSha256),e.uploadhash=this.decodeBytes(t.fileEncSha256),e.mediaKey=this.decodeBytes(t.mediaKey),e.mediaKeyTimestamp=null!=t.mediaKeyTimestamp?t.mediaKeyTimestamp:o.default.globalUnixTime(),e.height=t.height||0,e.width=t.width||0,e.firstFrameLength=t.firstFrameLength,e.firstFrameSidecar=t.firstFrameSidecar,e.isAnimated=t.isAnimated},parseContactMessageProto:function(e,t){e.type="vcard",e.subtype=t.displayName,e.body=t.vcard},parseContactsArrayMessageProto:function(e,t){var n=t.contacts;e.type="multi_vcard",e.subtype=t.displayName,e.vcardList=Array.isArray(n)?n.map(function(e){return{displayName:e.displayName,vcard:e.vcard}}):[]},parseLocationMessageProto:function(e,t){var n=t.name&&t.address?`${t.name}\n${t.address}`:t.name||t.address||"";e.type="location",e.lat=void 0!==t.degreesLatitude?t.degreesLatitude:void 0,e.lng=void 0!==t.degreesLongitude?t.degreesLongitude:void 0,e.loc=n,e.body=this.decodeBytes(t.jpegThumbnail)||"",e.clientUrl=t.url},parseExtendedTextMessageProto:function(e,t){var n=t.matchedText||t.canonicalUrl||t.description||t.title;e.type="chat",e.subtype=n?"url":void 0,e.body=j(t.text||""),e.matchedText=t.matchedText,e.canonicalUrl=t.canonicalUrl,e.description=t.description,e.title=t.title,e.thumbnail=this.decodeBytes(t.jpegThumbnail)||"",e.richPreviewType=t.previewType,e.doNotPlayInline=t.doNotPlayInline,e.textColor=t.textArgb,e.backgroundColor=t.backgroundArgb;var a=r.Message.ExtendedTextMessage.FONTTYPE;switch(t.font){case a.SANS_SERIF:case a.SERIF:case a.NORICAN_REGULAR:case a.BRYNDAN_WRITE:case a.BEBASNEUE_REGULAR:case a.OSWALD_HEAVY:e.font=t.font}},parseDocumentMessageProto:function(e,t){e.type="document",e.clientUrl=this.decodeUrl(t.url),e.directPath=t.directPath,e.mimetype=t.mimetype,e.filehash=this.decodeBytes(t.fileSha256),e.uploadhash=this.decodeBytes(t.fileEncSha256),e.size=t.fileLength||0,e.pageCount=t.pageCount||0,e.mediaKey=this.decodeBytes(t.mediaKey),e.mediaKeyTimestamp=null!=t.mediaKeyTimestamp?t.mediaKeyTimestamp:o.default.globalUnixTime(),e.filename=(0,d.cleanIncomingFilename)(t.fileName||t.title),e.caption=e.filename,e.body=this.decodeBytes(t.jpegThumbnail)||""},parseAudioMessageProto:function(e,t){e.type=t.ptt?"ptt":"audio",e.clientUrl=this.decodeUrl(t.url),e.directPath=t.directPath,e.mimetype=t.mimetype,e.filehash=this.decodeBytes(t.fileSha256),e.uploadhash=this.decodeBytes(t.fileEncSha256),e.size=t.fileLength||0,e.duration=`${t.seconds||0}`,e.mediaKey=this.decodeBytes(t.mediaKey),e.mediaKeyTimestamp=null!=t.mediaKeyTimestamp?t.mediaKeyTimestamp:o.default.globalUnixTime(),e.streamingSidecar=t.streamingSidecar},parseVideoMessageProto:function(e,t){e.type="video",e.clientUrl=this.decodeUrl(t.url),e.directPath=t.directPath,e.mimetype=t.mimetype,e.filehash=this.decodeBytes(t.fileSha256),e.uploadhash=this.decodeBytes(t.fileEncSha256),e.size=t.fileLength||0,e.height=t.height,e.width=t.width,e.duration=`${t.seconds||0}`,e.mediaKey=this.decodeBytes(t.mediaKey),e.mediaKeyTimestamp=null!=t.mediaKeyTimestamp?t.mediaKeyTimestamp:o.default.globalUnixTime(),e.caption=j(t.caption),e.body=this.decodeBytes(t.jpegThumbnail)||"",e.isGif=t.gifPlayback,e.gifAttribution=t.gifAttribution,e.streamingSidecar=t.streamingSidecar},parseContextInfoProto:function(e,t,n){var r=t.quotedMessage,a=t.mentionedJid;e.quotedMsg=r&&this.parseMsgProto(r,{type:"unknown"}),e.quotedMsg&&"payment"===e.quotedMsg.type&&n&&f.default.log("parseContextInfoProto: payment not supported")(),e.quotedStanzaID=t.stanzaId,e.quotedParticipant=this.decodeJid(t.participant),e.quotedRemoteJid=this.decodeJid(t.remoteJid),e.mentionedJidList=Array.isArray(a)?a.map(this.decodeJid):a,e.isForwarded=t.isForwarded,e.forwardingScore=t.forwardingScore,null!=t.expiration&&(e.ephemeralDuration=t.expiration)},_getMsgKey:function(e,t){if(!e)throw new Error("parseProtocolMessageProto: no message key is defined for protocol message");var n=e.id;if(!n)throw new Error("parseProtocolMessageProto: no message id is defined for protocol message");return l.default.supportsFeature(l.default.F.MD_BACKEND)?new p.default({id:n,fromMe:t.id.fromMe,remote:t.id.remote,participant:t.id.participant}):new p.default({id:n,fromMe:e.fromMe,remote:this.decodeJid(e.remoteJid),participant:this.decodeJid(e.participant)})},parseProtocolMessageProto:function(e,t,n){if("relay"===n){var a=t.key,o=t.type,i=null;switch(e.type="protocol",o!==r.Message.ProtocolMessage.TYPE.HISTORY_SYNC_NOTIFICATION&&(i=this._getMsgKey(a,e),e.protocolMessageKey=i),t.type){case r.Message.ProtocolMessage.TYPE.REVOKE:e.subtype="revoke";break;case r.Message.ProtocolMessage.TYPE.EPHEMERAL_SETTING:e.subtype="ephemeral_setting",e.ephemeralDuration=t.ephemeralExpiration;break;case r.Message.ProtocolMessage.TYPE.HISTORY_SYNC_NOTIFICATION:e.subtype="history_sync_notification",e.historySyncMetaData=t.historySyncNotification;break;default:e.subtype="unknown"}}},decodeJid:function(e){return v.default.isWid(e)?(0,y.createWid)(e):e},decodeUrl:function(e){return e&&!e.includes("/u/")?e:void 0},decodeBytes:function(e){return e?a.default.encode(e):void 0},parseTemplateMessage:function(e,t){var n=t.documentMessage,r=t.imageMessage,a=t.locationMessage,o=t.videoMessage;n?(this.parseDocumentMessageProto(e,n),e.subtype="document"):r?(this.parseImageMessageProto(e,r),e.subtype="image"):a?(this.parseLocationMessageProto(e,a),e.subtype="location"):o?(this.parseVideoMessageProto(e,o),e.subtype="video"):(e.subtype="text",t.hydratedContentText&&(e.body=j(t.hydratedContentText))),t.hydratedButtons&&this.parseButtons(e,t),t.hydratedContentText&&(e.caption=j(t.hydratedContentText)),t.hydratedFooterText&&(e.footer=j(t.hydratedFooterText)),t.hydratedTitleText&&(e.title=j(t.hydratedTitleText))},parseButtons:function(e,t){var n=t.hydratedButtons;if(n.length){e.buttons=new b.default,e.buttons.add(n.map(function(e,t){var n=`${null!=e.index?e.index:t}`;return e.quickReplyButton?new m.default({id:n,displayText:e.quickReplyButton.displayText,selectionId:e.quickReplyButton.id,subtype:"quick_reply"}):e.callButton?new m.default({id:n,displayText:e.callButton.displayText,phoneNumber:e.callButton.phoneNumber,subtype:"call"}):new m.default({id:n,displayText:e.urlButton.displayText,url:e.urlButton.url,subtype:"url"})}))}},parseTemplateButtonReplyMessage:function(e,t){e.body=j(t.selectedDisplayText),e.selectedIndex=t.selectedIndex,e.selectedId=t.selectedId},parseProductMessageProto:function(e,t){var n=t.product;n&&(n.productImage&&this.parseImageMessageProto(e,n.productImage),e.type="product",e.businessOwnerJid=t.businessOwnerJid,e.contextInfo=t.contextInfo,e.productId=n.productId,e.currencyCode=n.currencyCode,e.priceAmount1000=n.priceAmount1000,e.retailerId=n.retailerId,e.url=n.url,e.productImageCount=n.productImageCount,e.title=n.title,e.description=n.description)},parseLiveLocationMessageProto:function(e,t,n){f.default.log("parseLiveLocationMessageProto: not supported")()},parseSendPaymentMessageProto:function(e,t,n){f.default.log("parseSendPaymentMessageProto: not supported")()},parseRequestPaymentMessageProto:function(e,t,n){f.default.log("parseRequestPaymentMessageProto: not supported")()},parseGroupInviteMessageProto:function(e,t){f.default.log("parseGroupInviteMessageProto: not supported")()}};function j(e){return e?u.default.platform===i.PLATFORMS.ANDROID?(0,h.default)(e):s.default.convertToTextWithoutSpecialEmojis((0,h.default)(e)):e}t.default=E},dahbdjdajd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextMention=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=d(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=n("daffbcegjj"),u=d(n("idgifdccc")),s=d(n("daabecicc")),l=n("eagfdbhhhh"),c=n("cdejbeiiha"),f=d(n("ihfccfgdf"));function d(e){return e&&e.__esModule?e:{default:e}}var p=t.TextMention=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.contact,n=e.onClick,r=e.theme,f=e.selectable,d=t.displayName,p=t.id,h=(0,i.dir)(d)||"auto",m=!!r&&r.quoted,b=(0,s.default)(d,[[[u.default,{selectable:f}]]],c.JSXSerializer,void 0,1/0);return o.createElement(l.SelectableSpan,{"data-jid":p.toString(),"data-display":d,className:(0,a.default)("matched-mention",{"quoted-mention":m,"inactive-mention":!n||m}),onClick:n,plainText:`@${d}`,selectable:f,selectAll:!0,appTextTemplate:`${p.toString()}`},o.createElement("span",{className:"at-symbol"},"@"),o.createElement("span",{dir:h},b))}}]),t}();p.CONCERNS={contact:["id","displayName"]},p.displayName="TextMention",t.default=(0,f.default)(p,p.CONCERNS)},dahcghhcfg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("caeaghacce");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})})},dahdbbghjd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=f(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=f(n("bbchdeehff")),u=f(n("eceadcicaf")),s=f(n("cfhgffgbcb")),l=f(n("ifgdgjdid")),c=f(n("bfdcadbbif"));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,u=Array(a),l=0;l<a;l++)u[l]=arguments[l];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.addOrRemoveLabelOnSelected=function(){var e=r.props.selectedModels.getSelected();i.default.openModal(o.createElement(s.default,{onLabelUpdateComplete:r.props.onCancel,modelsToUpdate:e}))},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"componentDidMount",value:function(){this.props.selectedModels&&this.props.listeners.add(this.props.selectedModels,"all")}},{key:"componentDidUpdate",value:function(){0===this.props.selectedModels.getSelected().length&&this.props.onCancel&&this.props.onCancel()}},{key:"render",value:function(){var e=this.props,t=e.labelEditEnabled,n=e.onRemoveLabel,r=this.props.selectedModels.getSelected().length,i=void 0,u=void 0,s=void 0,c=this.props.onDelete;t&&r>0&&(i=o.createElement(h,{name:"label",disabled:!r,title:l10n.t(1150),onClick:this.addOrRemoveLabelOnSelected})),n&&r>0&&(s=o.createElement(h,{name:"label-delete",disabled:!r,title:l10n.t(1152),onClick:n})),c&&r>0&&(u=o.createElement(h,{name:"delete",disabled:!r,title:l10n.t(1151),onClick:c}));var f=(0,a.default)(l.default.multiControls,{[l.default.drawerHeader]:"drawer-header"===this.props.theme,[l.default.chatListPanel]:"chatlist-panel"===this.props.theme}),d=this.props.arrowBack?"back":"x";return o.createElement("div",{className:f},o.createElement(h,{name:d,onClick:this.props.onCancel}),o.createElement("div",{className:l.default.multiCount},l10n.t(992,{count:r,_plural:r})),i,u,s)}}]),t}();p.displayName="MultiselectBar",t.default=(0,u.default)(p);var h=function(e){var t=e.name,n=e.title,r=e.onClick,a=e.directional,i=e.disabled;return o.createElement("button",{className:l.default.multiselectIcon,title:n,onClick:r,disabled:i?"disabled":void 0},o.createElement(c.default,{name:t,directional:a}))};h.displayName="BtnIcon"},dahicgggee:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GifPanel=void 0;var r=P(n("bebajedcaf")),a=P(n("hhegggegb")),o=P(n("ddfeabiaci")),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=w(n("ddhijeejag")),s=P(n("caciiaejed")),l=P(n("dcjcghaij")),c=w(n("cgejchjdhj")),f=n("bgddggdhc"),d=P(n("bjbdcigbdi")),p=n("ccgdfaeibd"),h=P(n("djcjgfjggc")),m=n("igbbahaj"),b=P(m),g=n("ejbdjaifi"),v=P(n("dhfbfehaef")),y=P(n("caahjiefj")),_=P(n("eceadcicaf")),E=P(n("bfbggcdbfb")),j=P(n("cahfddcdga")),O=P(n("djhfffbdac")),S=P(n("didfdhbecg"));function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function P(e){return e&&e.__esModule?e:{default:e}}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var A=1e3,N=100,k=62,I=5,R=15,L=.7*k,D=1.5*k,x=t.GifPanel=function(e){function t(e){M(this,t);var n=C(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.lastScrollTop=0,n.fastScroll=!1,n.lastClickTime=0,n._sectionIds=m.ORDERED_TAB_SECTION_IDS,n.handleScroll=(0,a.default)(function(){if(null==n.state.selectedSectionId&&n.state.searchText&&n.scrollContainer&&n.gifPanel)n.gifPanel.animateOnScroll(n.scrollContainer);else if(!(Date.now()-n.lastClickTime<A)){var e={};if(n.state.isPreview&&(e.isPreview=!1),n.scrollContainer){var t=n.scrollContainer,a=t.scrollTop,o=a<=0;o!==n.state.scrolledToTop&&(e.scrolledToTop=o);var i=n.lastScrollTop-a,u=Math.abs(i)>I;n.fastScroll=Math.abs(i)>R,i<0?n.state.showSearchInput&&(a>L&&u||n.lastScrollTop<L&&a>=L)&&(e.showSearchInput=!1):n.state.showSearchInput||(u||a<D)&&(e.showSearchInput=!0),n.gifPanel&&n.gifPanel.animateOnScroll(t),n.lastScrollTop=a,(0,r.default)(e)||n.setState(e)}}},N),n.setRefSearchInput=function(e){n.searchInput=e},n.restoreFocus=function(e){n.focusSearchInput(e)},n.onRotateFocus=function(e){n.stopEvent(e),n.searchInputHasFocus()?n.props.onFocusRelease&&n.props.onFocusRelease():n.focusSearchInput()},n.stopEvent=function(e){e&&(e.preventDefault(),e.stopPropagation())},n.scrollGifIntoViewIfNeeded=function(e){n.scrollContainer&&e.offsetTop-n.scrollContainer.scrollTop<k&&c.scrollIntoView(e,!0,n.scrollContainer)},n.searchInputHasFocus=function(){return!!n.searchInput&&n.searchInput.hasFocus()},n.focusSearchInput=function(e){if(!n.searchInput)return n.fastScroll=!0,void n.setState({showSearchInput:!0},function(){return n.focusSearchInput(!0)});n.searchInput.focus(e)},n.onGifSearchDown=function(e){n.stopEvent(e),n.gifPanel&&n.gifPanel.initSelection()},n.getSearchBox=function(){var e=null;n.state.showSearchInput&&(e=u.createElement(O.default,{label:l10n.t(977,{service:p.BRAND_NAMES[(0,p.gifProvider)()]}),onChange:n.onSearch,onDownKey:n.onGifSearchDown,ref:n.setRefSearchInput,shadow:!n.state.scrolledToTop,tabFocused:n.state.tabFocused,value:n.state.searchText||""}));var t=n.fastScroll?"emoji-search-slide-away-fast":"emoji-search-slide-away";return u.createElement(S.default,{transitionName:t},e)},n.onSearch=function(e,t){n.stopEvent(t),null==n.state.searchText&&(n.scrollTopBeforeSearch=n.scrollContainer&&n.scrollContainer.scrollTop),n.setState({selectedSectionId:null,searchText:e,tabFocused:!1})},n.preventBlur=function(e){n.stopEvent(e),n.restoreFocus()},n.handleParentContainerUp=function(e){var t=e&&e.nativeEvent.target,r=t instanceof HTMLElement&&n.gifPanel&&n.gifPanel._starredGifs&&n.gifPanel._starredGifs.isStarredGif(t),a=t instanceof HTMLElement&&!!n.gifPanel&&(0,f.forbiddenAssertDOMNode)(n.gifPanel).contains(t);r?(n.focusSearchInput(),n.stopEvent(e)):a&&n.gifPanel&&n.gifPanel._starredGifs&&n.gifPanel._starredGifs.hasGifs()?(n.gifPanel&&n.gifPanel.initSelection(!1),n.stopEvent(e)):a&&(n.focusSearchInput(),n.stopEvent(e))},n.handleDownArrow=function(e){var t=e&&e.nativeEvent.target;t instanceof HTMLElement&&n.gifPanel&&n.gifPanel._starredGifs&&n.gifPanel._starredGifs.isStarredGif(t)?(n.gifPanel&&n.gifPanel.initSelection(!0),n.stopEvent(e)):n.gifPanel&&(0,f.forbiddenAssertDOMNode)(n.gifPanel).contains(t)&&(n.gifPanel&&n.gifPanel.initSelection(!1),n.stopEvent(e))},n.handleTabKey=function(e){if(e.preventDefault(),e.stopPropagation(),n.searchInput)return n.searchInput.hasFocus()?void(n.props.onFocusNext&&n.props.onFocusNext()):n.focusSearchInput()},n.handleShiftTabKey=function(e){if(e.preventDefault(),e.stopPropagation(),n.searchInput)return n.searchInput.hasFocus()?void(n.props.onFocusPrev&&n.props.onFocusPrev()):n.focusSearchInput()},n.handleMenuTabClick=function(e){e===b.default.FAVORITES?n.setState({showSearchInput:!0,selectedSectionId:e,searchText:null,tabFocused:!0}):n.setState({showSearchInput:!0,selectedSectionId:e,searchText:e,tabFocused:!0})},n.renderGifTab=function(e,t){return u.createElement(l.default,{key:e,onClick:n.handleMenuTabClick,sectionId:e,selected:t})};var i=(0,o.default)(n.props.displayCache||{},{scrollTop:0,showSearchInput:!0});return d.default.supportsFeature(d.default.F.STARRED_GIFS)||(n._sectionIds=n._sectionIds.filter(function(e){return e!==b.default.FAVORITES})),n.state={isPreview:!i.scrollTop,scrolledToTop:0===i.scrollTop,searchText:null,searchResults:null,showSearchInput:i.showSearchInput,selectedSectionId:i.selectedSectionId||b.default.TRENDING,tabFocused:!1},n}return T(t,u.PureComponent),i(t,[{key:"componentDidMount",value:function(){var e=this;this.lastClickTime=Date.now();var t=this.props.displayCache&&this.props.displayCache.scrollTop;this.scrollContainer&&null!=t&&0!==t&&(this.scrollContainer.scrollTop=t),this.props.listeners.uiIdle(function(){e.restoreFocus(),new E.default.WebcEmojiOpen({webcEmojiOpenTab:"GIF"}).commit(),e.setState({isPreview:!1})})}},{key:"componentWillUnmount",value:function(){this.props.onDisplayCache&&this.props.onDisplayCache({scrollTop:this.scrollContainer?this.scrollContainer.scrollTop:0,showSearchInput:this.state.showSearchInput,selectedSectionId:this.state.selectedSectionId}),this.handleScroll.cancel()}},{key:"componentDidUpdate",value:function(e,t){if(t.searchText!==this.state.searchText){if(!this.scrollContainer)return;this.state.searchText?this.scrollContainer.scrollTop=0:null!=this.scrollTopBeforeSearch&&0!==this.scrollTopBeforeSearch&&(this.scrollContainer.scrollTop=this.scrollTopBeforeSearch)}}},{key:"render",value:function(){var e=this.getSearchBox(),t=(this.state.searchText||"").replace(/^\s+/,"");return u.createElement(v.default,{handlers:{tab:this.handleTabKey,"shift+tab":this.handleShiftTabKey,up:this.handleParentContainerUp,down:this.handleDownArrow}},u.createElement(s.default,{selectedSectionId:this.state.selectedSectionId,sectionIds:this._sectionIds,renderSectionTab:this.renderGifTab}),u.createElement("div",{className:y.default.gifPanel},u.createElement("div",{className:y.default.bodyContainer,onMouseDown:this.preventBlur},e,u.createElement("div",{className:y.default.panelBody,onScroll:this.handleScroll,ref:(0,g.GetRef)("scrollContainer",this)},u.createElement(h.default,{ref:(0,g.GetRef)("gifPanel",this),onGif:(0,j.default)(this.props.onGif),searchText:t,scrollGifIntoViewIfNeeded:this.scrollGifIntoViewIfNeeded,selectedSectionId:this.state.selectedSectionId})))))}}]),t}();x.displayName="GifPanel";var U=(0,_.default)(x),G=function(e){function t(){return M(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return T(t,U),i(t,[{key:"focusSearchInput",value:function(e){this.getComponent().focusSearchInput(e)}},{key:"restoreFocus",value:function(e){this.getComponent().restoreFocus(e)}}]),t}();t.default=G},daiaacfgce:function(e,t){e.exports={description:"JmH7x",containerAllow:"NWyjc",icon:"X5OiD",title:"_2yVvV",controls:"_2TDHw",topCenter:"_3_Q4R",topLeft:"AZ3xD",bottomCenter:"_3Ikk4"}},daibgjhabc:function(e,t){e.exports={container:"qTFAl",isChecked:"_3Z2tD",gallery:"_21W00"}},daichdjff:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.MEDIA_TO_MSG=Object.freeze({preview:"body",mediaKey:"mediaKey",mediaKeyTimestamp:"mediaKeyTimestamp",size:"size",filehash:"filehash",mimetype:"mimetype",duration:"duration",pageCount:"pageCount",fullHeight:"height",fullWidth:"width",type:"type",filename:"filename",caption:"caption",isGif:"isGif",gifAttribution:"gifAttribution",sidecar:"streamingSidecar",subtype:"subtype",firstFrameLength:"firstFrameLength",firstFrameSidecar:"firstFrameSidecar",isAnimated:"isAnimated"}),a=t.MSG_TO_MEDIA=Object.freeze({body:"preview",directPath:"directPath",mediaKey:"mediaKey",mediaKeyTimestamp:"mediaKeyTimestamp",size:"size",filehash:"filehash",mimetype:"mimetype",duration:"duration",pageCount:"pageCount",height:"fullHeight",width:"fullWidth",type:"type",filename:"filename",caption:"caption",isGif:"isGif",gifAttribution:"gifAttribution",streamingSidecar:"sidecar",subtype:"subtype",firstFrameLength:"firstFrameLength",firstFrameSidecar:"firstFrameSidecar",isAnimated:"isAnimated"}),o=t.MAPPED_MSG_PROPS=Object.keys(a);t.MAPPED_MEDIA_PROPS=Object.keys(r),t.MAPPED_STICKER_PROPS=["filehash","height","mimetype","size","type","width"],t.MEDIA_MSG_PROPS=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(o),["clientUrl","uploadhash","streamable"]),t.FIELDS=Object.freeze({VIDEO:Object.freeze(["aspectRatio","fullWidth","fullHeight","preview","duration","durationFloat"]),AUDIO:Object.freeze(["duration"]),IMAGE:Object.freeze(["aspectRatio","fullWidth","fullHeight","preview"]),PRODUCT:Object.freeze(["aspectRatio","fullWidth","fullHeight","preview"]),STICKER:Object.freeze(["animationDuration","firstFrameLength","firstFrameSidecar","isAnimated","fullWidth","fullHeight","preview","rgbaBuffer","rgbaWidth","rgbaHeight","aspectRatio"]),STICKER_PACK:Object.freeze([]),DOCUMENT:Object.freeze(["aspectRatio","pageCount","preview"]),RAW:Object.freeze(["mediaBlob","size","filehash"])}),t.MSG_SPECIFIC_FIELDS=["type","filename","caption","isGif","gifAttribution","mimetype","sidecar","subtype"],t.DOWNLOAD_STAGE={INIT:"INIT",PREPARING:"PREPARING",REUPLOADING:"REUPLOADING",FETCHING:"FETCHING",PROCESSING:"PROCESSING",NEED_POKE:"NEED_POKE",ERROR_MISSING:"ERROR_MISSING",ERROR_UNSUPPORTED:"ERROR_UNSUPPORTED",RESOLVED:"RESOLVED"},t.UPLOAD_STAGE={INIT:"INIT",PREPARING:"PREPARING",UPLOADING:"UPLOADING",NEED_UPLOAD:"NEED_UPLOAD",ERROR_MISSING:"ERROR_MISSING",ERROR_TOO_LARGE:"ERROR_TOO_LARGE",UPLOADED:"UPLOADED"},t.STAGE={INIT:"INIT",PREPARING:"PREPARING",UPLOADING:"UPLOADING",SENDING:"SENDING",REUPLOADING:"REUPLOADING",FETCHING:"FETCHING",DECRYPTING:"DECRYPTING",RESOLVED:"RESOLVED",NEED_POKE:"NEED_POKE",NEED_UPLOAD:"NEED_UPLOAD",ERROR_MISSING:"ERROR_MISSING",ERROR_TOO_LARGE:"ERROR_TOO_LARGE",ERROR_UNSUPPORTED:"ERROR_UNSUPPORTED",REMOTE_UPLOADING:"REMOTE_UPLOADING",REMOTE_NEED_UPLOAD:"REMOTE_NEED_UPLOAD"},t.OUTWARD_TYPES={IMAGE:"image",VIDEO:"video",AUDIO:"audio",PTT:"ptt",STICKER:"sticker",DOCUMENT:"document",PRODUCT:"product",TEMPLATE:"template",UNKNOWN:"unknown"},t.TYPE=Object.freeze({VIDEO:"VIDEO",IMAGE:"IMAGE",AUDIO:"AUDIO",STICKER:"STICKER",DOCUMENT:"DOCUMENT",PRODUCT:"PRODUCT"}),t.UPLOAD_TYPE={VIDEO:"video",GIF:"gif",IMAGE:"image",AUDIO:"audio",DOCUMENT:"document"}},daiibfchg:function(e,t){e.exports={mediaViewerImg:"_1z6jS",mediaViewerAnimate:"qr_9f","media-viewer-animate":"qr_9f",cursorZoomOut:"LAMxZ",media:"vahb0",mediaViewer:"_2KgjI",mediaContent:"_1HjMu",cursorZoomIn:"_1UPkW",mediaViewerBlurCrop:"_3hQXv",mediaViewerBlurImg:"ARHD2",btn:"_3yth3",btnMediaNext:"yyUKR",btnMediaPrev:"_1cB__",imageAudio:"IhuRP",mediaWithCaption:"_2Lhpe",mediaCaption:"_3qb2N",captionHidden:"_2z3FK",disabledBtn:"_2fw_A",mediaViewerAudio:"_1c2Tf"}},daijadgha:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("dhigahgdjb")),i=l(n("bcbahjefec")),u=l(n("ccjabfdeje")),s=l(n("bheehfahbe"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.onSetGroupInfo=function(e){r.push(a.createElement(u.default,{participants:e,onBack:function(){r.popAndUpdate({participants:e})},onContinue:r.end}))},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,[{key:"componentDidMount",value:function(){o.default.ensureSorted(),this.push(a.createElement(s.default,{onBack:this.end,onContinue:this.onSetGroupInfo}))}}]),t}();t.default=f},dajcegbdcc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("ddjgcfjicj"),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cajijabhgb")),i=s(n("bdiiahhjbe")),u=s(n("bcjjbcbjaa"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._writeQueue=[],this.Node=u.default}return r(e,[{key:"read",value:function(){return i.default.error("Attempted to call `read` on BinaryProtocolQueue")(),Promise.reject(new o.Disconnected)}},{key:"write",value:function(e){var t=this;return new Promise(function(n,r){t._writeQueue.push({resolve:n,reject:r,n:e})})}},{key:"dropAllBecauseLogout",value:function(){for(var e=new a.LogoutDrop("cancelled binary protocol call");this._writeQueue.length;){this._writeQueue.shift().reject(e)}}},{key:"getWriteQueue",value:function(){return this._writeQueue}}]),e}();t.default=l},dajegcbgdi:function(e,t){e.exports={preview:"_1SsXF",bubbleIn:"_3qblR",bubbleOut:"_1AUdd",noThumbContainer:"_3_nIn",noThumbIcon:"_3waZq",media:"_2B3Ci",iconStar:"_4HPfp",isInvite:"oRECq",title:"_3RQIp",description:"_2cR8w",source:"_17hud",body:"_2Lp2x",isCompose:"_5U8oQ",extended:"_3eauZ"}},dajffajabh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DRAWER_HEADER_TYPE=void 0;var r=c(n("ceffhbhahb")),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=c(n("effbcehec")),i=c(n("dgafbfebjc")),u=n("bhfdfhefca"),s=c(n("bfdcadbbif")),l=c(n("didfdhbecg"));function c(e){return e&&e.__esModule?e:{default:e}}var f=t.DRAWER_HEADER_TYPE={SMALL:"small",LARGE:"large",POPUP:"popup",OFFSET:"offset",MULTI_MEDIA_GALLERY:"multiMediaGallery",LABELS:"labels"},d=function(e){var t=e.title,n=e.onBack,c=e.onCancel,d=e.type,p=e.children,h=e.menu,m=d===f.SMALL?"back":"back-light",b=n?a.createElement("button",{className:i.default.btnCloseDrawer,"data-a8n":o.default.key("btn-closer-drawer"),onClick:n},a.createElement(s.default,{name:m,directional:!0})):null,g=d===f.SMALL?"x":"x-light",v=c?a.createElement("button",{className:i.default.btnCloseDrawer,"data-a8n":o.default.key("btn-closer-drawer"),onClick:c},a.createElement(s.default,{name:g})):null,y=null!=h?a.createElement("span",{className:i.default.paneListControls},a.createElement(u.MenuBar,{key:"drawer-header"},a.createElement(l.default,{transitionName:"btn"},h))):null,_=(0,r.default)({[i.default.multiMediaGallery]:d===f.MULTI_MEDIA_GALLERY,[i.default.labels]:d===f.LABELS,[i.default.drawerHeader]:d===f.LARGE||d===f.MULTI_MEDIA_GALLERY||d===f.LABELS,[i.default.drawerHeaderSmall]:d===f.SMALL,[i.default.drawerHeaderOffset]:d===f.OFFSET||d===f.POPUP,[i.default.drawerHeaderPopup]:d===f.POPUP}),E=t&&p?a.createElement("div",{className:i.default.side},p):null;return a.createElement("header",{className:_},a.createElement("div",{className:i.default.drawerTitle,"data-animate-drawer-title":!0},a.createElement("div",{className:i.default.drawerTitleAction},b,v),a.createElement("div",{"data-a8n":o.default.key("drawer-title-body"),className:i.default.drawerTitleBody},t||p),E,y))};d.displayName="DrawerHeader",t.default=d},dajhhehjhc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=n("dbajccegac"),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.buf=new a}return r(e,[{key:"pushInt16",value:function(e){this.buf.writeUint16(e)}},{key:"pushInt20",value:function(e){if("number"!=typeof e)throw new Error("invalid int20");this.buf.writeUint8((983040&e)>>16),this.buf.writeUint16(65535&e)}},{key:"pushInt32",value:function(e){this.buf.writeUint32(e)}},{key:"pushByte",value:function(e){this.buf.writeUint8(e)}},{key:"pushBytes",value:function(e){if(!(e instanceof ArrayBuffer))throw new Error("invalid byte buffer");this.buf.writeBuffer(e)}},{key:"pushUint8Array",value:function(e){if("[object Uint8Array]"!==Object.prototype.toString.call(e))throw new Error("invalid Uint8Array");this.buf.writeByteArray(e)}},{key:"pushString",value:function(e){if("string"!=typeof e)throw new Error("invalid string");this.buf.writeString(e)}},{key:"toBuffer",value:function(){return this.buf.readBuffer()}}]),e}();t.default=o},dbabefhajh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var r=c(n("ceffhbhahb")),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=c(n("cehjjfagii")),i=c(n("baagejbchg")),u=c(n("dfeecdfijg")),s=c(n("cieaeggjg")),l=c(n("beejfjjdjf"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){var t=(0,r.default)(l.default.bubble,{[l.default.isPSA]:e.msg.isPSA}),n=(!1!==e.displayAuthor?!e.msg.isSentByMe&&e.msg.isGroupMsg:null)?a.createElement(o.default,{msg:e.msg,contact:e.msg.senderObj}):null,c=e.msg.showForwarded()?a.createElement(u.default,{msg:e.msg}):null,f=e.displayType===i.default.DISP_TYPE.GALLERY||e.hideMeta?null:a.createElement("div",{className:l.default.meta},a.createElement(s.default,{msg:e.msg}));return a.createElement("div",{className:t},n,c,e.children,f)}f.displayName="TextBubble"},dbaedajgf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=i(n("caegbedegd"));function i(e){return e&&e.__esModule?e:{default:e}}var u=(0,i(n("ceggedffg")).default)(/^(\w*)\b/g),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),r(t,null,[{key:"jsx",value:function(e,t,n){var r=n.selectable,i=void 0!==r&&r;return a.createElement(o.default,{selectable:i},e)}}]),t}();t.default=s},dbahdjadcb:function(e,t){e.exports={title:"_6xQdq",large:"_1drsQ",muted:"_1qWhd","section-title":"_3he1q",sectionTitle:"_3he1q",small:"_3D8gv",plain:"_3CjAc",danger:"_23Un5",success:"XSHGx",dark:"_2tNox"}},dbajgaecej:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=i(n("dacdidjdfi")),o=i(n("dcdijgaegd"));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){return r.createElement("div",{className:o.default.outerContainer,onClick:e.onClick},r.createElement("div",{className:o.default.innerContainer},r.createElement(a.default,{onChange:e.onClick,checked:e.checked})))}u.displayName="GroupedStickerCheckbox"},dbbaabdabi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversionTupleExpiry=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},o=d(n("djheacfeif")),i=n("dcaifjegcg"),u=d(i),s=d(n("dbajccegac")),l=d(n("cfadcbbiie")),c=d(n("bdiiahhjbe")),f=d(n("jccfhaecf"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.id=(0,i.prop)(),r.conversionData=(0,i.prop)(),r.conversionSource=(0,i.prop)(),r.timestamp=(0,i.prop)(function(){return l.default.globalUnixTime()}),r.alarmId=(0,i.session)(),p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),r(t,[{key:"initialize",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this),this.listenTo(this,"change:timestamp",this._setExpiryTimer),this._setExpiryTimer()}},{key:"_setExpiryTimer",value:function(){var e=this,t=this.timestamp+604800;if(t<0)return c.default.error("Invalid conversionTuple timer")(),void this.delete();this.alarmId=o.default.setLocalTimeout(function(){e.delete()},1e3*t,this.alarmId)}},{key:"_clearAlarm",value:function(){this.alarmId&&(o.default.clearTimeout(this.alarmId),this.alarmId=void 0)}},{key:"elapsedSeconds",value:function(){return l.default.globalUnixTime()-this.timestamp}},{key:"formatTuple",value:function(){var e={conversionDelaySeconds:this.elapsedSeconds()};return this.conversionData&&(e.conversionData=this.conversionData),this.conversionSource&&(e.conversionSource=this.conversionSource),e}},{key:"toJSON",value:function(){var e=this.serialize(),t=e.conversionData;if(t instanceof ArrayBuffer){var n=new s.default(t);e.conversionData=n.readString(t.byteLength)}return e}},{key:"delete",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),this.getCollection().remove(this.id),this._clearAlarm()}},{key:"getCollection",value:function(){return n("ccbihadedf")}}]),t}();h.Proxy="conversionTuple",h.idClass=f.default,t.default=(0,i.defineModel)(h),t.ConversionTupleExpiry=604800},dbbbgjbbgf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=c(n("baagejbchg")),u=c(n("bjbdcigbdi")),s=c(n("djidhiidef")),l=c(n("ihfccfgdf"));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=void 0===e.spacer||e.spacer;e.msg.rtl!==l10n.isRTL()&&"placeholder"!==e.theme&&(t=!1);var n=void 0;if(t){var r=void 0;switch(e.msg.type){case i.default.MSG_TYPE.REVOKED:r=[e.msg.broadcast,e.msg.labels&&e.msg.labels.length&&u.default.supportsFeature(u.default.F.LABELS_DISPLAY)];break;default:r=[e.msg.broadcast,e.msg.isEphemeral,e.msg.isSentByMe,e.msg.labels&&e.msg.labels.length&&u.default.supportsFeature(u.default.F.LABELS_DISPLAY),e.msg.star]}var l=r.filter(Boolean).length,c=[s.default.icons1,s.default.icons2,s.default.icons3,s.default.icons4],f=l>0?c[l-1]:"";n=o.createElement("span",{className:(0,a.default)(s.default.spacer,f)})}var d=(0,a.default)(s.default.text,e.className,{[s.default.placeholderIn]:"placeholder"===e.theme&&!e.msg.isSentByMe,[s.default.placeholderOut]:"placeholder"===e.theme&&e.msg.isSentByMe,[s.default.template]:e.msg.hsmEnabled});return o.createElement("div",{className:d,dir:e.msg.dir},e.children,n)}}]),t}();f.CONCERNS={msg:["broadcast","dir","hsmEnabled","isEphemeral","isSentByMe","labels","rtl","star","type"]},f.displayName="MessageText",t.default=(0,l.default)(f,f.CONCERNS)},dbbfeecced:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=s(n("ceggedffg")),u=s(n("ijhhjedi"));function s(e){return e&&e.__esModule?e:{default:e}}var l=(0,i.default)(/(^|\s)(((#|t|T|D|P|s|S|r)([0-9]{3,16}))|([0-9a-fA-F]{8,40}))(?=$|\b)/g,2,function(e,t){var n=r(e,7),a=n[1],o=n[6];if(o&&(!f.test(o)||!d.test(o)))return null;a&&(e.index+=a.length,e[0]=e[0].slice(a.length));return e}),c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l),a(t,null,[{key:"jsx",value:function(e,t,n){var a=n.selectable,i=void 0!==a&&a,s=function(e){var t=r(e,7),n=t[4],a=t[5],o=t[6];if(o)return`${b}${o.toLowerCase()}`;switch(n){case"T":case"t":case"#":return`${h}${a}`;case"S":case"s":return`${m}${a}`;default:return`${p}${n}${a}`}}(t);return o.createElement(u.default,{href:s,selectable:i},e)}}]),t}();t.default=c;var f=/[a-fA-F]/,d=/[0-9]/;var p="https://phabricator.intern.facebook.com/",h="https://our.intern.facebook.com/intern/tasks/?t=",m="https://our.intern.facebook.com/intern/sevmanager/view/s/",b="https://our.intern.facebook.com/intern/bunny/?q=hash%20"},dbbggghaed:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendClear=function(e,t,n){var i=void 0;i=a.default.supportsFeature(a.default.F.MD_BACKEND)?Promise.resolve({_duplicate:!1}):o.default.sendConversationClear(e.id,t,!n).then(function(e){if(200!==e.status)throw new r.ServerStatusCodeError(e.status);return e});return i};var r=n("ddjgcfjicj"),a=i(n("bjbdcigbdi")),o=i(n("bihdhbjih"));function i(e){return e&&e.__esModule?e:{default:e}}},dbbhhgjjbg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=m(n("bebajedcaf")),a=m(n("ddfeabiaci"));t.sendTextMsgToChat=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},h=(t||"").trim(),m=n.linkPreview,b=n.quotedMsg,g=n.mentionedJidList,v=n.quotedMsgAdminGroupJid,y=n.selectedId,_=n.selectedIndex;if(""===h)return Promise.resolve();(0,f.clearPresence)(e);var E=e.id,j=i.default.me,O=new c.default({from:j,to:E,id:(0,d.default)(),participant:void 0,selfDir:"out"}),S=void 0;b?S=b.msgContextInfo(e.id):v&&(S={quotedRemoteJid:v});var w=(0,a.default)({id:O,body:h,type:"chat",subtype:m&&!(0,r.default)(m)?"url":null,t:o.default.globalUnixTime(),from:j,to:E,self:"out",local:!0,ack:0,urlText:e.urlText,urlNumber:e.urlNumber},m||{},S||{},{mentionedJidList:g});e.urlText&&(e.urlText=void 0);e.urlNumber&&(e.urlNumber=void 0);(0,u.shouldEnableHsm)()&&null!=_&&(w.type="template_button_reply",w.selectedId=y,w.selectedIndex=_);var P=new l.default(w);return(0,s.appendMessage)(e.id,P.toJSON()).then(function(){var t=(0,p.sendMsgRecord)(P);return e.msgs.add(P),t})}((0,h.unproxy)(e),t,n)};var o=m(n("cfadcbbiie")),i=m(n("bjigbaghc")),u=n("beadfddidc"),s=n("ecdfgaagba"),l=m(n("cbcbdjdah")),c=m(n("cffajefeag")),f=n("icbibjcg"),d=m(n("cfejjfjhca")),p=n("bdgehigfig"),h=n("bheafeifce");function m(e){return e&&e.__esModule?e:{default:e}}},dbbijbhaai:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=f(n("effbcehec")),i=f(n("chdbbjcefd")),u=f(n("bcifhbgija")),s=f(n("baagejbchg")),l=f(n("bcjcbbafcj")),c=f(n("bfdcadbbif"));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.imgRef=a.createRef(),r.txtRef=a.createRef(),d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){var e=this.imgRef.current,t=this.txtRef.current;this.props.animate?((0,u.default)(e,{scale:[1,0],opacity:[1,0]},{delay:1340,duration:180,easing:[.05,1.02,0,1.01]}),(0,u.default)(t,{translateY:[0,80],opacity:[1,0]},{delay:1300,duration:140,easing:[.05,1.02,0,1.01]})):(e&&(e.style.opacity="1"),t&&(t.style.opacity="1"))}},{key:"render",value:function(){return a.createElement("div",{className:i.default.intro},a.createElement("div",{className:i.default.body},a.createElement("div",{ref:this.imgRef,"data-asset-intro-image":!0,className:i.default.image}),a.createElement("div",{ref:this.txtRef,className:i.default.textContainer},a.createElement("h1",{"data-a8n":o.default.key("intro-title"),className:i.default.title},l10n.t(611)),a.createElement("div",{"data-a8n":o.default.key("intro-text"),className:i.default.text},l10n.t(607)),a.createElement(h,null))))}}]),t}();p.displayName="IntroPanel";var h=function(){var e=void 0,t=`<a href="https://www.whatsapp.com/download" target="_blank">${l10n.t(608)}</a>`;switch(l.default.os){case s.default.OS_TYPE.MAC:e=l10n.t(609,{get_it_here:t});break;case s.default.OS_TYPE.WINDOWS:e=l10n.t(610,{get_it_here:t})}return e?a.createElement(m,null,a.createElement("span",{className:i.default.secondaryIcon},a.createElement(c.default,{name:"laptop"})),a.createElement("div",{dangerouslySetInnerHTML:{__html:e},className:i.default.secondaryTextBody})):null},m=function(e){var t=e.children;return a.createElement("div",{className:i.default.secondary},a.createElement("div",{className:i.default.divider}),a.createElement("div",{className:i.default.secondaryText},t))};m.displayName="IntroSecondary",t.default=p},dbcbifhbge:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.genInvocationId=function(){return r++},t.extractInvocationId=function(e){if(null!=e&&"number"==typeof e)return e};var r=1},dbcedfihd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findLinks=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments[2];if(!w.test(e))return[];S.lastIndex=0;var r=[],a=void 0;for(;a=P(e);){var o=C(a,t,n);o&&r.push(o)}return r},t.findLink=M,t.validateEmail=function(e){var t=M(e);return t&&t.url===e&&"mailto:"===t.scheme&&t.username&&!t.params&&!t.anchor?t:null};var r,a=n("bdiiahhjbe"),o=(r=a)&&r.__esModule?r:{default:r},i=n("eajefhgiag");var u=n("hagbbjbah").TLD,s=/^https?:\/\/$/gi,l="\\w|[^\\s\0-]|%[0-9a-f][0-9a-f]",c=`(?:${l})|(?:${l})(?:${l}|-)*(?:${l})`,f=`(?:${l}|[^\\s%])`,d=`[+@!.?,(\\[{<:]*(?!${f}|#)`,p=`(^|\\W\\.|[^/\\w.]|_)((?:http|https)://|mailto:)?(\\b\\w[0-9a-z!#$%&'*+/=?^_\`{|}~\\-]*(?:\\.[0-9a-z!#$%&'*+/=?^_\`{|}~\\-]+)*@)?(${`(?!_)(?:(?:${c})\\.)+(?:${u})(?!\\.${c})`})(?:(?!${c})|(?=_))(?:(?=[^:/?#])|(:\\d{1,5})?(${`/${f}*?`})?(${`\\?(?!${d})${f}*?`})?(${`#${f}*?`})?(?=${d}))`,h=1,m=2,b=3,g=4,v=5,y=6,_=7,E=8,j=new Map([[34,34],[41,40],[62,60],[93,91],[125,123],[187,171],[8217,8216],[8221,8220]]),O=new Map([[34,34],[40,41],[60,62],[91,93],[123,125],[171,187],[8216,8217],[8220,8221]]),S=new RegExp(`${p}`,"ig"),w=new RegExp(`\\.(?:${u})`,"i");function P(e){try{return S.exec(e)}catch(t){return o.default.assert(!1,"linkify-regex-error",`text size: ${e.length}, error: ${String(t)}`)(t),null}}function M(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments[2];return S.lastIndex=0,C(P(e),t,n)}function C(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments[2];if(!e)return null;var r=e[h].length,a=e[0],o=e.index+r,u=e.index;if("_"===e[h]&&u-1&&/\S/.test(e.input[u-1]))return null;if(e[v]){var l=parseInt(e[v].slice(1),10);if("0"===e[v][1]||!(0<l&&l<65536))return null}var c=[E,_,y].find(function(t){return e&&e[t]})||0;if(c){var f=[],d=e[c];"_"===d.slice(-1)&&"_"===a[o-1]&&(a=a.slice(0,-1),e[c]=d=d.slice(0,-1));for(var p=0,w=0,P=0;P<d.length;P++){var M=d.charCodeAt(P);M===w?0===(w=f.pop()||0)&&(p=P):O.has(M)?(0!==w&&f.push(w),w=O.get(M)):j.has(M)||0===w&&(p=P)}for(;0!==f.length;)f.pop();p!==d.length-1?(a=e.slice(m,c).filter(function(e){return e}).join("")+d.slice(0,p+1),S.lastIndex=o+a.length):a=a.slice(r)}else a=a.slice(r);var C=a,T=e[m],A=Boolean(T&&T.match(s));if(t&&!A)return null;T?T=T.toLowerCase():(T=0===C.toLowerCase().indexOf("irc.")?"irc://":0===C.toLowerCase().indexOf("ftp.")?"ftp://":e[b]?"mailto:":"http://",C=T+C);var N=e[g];return{href:C,url:a,index:o,input:e.input,scheme:T,username:e[b],domain:N,port:e[v],path:e[y],params:e[_],anchor:e[E],isHttp:A,suspiciousCharacters:n?(0,i.findSuspiciousCharacters)(N,n):void 0}}},dbcfhfbbbf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n("bfjfgcfade")),a=f(n("dfcggebdjj")),o=f(n("cdheafhdbh")),i=f(n("ccchcigijb")),u=f(n("eccjbdjafd")),s=f(n("eaecbgafff")),l=f(n("bfccafhbbb")),c=f(n("ecidjifge"));function f(e){return e&&e.__esModule?e:{default:e}}var d=new i.default,p=new r.default,h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,(0,u.default)([a.default,p,d,s.default])),t}();h.MentionSuggestions=(0,c.default)(l.default,{plugin:d}),h.EmojiSuggestions=(0,c.default)(o.default,{plugin:p}),t.default=h},dbcfhhdejc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatUnknownMsgText=function(e){return e.isSentByMe?r.default.t(1080):"phone"===e.subtype?r.default.t(1079):a.default.isElectron?r.default.t(1078):r.default.t(1081)},t.formatUnknownMsgNotification=function(e){return"phone"===e.subtype?r.default.t(1079):r.default.t(1081)};var r=o(n("fffdgbfji")),a=o(n("bcjcbbafcj"));function o(e){return e&&e.__esModule?e:{default:e}}},dbciicjiad:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=P(n("ceffhbhahb")),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=P(n("effbcehec")),s=P(n("baagejbchg")),l=P(n("bhhdeihhhf")),c=P(n("ddajbaceej")),f=P(n("bjbdcigbdi")),d=P(n("fffdgbfji")),p=P(n("bijffg")),h=P(n("icghcjegh")),m=P(n("cahcacghci")),b=P(n("eceadcicaf")),g=P(n("bfbggcdbfb")),v=P(n("biecbbiiee")),y=n("eagfdbhhhh"),_=P(n("becfabjeeg")),E=P(n("bfdcadbbif")),j=P(n("fbjjefaic")),O=P(n("caffijjhc")),S=P(n("dbjbhajgfd")),w=P(n("didfdhbecg"));function P(e){return e&&e.__esModule?e:{default:e}}function M(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var N=function(){},k=function(e){function t(){var e,n,r;C(this,t);for(var a=arguments.length,o=Array(a),b=0;b<a;b++)o[b]=arguments[b];return n=r=T(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={searchText:"",searchLabel:null,searchKind:null,isSearching:!1,contextMenu:null},r.refInput=i.createRef(),r.refContainer=i.createRef(),r.disableOnBlur=!1,r.onBlur=function(){r.disableOnBlur||r.props.setTimeout(function(){r.state.searchText||r.state.searchLabel||r.state.searchKind||r.onCancel()},0)},r.onChange=function(e){if(e.target instanceof HTMLInputElement){var t=e.target.value;r.setState({searchText:t},function(){r.props.onSearch(t,{label:r.state.searchLabel,kind:r.state.searchKind})})}},r.renderSmbSearchKindDropDownItem=function(e,t,n){var a=`chat_filter_${e}`;return i.createElement(l.default,{a8n:a,key:a,action:r.updateSearchFilter.bind(r,{kind:e})},i.createElement("div",{className:m.default.kind},i.createElement(E.default,{name:t}),i.createElement("div",{className:m.default.kindName},n)))},r.renderMsgTypeFilter=function(){return f.default.supportsFeature(f.default.F.LABELS_EDIT)&&"chat-msg-search"!==r.props.type?[i.createElement("div",{className:m.default.filterTitle,key:"chat_filter_kind_header"},d.default.t(1157)),r.renderSmbSearchKindDropDownItem(s.default.SMB_SEARCH_FILTERS.UNREAD,"search-unread",d.default.t(1022)),r.renderSmbSearchKindDropDownItem(s.default.SMB_SEARCH_FILTERS.GROUP,"group",d.default.t(1255)),r.renderSmbSearchKindDropDownItem(s.default.SMB_SEARCH_FILTERS.BROADCAST,"search-broadcasts",d.default.t(1021))]:[]},r.renderFilterSelectorMenu=function(){var e=p.default.toArray().reduce(function(e,t){return t.name&&t.count&&0!==t.count?[].concat(M(e),[i.createElement(l.default,{a8n:`label_item_${t.id}`,key:`label_item_${t.id}`,action:r.updateSearchFilter.bind(r,{label:t.id})},i.createElement("button",{className:m.default.labels},i.createElement(h.default,{labels:[t.id],showName:!0,theme:"label-filter"})))]):e},[]),t=0===e.length?null:i.createElement("div",{className:m.default.filterTitle,key:"chat_filter_label_header"},d.default.t(1024));return[].concat(M(r.renderMsgTypeFilter()),[t],M(e))},r.onCancel=function(){var e=r.refInput&&r.refInput.current;e&&!r.state.contextMenu&&(e.blur(),r.setState({searchText:"",searchLabel:null,searchKind:null,isSearching:!1}),r.props.onSearch("",void 0))},r.onReset=function(e){e.stopPropagation(),r.focus(),r.setState({searchText:"",searchLabel:null,searchKind:null}),r.props.onSearch("",void 0)},r.onSearchOn=function(){r.setState({isSearching:!0}),r.props.setTimeout(r.focus,0)},r.focus=function(){var e=r.refInput&&r.refInput.current;e&&c.default.focus(e)},r.showFilterSelector=function(e){var t,n=r.props.SmbFilterSession;n&&(t=n.newSessionId(),new g.default.ChatFilterEvent({actionType:g.default.CHAT_FILTER_ACTION_TYPES.OPEN,sessionId:t}).commit()),e.stopPropagation(),r.setState({contextMenu:{menu:r.renderFilterSelectorMenu(),anchor:e.target}})},r.contextClose=function(){r.setState({contextMenu:null})},r.updateSearchFilter=function(e){var t,n=r.props.SmbFilterSession;r.state.contextMenu&&r.contextClose(),r.setState({searchLabel:e.label,searchKind:e.kind}),n&&(t=n.sessionId,new g.default.ChatFilterEvent({actionType:g.default.CHAT_FILTER_ACTION_TYPES.SELECT_FILTER,filterType:g.default.CHAT_FILTER_TYPES.OTHER_LABELS,sessionId:t}).commit()),r.props.onSearch("",e)},r.labelSelectorMouseEnter=function(){f.default.supportsFeature(f.default.F.LABELS_DISPLAY)&&(r.disableOnBlur=!0)},r.labelSelectorMouseLeave=function(){r.disableOnBlur=!1},r.onContextClose=function(){r.setState({contextMenu:null})},r.constructSearchPlaceholder=function(e){return i.createElement("div",{"data-a8n":u.default.key("input-placeholder"),className:m.default.labelSearchPlaceholder},e)},r.hasActiveLabel=function(){return p.default.toArray().some(function(e){return!(!e.name||!e.count||0===e.count)})},T(r,n)}return A(t,i.Component),a(t,[{key:"componentWillUnmount",value:function(){this.onCancel()}},{key:"componentDidMount",value:function(){var e=this;this.checkIfActive(),f.default.supportsFeature(f.default.F.LABELS_EDIT)&&this.props.listeners.add(v.default,"new_msg_sent",function(){(e.state.searchKind||e.state.searchLabel)&&e.onCancel()})}},{key:"componentDidUpdate",value:function(){this.checkIfActive()}},{key:"checkIfActive",value:function(){if(this.state.isSearching&&!this.state.searchText&&!this.state.searchLabel&&!this.state.searchKind){var e=this.refContainer&&this.refContainer.current;e&&e.contains(document.activeElement)||this.onCancel()}}},{key:"isAtBeginning",value:function(){var e=this.refInput&&this.refInput.current;if(!e)throw new Error("Accessing Input element when unmounted");return 0===e.selectionStart&&0===e.selectionEnd}},{key:"isAtEnd",value:function(){var e=this.refInput&&this.refInput.current;if(!e)throw new Error("Accessing Input element when unmounted");var t=e.value.length;return e.selectionStart===t&&e.selectionEnd===t}},{key:"select",value:function(){var e=this.refInput&&this.refInput.current;if(!e)throw new Error("Accessing Input element when unmounted");e.select()}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.placeholder,r=e.spellCheck,a=e.listFilterEnabled,l=this.state,c=l.isSearching,h=l.searchText,b=l.searchLabel,g=l.searchKind,v=null;c&&(t?v=i.createElement("div",{className:m.default.iconSpinner,key:"icon-clear-search",onClick:this.onReset},i.createElement(_.default,{size:20,stroke:5,color:"highlight"})):h.length||b||g?v=i.createElement("button",{className:m.default.iconCloseSearch,key:"icon-clear-search",onClick:this.onReset},i.createElement(E.default,{name:"x-alt"})):f.default.supportsFeature(f.default.F.LABELS_DISPLAY)&&this.hasActiveLabel()&&a&&(v=i.createElement("button",{className:m.default.iconLabelSelect,key:"icon-select-label",onClick:this.showFilterSelector},i.createElement(E.default,{name:"filter"}))));var j=void 0;c&&(j=i.createElement(O.default,{displayName:"ListSearch",escapable:!0,requestDismiss:this.onCancel,requestFocus:this.focus}));var P=n||d.default.t(985),M=c?this.onCancel:this.onSearchOn,C=(0,o.default)(m.default.listSearch,{[m.default.active]:c||b||g}),T=void 0;this.state.contextMenu&&(T=i.createElement(O.default,{displayName:"ChatContextMenu",escapable:!0,popable:!0,requestDismiss:this.onContextClose},i.createElement(S.default,{contextMenu:this.state.contextMenu})));var A=void 0;return!h&&f.default.supportsFeature(f.default.F.LABELS_DISPLAY)&&(b?A=this.constructSearchPlaceholder(d.default.t(620,{labelName:p.default.assertGet(b).name})):g===s.default.SMB_SEARCH_FILTERS.GROUP?A=this.constructSearchPlaceholder(d.default.t(1023)):g===s.default.SMB_SEARCH_FILTERS.UNREAD?A=this.constructSearchPlaceholder(d.default.t(1025)):g===s.default.SMB_SEARCH_FILTERS.BROADCAST&&(A=this.constructSearchPlaceholder(d.default.t(1020)))),i.createElement("div",{ref:this.refContainer,onMouseEnter:this.labelSelectorMouseEnter,onMouseLeave:this.labelSelectorMouseLeave,className:C},i.createElement("button",{"data-a8n":u.default.key("icon-search-morph"),className:m.default.iconSearchMorph,onMouseDown:M},i.createElement("div",{className:(0,o.default)(m.default.iconMorph,m.default.iconMorphBack)},i.createElement(E.default,{name:"back-blue"})),i.createElement("div",{className:(0,o.default)(m.default.iconMorph,m.default.iconMorphSearch)},i.createElement(E.default,{name:"search"}))),i.createElement(w.default,{transitionName:"pop"},v,T),i.createElement("div",{"data-a8n":u.default.key("input-placeholder"),className:m.default.inputPlaceholder},h?null:P),A,i.createElement("label",{className:m.default.contInputSearch},i.createElement("input",{type:"text",ref:this.refInput,"data-a8n":u.default.key("input-search"),className:(0,o.default)(m.default.inputSearch,y.SELECTABLE_INPUT_CSS_CLASS),"data-tab":2,dir:"auto",spellCheck:r,title:P,value:h,onBlur:this.onBlur,onFocus:c?null:this.onSearchOn,onChange:c?this.onChange:N})),j)}}]),t}();k.displayName="ListSearch";var I=(0,j.default)((0,b.default)(k)),R=function(e){function t(){return C(this,t),T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return A(t,I),a(t,[{key:"focus",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).focus()}},{key:"isAtEnd",value:function(){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).isAtEnd()}},{key:"setSearchText",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).setState({searchText:e})}},{key:"select",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).select()}}]),t}();t.default=R},dbdagcfdjh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.auth,n=e.directPath,s=e.encFilehash,l=e.hostname,c=e.type,f=e.signal,d=e.onProgress,p=(0,i.default)({auth:t,directPath:n,encFilehash:s,hostname:l,type:c}),h={encFilehash:s,type:c,url:p};return u.default.log("mmsDownload: start",h)(),(0,o.default)(p,{signal:f,onProgress:d}).then(function(e){if(!e.ok)switch(e.status){case 401:throw new a.MMSUnauthorizedError("mmsDownload",{url:p});case 403:throw new a.MMSForbiddenError("mmsDownload",{url:p});case 404:case 410:throw new a.MediaNotFoundError("mmsDownload",{url:p,status:e.status});case 507:throw new a.MMSThrottleError("mmsDownload",{url:p});default:throw new a.HttpStatusCodeError(e.status,"mmsDownload",{url:p})}return e.arrayBuffer()}).then(function(t){return(0,r.default)(t).then(function(n){if(n!==e.encFilehash)throw new a.HttpInvalidResponseError("mmsDownload: filehash mismatch",{url:p,encFilehash:n,expectedEncFilehash:e.encFilehash});return t})}).then(function(e){return u.default.log("mmsDownload: success",h)(),e}).catch(function(e){throw e instanceof a.MediaNotFoundError||e instanceof a.AbortError?u.default.log("mmsDownload: expected error",h,e)():u.default.error("mmsDownload: error",h,e)(),e})};var r=s(n("baeghbhigj")),a=n("fgeddfbg"),o=s(n("dgjijbgdai")),i=s(n("ecbacgcajj")),u=s(n("bdiiahhjbe"));function s(e){return e&&e.__esModule?e:{default:e}}},dbdfbgehgj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChatCollection=void 0;var r=x(n("bgeijhbbad")),a=x(n("jcfacighg")),o=x(n("iidhbgeed")),i=x(n("dbafiicfja")),u=x(n("bebajedcaf")),s=x(n("eaaagccfda")),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n("cgcgbfbffj"),f=x(c),d=n("dfdebdgdei"),p=x(n("ebjaejiaba")),h=x(n("dfjfgdhbjj")),m=x(n("baagejbchg")),b=n("bjigbaghc"),g=x(b),v=n("ddjgcfjicj"),y=n("bgabieacgg"),_=x(n("bihjahgcja")),E=x(n("bijffg")),j=x(n("bdiiahhjbe")),O=x(n("cffajefeag")),S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ebggjhghhi")),w=x(n("bechejbabh")),P=x(n("jdigiabic")),M=n("cjjjhbdicf"),C=n("dgacffdjd"),T=n("ebffbebefe"),A=x(n("fagbfehid")),N=x(n("bhggeigghg")),k=n("dcjbdhhjge"),I=x(n("egjjcjcg")),R=x(n("jccfhaecf")),L=n("eaaehfdjdg"),D=x(L);function x(e){return e&&e.__esModule?e:{default:e}}var U=t.ChatCollection=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.notSpam={},e.promises={sendUnstarAll:null},e._sortEnabled=!1,e.enableSortListener(),e.listenTo(D.default,"change:stream",function(){D.default.stream===L.STREAM.RESUMING&&e.forEach(function(e){e.pendingMsgs=!1})}),e.listenToOnce(e,"sort",(0,s.default)(e.setIndexes,100)),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.default),l(t,[{key:"enableSortListener",value:function(e){this._sortEnabled||(this.listenTo(this,"change:t change:pin change:shouldAppearInList",this.sort),e&&this.sort(),this._sortEnabled=!0)}},{key:"disableSortListener",value:function(){this._sortEnabled&&(this.stopListening(null,null,this.sort),this._sortEnabled=!1)}},{key:"setIndexes",value:function(){this.forEach(function(e,t){e.initialIndex=t})}},{key:"active",value:function(){var e=this.filter(function(e){return e.active})[0];return e||void 0}},{key:"_find",value:function(e){return Promise.resolve({id:e,createdLocally:!0})}},{key:"_findQuery",value:function(e){var t=this,n={};return(0,y.find)(!!e.retry,n).then(function(e){return"preempted"===e?Promise.reject("chats preempted"):(g.default.platform===b.PLATFORMS.IPHONE&&((0,u.default)(e)?N.default.Msg.trigger(m.default.COLLECTION_HAS_SYNCED):setTimeout(function(){N.default.Msg.trigger(m.default.COLLECTION_HAS_SYNCED)},2500)),t.trigger(m.default.COLLECTION_HAS_SYNCED,n),Promise.resolve(e))})}},{key:"sync",value:function(){return this.findQuery({}).catch(v.WapDrop,function(){}),Promise.all([S.waitForBBEvent(this,m.default.COLLECTION_HAS_SYNCED),N.default.Msg.hasSynced()])}},{key:"getKeysForResyncMsgs",value:function(){return this.filter(function(e){return e.shouldAppearInList}).map(function(e){var t=e.getAckedPhoneProps(),n=e.lastReceivedKey;return n&&(t.id=n.id,t.fromMe=n.fromMe.toString(),t.participant=n.participant),t})}},{key:"resyncMessages",value:function(){var e=this;j.default.log("ChatStore:resyncMessages")();var t=this.getKeysForResyncMsgs();return(0,M.resyncMessages)(t).then(function(t){if(t.status>=400)return j.default.error("ChatStore:resyncMessages resume error "+t.status)(),Promise.reject(new Error("ChatStore:resyncMessages resume error "+t.status));j.default.log("ChatStore:resyncMessages resume success")();try{e.disableSortListener(),t.data.forEach(function(t){if(t.disableUnreadAnchor=!1,t.firstUnreadKey=void 0,t.keys&&1===t.keys.length){var n=t.keys[0];t.firstUnreadKey=new O.default({id:n[0],fromMe:n[1],participant:n[2],remote:t.id})}if("delete"!==t.type&&!R.default.isPSA(t.id)){var r=N.default.Contact.get(t.id);if(r){if(t.name){var a={name:t.name};(0,k.updateLocal)(r.id,a).then(function(){r.set(a)})}}else N.default.Contact.add({id:t.id,name:t.name})}var o=e.get(t.id);if(o)if("clear"===t.type){o.resetMediaMsgs();var i=[];o.msgs.forEach(function(e){return i.push(e)}),o.msgChunks.length&&o.msgChunks.forEach(function(e){e.forEach(function(e){return i.push(e)})}),o.set({t:t.t,unreadCount:t.unreadCount,createdLocally:!1,archive:t.archive,isReadOnly:t.isReadOnly,modifyTag:t.modifyTag,msgs:[],notSpam:t.notSpam,unreadMsgAnchor:void 0,disableUnreadAnchor:t.disableUnreadAnchor,pendingMsgs:t.pendingMsgs,pin:t.pin,changeNumberOldJid:t.changeNumberOldJid,changeNumberNewJid:t.changeNumberNewJid,muteExpiration:t.muteExpiration,ephemeralDuration:t.ephemeralDuration}),i.forEach(function(e){e.delete()}),j.default.log("model:chat:resume: cleared chat for "+t.id)()}else"delete"===t.type?(o.delete(),j.default.log("model:chat:resume: deleted chat for "+t.id)()):o.set(t,{merge:!0});else e.add(t)}),e.enableSortListener(!0)}catch(e){j.default.error("model:chat:resume error in processing reply:"+String(e))()}Promise.delay(100).then(function(){t.checksum&&(0,C.resyncContacts)(t.checksum),t.statusChecksum&&N.default.StatusV3.sync(t.statusChecksum),t.quickRepliesChecksum&&w.default.sync(t.quickRepliesChecksum),t.labelsChecksum&&E.default.sync(t.labelsChecksum),t.stickerPackChecksum&&A.default.sync(t.stickerPackChecksum),null!=t.recentStickersChecksum&&P.default.sync(t.recentStickersChecksum)}).catch(function(e){j.default.error("model:chat:resume error in processing checksum:"+String(e))()})}).catch(v.WapDrop,function(e){return j.default.error("ChatStore:resyncMessages resume dropped")(),Promise.reject(e)})}},{key:"unstarAllMessages",value:function(e,t){return(0,T.unstarAllMessages)(e,t)}},{key:"forwardMessagesToChats",value:function(e,t){var r=n("dgjddffcfg"),u=Promise.map(e,function(e){return Promise.props({message:e,canForward:e.canForward()})});return Promise.map(t,function(e){var t=void 0;return t=e.isUser&&e.contact.isBlocked()?(0,d.unblockContact)(e.contact):Promise.resolve(!0),Promise.all([u,t]).spread(function(t,n){var r=(0,i.default)((0,o.default)(t,{canForward:!0}),"message"),a=(0,i.default)((0,o.default)(t,{canForward:!1}),"message");return Promise.props({chat:e,undelivered:e.forwardMessages(r,!0),canForward:r,cannotForward:a})})}).then(function(e){var t=(0,a.default)(e.map(function(e){var t=e.chat,n=e.undelivered,a=e.canForward,o=e.cannotForward,i=null;return(n.length||o.length)&&(i=r.formatForwardError({chat:t,undelivered:n,canForward:a,cannotForward:o})),i?{chat:t,reason:i}:null}));if(t.length)throw new _.default(t);return!0})}},{key:"saveToCache",value:function(){if(g.default.me){var e=t.cachePolicy.id;j.default.log(`ChatCollection:saveToCache save: ${String(e)}`)();var n=this.map(function(e,t){var n=e.toJSON(),a=t<20?Math.min(e.unreadCount+20,50):Math.min(Math.max(3,e.unreadCount),20);return n.msgs=e.msgs?e.msgs.slice(-a).map(function(e){return(0,r.default)(e.toJSON(),function(e){return void 0!==e})}):[],n});I.default.setCollection(e,n,!0)}}},{key:"onResume",value:function(){var e=this.active();e&&e.presence.subscribe()}},{key:"delete",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),this.listenToOnce(this,"sort",(0,s.default)(this.setIndexes,100))}}]),t}();U.model=p.default,U.comparator=h.default,U.cachePolicy={id:"chat",policy:c.CACHE_POLICY.IMMEDIATE,trigger:"add sort remove reset change:id change:t change:unreadCount change:archive change:isReadOnly change:isAnnounceGrpRestrict change:modifyTag change:muteExpiration change:name change:notSpam change:pin change:changeNumberOldJid change:changeNumberNewJid change:lastReceivedKey change:msg:ack msgs:loadEarlier"},t.default=new U},dbdjchfgia:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerState=void 0;var r=s(n("dhgeffcgbg")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=s(n("cehheibgje"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e){return o({},e,{playerVars:o({},e.playerVars,{autoplay:0,start:0,end:0})})}var f=t.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5},d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.listeners=[],r.onPlayerReady=function(e){return r.props.onReady(e)},r.onPlayerError=function(e){return r.props.onError(e)},r.onPlayerStateChange=function(e){switch(r.props.onStateChange(e),e.data){case f.ENDED:r.props.onEnd(e);break;case f.PLAYING:r.props.onPlay(e);break;case f.PAUSED:r.props.onPause(e);break;default:return}},r.onPlayerPlaybackRateChange=function(e){return r.props.onPlaybackRateChange(e)},r.onPlayerPlaybackQualityChange=function(e){return r.props.onPlaybackQualityChange(e)},r.createPlayer=function(){var e=o({},r.props.opts,{videoId:r.props.videoId});r.internalPlayer=(0,u.default)(r.container,e),r.listeners.push(r.internalPlayer.on("ready",r.onPlayerReady),r.internalPlayer.on("error",r.onPlayerError),r.internalPlayer.on("stateChange",r.onPlayerStateChange),r.internalPlayer.on("playbackRateChange",r.onPlayerPlaybackRateChange),r.internalPlayer.on("playbackQualityChange",r.onPlayerPlaybackQualityChange))},r.resetPlayer=function(){return r.internalPlayer.destroy().then(r.createPlayer)},r.updatePlayer=function(){var e=r.internalPlayer.getIframe();r.props.id?e.setAttribute("id",r.props.id):e.removeAttribute("id"),r.props.className?e.setAttribute("class",r.props.className):e.removeAttribute("class")},r.updateVideo=function(){if(null!=r.props.videoId){var e=!1,t=void 0,n=void 0;"playerVars"in r.props.opts&&(e=1===r.props.opts.playerVars.autoplay,"start"in r.props.opts.playerVars&&(t=r.props.opts.playerVars.start),"end"in r.props.opts.playerVars&&(n=r.props.opts.playerVars.end));var a={videoId:r.props.videoId,startSeconds:t,endSeconds:n};e?r.internalPlayer.loadVideoById(a):r.internalPlayer.cueVideoById(a)}else r.internalPlayer.stopVideo()},r.refContainer=function(e){r.container=e},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"componentDidMount",value:function(){this.createPlayer()}},{key:"componentDidUpdate",value:function(e){(function(e,t){return e.id===t.id||e.className===t.className})(e,this.props)&&this.updatePlayer(),function(e,t){return!(0,r.default)(c(e.opts),c(t.opts))}(e,this.props)&&this.resetPlayer(),function(e,t){if(e.videoId!==t.videoId)return!0;var n=e.opts.playerVars||{},r=t.opts.playerVars||{};return n.start!==r.start||n.end!==r.end}(e,this.props)&&this.updateVideo()}},{key:"componentWillUnmount",value:function(){var e=this;this.listeners.forEach(function(t){e.internalPlayer.off(t)}),this.internalPlayer.destroy()}},{key:"render",value:function(){return i.createElement("span",{className:this.props.containerClassName},i.createElement("div",{id:this.props.id,className:this.props.className,ref:this.refContainer}))}}]),t}();d.defaultProps={id:null,className:null,opts:{playerVars:{}},containerClassName:"",onReady:function(){},onError:function(){},onPlay:function(){},onPause:function(){},onEnd:function(){},onStateChange:function(){},onPlaybackRateChange:function(){},onPlaybackQualityChange:function(){}},d.displayName="YouTube",t.default=d},dbefabiacb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getContactsToRemove=function(e){var t=[],n={};return e.forEach(function(e){e&&(n[e.id]=!0)}),o.default.Contact.forEach(function(e){var r=e.id;!(e.isUser||e.isGroup&&!o.default.Chat.get(r))||n[r.toString()]||e.isPSA||t.push(e)}),t};var r,a=n("bhggeigghg"),o=(r=a)&&r.__esModule?r:{default:r}},dbegdchadg:function(e,t,n){"use strict";var r,a=n("chgaccicf");var o=(0,((r=a)&&r.__esModule?r:{default:r}).default)({FORWARD:void 0,BACKWARD:void 0});e.exports=function(e,t){var n=window.getSelection();if(!n||!n.rangeCount)return null;var r=n.getRangeAt(0);if(!r.collapsed)return null;var a=r.startContainer,i=r.startOffset;if(a===e){var u=a.childNodes,s=u.length;if(t===o.FORWARD&&i>s||t===o.BACKWARD&&!i)return null;var l=u[i-(t===o.BACKWARD?1:0)];return l instanceof Element?l:null}var c=a.length===i;if(t===o.BACKWARD&&i)return null;if(t===o.FORWARD&&!c)return null;var f=a[t===o.BACKWARD?"previousSibling":"nextSibling"];return f instanceof Element?f:null},e.exports.Direction=o},dbfaahhhec:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=d(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=n("ejbdjaifi"),u=d(n("ihgbiaiaa")),s=d(n("bffjfbgbg")),l=d(n("bbjadhadbg")),c=d(n("ihfccfgdf")),f=d(n("eedjbihej"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.hasResolved=!1,r._renderImage=function(e){var t=r.props.onClick;return e?o.createElement("div",{className:r.getItemClassName(),style:{backgroundImage:`url('${e}')`,backgroundSize:"cover",backgroundPosition:"center center",cursor:`${t?"pointer":"auto"}`},ref:(0,i.GetRef)("image",r),onClick:r._handleClick}):null},r._renderImagePreview=function(){var e=r.props.mediaData,t=e.preview&&e.preview.url();return o.createElement("div",{className:(0,a.default)(r.getItemClassName(),u.default.loadingImageContainer)},t&&o.createElement("div",{className:u.default.loadingImage,style:{backgroundImage:`url('${t}')`,backgroundSize:"cover",backgroundPosition:"center center",cursor:"auto"}}))},r._handleClick=function(){var e=r.props,t=e.onClick,n=e.imageModel;t&&n&&t(r.image,n)},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.incrementResolvedCount,n=e.renderFallbackImage,r=e.mediaData;!t||this.hasResolved||n||r.mediaStage!==s.default.STAGE.RESOLVED||(t(),this.hasResolved=!0)}},{key:"getItemClassName",value:function(){var e=this.props.className;return(0,a.default)({[u.default.item]:!e},e)}},{key:"_renderFallbackImage",value:function(){var e=this.props.mediaData;return o.createElement(l.default,{mediaData:e,placeholderRenderer:this._renderImagePreview},this._renderImage)}},{key:"_renderOverlayTile",value:function(){var e=this.props,t=e.numImagesNotRendered,n=void 0===t?0:t,r=e.numberTextClassName,i=e.mediaData,s=r?{[r]:"string"==typeof r}:null;return o.createElement("div",{className:(0,a.default)(u.default.item,u.default.overlay),onClick:this._handleClick},this._renderImage(i.renderableUrl),n>0?o.createElement(f.default,{theme:"large",className:(0,a.default)(u.default.numberText,s)},l10n.t(857,{number:n})):null)}},{key:"render",value:function(){var e=this.props,t=e.mediaData,n=e.renderOverlay,r=e.renderImage;return e.renderFallbackImage?this._renderFallbackImage():r?t.mediaStage!==s.default.STAGE.RESOLVED?null:n?this._renderOverlayTile():this._renderImage(t.renderableUrl):null}}]),t}();h.CONCERNS={mediaData:["mediaStage","filehash","preview","renderableUrl"]},h.displayName="ImageGridItem",t.default=(0,c.default)(h,h.CONCERNS)},dbfbdfhfee:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=u(n("ceffhbhahb")),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=u(n("dacdidjdfi")),i=u(n("daibgjhabc"));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=(0,r.default)(i.default.container,{[i.default.isChecked]:e.checked,[i.default.gallery]:"gallery"===e.msgTheme});return a.createElement("div",{className:t,onClick:e.onClick},a.createElement(o.default,{onChange:e.onClick,checked:e.checked,theme:e.theme}))}s.displayName="MsgCheckbox"},dbfiijcdie:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=i(n("cccehdaiaf")),o=i(n("bdiiahhjbe"));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5},l=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror"],c=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror"],f=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","msfullscreenchange","msfullscreenerror"],d=void 0,p=void 0,h=new(function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.requestFullscreen=function(e){e?d?e[d[s.requestFullscreen]]():o.default.warn("Your browser does not support fullscreen API.")():o.default.error("The element requesting fullscreen is null or undefined.")()},e._fullscreenChangeTrigger=function(t){e.trigger("fullscreen_change",t)},e._fullscreenErrorTrigger=function(t){e.trigger("fullscreen_error",t)},"object"!=typeof window||"object"!=typeof window.document?(o.default.error("document object does not exist")(),u(e)):("fullscreenEnabled"in(p=window.document)?d=Object.keys(s):l[s.fullscreenEnabled]in p?d=l:c[s.fullscreenEnabled]in p?d=c:f[s.fullscreenEnabled]in p&&(d=f),d?(p.addEventListener(d[s.fullscreenchange],e._fullscreenChangeTrigger),p.addEventListener(d[s.fullscreenerror],e._fullscreenErrorTrigger),e):(o.default.warn("Your browser does not support fullscreen API.")(),u(e)))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"exitFullscreen",get:function(){return p?d?p[d[s.exitFullscreen]].bind(p):(o.default.warn("Your browser does not support fullscreen API.")(),function(){}):(o.default.error("document object does not exist")(),function(){})}},{key:"isFullscreenMode",get:function(){return p?d?!!p[d[s.fullscreenElement]]:(o.default.warn("Your browser does not support fullscreen API.")(),!1):(o.default.error("document object does not exist")(),!1)}},{key:"fullscreenEnabled",get:function(){return p?d?Boolean(p[d[s.fullscreenEnabled]]):(o.default.warn("Your browser does not support fullscreen API.")(),!1):(o.default.error("document object does not exist")(),!1)}},{key:"fullscreenElement",get:function(){if(p){if(d)return p[d[s.fullscreenElement]];o.default.warn("Your browser does not support fullscreen API.")()}else o.default.error("document object does not exist")()}}]),t}());o.default.exportToWindow("Fullscreen",h),t.default=h},dbfjecijha:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MsgLoadState=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},o=d(n("cgeeeeddea")),i=d(n("cgcgbfbffj")),u=n("dcaifjegcg"),s=d(u),l=d(n("bdiiahhjbe")),c=d(n("cbcbdjdah")),f=d(n("bhggeigghg"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=function(e){function t(){var e,n,r;p(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.noEarlierMsgs=(0,u.prop)(),r.isLoadingEarlierMsgs=(0,u.prop)(),r.isLoadingRecentMsgs=(0,u.prop)(),r.isLoadingAroundMsgs=(0,u.prop)(),r.contextLoaded=(0,u.prop)(),h(r,n)}return m(t,s.default),t}();b.Proxy="msgLoad";var g=t.MsgLoadState=(0,u.defineModel)(b),v=function(e){function t(){p(this,t);var e=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.msgLoadState=new g({noEarlierMsgs:!1,isLoadingEarlierMsgs:!1,isLoadingRecentMsgs:!1,isLoadingAroundMsgs:!1,contextLoaded:!1}),e.listenTo(e,"add remove reset sort",e.triggerChangeLast),e.listenTo(e.msgLoadState,"change:noEarlierMsgs",function(e,t){if(t){var n=["noEarlierMsgs changed to true",(new Error).stack];l.default.logVerbose(n.join("\n"))()}}),e}return m(t,i.default),r(t,[{key:"delete",value:function(){this.stopListening(),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),this.msgLoadState.delete()}},{key:"triggerChangeLast",value:function(e,t,n){var r=this.last();if(this._last!==r){this._last=r;var a=!1;t&&t.includes(e)&&n&&n.add&&!n.remove&&(a=!0),this.trigger("change:last",r,a)}}},{key:"add",value:function(e,n){var r=this,o=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,n);return f.default.Msg.add(o,n).forEach(function(e){e&&r.isModel(e)&&(e.msgChunk=r)}),o&&this.trigger("bulk_add",o,n),o}},{key:"remove",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this,e,n),i=!!n&&n.silent,u=o.filter(function(e){return!!e});return u.length&&!i&&(this.trigger("remove_msgs",u,n),r||this.trigger("update_sort_time")),o}},{key:"replace",value:function(e){var t=this;e.msgLoadState.noEarlierMsgs&&l.default.logVerbose(`Replacing cmc msgLoadState with one whose noEarlierMsgs is true.\n${(new Error).stack}`)(),this.msgLoadState=e.msgLoadState,this.loadRecentPromise=e.loadRecentPromise,this.loadEarlierPromise=e.loadEarlierPromise,this.loadAroundPromise=e.loadAroundPromise;var n=e.getModelsArray();this.set(n,{silent:!0,merge:!1}),n.forEach(function(e){t.isModel(e)&&(e.msgChunk=t)}),this.trigger("bulk_add",n)}},{key:"onMsgLoadStateChange",value:function(e){var t=this,n=void 0,r=function(){e()},a=function(){(0,o.default)(null!=n,"prevMsgLoadState cannot be null after bulk_add"),n.off("change",r);var a=t.msgLoadState;a.on("change",r),n=a,e()};(n=this.msgLoadState).on("change",r),this.on("bulk_add",a);var i=function(){(0,o.default)(null!=n,"prevMsgLoadState cannot be null when unsubscribing"),t.off("bulk_add",a),n.off("change",r)};return function(){var e=i;e&&(i=null,e())}}}]),t}();v.model=c.default,t.default=v},dbgefjefac:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=k(n("ceffhbhahb")),o=N(n("ddhijeejag")),i=k(n("cehjjfagii")),u=k(n("jhcabjcaf")),s=k(n("bfjbdahdag")),l=k(n("cfadcbbiie")),c=k(n("bbchdeehff")),f=(k(n("baagejbchg")),k(n("dfeecdfijg"))),d=k(n("eceadcicaf")),p=k(n("bffjfbgbg")),h=k(n("eiiicijcj")),m=N(n("ecibddhig")),b=k(n("eafjfadchb")),g=k(n("cieaeggjg")),v=k(n("bfbggcdbfb")),y=n("dhccihecch"),_=n("bbdfiiibib"),E=k(_),j=k(n("ichhibhgh")),O=k(n("bcafcjajcb")),S=k(n("ihfccfgdf")),w=n("bheafeifce"),P=k(n("bfdcadbbif")),M=k(n("deibgadgic")),C=k(n("cbjacjjfgc")),T=k(n("edbaidcaf")),A=k(n("bcfhbihafa"));function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function k(e){return e&&e.__esModule?e:{default:e}}var I={PREVIEW:"PREVIEW",FLOATER:"FLOATER"},R=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.setRefThumb=function(e){n.refThumb=e},n.showMediaMissing=function(){c.default.openModal(o.createElement(h.default,{msg:n.props.msg}))},n.downloadMedia=function(){n.props.msg.downloadMedia(!0,v.default.WEBC_RMR_REASON_CODE.MSG_CLICK)},n.cancelDownload=function(){n.props.msg.cancelDownload()},n.cancelUpload=function(){n.props.msg.cancelUpload()},n.resumeUpload=function(){n.props.msg.resumeUpload()},n.resumeRemoteUpload=function(){n.props.msg.resumeRemoteUpload()},n.downloadUnsupportedToDesktop=function(e){e&&e.stopPropagation(),c.default.openModal(o.createElement(b.default,{msg:(0,w.unproxy)(n.props.msg)}))},n.launchMediaViewer=function(e){if(e&&e.stopPropagation(),n.props.theme===y.THEMES.ALBUM){var t=n.props.zoomMsg||n.props.msg,r=new Set((n.props.albumMsgs||[]).map(function(e){return e.id.toString()}));c.default.mediaViewerModal({msg:(0,w.unproxy)(t),highlightedMsgIds:r})}else c.default.mediaViewerModal({msg:(0,w.unproxy)(n.props.msg)})},n.launchVideoFloater=function(e){e&&e.stopPropagation();var t=n.refThumb?n.refThumb.getBoundingClientRect():null;j.default.openPiP((0,w.unproxy)(n.props.msg),0,t)},n.setPreviewMode=function(){n.state.mode!==I.PREVIEW&&n.setState({mode:I.PREVIEW})},n.setFloaterMode=function(){n.state.mode!==I.FLOATER&&n.setState({mode:I.FLOATER})};var r=j.default.isOpened((0,w.unproxy)(e.msg))?I.FLOATER:I.PREVIEW;return n.state={mode:r},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(j.default,`${this.props.msg.id.toString()}_pip_did_open`,this.setFloaterMode),this.props.listeners.add(j.default,`${this.props.msg.id.toString()}_pip_did_close`,this.setPreviewMode)}},{key:"render",value:function(){var e=this,t=this.props,n=t.msg,r=t.mediaData,c=t.theme,d=t.overlayContent,h=null,b=null;switch(r.mediaStage){case p.default.STAGE.RESOLVED:case p.default.STAGE.INIT:h=o.createElement(m.Play,null),b=this.launchMediaViewer;break;case p.default.STAGE.NEED_POKE:h=o.createElement(m.Download,{filesize:r.size}),b=this.downloadMedia;break;case p.default.STAGE.UPLOADING:h=o.createElement(m.PendingCancel,null),b=this.cancelUpload;break;case p.default.STAGE.FETCHING:h=o.createElement(m.PendingCancel,null),b=this.cancelDownload;break;case p.default.STAGE.NEED_UPLOAD:h=o.createElement(m.Upload,{filesize:r.size}),b=this.resumeUpload;break;case p.default.STAGE.REMOTE_NEED_UPLOAD:h=o.createElement(m.Upload,{filesize:r.size}),b=this.resumeRemoteUpload;break;case p.default.STAGE.ERROR_MISSING:b=this.showMediaMissing;break;case p.default.STAGE.ERROR_UNSUPPORTED:n.isUnsentMedia||(h=o.createElement(m.Download,{filesize:r.size}),b=this.downloadUnsupportedToDesktop);break;case p.default.STAGE.SENDING:n.isFailed||(h=o.createElement(m.Pending,null));break;default:h=o.createElement(m.Pending,null)}var v=parseInt(r.duration)?l.default.durationStr(r.duration):null,j=v?o.createElement("span",{className:A.default.duration},o.createElement("div",{className:A.default.icon},o.createElement(P.default,{name:"msg-video-light"})),v):null,S=r.preview?T.default.thumbAsBackgroundImage(r.preview.url()):void 0,w=o.createElement("div",{className:A.default.thumbBody,style:S}),N=this.props.displayAuthor&&!n.isSentByMe&&n.isGroupMsg,k=N?o.createElement("div",{className:A.default.author},o.createElement(i.default,{msg:n,contact:n.senderObj})):null,R=n.showForwarded()&&this.props.theme!==y.THEMES.ALBUM,D=R?o.createElement(f.default,{msg:n,className:A.default.forwardedIndicator}):null,x=o.createElement(C.default,null),U=n.caption?o.createElement("div",{className:A.default.caption},o.createElement(s.default,{msg:n,trusted:this.props.trusted,spacer:!(n.hsmEnabled&&n.footer)})):null,G=(0,a.default)(A.default.bubble,{[A.default.nonAlbumBubble]:!c||c!==y.THEMES.ALBUM}),F=(0,a.default)(G,{[A.default.hasCaption]:U,[A.default.hasAuthor]:N,[A.default.isHover]:this.props.hover,[A.default.forwarded]:R,[A.default.isPSA]:n.isPSA}),B=void 0;switch(r.mediaStage){case p.default.STAGE.INIT:case p.default.STAGE.RESOLVED:B=o.createElement("div",{className:(0,a.default)(A.default.pipBtn,{[A.default.isHover]:!!this.props.hover})},o.createElement(E.default,{onClick:function(t){t&&t.stopPropagation(),e.launchVideoFloater()},theme:_.PIP_BUTTON_THEME.PREVIEW}));break;default:B=null}var $=this.props.quotedMsg?o.createElement("div",{className:A.default.quote},this.props.quotedMsg):null,V=void 0;switch(this.state.mode){case I.PREVIEW:V=o.createElement(o.Fragment,null,B,h);break;case I.FLOATER:V=o.createElement(O.default,{icon:o.createElement(P.default,{name:"video-pip-large"})},l10n.t(884))}var H=(0,a.default)(A.default.thumb,{[A.default.inAlbum]:c===y.THEMES.ALBUM}),W=void 0;d||(W=o.createElement("div",{className:A.default.meta},o.createElement(g.default,{msg:n})));var Y=o.createElement("div",{className:F},k,D,$,o.createElement("div",{ref:this.setRefThumb,className:(0,a.default)(H,"video-thumb",{[A.default.cursorPointer]:this.state.mode===I.PREVIEW,[A.default.overlay]:d}),onClick:b},d?null:V,w,x,d?null:j),U,o.createElement(M.default,{msg:n}),W);return U?o.createElement(u.default,{contact:n.senderObj,msg:n,onClick:L},Y):(d&&(Y=o.createElement("div",{className:A.default.overlayAlbumText},Y,d)),o.createElement("div",{onClick:L},Y))}}]),t}();function L(e){e.stopPropagation()}R.CONCERNS={msg:["ack","caption","dir","footer","gifAttribution","hsmEnabled","id","isGroupMsg","isPSA","isSentByMe","isUnsentMedia","rtl","senderObj","subtype","type","isFailed"],mediaData:["aspectRatio","preview","duration","mediaStage","size"]},R.displayName="Video",t.default=(0,d.default)((0,S.default)(R,R.CONCERNS))},dbgjiabiae:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TemplateButtonCollection=void 0;var r=o(n("cgcgbfbffj")),a=o(n("bdcddabebc"));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.TemplateButtonCollection=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),t}();i.model=a.default,i.comparator=function(e,t){return e.id<t.id?-1:e.id>t.id?1:0},t.default=i},dbhbjaeieh:function(e,t){e.exports={video:"_1cIQK"}},dbhbjbfadb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FETCH_STATE=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=f(n("cgeedcdffb")),o=n("beifdajhid"),i=f(n("bdiiahhjbe")),u=f(n("cafdagagdh")),s=f(n("cjbdijighi")),l=n("ddihieeaee"),c=f(n("bcbjcgdgdf"));function f(e){return e&&e.__esModule?e:{default:e}}t.FETCH_STATE={PENDING:"PENDING",SUCCESS:"SUCCESS",ERROR:"ERROR"};var d=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._fetch=(0,s.default)(function(){return"all"},function(e){var n=e.signal;return(0,l.sendQueryMediaConn)(n).then(function(e){t._err=null,t._data={auth:e.auth,authExpirationTime:new Date(e.queryStartTime.getTime()+e.authTTL),authTTL:e.authTTL,hosts:e.hosts.map(function(e){return new u.default(e)}),hostsRefreshTime:new Date(e.queryStartTime.getTime()+e.ttl),queryStartTime:e.queryStartTime}}).catch(function(e){t._data=null,t._err=e,i.default.assert(!1,"Error fetching mms hosts")(e)})}),this._reset()}return r(e,[{key:"getHostsInfo",value:function(e){var t=this,n=e.directPath,r=e.encFilehash,i=e.operation,u=e.type,s={signal:e.signal||(new a.default).signal};return this._refreshIfStale(s).then(function(){if(!t._data)throw new o.NoMediaHostsError("no fetched data");var e=t._data.auth,a=t._data.hosts,s=(0,c.default)({directPath:n,encFilehash:r,hosts:a,operation:i,type:u}),l=s.selectedHost,f=s.fallbackHost;if(!l)throw new o.NoMediaHostsError("no selected host");return{auth:e,selectedHost:l,fallbackHost:f}})}},{key:"_isExpiredOrMissing",value:function(){return!this._data||new Date>=this._data.authExpirationTime}},{key:"_needsRefresh",value:function(){if(!this._data)return!0;if(new Date>=this._data.hostsRefreshTime)return!0;var e=this._data,t=e.authTTL,n=e.queryStartTime,r=Math.floor(.8*t),a=new Date(n.getTime()+r);return new Date>=a}},{key:"_refreshIfStale",value:function(e){return this._isExpiredOrMissing()?(this._reset(),this._fetch(e).then(function(){return!0})):this._needsRefresh()?(this._fetch(e),Promise.resolve(!1)):Promise.resolve(!1)}},{key:"_reset",value:function(){this._data=null,this._err=null}}]),e}();t.default=new d},dbhcbbgdji:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResizeSensor=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.wrapCallback=b;var a=l(n("cgeeeeddea")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=l(n("eceadcicaf")),u=l(n("cahfddcdga")),s=l(n("bjfjacgeai"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=window.ResizeObserver,h=function(e){function t(){var e,n,r;c(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._handleLoad=function(e){e.currentTarget instanceof HTMLObjectElement&&r._addRefListeners(e.currentTarget)},r._handleResize=function(e){r._animationFrameId&&(cancelAnimationFrame(r._animationFrameId),delete r._animationFrameId),r._animationFrameId=requestAnimationFrame(r._handleResizeAtNextAnimationFrame)},r._handleResizeAtNextAnimationFrame=function(){delete r._animationFrameId,r.props.onResize()},f(r,n)}return d(t,o.Component),r(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"_addRefListeners",value:function(e){var t=e&&e.contentDocument&&e.contentDocument.defaultView;t&&this.props.listeners.add(t,"resize",this._handleResize)}},{key:"render",value:function(){return o.createElement("object",{className:s.default.sensor,data:"about:blank",onLoad:this._handleLoad,type:"text/html"})}}]),t}();h.displayName="ObjectBasedResizeSensor";var m=function(e){function t(e){c(this,t);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._handleDiv=function(e){null!=e?n._resizeObserver.observe(e):n._resizeObserver.disconnect()},n._handleResize=b(function(){n.props.onResize()}),(0,a.default)(null!=p,"The native ResizeObserver API is missing. ObjectBasedResizeSensor should be used."),n._resizeObserver=new p(n._handleResize),n}return d(t,o.Component),r(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentWillUnmount",value:function(){this._handleResize.clear()}},{key:"render",value:function(){return o.createElement("div",{ref:this._handleDiv,className:s.default.sensor})}}]),t}();function b(e){var t=e,n=function(){(0,u.default)(t)()};return n.clear=function(){t=null},n}m.displayName="ROBasedResizeSensor";var g=t.ResizeSensor=null==p?h:m;t.default=(0,i.default)(g)},dbhcidbdcf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=m(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=m(n("cfadcbbiie")),u=m(n("baagejbchg")),s=m(n("fifhbjiec")),l=m(n("dgjddffcfg")),c=n("gaifbabbj"),f=m(n("bfbggcdbfb")),d=m(n("cibcaiabfd")),p=m(n("djicgijbjb")),h=m(n("bgghfidcfh"));function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=u.default.MSG_TYPE,v=g.CHAT,y=g.IMAGE,_=g.VIDEO,E=g.AUDIO,j=g.STICKER,O=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._handleDownloadMedia=function(){return r.props.msg.downloadMedia(!1,f.default.WEBC_RMR_REASON_CODE.MSG_RENDER)},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"componentDidMount",value:function(){var e=this.props.msg;e.type===j&&e.downloadMedia(!1,f.default.WEBC_RMR_REASON_CODE.MSG_RENDER)}},{key:"render",value:function(){var e=this.props,t=e.msg,n=e.inConversation,r=[];t.hasSymbol()&&t.type!==j&&r.push(o.createElement(d.default,{msg:t,key:"msg-symbol"})),t.type!==_&&t.type!==E||t.isGif||t.caption||r.push(i.default.durationStr(Number(t.duration))+" ");var f=c.Configuration.QuotedMention({mentions:t.mentionMap()});if(t.type===v||t.type===y||t.type===_||t.hsmEnabled){var m=t.hsmEnabled&&t.subtype===u.default.TEMPLATE_SUBTYPE.TEXT&&t.title?"*"+t.title+"*\n"+t.body:l.default.msgText(t,!1);r.push(o.createElement(s.default,{formatters:f,className:"quoted-mention",text:m,textLimit:t.initialPageSize,direction:"auto",key:"status"}))}else if(j===t.type){var b="composeBox"===this.props.theme?"composeBoxQuoted":"quoted";r.push(o.createElement(h.default,{key:"sticker",mediaData:t.mediaData,theme:b,downloadMedia:this._handleDownloadMedia}))}else r.push(o.createElement(s.default,{formatters:f,className:"quoted-mention",text:l.default.msgText(t),textLimit:t.initialPageSize,direction:"auto",key:"status"}));var g=(0,a.default)(p.default.messageText,{[p.default.composeBoxQuotedMsg]:"composeBox"===this.props.theme});return o.createElement("div",{className:g,dir:t.dir,role:n?"button":null},r)}}]),t}();O.displayName="QuotedMsgContent",t.default=O},dbhgiicheg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(s.default.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[s.default.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=l(n("dfjhghbebf")),i=l(n("dcgheafecg")),u=l(n("dfjadefi")),s=l(n("dabaejgacg"));function l(e){return e&&e.__esModule?e:{default:e}}t.default="Headers"in window&&Headers?Headers:function(){function e(t){var n=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._headers={},t instanceof e)(0,i.default)(t.entries(),function(e){var t=r(e,2),a=t[0];t[1].split(", ").forEach(function(e){n.append(a,e)})});else if("object"==typeof t){var a=function(e){t[e].split(", ").forEach(function(t){n.append(e,t)})};for(var o in t)a(o)}}return a(e,[{key:"append",value:function(e,t){var n=e.toLowerCase();n in this._headers?this._headers[n].push(t):this._headers[n]=[t]}},{key:"delete",value:function(e){var t=e.toLowerCase();delete this._headers[t]}},{key:"entries",value:function(){var e=this,t=Object.keys(this._headers).map(function(t){return[t,e.get(t)||""]});return new o.default(t)}},{key:"get",value:function(e){var t=e.toLowerCase();return t in this._headers?this._headers[t].join(", "):null}},{key:"has",value:function(e){return e.toLowerCase()in this._headers}},{key:"keys",value:function(){return(0,u.default)(this.entries(),function(e){return r(e,1)[0]})}},{key:"set",value:function(e,t){var n=e.toLowerCase();this._headers[n]=[t]}},{key:"values",value:function(){return(0,u.default)(this.entries(),function(e){var t=r(e,2);t[0];return t[1]})}},{key:s.default.iterator,value:function(){return this.entries()}},{key:"toString",value:function(){return"[Object Headers]"}}]),e}()},dbhhbejbcb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SIZE=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=m(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=n("baagejbchg"),u=m(n("jjhbchhce")),s=m(n("bggjbiacd")),l=m(n("djegeegcbf")),c=n("bbicdddbdj"),f=m(n("cajbifjffe")),d=m(n("cghfaedged")),p=m(n("eceadcicaf")),h=n("eagfdbhhhh");function m(e){return e&&e.__esModule?e:{default:e}}var b=l.default.getEmojiFromUnicode,g=l.default.getEmojiPath,v=l.default.cacheEmoji,y=l.default.isEmojiCached,_=t.SIZE=c.LARGE_EMOJI_SIZE,E="large",j="xlarge",O=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));S.call(n);var r=b(e.emoji),a=Boolean(r&&y(r));return n.state={highResLoaded:a},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;this.props.listeners.add(window,"dpichange",function(){var t=b(e.props.emoji),n=Boolean(t&&y(t));e.setState({highResLoaded:n})})}},{key:"render",value:function(){var e=this.props,t=e.emoji,n=e.size,r=e.animation,l=e.element,c=e.selectable,p=this.state.highResLoaded,m=b(t);if(!m)return null;var v=(0,a.default)({[d.default.medium]:n===_.MEDIUM,[d.default.large]:n===_.LARGE,[d.default.xlarge]:n===_.XLARGE}),y=void 0;y=n===_.XLARGE?j:E;var O=g(m,y)[u.default.currentRes];if(p&&r){var S=l;return o.createElement(S,{className:d.default.animation},o.createElement(h.SelectableImg,{alt:t,className:(0,a.default)(d.default.highRes,v),draggable:!1,plainText:t,selectable:Boolean(c),src:i.ONE_BY_ONE_TRANS_GIF}),o.createElement(f.default,{className:(0,a.default)(d.default.highRes,v,d.default.heart),draggable:!1,selectable:!1,src:O}))}var w=p?void 0:o.createElement(s.default,{key:"low-res",className:(0,a.default)(d.default.lowRes,v),emoji:t,selectable:c}),P=o.createElement(s.default,{key:"high-res",className:(0,a.default)(d.default.highRes,v,{[d.default.invisible]:!p}),emoji:t,selectable:c,src:O,onLoad:this.onHighResLoaded});return o.createElement("span",{className:d.default.wrapper},w,P)}}]),t}();O.defaultProps={animation:!1,element:"div",size:_.MEDIUM};var S=function(){var e=this;this.onHighResLoaded=function(){var t=b(e.props.emoji);t&&v(t),e.setState({highResLoaded:!0})}};O.displayName="LargeEmoji",t.default=(0,p.default)(O)},dbhhjaecch:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.bulkCreateOrUpdateContacts=function(e){return u.Contact.bulkCreateOrMerge(e.map(function(e){return r({},e,{id:e.id.toString()})})).catch(function(e){i.default.errorVerbose(`handle:Contact bulk handle error: ${e}`)(),i.default.assert(!1,"handle:Contact bulk handle error")(e)})};var a,o=n("bdiiahhjbe"),i=(a=o)&&a.__esModule?a:{default:a},u=n("cefcddgdgg")},dbhidcdghb:function(e,t){e.exports={title:"_3XHR-",text:"_1w7vp"}},dbhijaface:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=f(n("fffdgbfji")),i=f(n("eceadcicaf")),u=n("fagbfehid"),s=f(u),l=f(n("bjhfhjjdgd")),c=f(n("cehjcbedfe"));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(e){d(this,t);var n=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._handleRetryClick=function(){s.default.fetchAt(n.props.selectedStickerPackIndex,!0)},n._handleStickerPackPageFetchState=function(e,t){s.default.pageWithIndex(n.props.selectedStickerPackIndex)===e&&(t?n.forceUpdate():s.default.fetchAt(n.props.selectedStickerPackIndex))},n._setRefScrollGrid=function(e){n._refScrollGrid=e},n._renderError=function(e){return a.createElement("div",{className:l.default.container},a.createElement("div",null,o.default.t(676)),a.createElement("div",{"data-id":"retry",className:l.default.retryButton,onClick:e},o.default.t(950).toUpperCase()))},s.default.fetchAt(n.props.selectedStickerPackIndex),n}return h(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(s.default,"change:pageFetchStates",this._handleStickerPackPageFetchState)}},{key:"componentDidUpdate",value:function(e){var t=this.props.selectedStickerPackIndex;if(t!==e.selectedStickerPackIndex){var n=s.default.pageWithIndex(t);s.default.pageFetchStates[n]===u.PAGE_FETCH_STATE.ERROR&&s.default.fetchAt(t,!0)}}},{key:"focus",value:function(e){this._refScrollGrid&&this._refScrollGrid.focus(e)}},{key:"render",value:function(){var e=s.default.at(this.props.selectedStickerPackIndex);if(!e)return null;var t=s.default.pageWithIndex(this.props.selectedStickerPackIndex);return s.default.pageFetchStates[t]===u.PAGE_FETCH_STATE.ERROR?this._renderError(this._handleRetryClick):a.createElement(c.default,{ref:this._setRefScrollGrid,onFocusPrev:this.props.onFocusPrev,onScroll:this.props.onScroll,onStickerClick:this.props.onStickerClick,onStickerEnter:this.props.onStickerEnter,stickers:e.stickers,renderError:this._renderError})}}]),t}();m.displayName="StickerPackStickersScrollGrid";var b=(0,i.default)(m),g=function(e){function t(){return d(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,b),r(t,[{key:"focus",value:function(e){this.getComponent().focus(e)}}]),t}();t.default=g},dbifaacaac:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n("bgifaaggh")),a=d(n("fhfbcdaib")),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=n("biheibdage"),s=d(n("ihfgagaij")),l=d(n("bbchdeehff")),c=d(n("bcbahjefec")),f=d(n("bcjcbbafcj"));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onCancel=function(){e.props.onComplete&&e.props.onComplete(!1),e.clearComposeAttachMedia(),e.props.mediaCollection.mediaPickerStatsLogger.logCancel(),e.end()},e.onFailedMedias=function(t){var n=t.filter(function(e){return e.isGif});if(n.length>0){var r=n.map(function(e){return e.filename});l.default.once("ui_idle",function(){l.default.pasteChatTextInput(e.props.chat,r.join(" "))}),e.props.onComplete&&e.props.onComplete(!1),e.clearComposeAttachMedia(),e.props.mediaCollection.mediaPickerStatsLogger.logCancel(),e.end()}},e.sendMediaWithMentions=function(t,n){var r=e.props.chat;l.default.once("ui_idle",function(){t.forEach(function(e,t){var n=e.media,a={};0===t&&(a.quotedMsg=r.composeQuotedMsg,r.composeQuotedMsg=null),a.mentionedJidList=e.mentionedJidList,a.caption=n.caption,a.addEvenWhilePreparing=n.previewable&&n.state===u.ATTACH_MEDIA_STATE.PROCESSING,n.sendToChat(r,a)}),e.clearComposeAttachMedia()}),e.props.onComplete&&e.props.onComplete(!0,n),e.props.mediaCollection.mediaPickerStatsLogger.logSend(),e.end()},e.setText=function(t){null!=t&&l.default.once("ui_idle",function(){l.default.pasteChatTextInput(e.props.chat,t)}),e.end()},e.clearComposeAttachMedia=function(){e.props.chat&&e.props.chat.setComposeAttachMediaContents(null)},e.handleRequestDismiss=e.handleRequestDismiss.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default),o(t,[{key:"componentDidMount",value:function(){l.default.closeContextMenu(),l.default.closeTooltip(),this.push(i.createElement(s.default,{chat:this.props.chat,files:this.props.files,onBack:this.onCancel,initCaption:this.props.initCaption,onSendMedia:(0,a.default)(this.sendMediaWithMentions),onDropText:(0,a.default)(this.setText),onFailedMedias:this.onFailedMedias,mediaCollection:this.props.mediaCollection}))}},{key:"componentWillUnmount",value:function(){var e=this;f.default.isGecko?(0,r.default)(function(){return l.default.focusChatTextInput(e.props.chat)}):l.default.focusChatTextInput(this.props.chat)}},{key:"handleRequestDismiss",value:function(e){!1===e&&(this.clearComposeAttachMedia(),this.props.mediaCollection.mediaPickerStatsLogger.logCancel()),function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"handleRequestDismiss",this).call(this)}}]),t}();t.default=p},dbifijhjeg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=M(n("ceffhbhahb")),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=n("jgficfddf"),s=M(n("cadbaeefbb")),l=M(n("jhcabjcaf")),c=M(n("baagejbchg")),f=M(n("djegeegcbf")),d=M(n("fifhbjiec")),p=M(n("dafiibaihc")),h=n("bidfjbaebi"),m=n("gaifbabbj"),b=n("ciajafaaie"),g=M(n("cejheebceh")),v=M(n("dbbbgjbbgf")),y=M(n("cieaeggjg")),_=M(n("bfiaijhcgh")),E=n("cjbafegbjg"),j=M(n("dgdadejebh")),O=M(n("deibgadgic")),S=M(n("chjchbjied")),w=M(n("dbabefhajh")),P=M(n("babhhabdgf"));function M(e){return e&&e.__esModule?e:{default:e}}var C=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.PureComponent),a(t,[{key:"render",value:function(){var e=this.props,t=e.msg,n=e.displayAuthor,a=e.trusted,M=e.displayType,C=void 0,T=void 0;if(a&&t.linkPreview)if(t.matchedText&&(0,b.isParsableOnlineVideoURL)(t.richPreviewType,t.matchedText,t.doNotPlayInline))C=i.createElement("div",{className:S.default.linkPreview},i.createElement(P.default,{msg:t}));else{var A=(0,E.parseAPICmd)(t.matchedText);if(r(A,1)[0]===u.APICmd.GROUP_INVITE){if(C=i.createElement("div",{className:S.default.linkPreview},i.createElement(g.default,{msg:t,displayType:M,invite:!0})),M!==c.default.DISP_TYPE.GALLERY){var N=t.isSentByMe?l10n.t(537):l10n.t(520);T=i.createElement(s.default,{items:[{label:N,onClick:function(e){var n=t.matchedText;(0,h.openExternalLink)(n)}}]})}}else C=i.createElement("div",{className:S.default.linkPreview},i.createElement(g.default,{msg:t,displayType:M}))}var k=void 0,I=void 0,R=f.default.getMatchedEmojis(t.body);if(R){var L=1===R.length&&""===R[0];k=i.createElement(_.default,{animation:L,emojis:R}),I=!0}else{var D=a?m.Configuration.TrustedConversation:m.Configuration.UntrustedConversation;k=i.createElement(p.default,{text:t.body,textLimit:t.initialPageSize},function(e){var n=D({mentions:t.mentionMap(),links:t.getLinks(e.textLimit),selectable:!0});return i.createElement(d.default,{text:t.body,className:M===c.default.DISP_TYPE.GALLERY?"message-text-link":"",dirMismatch:t.rtl!==l10n.isRTL(),direction:t.dir,inferLinesDirection:!0,formatters:n,selectable:!0,textLimit:e.textLimit,noInvisibleSpace:t.hsmEnabled&&null!=t.footer&&(t.rtl||t.rtl!==l10n.isRTL())})})}var x=void 0,U=void 0;t.hsmEnabled&&(x=t.title?i.createElement("div",{className:S.default.title},i.createElement(d.default,{text:t.title,dirMismatch:t.rtl!==l10n.isRTL(),direction:t.dir})):null,U=i.createElement(O.default,{msg:t}));var G=M!==c.default.DISP_TYPE.GALLERY&&!t.isPSA&&!I,F=void 0;this.props.quotedMsg&&(F=i.createElement("div",{className:S.default.quote},this.props.quotedMsg));var B=this.props.displayAuthor&&!t.isSentByMe&&t.isGroupMsg,$=t.showForwarded(),V=t.getSuspiciousLinks().length>0,H=!!T||!!t.hasTemplateButtons,W=void 0;return H&&(W=i.createElement("div",{className:S.default.meta},i.createElement(y.default,{msg:t}))),i.createElement(w.default,{msg:t,displayType:M,displayAuthor:n,hideMeta:H},i.createElement(l.default,{className:(0,o.default)({[S.default.hasAuthor]:B,[S.default.forwarded]:$,[S.default.hasSuspiciousLinks]:V}),contact:t.senderObj,msg:t},F,i.createElement(j.default,{msg:t,displayType:M}),C,i.createElement(v.default,{msg:t,spacer:t.hsmEnabled?G&&!t.footer:G,"data-id":t.id},x,k,U,W),T))}}]),t}();C.displayName="Text",t.default=C},dbjacfjdhg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},o=n("biheibdage"),i=m(o),u=m(n("cgcgbfbffj")),s=m(n("baagejbchg")),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cajijabhgb")),c=n("cgffhfegce"),f=m(n("bbcjhfahhb")),d=m(n("cieaaiahhf")),p=m(n("bfgbdiffgd")),h=m(n("dcaibchbg"));function m(e){return e&&e.__esModule?e:{default:e}}var b=c.FILETYPE.IMAGE,g=c.FILETYPE.VIDEO,v=c.FILETYPE.DOCUMENT,y=c.FILETYPE.AUDIO,_=o.ATTACH_MEDIA_STATE.READY,E=o.ATTACH_MEDIA_STATE.ERROR,j=o.ATTACH_MEDIA_STATE.PROCESSING,O=1,S=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.errorMsgs=null,e.ignored=0,e.mediaPickerStatsLogger=new f.default,e.selection=new h.default([],function(e){return e.id},"prev"),e.listenTo(e.selection,"all",e._handleSelectionEvents.bind(e)),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),r(t,[{key:"_handleSelectionEvents",value:function(e,t){"focus"!==t&&!1!==t||this.trigger("active-change")}},{key:"removeSingleton",value:function(e,t){e&&(t||this.mediaPickerStatsLogger.logDelete(e.id),e.url&&window.URL.revokeObjectURL(e.url),e.original&&e.original.url&&window.URL.revokeObjectURL(e.original.url))}},{key:"remove",value:function(e,n){var r=this,o=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this,e,n);return o.forEach(function(e){return r.removeSingleton(e,n)}),this.selection.init(this.getPreviewableMedias(),!0),o}},{key:"delete",value:function(){var e=this;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),this.forEach(function(t){return e.removeSingleton(t)}),this.selection.init(this.getPreviewableMedias(),!0)}},{key:"replace",value:function(e,t){var n=this.get(e);if(n){var r=this.indexOf(n),a=n.caption;this.remove(n,{silent:!0}),n.delete();var o=new i.default({id:e,caption:a,file:this._normalizeFile(t),chat:n.chat,uiProcessed:!1});return this.add(o,r?{at:r}:{}),o.processPromise}}},{key:"getValidMedias",value:function(){return this.filter(function(e){return e.state===_||e.state===j})}},{key:"getPreviewableMedias",value:function(){return this.filter(function(e){return e.previewable})}},{key:"getActive",value:function(){return this.selection.getVal()}},{key:"setActive",value:function(e){this.selection.setVal(e)}},{key:"unsetActive",value:function(){this.selection.unset()}},{key:"setNextAsActive",value:function(){var e=this.selection.list.length-1;return-1===this.selection.index||this.selection.index===e?this.selection.getVal():(this.selection.setNext(),this.selection.getVal())}},{key:"setPrevAsActive",value:function(){return-1===this.selection.index||0===this.selection.index?this.selection.getVal():(this.selection.setPrev(),this.selection.getVal())}},{key:"processFiles",value:function(e,t,n){var r=this,a=this.getPreviewableMedias().length,o=e.length+a>s.default.MAX_FILES?Math.max(s.default.MAX_FILES-a,0):e.length,u=e.length-o;0===o?u&&this.trigger("max_upload_limit",u):this.ignore(u);var l=e.slice(0,o).map(function(e){return new i.default({id:O++,file:r._normalizeFile(e),chat:t,uiProcessed:!1,fileOrigin:n})});this.add(l);var c=this.getActive();return this.unsetActive(),Promise.all(e).then(function(){return r._attemptToSetNextActiveFromAdded(l,c)}),Promise.map(l,function(e){return e.processPromise}).then(function(){return r._attemptToSetNextActiveFromAdded(l,c)})}},{key:"_attemptToSetNextActiveFromAdded",value:function(e,t){if(!this.getActive()&&!this.getModelsArray().some(function(e){return e.state===j&&!e.previewable})){var n=e.find(function(e){return e.previewable});n||(n=t),this.selection.init(this.getPreviewableMedias()),n&&this.setActive(n)}}},{key:"_logMediaAdd",value:function(e){null!=this.mediaPickerStatsLogger.chatRecipients&&0!==this.mediaPickerStatsLogger.chatRecipients||(this.mediaPickerStatsLogger.chatRecipients=e.chat.groupMetadata&&e.chat.groupMetadata.participants.length||1);var t=e.isGif?"gif":e.type;this.mediaPickerStatsLogger.logAdd(e.id,t,e.fileOrigin)}},{key:"_normalizeFile",value:function(e){return Promise.resolve(e).then(function(e){var t=void 0;return!(t=e instanceof File?{file:e,filename:e.name,mimetype:e.type,type:(0,c.typeFromMimetype)(e.type)}:e instanceof Blob?{file:e,mimetype:e.type,type:(0,c.typeFromMimetype)(e.type)}:e).type&&t.mimetype&&(t.type=(0,c.typeFromMimetype)(t.mimetype)),t})}},{key:"ignore",value:function(e){e>0&&(this.ignored+=e)}},{key:"uiProcessMsgs",value:function(){var e=this,t=[],n=void 0,r=0,a=0,o=0,i=0,u=0,c=0,f=0,h=0,m=0,_=!1,O=l10n.filesize(p.default.media),S=l10n.filesize(p.default.maxFileSize);if(this.forEach(function(t){if(!t.uiProcessed&&(!n&&t.previewable&&(n=t,e._logMediaAdd(t)),t.state!==j&&(t.uiProcessed=!0,t.state===E)))if(t.exception instanceof d.default)switch(t.getFileType()){case b:r+=1;break;case g:a+=1;break;case y:o+=1;break;case v:i+=1}else if(t.exception instanceof l.MediaFileEmpty)switch(t.getFileType()){case b:u+=1;break;case g:c+=1;break;case y:f+=1;break;case v:h+=1}else t.exception instanceof l.MediaFileFailedLoad?_=!0:m+=1}),r>0&&t.push(l10n.t(602,{number:r,_plural:r,maxSize:O})),a>0&&t.push(l10n.t(1116,{number:a,_plural:a,maxSize:O})),o>0&&t.push(l10n.t(194,{number:o,_plural:o,maxSize:O})),i>0&&t.push(l10n.t(394,{number:i,_plural:i,maxSize:S})),u>0&&t.push(l10n.t(594,{number:u,_plural:u})),c>0&&t.push(l10n.t(1114,{number:c,_plural:c})),f>0&&t.push(l10n.t(192,{number:f,_plural:f})),h>0&&t.push(l10n.t(393,{number:h,_plural:h})),m>0&&t.push(l10n.t(454,{number:m,_plural:m})),_&&(t=[]).push(l10n.t(682)),t.length>1){t=[];var w=r+a+o+i,P=u+c+f+h,M=w+P+m;0===m?(0!==w&&t.push(l10n.t(455,{number:w,_plural:w,maxSize:S})),0!==P&&t.push(l10n.t(451,{number:P,_plural:P}))):t.push(l10n.t(453,{number:M,_plural:M}))}var C=t.join(" ");this.errorMsgs=C,this.ignore(this.getPreviewableMedias().length-s.default.MAX_FILES);var T=this.ignored;return this.ignored=0,T&&this.trigger("max_upload_limit",T),m>0&&this.trigger("files_not_supported"),{errorMsgs:C}}},{key:"canSend",value:function(){return!this.getModelsArray().some(function(e){return e.state===j&&!e.previewable})}}]),t}();S.model=i.default,t.default=S},dbjbhajgfd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=s(n("bbchdeehff")),u=s(n("jheedhagg"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){var e=this,t=r({},this.props.contextMenu,{uim:this.props.uim});i.default.openContextMenu(t,function(t){e.element=t})}},{key:"componentWillUnmount",value:function(){i.default.closeContextMenu(this.props.uim)}},{key:"getElement",value:function(){return this.element}},{key:"render",value:function(){return null}}]),t}();l.displayName="UIEMenu",t.default=(0,u.default)(l)},dbjchhfjhj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_DURATION=t.MAX_LOOPS=void 0,t.getTotalAnimationDuration=s,t.default=function(e){if(!E(e))return _;var t=new Uint8Array(e),n=0,r=b,a=void 0;for(;(0,o.default)(t.slice(r,r+y),f);){var i=r+g,u=t.slice(i,i+v);if(u.length!==v)return _;n+=l(u);var c=r+y,d=t.slice(c,c+y);if(d.length!==y)return _;r+=2*y+l(d),null==a&&(a=r)}var p=s(n);return null==a?{animationDuration:p}:{animationDuration:p,firstFrameLength:a}},t.isAnimatedWebp=E;var r,a=n("bhacbjbjic"),o=(r=a)&&r.__esModule?r:{default:r};var i=t.MAX_LOOPS=3,u=t.MAX_DURATION=4e3;function s(e){if(0===e)return 0;var t=Math.min(Math.floor(u/e),i);return Math.max(t,1)*e}function l(e){return e.reduce(function(e,t,n){return e+(t<<8*n)},0)}var c=new Uint8Array([86,80,56,88]),f=new Uint8Array([65,78,77,70]),d=12,p=16,h=20,m=2,b=44,g=20,v=3,y=4,_={animationDuration:0};function E(e){var t=new Uint8Array(e),n=t.slice(d,p);return(0,o.default)(n,c)&&0!=(m&t[h])}},dbjfahieed:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CACHE_POLICY_TYPE=void 0,t.createCachePolicy=function(e,t){switch(t.policy){case"LOAD":return new o.default(e,t);case"IMMEDIATE":return new a.default(e,t);case"NONE":return new i.default(e,t)}return new i.default(e,{id:"none",policy:"NONE"})};var r=n("bdfbccfifg"),a=u(n("ijiafihgg")),o=u(n("cgfdiahhcd")),i=u(n("cdbfiiicdg"));function u(e){return e&&e.__esModule?e:{default:e}}t.CACHE_POLICY_TYPE=r.CACHE_POLICY_TYPE},dbjfgbgci:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("bgdcgdigif"),i=g(n("dhigahgdjb")),u=g(n("dhhfaeacef")),s=g(n("dbfiijcdie")),l=g(n("chbfbiahhb")),c=g(n("eceadcicaf")),f=g(n("bhheahajjg")),d=g(n("ihfccfgdf")),p=g(n("bhgjacgcdd")),h=g(n("hhaafceic")),m=n("cgejjichfa"),b=n("cddgbhafgj");function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={isMouseOver:!1,isFullscreenMode:s.default.isFullscreenMode},r.toggleMute=function(){r.props.callUi.muted=!r.props.callUi.muted,p.default.mute(r.props.callUi.muted)},r.setRefContainer=function(e){r.refContainer=e},r.handleFullscreenToggleButtonClick=function(e){r.state.isFullscreenMode?r.handleExitFullscreen(e):r.handleEnterFullscreen(e)},r.handleEnterFullscreen=function(e){e.stopPropagation(),s.default.requestFullscreen(r.refContainer)},r.handleExitFullscreen=function(e){e.stopPropagation(),s.default.exitFullscreen()},r.onWebrtcStart=function(){var e=new RTCPeerConnection({sdpSemantics:"unified-plan"},{mandatory:{},optional:[{DtlsSrtpKeyAgreement:!1},{RtpDataChannels:!0}]});e.onnegotiationneeded=function(){e.createOffer().then(function(t){t.sdp=t.sdp.replace(/ice-ufrag:\S+/g,"ice-ufrag:QjEB"),t.sdp=t.sdp.replace(/ice-pwd:\S+/g,"ice-pwd:CplKUv1mtNXWrv0ZzQkHX3TF"),t.sdp=t.sdp.replace(/a=crypto:.*/g,"a=crypto:0 AES_CM_128_HMAC_SHA1_32 inline:H+5na974ux2eIvPywafHwtJMP0duw/vw4Cbi0zY5");var n=t.sdp.search(/m=video/g),r=t.sdp.substring(0,n),a=t.sdp.substring(n);return r=r.replace(/ssrc:\S+/g,"ssrc:3629377495"),a=a.replace(/ssrc:\S+/g,"ssrc:3427239392"),t.sdp=r+a,e.setLocalDescription(t)}).catch(function(e){console.log("onnegotiationneeded error",e)})};var t=document.querySelector("audio"),n=document.querySelector("video");e.ontrack=function(e){"audio"===e.track.kind&&t&&(t.srcObject=e.streams[0]),"video"===e.track.kind&&n&&(n.srcObject=e.streams[0])},e.onicecandidate=function(t){t.candidate||e.setRemoteDescription((0,b.getSDPAnswer)("172.24.245.63",52e3,!0)).then(function(){console.log("Remote Description: %o",e.remoteDescription.sdp)}).catch(function(e){console.log("onicecandidate error",e)})},navigator.mediaDevices&&navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then(function(t){t.getTracks().forEach(function(n){return e.addTrack(n,t)})}).catch(function(e){console.log("Get mediaDevice error",e)})},v(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(s.default,"fullscreen_change",function(){s.default.isFullscreenMode&&s.default.fullscreenElement===e.refContainer?e.setState({isFullscreenMode:!0}):s.default.isFullscreenMode||e.setState({isFullscreenMode:!1})})}},{key:"render",value:function(){var e=this,t=this.props,r=t.onCallAccept,s=t.onCallReject,c=t.onCallEnd,d=this.props.callUi,p=d.state,b=d.outgoing,g=d.from,v=d.to,y=d.type,_=b?v:g,E=i.default.get(_||""),j=E?a.createElement("div",{className:h.default.participantName},a.createElement(f.default,{contact:E,titlify:!0,ellipsify:!0,showBusinessCheckmark:!0})):null,O=E?a.createElement(u.default,{id:E.id,size:82,quality:u.default.Quality.HIGH}):null,S=a.createElement("div",{className:h.default.actionRow},a.createElement("div",{className:h.default.btnGroup},a.createElement("button",{className:h.default.btnReject,onClick:s}),a.createElement("button",{className:h.default.btnAccept,onClick:r}))),w=a.createElement("div",{className:h.default.actionRow},a.createElement("div",{className:h.default.btnGroup},a.createElement("button",{className:h.default.btnMute,onClick:this.toggleMute}),a.createElement("button",{className:h.default.btnEnd,onClick:c}))),P=a.createElement("div",{className:h.default.actionRow},a.createElement("div",{className:h.default.btnGroup},a.createElement("button",{className:h.default.btnEnd,onClick:c}))),M=void 0,C=n("bjbdcigbdi");if(C.supportsFeature(C.F.WEB_VOIP_VOICE_CALL)||C.supportsFeature(C.F.WEB_VOIP_VIDEO_CALL)){P=a.createElement("div",{className:h.default.actionRow},a.createElement("div",{className:h.default.btnGroup},a.createElement("button",{className:h.default.btnEnd,onClick:c}),a.createElement("button",{className:h.default.btnAccept,onClick:this.onWebrtcStart})));var T=C.supportsFeature(C.F.WEB_VOIP_VIDEO_CALL)?a.createElement("video",{className:h.default.webrtcVideo,id:"webRtcVideo",controls:!0,autoPlay:!0}):null;M=a.createElement("div",{className:h.default.webrtcCanvas},T,a.createElement("audio",{className:h.default.webrtcAudio,id:"webRtcAudio",controls:!0,autoPlay:!0}))}var A=void 0;switch(p){case m.CALL_STATES.INCOMING_RING:A=S;break;case m.CALL_STATES.ACTIVE:A=w;break;default:A=P}var N=a.createElement("div",{className:h.default.callTitle},l10n.t(1410)),k=a.createElement(l.default,{isFullscreenMode:this.state.isFullscreenMode,onClick:this.handleFullscreenToggleButtonClick}),I=y===o.CALL_TYPES.VIDEO?a.createElement("div",{className:h.default.videoContainer},a.createElement("div",{className:h.default.outputVideoContainer},a.createElement("canvas",{id:"outputCanvas",width:"640",height:"400"})),a.createElement("div",{className:h.default.previewVideoContainer},a.createElement("canvas",{id:"previewCanvas",width:"180",height:"120"}))):null;return a.createElement("div",{className:h.default.body,ref:this.setRefContainer,onMouseEnter:function(t){e.setState({isMouseOver:!0})},onMouseLeave:function(t){e.setState({isMouseOver:!1})}},N,j,O,I,M,this.state.isMouseOver&&k,A)}}]),t}();y.CONCERNS={callUi:["state","muted","speaker","outgoing","from","to","type"]},y.displayName="VoipWindow",t.default=(0,c.default)((0,d.default)(y,y.CONCERNS))},dbjhghahdd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t,n=new r.default;return t=e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}((0,i.default)([a.default,n,u.default])),e.EmojiSuggestions=(0,s.default)(o.default,{plugin:n}),t};var r=l(n("bfjfgcfade")),a=l(n("dfcggebdjj")),o=l(n("cdheafhdbh")),i=l(n("eccjbdjafd")),u=l(n("eaecbgafff")),s=l(n("ecidjifge"));function l(e){return e&&e.__esModule?e:{default:e}}},dcaffhdbgi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.LANGUAGES={ABAZA:"abq",ABKHAZIAN:"ab",ADAMAWA_FULFULDE:"fub",ADYGHE:"ady",AFRIKAANS:"af",AGWAGWUNE:"yay",AGHEM:"agq",AKOOSE:"bss",ALBANIAN:"sq",ANGOR:"agg",ARABIC:"ar",ASTURIAN:"ast",AVARIC:"av",AVOKAYA:"avu",AZERBAIJANI:"az",BAFIA:"ksf",BAFUT:"bfd",BAKA_CAMEROON:"bkc",BALANTA_GANJA:"bjt",BALI_NIGERIA:"bcn",BASA_CAMEROON:"bas",BASHKIR:"ba",BASSA:"bsq",BEKWARRA:"bkv",BELARUSIAN:"be",BENGALI:"bn",BEROM:"bom",BETE_BENDI:"btt",BINI:"bin",BOMU:"bmq",BORGU_FULFULDE:"fue",BOSNIAN:"bs",BRETON:"br",BULGARIAN:"bg",BURAK:"bys",BURA_PABIR:"bwr",BURIAT:"bua",CAKFEM_MUSHERE:"cky",CATALAN:"ca",CENTRAL_ATLAS_TAMAZIGHT:"tzm",CENTRAL_EASTERN_NIGER_FULFULDE:"fuq",CHECHEN:"ce",CHINESE:"zh",CHUKOT:"ckt",CHURCH_SLAVIC:"cu",CHUVASH:"cv",CIBAK:"ckl",CISHINGINI:"asg",CORSICAN:"co",CRIMEAN_TATAR:"crh",CROATIAN:"hr",CROSS_RIVER_MBEMBE:"mfn",CZECH:"cs",DABA:"dbq",DAN:"dnj",DANISH:"da",DARGWA:"dar",DAZAGA:"dzg",DENDI_BENIN:"ddn",DGHWEDE:"dgh",DOYAYO:"dow",DUALA:"dua",DUNGAN:"dng",DUTCH:"nl",EBIRA:"igb",EDOLO:"etr",ENGENNI:"enn",ENGLISH:"en",ERAVE:"kjy",ERZYA:"myv",ESTONIAN:"et",ETKYWAN:"ich",EVENKI:"evn",EWE:"ee",EWONDO:"ewo",FAROESE:"fo",FEFE:"fmp",FILIPINO:"fil",FINNISH:"fi",FRENCH:"fr",FRIULIAN:"fur",FULAH:"ff",GADSUP:"gaj",GAGAUZ:"gag",GALICIAN:"gl",GBARI:"gby",GBAYA_CENTRAL_AFRICAN_REPUBLIC:"gba",GBAYA_MBODOMO:"gmm",GERMAN:"de",GIZRRA:"tof",GODIE:"god",GOEMAI:"ank",GOKANA:"gkn",GOURMANCHEMA:"gux",GREEK:"el",GREENLANDIC:"kl",GUDE:"gde",GUINEA_KPELLE:"gkp",GUJARATI:"gu",GWAK:"jgk",HAUSA:"ha",HAWAIIAN:"haw",HEBREW_JAVA:"iw",HEBREW_ISO:"he",HINDI:"hi",HUBA:"hbb",HUNGARIAN:"hu",HUN_SAARE:"dud",HYAM:"jab",IBANI:"iby",ICELANDIC:"is",IDOMA:"idu",IGBO:"ig",IGEDE:"ige",IK:"ikx",IKA:"ikk",IKWERE:"ikw",INARI_SAMI:"smn",INDONESIAN_JAVA:"in",INDONESIAN_ISO:"id",INGUSH:"inh",IRISH:"ga",ITALIAN:"it",IVBIE_NORTH_OKPELA_ARHE:"atg",IZI_EZAA_IKWO_MGBO:"izi",JAPANESE:"ja",JOLA_FONYI:"dyo",JUKUN_TAKUM:"jbu",KABARDIAN:"kbd",KABUVERDIANU:"kea",KABYLE:"kab",KAKI_AE:"tbd",KAKO:"kkj",KALMYK:"xal",KAMWE:"hig",KANNADA:"kn",KARACHAY_BALKAR:"krc",KARA_KALPAK:"kaa",KARANG:"kzr",KAREKARE:"kai",KAZAKH:"kk",KHAKAS:"kjh",KHANTY:"kca",KHOEKHOE:"naq",KIRE:"geb",KIRGHIZ:"ky",KIRIKE:"okr",KOLSCH:"ksh",KOMI:"kv",KOMI_PERMYAK:"koi",KOYRABORO_SENNI:"ses",KOYRA_CHIINI:"khq",KOREAN:"ko",KORYAK:"kpy",KPELLE:"kpe",KUMYK:"kum",KUNAMA:"kun",KUNIMAIPA:"kup",KURDISH:"ku",KUTEP:"kub",KWASIO:"nmg",LAK:"lbe",LAKOTA:"lkt",LAMANG:"hia",LANGI:"lag",LAO:"lo",LATVIAN:"lv",LEZGHIAN:"lez",LIMBUM:"lmp",LINGALA:"ln",LITHUANIAN:"lt",LIVONIAN:"liv",LOKAA:"yaz",LOW_GERMAN:"nds",LOWER_SORBIAN:"dsb",LUBA_KATANGA:"lu",LUXEMBOURGISH:"lb",MAASINA_FULFULDE:"bin",MACEDONIAN:"mk",MADA_NIGERIA:"mda",MALAGASY:"mg",MALAY:"ms",MALAYALAM:"ml",MALTESE:"mt",MANSI:"mns",MAORI:"mi",MAPUCHE:"arn",MARATHI:"mr",MARI:"chm",MASAI:"mas",MBELIME:"mql",MBO_CAMEROON:"mbo",MBULA_BWAZZA:"mbu",MOFU_GUDUR:"mif",MOKSHA:"mdf",MONGOLIAN:"mn",MUMUYE:"mzm",MUNDANG:"mua",MUSLIM_TAT:"ttt",MWAGHAVUL:"sur",NANAI:"gld",NAVAJO:"nv",NENETS:"yrk",NGAS:"anc",NGIEMBOON:"nnh",NGOMBA:"jgo",NIGERIAN_FULFULDE:"fuv",NINZO:"nin",NOGAI:"nog",NORTHERN_DAGARA:"dgi",NORTHERN_SAMI:"se",NORTHERN_SOTHO:"nso",NORWEGIAN_BOKMAL:"nb",OBOLO:"ann",OCCITAN:"oc",OSSETIAN:"os",PARKWA:"pbi",PERO:"pip",PERSIAN:"fa",POLISH:"pl",PORTUGUESE:"pt",PRUSSIAN:"prg",PULAR:"fuf",PUNJABI:"pa",QUECHUA:"qu",ROMANIAN:"ro",RON:"cla",RUSSIAN:"ru",RUSYN:"rue",SAAFI_SAAFI:"sav",SANGO:"sg",SCOTTISH_GAELIC:"gd",SENA:"seh",SERBIAN:"sr",SERBO_CROATIAN:"sh",SERER:"srr",SHOR:"cjs",SICILIAN:"scn",SISSALA:"sld",SKOLT_SAMI:"sms",SLOVAK:"sk",SLOVENIAN:"sl",SOKORO:"sok",SOUTHERN_ALTAI:"alt",SPANISH:"es",SRANAN_TONGO:"srn",SWAHILI:"sw",SWEDISH:"sv",SWISS_GERMAN:"gsw",TABASSARAN:"tab",TACHELHIT:"shi",TAGALOG:"tl",TAI_DAM:"blt",TAJIK:"tg",TAL:"tal",TAMASHEK:"tmh",TAMASHEQ:"taq",TAMIL:"ta",TANGALE:"tan",TAROK:"yer",TASAWAQ:"twq",TATAR:"tt",TEDAGA:"tuq",TELUGU:"te",TERA:"ttr",THAI:"th",TIKAR:"tik",TONGAN:"to",TORO_SO_DOGON:"dts",TSAKHUR:"tkr",TSIKIMBA:"kdl",TSISHINGINI:"tsw",TURKISH:"tr",TURKMEN:"tk",TUVINIAN:"tyv",UDIHE:"ude",UDMURT:"udm",UKRAINIAN:"uk",UPPER_SORBIAN:"hsb",URDU:"ur",UZBEK:"uz",VAI:"vai",VIETNAMESE:"vi",VOLAPUK:"vo",VUTE:"vut",WAJA:"wja",WALLOON:"wa",WALSER:"wae",WARJI:"wji",WELSH:"cy",WESTERN_FRISIAN:"fy",WESTERN_MARI:"mrj",WESTERN_NIGER_FULFULDE:"fuh",YAKUT:"sah",YALA:"yba",YANGBEN:"yav",YELE:"yle",YIL:"yll",YORUBA:"yo",ZARMA:"dje",ZULGO_GEMZEK:"gnd"},a=t.REGIONS={AFGHANISTAN:"AF",ALBANIA:"AL",ALGERIA:"DZ",AMERICAN_SAMOA:"AS",ANDORRA:"AD",ANGOLA:"AO",ANGUILLA:"AI",ANTIGUA_AND_BARBUDA:"AG",ARGENTINA:"AR",ARMENIA:"AM",ARUBA:"AW",AUSTRALIA:"AU",AUSTRIA:"AT",AZERBAIJAN:"AZ",BAHAMAS:"BS",BAHRAIN:"BH",BANGLADESH:"BD",BARBADOS:"BB",BELARUS:"BY",BELGIUM:"BE",BELIZE:"BZ",BENIN:"BJ",BERMUDA:"BM",BOLIVIA:"BO",BOSNIA:"BA",BOTSWANA:"BW",BRAZIL:"BR",BRITISH_INDIAN_OCEAN_TERRITORY:"IO",BRITISH_VIRGIN_ISLANDS:"VG",BRUNEI:"BN",BULGARIA:"BG",BURKINA_FASO:"BF",BURUNDI:"BI",CAMBODIA:"KH",CAMEROON:"CM",CANADA:"CA",CANARY_ISLANDS:"IC",CAPE_VERDE:"CV",CAYMAN_ISLANDS:"KY",CENTRAL_AFRICAN_REPUBLIC:"CF",CEUTA_AND_MELILLA:"EA",CHAD:"TD",CHILE:"CL",CHINA:"CN",CHRISTMAS_ISLAND:"CX",COCOS_KEELING_ISLANDS:"CC",COLOMBIA:"CO",COMOROS:"KM",CONGO_BRAZZAVILLE:"CG",CONGO_KINSHASA:"CD",COOK_ISLANDS:"CK",COSTA_RICA:"CR",CROATIA:"HR",CUBA:"CU",CURACAO:"CW",CYPRUS:"CY",CZECHIA:"CZ",DENMARK:"DK",DIEGO_GARCIA:"DG",DJIBOUTI:"DJ",DOMINICA:"DM",DOMINICAN_REPUBLIC:"DO",ECUADOR:"EC",EGYPT:"EG",EL_SALVADOR:"SV",EQUITORIAL_GUINEA:"GQ",ERITREA:"ER",ESTONIA:"EE",ETHIOPIA:"ET",FALKLAND_ISLANDS:"FK",FAROE_ISLANDS:"FO",FIJI:"FJ",FINLAND:"FI",FRANCE:"FR",GABON:"GA",GAMBIA:"GM",GEORGIA:"GE",GERMANY:"DE",GHANA:"GH",GIBRALTAR:"GI",GREECE:"GR",GREENLAND:"GL",GRENADA:"GD",GUADELOUPE:"GP",GUAM:"GU",GUATEMALA:"GT",GUERNSEY:"GG",GUINEA:"GN",GUINEA_BISSAU:"GW",GUYANA:"GY",HAITI:"HT",HONDURAS:"HN",HONG_KONG:"HK",HUNGARY:"HU",ICELAND:"IS",INDIA:"IN",INDONESIA:"ID",IRAN:"IR",IRAQ:"IQ",IRELAND:"IE",ISLE_OF_MAN:"IM",ISRAEL:"IL",ITALY:"IT",IVORY_COAST:"CI",JAMAICA:"JM",JAPAN:"JP",JERSEY:"JE",JORDAN:"JO",KAZAKHSTAN:"KZ",KENYA:"KE",KIRIBATI:"KI",KOSOVO:"XK",KUWAIT:"KW",KYRGYZSTAN:"KG",LAOS:"LA",LATVIA:"LV",LEBANON:"LB",LESOTHO:"LS",LIBERIA:"LR",LIBYA:"LY",LIECHTENSTEIN:"LI",LITHUANIA:"LT",LUXEMBOURG:"LU",MACAU:"MO",MACEDONIA:"MK",MADAGASCAR:"MG",MALAWI:"MW",MALAYSIA:"MY",MALI:"ML",MALTA:"MT",MARSHALL_ISLANDS:"MH",MAURITANIA:"MR",MAURITIUS:"MU",MEXICO:"MX",MICRONESIA:"FM",MOLDOVA:"MD",MONACO:"MC",MONGOLIA:"MN",MONTENEGRO:"ME",MONTSERRAT:"MS",MOROCCO:"MA",MOZAMBIQUE:"MZ",NAMIBIA:"NA",NAURU:"NR",NETHERLANDS:"NL",NEW_ZEALAND:"NZ",NICARAGUA:"NI",NIGER:"NE",NIGERIA:"NG",NIUE:"NU",NORFOLK_ISLAND:"NF",NORTHERN_MARIANA_ISLANDS:"MP",NORWAY:"NO",OMAN:"OM",PAKISTAN:"PK",PALAU:"PW",PANAMA:"PA",PAPUA_NEW_GUINEA:"PG",PARAGUAY:"PY",PERU:"PE",PHILIPPINES:"PH",PITCAIRN:"PN",POLAND:"PL",PORTUGAL:"PT",PUERTO_RICO:"PR",QATAR:"QA",REUNION:"RE",ROMANIA:"RO",RUSSIA:"RU",RWANDA:"RW",SAINT_HELENA:"SH",SAINT_KITTS_AND_NEVIS:"KN",SAINT_LUCIA:"LC",SAINT_VINCENT_AND_GRENADINES:"VC",SAMOA:"WS",SAO_TOME_AND_PRINCIPE:"ST",SAUDI_ARABIA:"SA",SENEGAL:"SN",SERBIA:"RS",SEYCHELLES:"SC",SIERRA_LEONE:"SL",SINGAPORE:"SG",SINT_MAARTEN:"SX",SLOVAKIA:"SK",SLOVENIA:"SI",SOLOMON_ISLANDS:"SB",SOMALIA:"SO",SOUTH_AFRICA:"ZA",SOUTH_KOREA:"KR",SOUTH_SUDAN:"SS",SPAIN:"ES",SRI_LANKA:"LK",SUDAN:"SD",SURINAME:"SR",SWAZILAND:"SZ",SWEDEN:"SE",SWITZERLAND:"CH",SYRIA:"SY",TAIWAN:"TW",TAJIKISTAN:"TJ",TANZANIA:"TZ",THAILAND:"TH",TIMOR_LESTE:"TL",TOGO:"TG",TOKELAU:"TK",TONGA:"TO",TRINIDAD_AND_TOBAGO:"TT",TUNISIA:"TN",TURKEY:"TR",TURKMENISTAN:"TM",TURKS_AND_CAICOS_ISLANDS:"TC",TUVALU:"TV",UGANDA:"UG",UKRAINE:"UA",UNITED_ARAB_EMIRATES:"AE",UNITED_KINGDOM:"GB",UNITED_STATES:"US",UNITED_STATES_MINOR_OUTLYING_ISLANDS:"UM",UNITED_STATES_VIRGIN_ISLANDS:"VI",URUGUAY:"UY",UZBEKISTAN:"UZ",VANUATU:"VU",VENEZUELA:"VE",VIETNAM:"VN",ZAMBIA:"ZM",ZIMBABWE:"ZW"};t.LANGUAGE_TO_REGIONS=new Map([[r.ADAMAWA_FULFULDE,[a.CAMEROON,a.CHAD,a.NIGERIA]],[r.AFRIKAANS,[a.NAMIBIA,a.SOUTH_AFRICA]],[r.AGHEM,[a.CAMEROON]],[r.AGWAGWUNE,[a.NIGERIA]],[r.AKOOSE,[a.CAMEROON]],[r.ANGOR,[a.PAPUA_NEW_GUINEA]],[r.ASTURIAN,[a.SPAIN]],[r.AVOKAYA,[a.CONGO_KINSHASA,a.SOUTH_SUDAN]],[r.AZERBAIJANI,[a.AZERBAIJAN]],[r.BAKA_CAMEROON,[a.CAMEROON,a.GABON]],[r.BAFIA,[a.CAMEROON]],[r.BAFUT,[a.CAMEROON]],[r.BALANTA_GANJA,[a.SENEGAL]],[r.BALI_NIGERIA,[a.NIGERIA]],[r.BASA_CAMEROON,[a.CAMEROON]],[r.BASSA,[a.LIBERIA]],[r.BEKWARRA,[a.NIGERIA]],[r.BEROM,[a.NIGERIA]],[r.BETE_BENDI,[a.NIGERIA]],[r.BINI,[a.NIGERIA]],[r.BOMU,[a.BURKINA_FASO,a.MALI]],[r.BOSNIAN,[a.BOSNIA,a.CROATIA,a.KOSOVO,a.MONTENEGRO,a.SERBIA]],[r.BORGU_FULFULDE,[a.BENIN,a.TOGO]],[r.BRETON,[a.FRANCE]],[r.BURAK,[a.NIGERIA]],[r.BURA_PABIR,[a.NIGERIA]],[r.CAKFEM_MUSHERE,[a.NIGERIA]],[r.CATALAN,[a.ANDORRA,a.FRANCE,a.ITALY,a.SPAIN]],[r.CENTRAL_ATLAS_TAMAZIGHT,[a.MOROCCO]],[r.CENTRAL_EASTERN_NIGER_FULFULDE,[a.NIGERIA]],[r.CIBAK,[a.NIGERIA]],[r.CISHINGINI,[a.NIGERIA]],[r.CORSICAN,[a.FRANCE,a.ITALY]],[r.CRIMEAN_TATAR,[a.RUSSIA]],[r.CROATIAN,[a.BOSNIA,a.CROATIA,a.KOSOVO,a.MONTENEGRO,a.SERBIA]],[r.CROSS_RIVER_MBEMBE,[a.NIGERIA]],[r.CZECH,[a.CZECHIA,a.SLOVAKIA]],[r.DABA,[a.CAMEROON,a.NIGERIA]],[r.DAN,[a.IVORY_COAST,a.LIBERIA]],[r.DAZAGA,[a.CHAD,a.NIGER]],[r.DENDI_BENIN,[a.BENIN]],[r.DGHWEDE,[a.NIGERIA]],[r.DOYAYO,[a.CAMEROON]],[r.DUALA,[a.CAMEROON]],[r.DUTCH,[a.ARUBA,a.BELGIUM,a.CURACAO,a.NETHERLANDS,a.SINT_MAARTEN,a.SURINAME]],[r.EBIRA,[a.NIGERIA]],[r.EDOLO,[a.PAPUA_NEW_GUINEA]],[r.ENGENNI,[a.NIGERIA]],[r.ERAVE,[a.PAPUA_NEW_GUINEA]],[r.ESTONIAN,[a.ESTONIA]],[r.ETKYWAN,[a.NIGERIA]],[r.EWE,[a.BENIN,a.GHANA,a.TOGO]],[r.EWONDO,[a.CAMEROON]],[r.FAROESE,[a.FAROE_ISLANDS]],[r.FEFE,[a.CAMEROON]],[r.FINNISH,[a.FINLAND,a.SWEDEN]],[r.FRENCH,[a.BELGIUM,a.BENIN,a.BURKINA_FASO,a.BURUNDI,a.CAMEROON,a.CANADA,a.CENTRAL_AFRICAN_REPUBLIC,a.CONGO_BRAZZAVILLE,a.CONGO_KINSHASA,a.CHAD,a.COMOROS,a.DJIBOUTI,a.EQUITORIAL_GUINEA,a.FRANCE,a.GABON,a.HAITI,a.IVORY_COAST,a.LUXEMBOURG,a.MADAGASCAR,a.MALI,a.MONACO,a.NIGER,a.RWANDA,a.SENEGAL,a.SEYCHELLES,a.SWITZERLAND,a.TOGO,a.VANUATU]],[r.FRIULIAN,[a.ITALY]],[r.FULAH,[a.CAMEROON,a.GUINEA,a.MAURITANIA,a.SENEGAL]],[r.GADSUP,[a.PAPUA_NEW_GUINEA]],[r.GALICIAN,[a.SPAIN]],[r.GBARI,[a.NIGERIA]],[r.GBAYA_CENTRAL_AFRICAN_REPUBLIC,[a.CENTRAL_AFRICAN_REPUBLIC]],[r.GBAYA_MBODOMO,[a.CAMEROON]],[r.GERMAN,[a.AUSTRIA,a.BELGIUM,a.GERMANY,a.LIECHTENSTEIN,a.LUXEMBOURG,a.SWITZERLAND]],[r.GIZRRA,[a.PAPUA_NEW_GUINEA]],[r.GODIE,[a.IVORY_COAST]],[r.GOEMAI,[a.NIGERIA]],[r.GOKANA,[a.NIGERIA]],[r.GOURMANCHEMA,[a.BENIN,a.BURKINA_FASO,a.NIGER,a.TOGO]],[r.GUDE,[a.CAMEROON,a.NIGERIA]],[r.GUINEA_KPELLE,[a.GUINEA]],[r.GREENLANDIC,[a.GREENLAND]],[r.GWAK,[a.NIGERIA]],[r.HAUSA,[a.BENIN,a.CAMEROON,a.CHAD,a.GHANA,a.IVORY_COAST,a.NIGER,a.NIGERIA,a.SUDAN,a.TOGO]],[r.HAWAIIAN,[a.UNITED_STATES]],[r.HUBA,[a.NIGERIA]],[r.HUNGARIAN,[a.HUNGARY]],[r.HUN_SAARE,[a.NIGERIA]],[r.HYAM,[a.NIGERIA]],[r.IBANI,[a.NIGERIA]],[r.ICELANDIC,[a.ICELAND]],[r.IDOMA,[a.NIGERIA]],[r.IGBO,[a.EQUITORIAL_GUINEA]],[r.IGEDE,[a.NIGERIA]],[r.IK,[a.UGANDA]],[r.IKA,[a.NIGERIA]],[r.IKWERE,[a.NIGERIA]],[r.INARI_SAMI,[a.FINLAND]],[r.IRISH,[a.IRELAND,a.UNITED_KINGDOM]],[r.IVBIE_NORTH_OKPELA_ARHE,[a.NIGERIA]],[r.IZI_EZAA_IKWO_MGBO,[a.NIGERIA]],[r.JOLA_FONYI,[a.GAMBIA,a.SENEGAL]],[r.JUKUN_TAKUM,[a.CAMEROON,a.NIGERIA]],[r.KABYLE,[a.ALGERIA]],[r.KABUVERDIANU,[a.CAPE_VERDE]],[r.KAKI_AE,[a.PAPUA_NEW_GUINEA]],[r.KAMWE,[a.NIGERIA]],[r.KAREKARE,[a.NIGERIA]],[r.KAKO,[a.CAMEROON,a.CENTRAL_AFRICAN_REPUBLIC,a.CONGO_BRAZZAVILLE]],[r.KARANG,[a.CAMEROON,a.CHAD]],[r.KHOEKHOE,[a.NAMIBIA]],[r.KIRE,[a.PAPUA_NEW_GUINEA]],[r.KIRIKE,[a.NIGERIA]],[r.KOLSCH,[a.GERMANY]],[r.KOYRABORO_SENNI,[a.MALI]],[r.KOYRA_CHIINI,[a.MALI]],[r.KUNAMA,[a.ERITREA,a.ETHIOPIA]],[r.KUNIMAIPA,[a.PAPUA_NEW_GUINEA]],[r.KUTEP,[a.CAMEROON,a.NIGERIA]],[r.KPELLE,[a.GUINEA,a.LIBERIA]],[r.KWASIO,[a.CAMEROON,a.EQUITORIAL_GUINEA]],[r.KURDISH,[a.SYRIA,a.TURKEY]],[r.LAKOTA,[a.UNITED_STATES]],[r.LAMANG,[a.NIGERIA]],[r.LANGI,[a.TANZANIA]],[r.LATVIAN,[a.LATVIA]],[r.LIMBUM,[a.CAMEROON]],[r.LINGALA,[a.CONGO_BRAZZAVILLE,a.CONGO_KINSHASA]],[r.LIVONIAN,[]],[r.LITHUANIAN,[a.LITHUANIA]],[r.LOKAA,[a.NIGERIA]],[r.LOW_GERMAN,[a.BRAZIL,a.GERMANY,a.NETHERLANDS]],[r.LOWER_SORBIAN,[a.GERMANY]],[r.LUBA_KATANGA,[a.CONGO_KINSHASA]],[r.LUXEMBOURGISH,[a.BELGIUM,a.FRANCE,a.GERMANY,a.LUXEMBOURG]],[r.MADA_NIGERIA,[a.NIGERIA]],[r.MALAGASY,[a.MADAGASCAR]],[r.MALTESE,[a.MALTA]],[r.MAORI,[a.NEW_ZEALAND]],[r.MAPUCHE,[a.CHILE]],[r.MASAI,[a.KENYA,a.TANZANIA]],[r.MAASINA_FULFULDE,[a.MALI]],[r.MBELIME,[a.BENIN,a.TOGO]],[r.MBO_CAMEROON,[a.CAMEROON]],[r.MBULA_BWAZZA,[a.NIGERIA]],[r.MOFU_GUDUR,[a.CAMEROON]],[r.MUMUYE,[a.NIGERIA]],[r.MUNDANG,[a.CAMEROON,a.CHAD]],[r.MWAGHAVUL,[a.NIGERIA]],[r.NAVAJO,[a.UNITED_STATES]],[r.NGAS,[a.NIGERIA]],[r.NGIEMBOON,[a.CAMEROON]],[r.NGOMBA,[a.CAMEROON]],[r.NIGERIAN_FULFULDE,[a.CAMEROON,a.NIGERIA]],[r.NINZO,[a.NIGERIA]],[r.NORTHERN_DAGARA,[a.BURKINA_FASO]],[r.NORTHERN_SAMI,[a.FINLAND,a.SWEDEN,a.NORWAY]],[r.NORTHERN_SOTHO,[a.SOUTH_AFRICA]],[r.OBOLO,[a.NIGERIA]],[r.OCCITAN,[a.FRANCE,a.ITALY,a.MONACO,a.SPAIN]],[r.PARKWA,[a.CAMEROON]],[r.PERO,[a.NIGERIA]],[r.POLISH,[a.POLAND]],[r.PORTUGUESE,[a.ANGOLA,a.BRAZIL,a.CAPE_VERDE,a.EQUITORIAL_GUINEA,a.GUINEA_BISSAU,a.MACAU,a.MOZAMBIQUE,a.PORTUGAL,a.SAO_TOME_AND_PRINCIPE,a.TIMOR_LESTE]],[r.PRUSSIAN,[]],[r.PULAR,[a.GUINEA,a.MALI,a.SENEGAL,a.SIERRA_LEONE]],[r.QUECHUA,[a.ARGENTINA,a.BOLIVIA,a.COLOMBIA,a.ECUADOR,a.PERU]],[r.ROMANIAN,[a.MOLDOVA,a.ROMANIA]],[r.RON,[a.NIGERIA]],[r.SAAFI_SAAFI,[a.SENEGAL]],[r.SANGO,[a.CENTRAL_AFRICAN_REPUBLIC,a.CHAD,a.CONGO_KINSHASA]],[r.SCOTTISH_GAELIC,[a.UNITED_KINGDOM]],[r.SENA,[a.MOZAMBIQUE]],[r.SERBIAN,[a.BOSNIA,a.CROATIA,a.KOSOVO,a.MONTENEGRO,a.SERBIA]],[r.SERBO_CROATIAN,[a.BOSNIA,a.CROATIA,a.KOSOVO,a.MONTENEGRO,a.SERBIA]],[r.SERER,[a.GAMBIA,a.SENEGAL]],[r.SICILIAN,[a.ITALY]],[r.SISSALA,[a.BURKINA_FASO]],[r.SKOLT_SAMI,[a.FINLAND]],[r.SLOVAK,[a.CZECHIA,a.SLOVAKIA]],[r.SLOVENIAN,[a.SLOVENIA]],[r.SOKORO,[a.CHAD]],[r.SPANISH,[a.ARGENTINA,a.BELIZE,a.BOLIVIA,a.CANARY_ISLANDS,a.CEUTA_AND_MELILLA,a.CHILE,a.COLOMBIA,a.COSTA_RICA,a.CUBA,a.DOMINICAN_REPUBLIC,a.ECUADOR,a.EL_SALVADOR,a.EQUITORIAL_GUINEA,a.GUATEMALA,a.HONDURAS,a.MEXICO,a.NICARAGUA,a.PANAMA,a.PARAGUAY,a.PERU,a.PUERTO_RICO,a.SPAIN,a.UNITED_STATES,a.URUGUAY,a.VENEZUELA]],[r.SRANAN_TONGO,[a.SURINAME]],[r.SWISS_GERMAN,[a.AUSTRIA,a.FRANCE,a.GERMANY,a.LIECHTENSTEIN,a.SWITZERLAND]],[r.TACHELHIT,[a.MOROCCO]],[r.TAL,[a.NIGERIA]],[r.TAMASHEK,[a.MALI]],[r.TAMASHEQ,[a.BURKINA_FASO,a.MALI]],[r.TANGALE,[a.NIGERIA]],[r.TASAWAQ,[a.NIGER]],[r.TAI_DAM,[a.LAOS,a.VIETNAM]],[r.TAROK,[a.NIGERIA]],[r.TEDAGA,[a.CHAD,a.LIBYA,a.NIGER,a.NIGERIA]],[r.TERA,[a.NIGERIA]],[r.TIKAR,[a.CAMEROON]],[r.TONGAN,[a.TONGA]],[r.TORO_SO_DOGON,[a.MALI]],[r.TSIKIMBA,[a.NIGERIA]],[r.TSISHINGINI,[a.NIGERIA]],[r.TURKISH,[a.TURKEY]],[r.TURKMEN,[a.TURKMENISTAN]],[r.UPPER_SORBIAN,[a.GERMANY]],[r.VAI,[a.LIBERIA,a.SIERRA_LEONE]],[r.VIETNAMESE,[a.CAMBODIA,a.VIETNAM]],[r.VOLAPUK,[]],[r.VUTE,[a.CAMEROON,a.NIGERIA]],[r.WAJA,[a.NIGERIA]],[r.WALLOON,[a.BELGIUM]],[r.WALSER,[a.AUSTRIA,a.ITALY,a.LIECHTENSTEIN,a.SWITZERLAND]],[r.WARJI,[a.NIGERIA]],[r.WELSH,[a.UNITED_KINGDOM]],[r.WESTERN_FRISIAN,[a.NETHERLANDS]],[r.WESTERN_NIGER_FULFULDE,[a.BENIN,a.BURKINA_FASO,a.NIGER]],[r.YALA,[a.NIGERIA]],[r.YANGBEN,[a.CAMEROON]],[r.YELE,[a.PAPUA_NEW_GUINEA]],[r.YIL,[a.PAPUA_NEW_GUINEA]],[r.YORUBA,[a.BENIN,a.NIGERIA]],[r.ZARMA,[a.NIGER]],[r.ZULGO_GEMZEK,[a.CAMEROON]]])},dcaibchbg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n("bebajedcaf")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=i(n("cccehdaiaf"));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"next";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.list=e,a.index=-1,a.value=void 0,a.getter=n||function(e){return e},a.deleteDir=r,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),a(t,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=void 0,a=void 0;if(this.list=e,this.value)if((0,r.default)(e))this.unset();else{if((n=e.indexOf(this.value))>-1){if(n===this.index)return;a=!0,t=!1}else if(!t||this.index<0)n=-1;else{var o="prev"===this.deleteDir?-1:0;n=this.index+o,n=Math.max(n,0),a=(n=Math.min(n,e.length-1))>-1}this.set(n,t,a)}}},{key:"unset",value:function(){var e=this.value;this.value=void 0,this.index=-1,e&&this.trigger(this.getter(e),!1)}},{key:"reset",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.index<0||this.value&&this.trigger(this.getter(this.value),"focus",e)}},{key:"set",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.list.length){var r=Math.min(Math.max(e,-1),this.list.length-1),a=this.value,o=r>-1?this.list[r]:void 0;o?(this.value=o,this.trigger(this.getter(o),t?"focus":"select")):n&&(this.value=void 0),n&&a&&a!==o&&this.trigger(this.getter(a),!1),this.index=r}}},{key:"getVal",value:function(){return this.value}},{key:"setVal",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.list.indexOf(e);n>-1?this.set(n,t):(this.unset(),this.value=e)}},{key:"setFirst",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,r.default)(this.list)||this.set(0,e,!0)}},{key:"setLast",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,r.default)(this.list)||this.set(this.list.length-1,e,!0)}},{key:"setPrev",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,r.default)(this.list)||this.set(this.prev(),e,!0)}},{key:"setNext",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,r.default)(this.list)||this.set(this.next(),e,!0)}},{key:"prev",value:function(){return(0,r.default)(this.list)?-1:-1===this.index?-1:this.index-1}},{key:"next",value:function(){return(0,r.default)(this.list)?-1:Math.min(this.index+1,this.list.length-1)}}]),t}();t.default=u},dcbafbaejf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendSpamReport=function(e){return g((0,h.unproxy)(e))},t.sendNotSpam=function(e,t){return function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,a.genId)();var s=t.promises,l=t.notSpam;if(l)return Promise.resolve();if(s.sendNotSpam)return s.sendNotSpam;var f=s.sendNotSpam=(0,p.sendNotSpam)(t);if(n){var d=new a.ActionType(l10n.t(96)),h=f.then(function(e){return new a.ActionType(l10n.t(98))}).catch(u.ServerStatusCodeError,function(e){return new a.ActionType(l10n.t(97))}).catch(function(r){return c.default.error("models:chat:sendNotSpam dropped")(r),new a.ActionType(l10n.t(97),l10n.t(154),function(){return e(t,n,o)})});i.default.openToast(r.createElement(a.ActionToast,{id:o,initialAction:d,pendingAction:h}))}return f.then(function(){t.set({notSpam:!0})}).finally(function(){t.isTrusted(),s.sendNotSpam=null})}((0,h.unproxy)(e),t)},t.sendSpamBlockClear=function(e){return function(e){var t=e.promises,n=e.isGroup,r=e.contact;if(t.reportSpamBlockClear)return t.reportSpamBlockClear;if(n)return Promise.reject(new s.ActionError);var a=g(e);return t.reportSpamBlockClear=a.then(function(){return(0,o.blockContact)(r)}).then(function(){return(0,d.sendClear)(e,!1)}).catch(function(){}).finally(function(){t.reportSpamBlockClear=null}),t.reportSpamBlockClear}((0,h.unproxy)(e))},t.sendSpamExitClear=function(e){return function(e){var t=e.promises,n=e.isGroup,r=e.isReadOnly,a=e.msgs;if(t.reportSpamExitClear)return t.reportSpamExitClear;if(!n)return Promise.reject(new s.ActionError);var o=void 0,i=g(e);if(r)o=i;else{var u=(0,l.sendExitGroup)(e),c=f.waitForBBEvent(a,"change:last",function(e){return e.isGroupLeave()});o=Promise.all([i,u,c])}return t.reportSpamExitClear=o.then(function(){return(0,d.sendClear)(e,!1)}).catch(function(){}).finally(function(){t.reportSpamExitClear=null}),t.reportSpamExitClear}((0,h.unproxy)(e))};var r=b(n("ddhijeejag")),a=n("ccihhdchab"),o=n("dfdebdgdei"),i=m(n("bbchdeehff")),u=n("ddjgcfjicj"),s=b(n("cajijabhgb")),l=n("bafdehfigc"),c=m(n("bdiiahhjbe")),f=b(n("ebggjhghhi")),d=n("cjciachhej"),p=n("chjjhigbaj"),h=n("bheafeifce");function m(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,a.genId)(),n=e.promises;if(n.sendSpamReport)return n.sendSpamReport;var o=n.sendSpamReport=(0,p.sendSpamReport)(e),s=new a.ActionType(l10n.t(147)),l=o.then(function(e){return new a.ActionType(l10n.t(149))}).catch(u.ServerStatusCodeError,function(e){return new a.ActionType(l10n.t(148))}).catch(function(n){return c.default.error("models:chat:sendSpamReport dropped")(n),new a.ActionType(l10n.t(148),l10n.t(154),function(){return g(e,t)})});return i.default.openToast(r.createElement(a.ActionToast,{id:t,initialAction:s,pendingAction:l})),o.finally(function(){n.sendSpamReport=null})}},dcbafbbijj:function(e,t){e.exports={viewport:"_1H6CJ",verticalListViewport:"_1rqO1",horizontalListViewport:"_2WZg_"}},dcbcadjgid:function(e,t){e.exports={list:"_3zCpe",hint:"bHCVK",button:"_2TLLH"}},dcbcechchi:function(e,t){e.exports={wrapper:"_1_vLz",button:"_2sOZc",icon:"_1_rsn"}},dcbfjbeaad:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=P(n("fhfbcdaib")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=P(n("effbcehec")),u=n("dfdebdgdei"),s=P(n("dcbcadjgid")),l=P(n("bgfcjjddjf")),c=P(n("bbchdeehff")),f=P(n("biddiiafgd")),d=P(n("hdccjfbbg")),p=P(n("dhigahgdjb")),h=P(n("ddbdcagdbi")),m=P(n("djcchigfih")),b=P(n("djbhiedbef")),g=P(n("cabhjigfgc")),v=n("dajffajabh"),y=P(v),_=n("cicgeajfge"),E=P(n("bbhhbdicgc")),j=P(n("cicjcfabii")),O=P(n("bggeiidigb")),S=P(n("eceadcicaf")),w=P(n("bfdcadbbif"));function P(e){return e&&e.__esModule?e:{default:e}}function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var C=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,s=Array(i),m=0;m<i;m++)s[m]=arguments[m];return n=a=M(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.flatListController=new O.default,a.onBlockConfirm=function(e){(0,u.blockContact)(e).catch(function(){}),c.default.closeModal()},a.onBlock=function(){c.default.openModal(o.createElement(h.default,{title:l10n.t(164),filter:function(e){return!!p.default.isFilteredContact(e)&&(!l.default.get(e.id)||l10n.t(876))},onCancel:function(){return c.default.closeModal()},onSelect:(0,r.default)(a.onBlockConfirm)}))},a.onUnblockConfirm=function(e){(0,u.unblockContact)(e).catch(function(){}),c.default.closeModal()},a.onUnblockCancel=function(){c.default.closeModal()},a.onUnblock=function(e,t){c.default.openModal(o.createElement(f.default,{okText:l10n.t(1066),onOK:a.onUnblockConfirm.bind(a,t),cancelText:l10n.t(1153),onCancel:a.onUnblockCancel},l10n.t(1067,{contact:t.formattedName})))},a.renderItem=function(e){var t=e.blocklist.contact();return o.createElement(d.default,{contact:t,key:t.id.toString(),onClick:a.onUnblock,onDelete:a.onUnblock,waitIdle:!0})},M(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.listeners.add(l.default,"add remove")}},{key:"getData",value:function(){return l.default.map(function(e){return{itemKey:e.id.toString(),blocklist:e}})}},{key:"render",value:function(){var e=void 0,t=void 0;return l.default.length>0?(e=o.createElement(j.default,{flatListControllers:[this.flatListController],className:s.default.list},o.createElement(E.default,{flatListController:this.flatListController,direction:"vertical",data:this.getData(),renderItem:this.renderItem})),t=o.createElement("div",{"data-a8n":i.default.key("blocked-description"),className:s.default.hint},l10n.t(161))):e=o.createElement(_.Blocked,null),o.createElement(m.default,null,o.createElement(y.default,{title:l10n.t(219),onBack:this.props.onClose,type:v.DRAWER_HEADER_TYPE.LARGE}),o.createElement("div",{className:s.default.button},o.createElement(g.default,{a8nText:"li-add-blocked",onClick:this.onBlock,icon:o.createElement(w.default,{name:"add-user",directional:!0})},l10n.t(164))),o.createElement(b.default,null,e,t))}}]),t}();C.displayName="BlockedDrawer",t.default=(0,S.default)(C)},dccdiajhdf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SECTIONS=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=H(n("ddhijeejag")),o=V(n("effbcehec")),i=V(n("ebcagbhefg")),u=V(n("bbchdeehff")),s=V(n("baagejbchg")),l=V(n("djcchigfih")),c=V(n("djbhiedbef")),f=n("dajffajabh"),d=V(f),p=V(n("fijafegab")),h=H(n("cajijabhgb")),m=n("bgddggdhc"),b=n("bbhhbdicgc"),g=V(b),v=V(n("bggeiidigb")),y=V(n("bjbdcigbdi")),_=V(n("cbdagjiddg")),E=V(n("bdcjhdddde")),j=V(n("dhfbggbbbd")),O=V(n("jheedhagg")),S=n("ejbdjaifi"),w=V(n("cigbgdjabj")),P=V(n("eceadcicaf")),M=n("ddbddjjgia"),C=V(n("biecbbiiee")),T=V(n("eigdejjai")),A=V(n("eafabiffad")),N=V(n("bibjgdifc")),k=V(n("cahfddcdga")),I=V(n("bjbedjfe")),R=V(n("bhifaggjcb")),L=V(n("bfgbdiffgd")),D=V(n("becfabjeeg")),x=V(n("ihfccfgdf")),U=V(n("bfdcadbbif")),G=V(n("eedjbihej")),F=n("bfjajhbdf"),B=V(F),$=V(n("caceaafdic"));function V(e){return e&&e.__esModule?e:{default:e}}function H(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function W(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function Y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var K=t.SECTIONS={PLAYED_HEADER:"PLAYED_HEADER",PLAYED_FOOTER:"PLAYED_FOOTER",READ_HEADER:"READ_HEADER",READ_FOOTER:"READ_FOOTER",DELIVERED_HEADER:"DELIVERED_HEADER",DELIVERED_FOOTER:"DELIVERED_FOOTER",FORWARD_COUNT:"FORWARD_COUNT"},q="MSG_INFO_ROW",z=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,u=Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=r=Y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.flatListController=new v.default,r.setRefScrollable=function(e){r.refScrollable=e},r.state={msgInfo:void 0,unimplemented:!1},r.wrapper=null,r.isMsgVisible=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e===r.props.msg.id&&(!!t||r.getMsgComponent())},r.onClose=function(){r.props.uim.uie.requestDismiss()},r.getHeaderAtSection=function(e){var t=void 0,n=void 0;switch(e){case K.PLAYED_HEADER:n=a.createElement(U.default,{name:"status-ptt-blue"}),t=l10n.t(716);break;case K.READ_HEADER:n=a.createElement(U.default,{name:"status-dblcheck-ack"}),t=l10n.t(718);break;case K.DELIVERED_HEADER:n=a.createElement(U.default,{name:"status-dblcheck"}),t=l10n.t(714)}return n=a.createElement("div",{className:E.default.titleIcon},n),a.createElement("div",{"data-a8n":o.default.key("msg-info-title"),className:E.default.title},a.createElement(R.default,{side:n,ellipsify:!0},a.createElement(G.default,{theme:"section-title"},t)))},r.getFooterAtSection=function(e){var t=(0,k.default)(r.state.msgInfo);return a.createElement(j.default,{key:e,section:e,msgInfo:t})},r.renderItem=function(e){return e.type===q?r.getInfoCell(e.participant):e.type===K.FORWARD_COUNT?r.getForwardCount():e.type===K.PLAYED_HEADER||e.type===K.READ_HEADER||e.type===K.DELIVERED_HEADER?r.getHeaderAtSection(e.type):r.getFooterAtSection(e.type)},Y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;T.default.find(this.props.msg.id).checkpoint(this.props.rejectOnUnmount()).then(function(t){e.setState({msgInfo:t}),e.props.listeners.add(t.played,"add remove"),e.props.listeners.add(t.read,"add remove"),e.props.listeners.add(t.delivery,"add remove")}).catch(h.Unmount,function(){}).catch(function(){e.setState({unimplemented:!0}),u.default.openToast(a.createElement(B.default,{msg:l10n.t(747),id:(0,F.genId)("msg_info_failed")}))})}},{key:"componentDidMount",value:function(){var e=this,t=(0,m.forbiddenFindDOMNode)(this.refScrollable);this.props.msg.type===s.default.MSG_TYPE.IMAGE&&t&&(t.scrollTop=t.scrollHeight),this.props.listeners.add(this.props.msg,"remove",function(t,n){n===C.default&&e.props.uim.uie.requestDismiss()})}},{key:"getAnimateEnterClass",value:function(e){return`animate-enter${-1===e?"":e}`}},{key:"getMsgComponent",value:function(){var e=this.wrapper;if(e)return e.getMsgComponentRef()}},{key:"getInfoCell",value:function(e){return a.createElement(_.default,{msgInfoParticipant:e,contact:e.contact,key:e.id.toString()})}},{key:"getForwardCount",value:function(){return a.createElement("div",{className:E.default.forwardCount},a.createElement(A.default,{msg:this.props.msg}))}},{key:"getData",value:function(){var e=this.props.msg,t=this.state.msgInfo,n=[];return t&&t.isPTT&&(n.push({type:K.PLAYED_HEADER,itemKey:K.PLAYED_HEADER,height:50}),n.push.apply(n,W(t.played.map(function(e){return{participant:e,type:q,itemKey:e.id.toString(),height:b.DEFAULT_ITEM_HEIGHT}}))),t.playedRemaining>0&&n.push({type:K.PLAYED_FOOTER,itemKey:K.PLAYED_FOOTER,height:50})),t&&(t.read.length>0||t.playedRemaining>0)&&(n.push({type:K.READ_HEADER,itemKey:K.READ_HEADER,height:50}),n.push.apply(n,W(t.read.map(function(e){return{participant:e,type:q,itemKey:e.id.toString(),height:b.DEFAULT_ITEM_HEIGHT}}))),t.readRemaining>0&&n.push({type:K.READ_FOOTER,itemKey:K.READ_FOOTER,height:50})),t&&(t.delivery.length>0||t.deliveryRemaining>0)&&(n.push({type:K.DELIVERED_HEADER,itemKey:K.DELIVERED_HEADER,height:50}),n.push.apply(n,W(t.delivery.map(function(e){return{participant:e,type:q,itemKey:e.id.toString(),height:b.DEFAULT_ITEM_HEIGHT}}))),t.deliveryRemaining>0&&n.push({type:K.DELIVERED_FOOTER,itemKey:K.DELIVERED_FOOTER,height:50})),L.default.frequentlyForwardedMessages&&e.numTimesForwarded>0&&!e.isFrequentlyForwarded&&n.push({type:K.FORWARD_COUNT,itemKey:K.FORWARD_COUNT,height:60}),n}},{key:"render",value:function(){var e=this.props.msg,t=this.state,n=t.msgInfo,r=t.unimplemented,o=void 0;n||r||(o=a.createElement("div",{className:E.default.spinner,key:"spinner"},a.createElement(D.default,{size:50,stroke:4})));var u=this.getData(),h=u.length?a.createElement(g.default,{flatListController:this.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:u,renderItem:this.renderItem}):null,m=null;return e.labels&&e.labels.length&&y.default.supportsFeature(y.default.F.LABELS_DISPLAY)&&(m=a.createElement(p.default,{theme:"padding"},a.createElement(w.default,{labels:e.labels}))),a.createElement(l.default,{key:"message-info-modal"},a.createElement(d.default,{title:l10n.t(712),type:f.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onClose}),a.createElement(N.default,{ref:this.setRefScrollable,chatPreference:i.default.assertGet("defaultPreference")},a.createElement($.default,{msg:e,ref:(0,S.GetRef)("wrapper",this),displayType:s.default.DISP_TYPE.MSG_INFO,isMsgVisible:this.isMsgVisible,position:M.MsgPosition.END,onProductClick:this.props.onProductClick})),a.createElement(c.default,{flatListControllers:[this.flatListController]},m,o,a.createElement("div",{className:E.default.list},h)))}}]),t}();z.CONCERNS={msg:["id","star","type","isGif","labels","numTimesForwarded","isFrequentlyForwarded"]},z.displayName="GroupMsgInfoDrawer",t.default=(0,O.default)((0,I.default)((0,P.default)((0,x.default)(z,z.CONCERNS))))},dcdbiiejfc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendDelete=function(e){return function e(t){if(t.promises.sendDelete)return t.promises.sendDelete;var n=t.getLastMsgKeyForAction();var l=n?t.msgs.get(n):void 0;var c=t.promises.sendDelete=(0,u.sendConversationDelete)(t.id,n,t.getLastMsgKeyForAction.bind(t));var f=t.kind;var d=void 0;switch(f){case o.KIND.GROUP:d=l10n.t(58);break;case o.KIND.BROADCAST:d=l10n.t(10);break;case o.KIND.CHAT:d=l10n.t(20)}d=new a.ActionType(d);var p=c.then(function(e){if(200===e.status)switch(f){case o.KIND.GROUP:return new a.ActionType(l10n.t(57));case o.KIND.BROADCAST:return new a.ActionType(l10n.t(9));case o.KIND.CHAT:return new a.ActionType(l10n.t(19))}else if(e.status>=400)switch(f){case o.KIND.GROUP:return new a.ActionType(l10n.t(56));case o.KIND.BROADCAST:return new a.ActionType(l10n.t(8));case o.KIND.CHAT:return new a.ActionType(l10n.t(18))}}).catch(function(n){s.default.error("models:chat:sendDelete dropped")(n);var r=void 0;switch(f){case o.KIND.GROUP:r=l10n.t(56);break;case o.KIND.BROADCAST:r=l10n.t(8);break;case o.KIND.CHAT:r=l10n.t(18)}return new a.ActionType(r,l10n.t(154),function(){return e(t)})});i.default.openToast(r.createElement(a.ActionToast,{id:(0,a.genId)(),initialAction:d,pendingAction:p}));return c.then(function(e){if(200===e.status&&!e._duplicate){var r=t.getLastMsgKeyForAction();n&&n.equals(r)||n===r?t.delete():t.deleteMsgsBeforeMsgInclusive(l)}}).finally(function(){t.promises.sendDelete=null})}((0,l.unproxy)(e))};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=n("ccihhdchab"),o=n("ebjaejiaba"),i=c(n("bbchdeehff")),u=n("bjecicbiic"),s=c(n("bdiiahhjbe")),l=n("bheafeifce");function c(e){return e&&e.__esModule?e:{default:e}}},dcdifccjdh:function(e,t,n){"use strict";var r=l(n("ddfeabiaci")),a=l(n("baagejbchg")),o=l(n("bjigbaghc")),i=l(n("bdiiahhjbe")),u=l(n("cffajefeag")),s=l(n("jccfhaecf"));function l(e){return e&&e.__esModule?e:{default:e}}var c=n("dhacjhbgfj"),f={version:"12",M:{DEBUG_LOG:1,QUERY_RESUME:2,QUERY_RECEIPT:3,QUERY_MEDIA:4,QUERY_CHAT:5,QUERY_CONTACTS:6,QUERY_MESSAGES:7,PRESENCE:8,PRESENCE_SUBSCRIBE:9,GROUP:10,READ:11,CHAT:12,RECEIVED:13,PIC:14,STATUS:15,MESSAGE:16,QUERY_ACTIONS:17,BLOCK:18,QUERY_GROUP:19,QUERY_PREVIEW:20,QUERY_EMOJI:21,QUERY_MESSAGE_INFO:22,SPAM:23,QUERY_SEARCH:24,QUERY_IDENTITY:25,QUERY_URL:26,PROFILE:27,CONTACT:28,QUERY_VCARD:29,QUERY_STATUS:30,QUERY_STATUS_UPDATE:31,PRIVACY_STATUS:32},statusQuery:function(){switch(arguments.length){case 2:case 3:case 4:return this.statusQueryUpdate.apply(this,arguments);case 0:default:return this.statusQueryAll()}},statusQueryAll:function(){var e=this;return new Promise(function(t,n){var r=e.queryNode({type:"status"},void 0);e.binSend("sendEphemeral",r,n,{onSend:e.binWrap(function(r){e.BinaryProtocol.read(r).then(function(n){var r={statuses:[]},a=e.N.children(n);if(i.default.logColor("green","bin-recv: response,statusv3",n)(),"response"===e.N.tag(n)&&"status"===e.N.attr("type",n)&&(r.checksum=e.N.attr("checksum",n),Array.isArray(a)))for(var o=a.length,u=0;u<o;u++){var s=a[u],l=e.N.attr("jid",s),c=e.N.attr("unread",s),f=e.N.attr("count",s),d=e.N.attr("t",s),p=e.N.attr("score",s);if("status"===e.N.tag(s)&&l&&f&&d){var h={id:l,unreadCount:parseInt(c,10)||0,totalCount:parseInt(f,10)||0,t:parseInt(d,10)||0,score:parseFloat(p)||0,_msgs:[]},m=e.N.children(s);if(Array.isArray(m))for(var b=m.length,g=0;g<b;g++)switch(e.N.tag(m[g])){default:case"message":var v=e.parseMsgMessage(m[g],"response");v&&h._msgs.push(v);break;case"picture":var y=e.N.children(m[g]);y instanceof ArrayBuffer&&(h.pic=y)}r.statuses.push(h)}}t(r)}).catch(n)},t),onDrop:e.wrap(n)},{debugString:"query,statusv3",metricName:"QUERY_STATUS",ackRequest:!1})})},statusQueryUpdate:function(e,t,n,r){var a=this;return new Promise(function(o,s){var l="before"===r?"before":"after",c={type:"status",kind:l,chat:e,count:t.toString(),jid:n?n.remote:void 0,index:n?n.id:void 0,owner:n?n.fromMe.toString():void 0,participant:n?n.participant:void 0},f=a.queryNode(c,void 0);a.binSend("sendEphemeral",f,s,{onSend:a.binWrap(function(e){a.BinaryProtocol.read(e).then(function(e){var t=[],n=a.N.children(e);if(i.default.logColor("green","bin-recv: response,statusv3",e)(),"response"===a.N.tag(e)&&"status"===a.N.attr("type",e)&&Array.isArray(n))for(var r=n.length,u=0;u<r;u++){var s=a.parseMsg(n[u],"response");s&&t.push(s)}o(t)}).catch(s)},o),onDrop:a.wrap(s)},{debugString:["query","statusv3",l,t,n instanceof u.default?n.toString():e].join(),metricName:"QUERY_STATUS_UPDATE",ackRequest:!1})})},sendConversationSeen:function(e,t,n,r,a){var o=this;return new Promise(function(i,u){var s=o.actionNode("set",[["read",{kind:r?"status":void 0,chat:r?a:void 0,jid:e,index:t?t.id:void 0,owner:t?t.fromMe.toString():void 0,participant:t?t.participant:void 0,count:n&&t?n.toString():void 0},void 0]]);o.binSend("send",s,u,{clientCacheable:!0,onSend:o.wrap(i),onDrop:o.wrap(u)},{debugString:"action,"+(r?"status":"chat")+",read,"+JSON.stringify(t)+","+n,metricName:"READ",ackRequest:!0})})},sendStatusSeen:function(e,t){return this.sendConversationSeen(e.remote,e,void 0,!0,t)},sendStatusMute:function(e,t){var n=this;return new Promise(function(r,a){var o=n.actionNode("set",[["status",{jid:e,mute:(!!t).toString()},void 0]]);n.binSend("send",o,a,{clientCacheable:!0,onSend:n.wrap(r),onDrop:n.wrap(a)},{debugString:"action,status,mute,"+[e,t].join(),metricName:"STATUS",ackRequest:!0})})},requestMediaReupload:function(e,t){var n=this;return new Promise(function(r,a){var o=e.id,u=Array.isArray(t)?t.map(function(e){return["user",{jid:e},void 0]}):void 0,s=o,l=n.queryNode({type:"media",index:s.id,jid:s.remote,owner:s.fromMe.toString(),participant:s.participant},u);n.binSend("sendEphemeral",l,a,{onSend:n.binWrap(function(e){n.BinaryProtocol.read(e).then(function(e){var t=void 0;if(i.default.logColor("green","bin-recv: response,media",e)(),"response"===n.N.tag(e)&&"media"===n.N.attr("type",e)){var a=parseInt(n.N.attr("code",e))||400,o=n.N.attr("url",e);a>=500&&502!==a?(i.default.error("wap:requestMediaReupload:error "+a)(),t={status:a}):200===a&&o?t={status:200,url:o,mediaKey:n.N.attr("media_key",e)}:200!==a||o?(i.default.error("wap:requestMediaReupload:error "+a)(),t={status:a}):t={status:400}}else i.default.error("wap:requestMediaReupload:malformed")(),t={status:400};r(t)}).catch(a)},r),onDrop:n.wrap(a)},{debugString:"query,media",metricName:"QUERY_MEDIA",ackRequest:!1})})},parseCmd:function(e){switch(this.N.tag(e)){case"read":var t=this.N.attr("jid",e),n="false"===this.N.attr("type",e),r="status"===this.N.attr("kind",e),a=this.N.attr("checksum",e),o=this.N.attr("index",e),i="true"===this.N.attr("owner",e),s=this.N.attr("participant",e),l=this.N.attr("chat",e),c=void 0;try{c=new u.default({id:o,fromMe:i,remote:t,participant:s})}catch(e){}var f={type:n?"unread":"read",jid:t,isStatus:r,checksum:a,chat:this.decodeJid(l),key:c},d=[!t,r&&!c];return this.dropIfConditionMet(d,f);case"identity":var p=this.parseIdentity(e);return p?(p.type="identity",p):void 0;default:return}},parseContact:function(e,t){if("user"===this.N.tag(e)){var n=this.N.attr("name",e),r="true"===this.N.attr("enterprise",e),o=this.N.attr("jid",e)||t,u=this.N.attr("short",e)||void 0,s=this.N.attr("type",e)||"in",l=this.N.attr("notify",e),c=this.N.attr("verify",e),f="true"===this.N.attr("status_mute",e),d=this.N.attr("index",e)||void 0,p=this.N.attr("vname",e),h=void 0,m=void 0;switch(c){case"true":case"0":case"1":case"2":h=!0,m=parseInt(c,10)||0;break;default:h=!1,r=!1}n||m!==a.default.VERIFIED_LEVEL.HIGH||(n=p);var b=this.N.children(e),g=[];if(Array.isArray(b))for(var v=0;v<b.length;v++){var y=b[v];if("label"===this.N.tag(y)){var _=this.N.attr("id",y);_&&g.push(_)}}var E={id:o,name:n,type:s,shortName:u,pushname:l,isBusiness:h,verifiedLevel:m,statusMute:f,sectionHeader:d,verifiedName:p,labels:g,isEnterprise:r},j=[!o,"in"!==s&&"out"!==s&&!!s];return this.dropIfConditionMet(j,E)}i.default.assert(!1,"wap-unexpected-tag",`expected tag: user, received tag: ${this.N.tag(e)}, tag id: ${this.N.attr("id",e)}`)()},parseAck:function(e){if("received"===this.N.tag(e)){var t=this.N.attr("type",e),n=this.N.attr("index",e),r=this.N.attr("jid",e),a="true"===this.N.attr("owner",e),u=this.N.attr("participant",e),l=void 0;switch(t){case"message":l=2;break;case"read":l=3;break;case"played":l=4;break;case"error":l=-1;break;case"pending":default:l=0}var c={cmd:"ack",id:n,ack:l,from:a?o.default.me:r,to:a?r:o.default.me,participant:u,self:a?"out":"in"},f=[!n,!r,s.default.isStatusV3(r),"message"!==t&&"read"!==t&&"played"!==t&&"error"!==t&&"pending"!==t];return this.dropIfConditionMet(f,c)}i.default.assert(!1,"wap-unexpected-tag",`expected tag: received, received tag: ${this.N.tag(e)}, tag id: ${this.N.attr("id",e)}`)()}};e.exports=(0,r.default)(f,c)},dcdijgaegd:function(e,t){e.exports={outerContainer:"_2IaIL",innerContainer:"_1Rqhe"}},dcebcbcdih:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=N(n("dgdjiicfdg")),o=A(n("ddhijeejag")),i=N(n("dbdfbgehgj")),u=N(n("bbchdeehff")),s=N(n("baagejbchg")),l=N(n("biddiiafgd")),c=N(n("bjigbaghc")),f=N(n("dhigahgdjb")),d=N(n("dhhfaeacef")),p=N(n("fifhbjiec")),h=n("cicgeajfge"),m=n("ddjgcfjicj"),b=A(n("cajijabhgb")),g=N(n("fcfchiagj")),v=N(n("djaadchjch")),y=N(n("ebacfjjdeb")),_=N(n("dihehaccca")),E=n("chcadgfgad"),j=N(n("bahgfcjcda")),O=N(n("bjbedjfe")),S=N(n("ihfccfgdf")),w=N(n("bfdcadbbif")),P=n("bfjajhbdf"),M=N(P),C=N(n("bihdhbjih")),T=n("dcbdjheea");function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function N(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var I={LOADING:0,SUCCESS:1,ERROR:2},R=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,s=Array(a),f=0;f<a;f++)s[f]=arguments[f];return n=r=k(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.state={state:I.LOADING,status:void 0,groupMetadata:void 0,subject:void 0},r.onViewGroup=function(e){var t=void 0;e?t=e:r.state.groupMetadata&&(t=r.state.groupMetadata.id),t&&u.default.openChatFromUnread(i.default.assertGet(t)),u.default.closeModal()},r.revokeGrpV4Invite=function(){var e=r.props.msg,t=r.props.msg.inviteGrp,n=i.default.assertGet((0,T.createWid)(t)).groupMetadata;u.default.openModal(o.createElement(l.default,{onOK:function(){u.default.closeModal(),n.revokeGroupV4AddInvite([e.to.toString()]).then(function(){u.default.openToast(o.createElement(M.default,{msg:l10n.t(1254),id:(0,P.genId)()}))})},okText:l10n.t(1345),onCancel:function(){return u.default.closeModal()},cancelText:l10n.t(1153)},o.createElement(p.default,{text:l10n.t(561,{participant:e.chat.contact.formattedName})})))},r.onJoinGroup=function(){var e=r.props.msg,t=e.inviteCode,n=e.inviteCodeExp,a=e.inviteGrp,o=e.from;C.default.acceptGroupV4Invite(a,o.toString(),t,`${n}`,c.default.me.toString()).then(function(e){return 200===e.status?i.default.find((0,T.createWid)(a)):Promise.reject(e.status)}).then(function(e){u.default.openChatFromUnread(e).then(function(t){t&&u.default.focusChatTextInput(e)}),u.default.closeModal()}).checkpoint(r.props.rejectOnUnmount()).catch(b.Unmount,function(){}).catch(function(e){r.setState({state:I.ERROR,status:e})})},r.onCancel=function(){u.default.closeModal()},k(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.msg,n=t.inviteCode,r=t.inviteCodeExp,a=t.inviteGrp;if(t.isSentByMe){var o=i.default.assertGet((0,T.createWid)(a));o.groupMetadata&&v.default.find(o.id).catch(m.WapDrop,b.ProtoVersionUndefined,function(){}).finally(function(){e.setState({status:200,groupMetadata:o.groupMetadata,subject:o.formattedTitle||o.name,state:I.SUCCESS})})}else C.default.groupV4InviteRequestMetadataFind(c.default.me.toString(),this.props.msg.from.toString(),n,`${r}`,a).then(function(t){if(null!=t.status&&t.status>=400)e.setState({status:t.status,state:I.ERROR});else if(t.id){var n=new g.default({id:t.id,owner:t.owner,creation:t.creation,desc:t.desc,descId:t.descId,descOwner:t.descOwner,descTime:t.descTime,restrict:t.restrict,announce:t.announce,participants:t.participants});e.setState({status:200,groupMetadata:n,subject:t.subject,state:I.SUCCESS})}else e.setState({status:t.status,state:I.ERROR})}).catch(b.Unmount,function(){})}},{key:"render",value:function(){var e=this.props.msg,t=e.inviteGrp,n=e.inviteCodeExp,r=e.inviteCode,u=e.isGroupsV4InviteExpired,m=e.from,b=e.isSentByMe,g=this.state,v=g.state,O=g.status,S=g.groupMetadata,P=g.subject,M={cancelText:l10n.t(513),onCancel:this.onCancel,onOK:void 0,okText:void 0},C=void 0,A=void 0;if(v===I.LOADING)C=o.createElement(h.Loading,null);else if(v===I.SUCCESS&&S){var N=S.participants,k=S.size||N.length,R=N.filter(function(e){return!!f.default.assertGet(e.id).name}),D=void 0,x=S.desc?o.createElement("div",{className:y.default.metadataDesc},o.createElement(p.default,{text:S.desc})):null;D=R.length?o.createElement("div",{className:y.default.participantList},o.createElement("div",{className:y.default.participantsTitle},l10n.t(525,{count:k,_plural:k})," ",""," ",l10n.t(515,{count:R.length,_plural:R.length})),o.createElement("div",{className:y.default.participantsContainer},R.map(function(e){return o.createElement("div",{key:e.id.toString(),className:y.default.participantWrapper},o.createElement(d.default,{id:e.id}),o.createElement(p.default,{className:y.default.participantText,text:e.contact.formattedName}))}))):o.createElement("div",{className:y.default.emptyContentContainer},o.createElement("span",{className:y.default.participantsText},l10n.t(525,{count:k,_plural:k})),o.createElement("span",{className:y.default.contactsText}," ",""," ",l10n.t(515,{count:R.length,_plural:R.length})));var U=`w=${encodeURIComponent(c.default.me.toString())}&g=${encodeURIComponent(t)}&c=${encodeURIComponent(r)}&e=${encodeURIComponent(n)}&a=${encodeURIComponent(m.toString())}`,G=`${s.default.GROUP_V4_INVITE_ICON_URL}?${U}`;C=o.createElement("div",null,o.createElement("div",{className:y.default.metadataContainer},b?o.createElement(j.default,{size:82,waid:(0,T.createWid)(t)}):o.createElement(_.default,{src:G,fallback:"default-group",size:82}),o.createElement("div",{className:y.default.metadataText},o.createElement(p.default,{className:y.default.metadataTitle,text:P}),x)),D);var F=i.default.get(S.id),B=!!F&&!F.isReadOnly;e.isSentByMe?(M.onOK=this.revokeGrpV4Invite,M.okText=l10n.t(967)):B?(M.onOK=this.onViewGroup,M.okText=l10n.t(537)):u||(M.onOK=this.onJoinGroup,M.okText=l10n.t(520)),A=E.FlexModalType}else{var $=void 0;switch(O){case 401:$=l10n.t(508);break;case 404:$=l10n.t(509);break;case 410:$=l10n.t(510);break;case 419:$=l10n.t(511);break;default:$=l10n.t(512)}M.cancelText=l10n.t(1287),C=o.createElement("div",null,$)}var V,H,W,Y=v===I.SUCCESS?o.createElement("div",{className:y.default.inviteExpiration},o.createElement(w.default,{name:"panel-recent",display:"inline",className:y.default.inviteExpirationIcon}),o.createElement("span",null,(V=parseInt(n,10),H=(0,a.default)(1e3*V).diff((0,a.default)()),W=Math.floor(H/L),H<=0?l10n.t(614):W<12?l10n.t(612,{time:(0,a.default)().local().format("LT")}):W<24?l10n.t(613,{number:1,_plural:1}):W<48?l10n.t(613,{number:2,_plural:2}):l10n.t(613,{number:3,_plural:3})))):null;return o.createElement(l.default,{cancelText:M.cancelText,onCancel:M.onCancel,onOK:M.onOK,okText:M.okText,type:A},C,Y)}}]),t}();R.CONCERNS={msg:["id","to","inviteCode","inviteCodeExp","inviteGrp","isGroupsV4InviteExpired","from","chat","isSentByMe"]},R.displayName="GroupV4InviteModal";var L=36e5;t.default=(0,S.default)((0,O.default)(R),R.CONCERNS)},dcecgegjfc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.start=function(e,t){var n=!1,l=0;return Promise.resolve().then(function(){var c="camera"===e?{video:{width:s.default.imageMaxEdge,height:s.default.imageMaxEdge}}:{audio:!0},f=void 0;if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("MediaCapture:start no ability to capture media");return f=navigator.mediaDevices.getUserMedia(c),l=setTimeout(function(){t?t():(!function(e){"camera"===e?a.default.openModal(r.createElement(u.default,{messaging:i.Messaging.CAMERA,type:u.default.TYPE.GUIDE_ALLOW})):a.default.openModal(r.createElement(u.default,{messaging:i.Messaging.MIC,type:u.default.TYPE.GUIDE_ALLOW}))}(e),n=!0)},1e3),f.catch(function(e){var t=e&&e.name||e,n=o.GUM[t]||o.GUM.GUMError;return Promise.reject(new n)})}).finally(function(){n&&a.default.closeModal(),l&&clearTimeout(l)})},t.stop=function(e){if("function"==typeof e.stop)e.stop();else for(var t=e.getTracks(),n=0;n<t.length;n++)t[n].stop()},t.isSrcObjectInVideoElement=function(){void 0===c&&(c="srcObject"in document.createElement("video"));return c};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=l(n("bbchdeehff")),o=n("cajijabhgb"),i=n("ffchhcfdj"),u=l(i),s=l(n("bfgbdiffgd"));function l(e){return e&&e.__esModule?e:{default:e}}var c=void 0},dcefbjcfha:function(e,t,n){e.exports=function(){return new Worker(n.p+"milan.f68d79c868c61e6f0d0d.js")}},dceicchccd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n("eicihhaba")),a=u(n("bebajedcaf")),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n("cccehdaiaf"));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.list=e,r.selected=e.reduce(function(e,t,n){return e[n]=!1,e},{}),r.getter=n,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,a.default)(this.selected)||((0,a.default)(t)?this.unsetAll():(this.selected=t.reduce(function(t,n,r){var a=e.list.indexOf(n);return t[r]=a>-1&&e.selected[a],t},{}),this.list=t))}},{key:"unsetAll",value:function(){var e=this;(0,r.default)(this.selected,function(t,n){t&&e.set(n,!1)})}},{key:"reset",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,r.default)(this.selected,function(n,r){n&&e.trigger(e.getter(e.list[r]),!0,!0,t)})}},{key:"set",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.list.length){var r=Math.min(Math.max(e,-1),this.list.length-1),a=r>-1?this.list[r]:void 0;a&&(this.selected[r]&&!t||!this.selected[r]&&t)&&(this.selected[r]=t,this.trigger(this.getter(a),t,n))}}},{key:"setVal",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.list.indexOf(e);-1===r&&(r=this.list.length,this.list.push(e),this.selected[r]=!1),this.set(r,t,n)}},{key:"setFirst",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,a.default)(this.list)||this.set(0,!0,e)}},{key:"setLast",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,a.default)(this.list)||this.set(this.list.length-1,!0,e)}},{key:"getSelected",value:function(){var e=this;return this.list.reduce(function(t,n,r){return e.selected[r]&&t.push(n),t},[])}},{key:"isSelected",value:function(e){return!!this.selected[this.list.indexOf(e)]}}]),t}();t.default=s},dcfaachegb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediaStage=t.WrappedMediaImage=t.ZOOM_IN_FACTOR=t.ANIMATION_DURATION=void 0;var r=$(n("hhegggegb")),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=$(n("ceffhbhahb")),u=B(n("ddhijeejag")),s=$(n("djidacbicd")),l=$(n("bbchdeehff")),c=$(n("ebcfjdcbhh")),f=$(n("biddiiafgd")),d=n("cgecdbiihg"),p=$(n("bjjjdidhhi")),h=$(n("bhcegecbha")),m=$(n("fifhbjiec")),b=n("bgddggdhc"),g=n("dagibffcjf"),v=$(n("ghbbeafj")),y=$(n("bjbdcigbdi")),_=n("cdbgdedbdh"),E=n("ejbdjaifi"),j=$(n("cajbifjffe")),O=n("gaifbabbj"),S=$(n("bdiiahhjbe")),w=$(n("bffjfbgbg")),P=$(n("bdgdjfajce")),M=B(n("ecibddhig")),C=$(n("eafjfadchb")),T=$(n("bbjadhadbg")),A=$(n("daiibfchg")),N=$(n("bfbggcdbfb")),k=$(n("bcfiaiddii")),I=$(n("dgfecega")),R=$(n("ihfccfgdf")),L=n("bheafeifce"),D=$(n("bfdcadbbif")),x=n("hjbbdjjdf"),U=$(n("caffijjhc")),G=$(n("bcifhbgija")),F=$(n("ccfdaijebj"));function B(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function $(e){return e&&e.__esModule?e:{default:e}}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function W(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Y=t.ANIMATION_DURATION=500,K=t.ZOOM_IN_FACTOR=2,q=200,z=function(e){function t(e){V(this,t);var n=H(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setMediaImage=function(e){n.mediaImage=e},n.setMediaVideo=function(e){n.mediaVideo=e},n.onImageLoad=function(e){n.props.onImageLoad&&n.props.onImageLoad();var t=n.state.zoomElement;t&&e&&n.props.zoomIn&&e instanceof HTMLElement&&(n.zoomed||(n.zoomed=!0,n.animateZoom(t,e)))},n.animateZoom=function(e,t){var r=t.getBoundingClientRect(),a=e.getBoundingClientRect(),o=a.top-r.top,i=a.left-r.left,u=e.clientWidth/t.clientWidth;o-=(t.clientHeight-e.clientHeight)/2,i-=(t.clientWidth-e.clientWidth)/2,(0,G.default)(t,{opacity:[1,0],translateX:[0,i],translateY:[0,o],scale:[1,u]},{duration:Y,easing:[.1,.82,.25,1]});var s=(0,b.forbiddenFindDOMNode)(n.caption);s&&(0,G.default)(s,{opacity:[1,0]},{duration:Y})},n.openForwardFlow=function(e){e.stopPropagation();var t=n.props.msg;t.isUnsentMedia?l.default.openModal(u.createElement(f.default,{title:l10n.t(449),onOK:function(){return l.default.closeModal()},okText:l10n.t(1287)},l10n.t(446))):l.default.openModal(u.createElement(v.default,{msgs:[(0,L.unproxy)(t)]}),{transition:"modal-flow"})},n.onReplyClick=function(e){n.onClose(),Promise.delay(q).then(function(){var e=(0,L.unproxy)(n.props.msg),t=e.chat;t.composeQuotedMsg=e,l.default.focusChatTextInput(t)})},n.onDeleteClick=function(e){var t=n.props.msg;l.default.openModal(u.createElement(p.default,{chat:t.chat,msgList:[(0,L.unproxy)(t)],deletePrompt:!0,revokePrompt:t.canRevoke()}))},n.onMsgInfoClick=function(e){n.onClose(),Promise.delay(q+250).then(function(){l.default.msgInfoDrawer((0,L.unproxy)(n.props.msg))})},n.onScroll=function(e){Math.abs(e.deltaY)>7&&n.onClose()},n.onImgZoomIn=function(e){var t=n.mediaImage;e&&t&&(n.listenToMouseMove=t.heightOverflow>0||t.widthOverflow>0),n.setState({imgZoomed:e}),n.props.onImgZoomIn(e)},n.onZoomOut=function(e){var t=n.mediaImage;t&&n.state.imgZoomed&&t.onImageClick(e)},n.onMouseMove=function(e){n.handleMouseMove(e.pageX,e.pageY)},n._handleMouseMove=function(e,t){var r=n.mediaImage;if(r){var a=r.image;if(a){var o=(0,b.forbiddenAssertDOMNode)(a);if(o){var i=o.parentNode,u=i.parentNode,s=r.getTranslatePosition(u,e,t),l=s.translateX,c=s.translateY;(0,G.default)(i,"stop"),(0,G.default)(i,{translateX:l,translateY:c,scale:K},{duration:0})}}}},n.onDownloadClick=function(e){e.stopPropagation(),h.default.initDownload((0,L.unproxy)(n.props.msg))},n.onStarClick=function(e){e.stopPropagation();var t=n.props.msg;l.default.sendStarMsgs(t.chat,[(0,L.unproxy)(t)])},n.onUnstarClick=function(e){e.stopPropagation();var t=n.props.msg;l.default.sendUnstarMsgs(t.chat,[(0,L.unproxy)(t)])},n.onGoToMsgClick=function(e){e.stopPropagation(),n.onClose(),l.default.existsDrawerRight(function(e){e&&2===c.default.column&&l.default.closeDrawerRight()});var t=n.props.msg,r=t.chat.getSearchContext((0,L.unproxy)(t));l.default.openChatAt(t.chat,r).then(function(e){e&&l.default.focusChatTextInput(t.chat)})},n.onClose=function(){if(!n.closing){n.closing=!0,(0,x.isFunction)(n.props.onExitAnimation)&&n.props.onExitAnimation();var e=n.props.getZoomNode&&n.props.getZoomNode(n.props.msg.id);if(!e)return n.props.onBack();var t=void 0;if(n.props.mediaData.type===w.default.TYPE.IMAGE&&n.mediaImage?t=n.mediaImage.image:n.props.mediaData.isGif&&n.mediaVideo&&(t=n.mediaVideo.player),!t)return n.props.onBack();var r=(t=(0,b.forbiddenAssertDOMNode)(t)).getBoundingClientRect(),a=e.getBoundingClientRect(),o=a.top-r.top,i=a.left-r.left,u=e.clientWidth/t.clientWidth;o-=(t.clientHeight-e.clientHeight)/2,i-=(t.clientWidth-e.clientWidth)/2,(0,G.default)(t,{translateX:[i,0],translateY:[o,0],scale:[u,1]},{duration:q,easing:[.1,.82,.25,1]}).then(function(){n.props.onBack()});var s=(0,b.forbiddenFindDOMNode)(n.caption);s&&(0,G.default)(s,{opacity:[0,1]},{duration:q,easing:[.1,.82,.25,1]})}},n.handleMouseMove=(0,r.default)(n._handleMouseMove,42),n.zoomed=!1,n.closing=!1,n.listenToMouseMove=!1,n.state={imgZoomed:!1,zoomElement:null},n}return W(t,u.PureComponent),o(t,[{key:"UNSAFE_componentWillMount",value:function(){if(this.props.mediaData.mediaStage===w.default.STAGE.RESOLVED&&this.props.zoomIn&&this.props.getZoomNode){var e=this.props.getZoomNode(this.props.msg.id);this.setState({zoomElement:e})}}},{key:"componentWillUnmount",value:function(){this.handleMouseMove.cancel()}},{key:"render",value:function(){var e=this.props,t=e.msg,n=e.mediaData,r=void 0;switch(n.type){case w.default.TYPE.IMAGE:r=u.createElement(Z,{msg:t,mediaData:n,key:t.id.toString(),onLoad:this.onImageLoad,onImgZoomIn:this.onImgZoomIn,ref:this.setMediaImage});break;case w.default.TYPE.VIDEO:r=u.createElement(te,{msg:t,mediaData:n,key:t.id.toString(),onLoad:n.isGif?this.onImageLoad:null,startTime:this.props.startTime,onClose:this.onClose,ref:this.setMediaVideo});break;case w.default.TYPE.AUDIO:r=u.createElement(oe,{mediaData:n,key:t.id.toString()});break;default:S.default.assert(!1,"MediaViewerModal: unexpected media type",`type: ${n.type}`)()}var a=void 0;if(t.caption){var o=O.Configuration.TrustedConversation({mentions:t.mentionMap(),links:t.getLinks()}),s=this.props.zoomIn&&(n.isGif||n.type===w.default.TYPE.IMAGE),l=(0,i.default)(A.default.mediaCaption,{[A.default.captionHidden]:s});a=u.createElement(m.default,{className:l,formatters:o,ref:(0,E.GetRef)("caption",this),text:t.caption})}var c=(0,i.default)(A.default.media,{[A.default.mediaWithCaption]:!!a}),f=u.createElement(D.default,{name:"chevron-right",title:l10n.t(842)}),d=(0,i.default)(A.default.btn,A.default.btnMediaNext,{[A.default.disabledBtn]:!this.props.onNext}),p=u.createElement("div",{role:"button",className:d,onClick:this.props.onNext||function(e){return e.stopPropagation()}},f),h=u.createElement(D.default,{name:"chevron-left",title:l10n.t(888)}),b=(0,i.default)(A.default.btn,A.default.btnMediaPrev,{[A.default.disabledBtn]:!this.props.onPrev}),g=u.createElement("div",{role:"button",className:b,onClick:this.props.onPrev||function(e){return e.stopPropagation()}},h),v=(0,i.default)("overlay",A.default.mediaViewer,{[A.default.mediaViewerAnimate]:this.props.zoomIn,[A.default.cursorZoomOut]:this.state.imgZoomed}),y=this.state.imgZoomed?null:this.onScroll,_=this.state.imgZoomed?null:this.onClose,j=this.state.imgZoomed&&this.listenToMouseMove?this.onMouseMove:null,M=this.state.imgZoomed?this.onZoomOut:null;return u.createElement(U.default,{displayName:"MediaViewer",escapable:!0,requestDismiss:this.onClose},u.createElement("div",{className:v,"data-animate-media-viewer":!0,onClick:M,onMouseMove:j},u.createElement(P.default,{msg:t,mediaData:n,onGoToMsgClick:this.onGoToMsgClick,onReplyClick:this.onReplyClick,onUnstarClick:this.onUnstarClick,onStarClick:this.onStarClick,onDeleteClick:this.onDeleteClick,openForwardFlow:this.openForwardFlow,onDownloadClick:this.onDownloadClick,onMsgInfoClick:this.onMsgInfoClick,onClose:this.onClose,isMsgInAlbum:this.props.isMsgInAlbum}),u.createElement("div",{className:A.default.mediaContent,dir:"ltr",onWheel:y,onClick:_},g,u.createElement("div",{className:c},u.createElement(ue,{msg:t,mediaData:n}),r,a),p)))}}]),t}();z.CONCERNS={msg:["id","star","isUnsentMedia","chat","caption"],mediaData:["mediaStage","type","isGif"]},z.displayName="MediaViewerModal",t.default=(0,R.default)(z,z.CONCERNS);var Q=function(e){function t(){var e,n,r;V(this,t);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=r=H(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={zoomIn:null},r.onImageClick=function(e){if(e.stopPropagation(),r.state.zoomIn)r.cancelZoomIn();else{var t=(0,b.forbiddenAssertDOMNode)(r.image);if(t&&t.parentNode&&t.parentNode.parentNode){var n=t.parentNode,a=n.parentNode;r.heightOverflow=n.clientHeight*K-a.clientHeight,r.widthOverflow=n.clientWidth*K-a.clientWidth;var o=r.getTranslatePosition(a,e.pageX,e.pageY),i=o.translateX,u=o.translateY;r.props.onImgZoomIn(!0),r.setState({zoomIn:{factor:K,translateX:i,translateY:u}})}}},r.cancelZoomIn=function(){r.props.onImgZoomIn(!1),r.setState({zoomIn:null})},r.getTranslatePosition=function(e,t,n){var a=window.innerWidth/2-t,o=window.innerHeight/2-n;return{translateX:r.widthOverflow>0?Math.round(1.2*a*r.widthOverflow/e.clientWidth):0,translateY:r.heightOverflow>0?Math.round(1.2*o*r.heightOverflow/e.clientHeight):0}},r._renderBlurredImage=function(){return u.createElement(re,{mediaData:r.props.mediaData})},r._renderImage=function(e){var t=r.state.zoomIn,n=(0,i.default)(A.default.mediaViewerImg,{[A.default.cursorZoomIn]:!t});return u.createElement(j.default,{src:e,ref:(0,E.GetRef)("image",r),onClick:r.onImageClick,style:r.props.style,className:n})},H(r,n)}return W(t,u.PureComponent),o(t,[{key:"componentDidMount",value:function(){this.props.msg&&this.props.msg.downloadMedia(!0,N.default.WEBC_RMR_REASON_CODE.MEDIA_VIEWER)}},{key:"componentWillUnmount",value:function(){this.props.msg&&this.props.msg.mediaObject&&this.props.msg.cancelDownload()}},{key:"render",value:function(){var e=this.props.mediaData;if(e.mediaStage!==w.default.STAGE.RESOLVED)return this._renderBlurredImage();var t={width:e.fullWidth,height:e.fullHeight},n=void 0,r=this.props.msg;if(r){n=u.createElement(T.default,{mediaData:e,placeholderRenderer:this._renderBlurredImage,downloadMedia:function(){return r.downloadMedia(!0,N.default.WEBC_RMR_REASON_CODE.MEDIA_VIEWER)}},this._renderImage)}else n=this._renderImage(e.renderableUrl);return this.state.zoomIn&&(n=u.createElement(U.default,{displayName:"ZoomInImage",ref:(0,E.GetRef)("image",this),escapable:!0,requestDismiss:this.cancelZoomIn},n)),u.createElement(I.default,{type:"zoomIn",size:t,position:"relative",zoomIn:this.state.zoomIn,onObjectLoad:this.props.onLoad},n)}}]),t}();Q.CONCERNS={mediaData:["mediaStage","fullWidth","fullHeight","renderableUrl"]},Q.displayName="MediaImage";var J=(0,R.default)(Q,Q.CONCERNS),Z=t.WrappedMediaImage=function(e){function t(){return V(this,t),H(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return W(t,J),o(t,[{key:"onImageClick",value:function(e){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).onImageClick(e)}},{key:"getTranslatePosition",value:function(e,n,r){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).getTranslatePosition(e,n,r)}},{key:"heightOverflow",get:function(){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).heightOverflow}},{key:"widthOverflow",get:function(){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).widthOverflow}},{key:"image",get:function(){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).image}}]),t}(),X=function(e){function t(){var e,n,r;V(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=H(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={played:!1,size:{width:0,height:0}},r.updateSize=function(){var e=r.props.mediaData;(e.mediaStage===w.default.STAGE.RESOLVED||e.streamable&&e.isStreamable())&&e.fullWidth&&e.fullHeight&&r.setState({size:r.getSize()})},r.stopPropagation=function(e){e.stopPropagation()},r.getSize=function(){var e=r.props.mediaData;if(e.isGif){return e.fullWidth>=330?{width:e.fullWidth,height:e.fullHeight}:{width:330,height:330*e.fullHeight/e.fullWidth}}return e.fullWidth>=g.MIN_WIDTH?{width:e.fullWidth,height:e.fullHeight}:{width:g.MIN_WIDTH,height:e.fullHeight}},H(r,n)}return W(t,u.PureComponent),o(t,[{key:"UNSAFE_componentWillMount",value:function(){this.updateSize()}},{key:"UNSAFE_componentWillReceiveProps",value:function(){this.updateSize()}},{key:"componentDidMount",value:function(){this.props.mediaData.isStreamable()||this.props.msg.downloadMedia(!0,N.default.WEBC_RMR_REASON_CODE.MEDIA_VIEWER)}},{key:"componentWillUnmount",value:function(){this.props.msg.mediaObject&&this.props.msg.cancelDownload()}},{key:"render",value:function(){var e=this.props,t=e.msg,n=e.mediaData,r=n.isGif,a=n.mediaStage===w.default.STAGE.RESOLVED||n.streamable&&n.isStreamable();if(a=a||t.isForcingRMR()){var o=l10n.t(1115),i=void 0;return i=r?u.createElement("div",{className:A.default.mediaViewerImg},u.createElement(F.default,{ref:(0,E.GetRef)("player",this),src:n.renderableUrl,onClick:this.stopPropagation,autoPlay:!0,loop:!0},o)):u.createElement("div",{className:A.default.mediaViewerImg,onClick:this.stopPropagation},u.createElement(k.default,{ref:(0,E.GetRef)("player",this),msg:t,mediaData:n,startTime:this.props.startTime,onClose:this.props.onClose,onError:function(){},autoPlay:!0,type:d.PLAYER_TYPE.MEDIA_VIEWER})),u.createElement(I.default,{type:"scaleDown",position:"relative",objectPosition:"relative",size:this.state.size,onObjectLoad:this.props.onLoad},i)}return u.createElement(re,{mediaData:n})}}]),t}();X.CONCERNS={mediaData:["mediaStage","fullWidth","fullHeight","isGif","preview","renderableUrl","streamable"]},X.defaultProps={startTime:0},X.displayName="MediaVideo";var ee=(0,R.default)(X,X.CONCERNS),te=function(e){function t(){return V(this,t),H(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return W(t,ee),o(t,[{key:"player",get:function(){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).player}}]),t}(),ne=function(e){function t(){var e,n,r;V(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=H(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.stopPropagation=function(e){e.stopPropagation()},H(r,n)}return W(t,u.PureComponent),o(t,[{key:"render",value:function(){var e=this.props.mediaData,t=e.preview&&e.preview.url(),n=(0,_.aspectRatioScaled)(e.aspectRatio,500);return u.createElement("div",{className:A.default.mediaViewerBlurCrop,style:n,onClick:this.stopPropagation},u.createElement("img",{className:A.default.mediaViewerBlurImg,src:t}))}}]),t}();ne.CONCERNS={mediaData:["preview","aspectRatio"]},ne.displayName="BlurredImageClass";var re=(0,R.default)(ne,ne.CONCERNS),ae=function(e){function t(){var e,n,r;V(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=H(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.stopPropagation=function(e){e.stopPropagation()},r._renderAudioTag=function(e){return u.createElement(s.default,{url:e,className:A.default.mediaViewerAudio,onClick:r.stopPropagation,autoPlay:!0,controls:!0},l10n.t(193))},r._renderPlaceholder=function(){return u.createElement("div",{className:A.default.imageAudio,onClick:r.stopPropagation})},H(r,n)}return W(t,u.PureComponent),o(t,[{key:"render",value:function(){var e=this.props.mediaData;return y.default.supportsFeature(y.default.F.MEDIA_CACHE_AUDIO)?u.createElement(T.default,{mediaData:e,placeholderRenderer:this._renderPlaceholder},this._renderAudioTag):e.mediaStage===w.default.STAGE.RESOLVED?this._renderAudioTag(e.renderableUrl):this._renderPlaceholder()}}]),t}();ae.CONCERNS={mediaData:["mediaStage","renderableUrl"]},ae.displayName="MediaAudioClass";var oe=(0,R.default)(ae,ae.CONCERNS),ie=function(e){function t(){var e,n,r;V(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=H(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.onUnsupportedDownloadClick=function(e){e.stopPropagation(),l.default.openModal(u.createElement(C.default,{msg:(0,L.unproxy)(r.props.msg)}))},r.downloadMedia=function(e){e.stopPropagation(),r.props.msg.downloadMedia(!0,N.default.WEBC_RMR_REASON_CODE.MEDIA_VIEWER)},r.stopPropagation=function(e){e.stopPropagation()},H(r,n)}return W(t,u.PureComponent),o(t,[{key:"render",value:function(){var e=this.props.mediaData,t=null;if(this.props.mediaData.streamable&&this.props.mediaData.isStreamable())return null;switch(e.mediaStage){case w.default.STAGE.RESOLVED:case w.default.STAGE.ERROR_MISSING:return null;case w.default.STAGE.ERROR_UNSUPPORTED:return t=this.onUnsupportedDownloadClick,u.createElement(M.Download,{filesize:e.size,onClick:t});case w.default.STAGE.NEED_POKE:return t=this.downloadMedia,u.createElement(M.Download,{filesize:e.size,onClick:t});default:return t=this.stopPropagation,u.createElement("div",{onClick:t},u.createElement(M.Pending,null))}}}]),t}();ie.CONCERNS={mediaData:["mediaStage","size","streamable"]},ie.displayName="MediaStageClass";var ue=t.MediaStage=(0,R.default)(ie,ie.CONCERNS)},dcfafchbae:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=E(n("cfjdfebffb")),a=E(n("fiaeffdce")),o=E(n("dhgeffcgbg")),i=E(n("ggaecchcd")),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=E(n("ceffhbhahb")),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),c=E(n("djegeegcbf")),f=E(n("dicggaeied")),d=E(n("bheebijggd")),p=E(n("dhfbfehaef")),h=E(n("bebecagjgj")),m=E(n("ecdffdifib")),b=E(n("bjfecgfdgj")),g=E(n("djhfffbdac")),v=n("biijfeijcb"),y=E(v),_=E(n("didfdhbecg"));function E(e){return e&&e.__esModule?e:{default:e}}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var O=15,S=5,w=function(e){function t(){var e,n,u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,l=Array(s),p=0;p<s;p++)l[p]=arguments[p];return n=u=j(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),u._fastScroll=!1,u._scrollFromAnimation=!1,u._scrollFromFocus=!1,u._lastScrollTop=u.props.displayCache.scrollTop,u._lastSectionId=u.props.displayCache.sectionId,u.state={scrolledToTop:0===u.props.displayCache.scrollTop,searchText:"",showSearchInput:u.props.displayCache.showSearchInput},u._handleEmojiFocus=function(e,t){u._scrollFromFocus=!0,u._scrollFromFocusHandlerTimeoutID&&clearTimeout(u._scrollFromFocusHandlerTimeoutID),u._scrollFromFocusHandlerTimeoutID=setTimeout(function(){u._scrollFromFocus=!1},200);var n=t.scrollTop,r=e.getBoundingClientRect().top-t.getBoundingClientRect().top+n,a=r-t.clientHeight+e.clientHeight+2,o=u.state.showSearchInput?r-v.TOTAL_SEARCH_HEIGHT:r-2;t.scrollTop=(0,i.default)(n,a,o)},u._handleListFocusAbove=function(){u._focusSearchAndScrollToTop()},u._handleListScroll=function(e){var t=e-u._lastScrollTop;if(u._lastScrollTop=e,!u._scrollFromFocus&&!u._scrollFromAnimation&&!u._checkScrollTop()){var n=Math.abs(t);u._fastScroll=n>O;var r=t>=0?1:-1,a=0===e;e<v.TOTAL_SEARCH_HEIGHT?u.setState({scrolledToTop:a,showSearchInput:!0}):n<S||(u.state.showSearchInput?1===r&&u.setState({scrolledToTop:a,showSearchInput:!1}):-1===r&&u.setState({scrolledToTop:a,showSearchInput:!0}))}},u._handleListSection=function(e){u._scrollFromAnimation||(u._lastSectionId=e,u.props.onSection(e))},u._handleSearchResultsFocusAbove=function(){u._focusSearchAndScrollToTop()},u._handleSearchChange=function(e,t){u.setState({searchText:e})},u._handleSearchDownKey=function(){if(u.state.searchText){if(!u._refSearchResults)return;u._refSearchResults.focusFirstVisibleEmoji()}else u._refScrollList&&u._refScrollList.focusFirstVisibleEmoji(v.TOTAL_SEARCH_HEIGHT)},u._handleSearchEnterKey=function(){u.state.searchText&&u._refSearchResults&&u._refSearchResults.selectFirstVisibleEmoji()},u._handleShiftTabKey=function(e){if(e.preventDefault(),e.stopPropagation(),u._refSearchInput)return u._refSearchInput.hasFocus()?void u.props.onFocusPrev():u.focusSearchInput()},u._handleTabKey=function(e){if(e.preventDefault(),e.stopPropagation(),u._refSearchInput)return u._refSearchInput.hasFocus()?void u.props.onFocusNext():u.focusSearchInput()},u._setRefSearchInput=function(e){u._refSearchInput=e},u._setRefScrollList=function(e){u._refScrollList=e},u._setRefSearchResults=function(e){u._refSearchResults=e},u._getSectionListDataMemoized=(0,m.default)(function(e){return e.sectionIds.map(function(e){return{sectionId:e,emojiIds:e===d.default.RECENT?(0,r.default)(b.default.map(function(e){var t=c.default.skinToneEmojis[e.id]||e.id;return c.default.getEmojiFromUnicode(t)}).filter(function(e){return e})):c.default.getEmojiListInCategory(e)}})},function(e,t){return e.sectionIds===t.sectionIds||(0,o.default)(e.sectionIds,t.sectionIds)}),u._getSearchResultsDataMemoized=(0,m.default)(function(e){var t=e.searchText;return[{sectionId:d.default.SEARCH_RESULT,emojiIds:(0,f.default)((0,a.default)(t))}]}),j(u,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.PureComponent),u(t,[{key:"componentWillUnmount",value:function(){this.props.onDisplayCache&&this.props.onDisplayCache({scrollTop:this._lastScrollTop,sectionId:this._lastSectionId,showSearchInput:this.state.showSearchInput})}},{key:"focusSearchInput",value:function(e){var t=this;if(!this._refSearchInput)return this._fastScroll=!0,void this.setState({showSearchInput:!0},function(){return t.focusSearchInput(!0)});this._refSearchInput.focus(e)}},{key:"scrollToSection",value:function(e){var t=this;return this._lastSectionId=e,new Promise(function(e){t._fastScroll=!0,t.setState({searchText:"",showSearchInput:!0},e)}).then(function(){t._scrollFromAnimation=!0;var n=t._refScrollList?t._refScrollList.scrollToSection(e,0-v.TOTAL_SEARCH_HEIGHT):Promise.resolve();return n.finally(function(){n===t._animationPromise&&(t._scrollFromAnimation=!1,t._checkScrollTop()||t.state.showSearchInput&&t.setState({scrolledToTop:0===t._lastScrollTop}))}),t._animationPromise=n,n})}},{key:"_checkScrollTop",value:function(){var e=0===this._lastScrollTop;return e&&this.setState({scrolledToTop:e,showSearchInput:!0}),e}},{key:"_focusSearchAndScrollToTop",value:function(){var e=this;this._scrollFromFocus=!0,this._scrollFromFocusHandlerTimeoutID&&clearTimeout(this._scrollFromFocusHandlerTimeoutID),this._scrollFromFocusHandlerTimeoutID=setTimeout(function(){e._scrollFromFocus=!1},200),this.focusSearchInput(),this._refScrollList&&this._refScrollList.scrollToTop()}},{key:"_stopEvent",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"render",value:function(){return l.createElement(p.default,{handlers:{tab:this._handleTabKey,"shift+tab":this._handleShiftTabKey}},l.createElement("div",{className:h.default.bodyContainer},this._renderSearchInput(),this._renderSearchResults(),l.createElement("div",{className:(0,s.default)(h.default.list,{[h.default.hidden]:!!this.state.searchText})},l.createElement(y.default,{data:this._getSectionListData(),width:this.props.width,initialScrollTop:this.props.displayCache.scrollTop,searchInputVisible:this.state.showSearchInput,focusAbove:this._handleListFocusAbove,onEmoji:this.props.onEmoji,onEmojiFocus:this._handleEmojiFocus,onScroll:this._handleListScroll,onSection:this._handleListSection,ref:this._setRefScrollList,showTitles:!0}))))}},{key:"_renderSearchInput",value:function(){var e=null;this.state.showSearchInput&&(e=l.createElement(g.default,{label:l10n.t(976),onChange:this._handleSearchChange,onDownKey:this._handleSearchDownKey,onEnterKey:this._handleSearchEnterKey,ref:this._setRefSearchInput,shadow:!this.state.scrolledToTop,value:this.state.searchText||""}));var t=this._fastScroll?"emoji-search-slide-away-fast":"emoji-search-slide-away";return l.createElement(_.default,{transitionName:t,className:h.default.search},e)}},{key:"_renderSearchResults",value:function(){return this.state.searchText?l.createElement("div",{className:h.default.list},l.createElement(y.default,{data:this._getSearchResultsData(),width:this.props.width,initialScrollTop:0,searchInputVisible:!0,focusAbove:this._handleSearchResultsFocusAbove,onEmoji:this.props.onEmoji,onEmojiFocus:this._handleEmojiFocus,ref:this._setRefSearchResults,showTitles:!1})):null}},{key:"_getSectionListData",value:function(){return this._getSectionListDataMemoized({sectionIds:this.props.sectionIds})}},{key:"_getSearchResultsData",value:function(){var e=(this.state.searchText||"").replace(/^\s+/,"");return this._getSearchResultsDataMemoized({searchText:e})}}]),t}();w.displayName="EmojiPanelContent",t.default=w},dcfghhhajg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=i(n("fffdgbfji")),o=i(n("bcdjifadgi"));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.count,n=a.default.t(1071,{count:a.default.n(t),_plural:t});return r.createElement("div",{className:o.default.msgUnread},r.createElement("span",{className:o.default.msgUnreadBody},n))}},dcggjjdeaj:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=d(n("bbchdeehff")),u=n("bgddggdhc"),s=d(n("bebjeaagc")),l=d(n("bfifafibjc")),c=d(n("bcddhhfhda")),f=d(n("bcifhbgija"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h={duration:300,easing:[.1,.82,.25,1]};var m=function(e,t){return e.map(function(e,n){return[t[n]===e,n]}).filter(function(e){return!a(e,1)[0]}).map(function(e){return a(e,2)[1]})},b=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.containerHeight=0,r.childAnimations=[],r.didCancel=!1,r.unmounting=!1,r.state={children:r.props.children||[]},r.pendingRemoval=[],r.refChildren=new Map,r.setRefChild=function(e,t){t?r.refChildren.set(e,t):r.refChildren.delete(e)},r.setChildRefCache=new c.default(r.setRefChild),r._heightCallbackCache=new Map,p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"componentWillUnmount",value:function(){this.unmounting=!0}},{key:"getHeightChange",value:function(e,t){var n=this;return e.reduce(function(e,r){if(r<t)return e;var a=n.refChildren.get(`${r}`);return a?e+(0,u.forbiddenAssertDOMNode)(a).clientHeight:e},0)}},{key:"animateElement",value:function(e,t,n,r){var a=this;this.childAnimations[e]&&(this.didCancel=!0,this.childAnimations[e].cancel());var o=n>0?[0,n]:[-n,0];return this.childAnimations[e]=(this.childAnimations[e]||Promise.resolve()).then(function(){return(0,f.default)(t,{translateY:o},h)}).delay(100).cancellable().then(function(){return n<0&&(r.includes(e)?t.style.opacity="0":t.style.transform=""),e}).catch(Promise.CancellationError,function(){return(0,f.default)(t,"stop",!0),t.style.transform="",!1}).finally(function(t){if(!a.didCancel)return delete a.childAnimations[e],i.default.setUiBusy(!1,"animation_group"),t;a.didCancel=!1}),this.childAnimations[e]}},{key:"transitionAffected",value:function(e,t){if(!e)return Promise.resolve();for(var n=[],r=e.slice(-1),o=a(r,1)[0],i=0;i<=o;++i){var s=this.refChildren.get(`${i}`);s&&n.push(this.animateElement(i,(0,u.forbiddenAssertDOMNode)(s),(t?1:-1)*this.getHeightChange(e,i),e))}return Promise.all(n).then(function(e){return e.filter(function(e){return!1!==e})})}},{key:"notifyHeightChange",value:function(e,t){e.length&&this.props.onHeightChange&&this.props.onHeightChange((t?1:-1)*this.getHeightChange(e,0))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t,n,r,a=this,o=e.children,u=void 0===o?[]:o,l=(n=this.state.children,m(n,r=u).filter(function(e){return n[e]&&!r[e]}));this.added=function(e,t,n){var r=m(e,t).filter(function(n){return!e[n]&&t[n]}),a=n.filter(function(e){return!!t[e]});return a.length?function(e,t,n){for(var r=[],a=0,o=0;a<e.length||o<t.length;)n(e[a],t[o])?r.push(e[a++]):r.push(t[o++]);return a<e.length?r.concat(e.slice(a)):o<t.length?r.concat(t.slice(o)):r}(r,a,function(e,t){return e<t}):r}(this.state.children,u,this.pendingRemoval);for(var c=0;c<this.added.length;++c)this.busyId=s.default.setBusy(this.busyId),i.default.setUiBusy(!0,"animation_group");if(!l.length)return this.setState({children:u});var f=l.filter(function(e){return!a.pendingRemoval.includes(e)});if(f.length){for(var d=0;d<f.length;++d)this.busyId=s.default.setBusy(this.busyId),i.default.setUiBusy(!0,"animation_group");(t=this.pendingRemoval).push.apply(t,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(f)),this.notifyHeightChange(f,!1),this.transitionAffected(f,!1).then(function(e){a.unmounting||(a.pendingRemoval=a.pendingRemoval.filter(function(e){return!f.includes(e)}),e.length>0&&a.setState({children:u},function(){s.default.decBusy(a.busyId)}))})}}},{key:"componentDidUpdate",value:function(e,t){var n=this;t.children;this.added.length&&(this.notifyHeightChange(this.added,!0),this.transitionAffected(this.added,!0).then(function(){s.default.decBusy(n.busyId)}))}},{key:"componentDidMount",value:function(){var e=this,t=this.state.children.reduce(function(t,n,r){var a=e.refChildren.get(`${r}`);if(!a)return t;var o=(0,u.forbiddenAssertDOMNode)(a);return o.style.transform="translateY(0)",t+o.clientHeight},0);this.props.onHeightChange(t,!0)}},{key:"childHeightCallback",value:function(e){var t=this,n=this._heightCallbackCache.get(e);if(n)return n;var r=this.refChildren.get(`${e}`),a=r?(0,u.forbiddenAssertDOMNode)(r).clientHeight:0,o=function(e){var n=e.height;a&&n&&n!==a?(t.props.onHeightChange(n-a),a=n):a=n};return this._heightCallbackCache.set(e,o),o}},{key:"cloneChild",value:function(e,t){var n=this;if(!e)return e;var r=e.ref?function(r){n.setChildRefCache.getRefSetter(`${t}`)(r),e&&e.ref&&e.ref(r)}:this.setChildRefCache.getRefSetter(`${t}`);return o.cloneElement(e,{ref:r})}},{key:"render",value:function(){var e=this;return this.state.children.map(function(t,n){return o.createElement(l.default,{key:`.${n}`,onResize:e.childHeightCallback(n)},e.cloneChild(t,n))})}}]),t}();b.displayName="AnimationGroup",e.exports=b},dcgheafecg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=0,r=e.next();for(;!r.done;)t(r.value,n,e),r=e.next(),n++}},dcicgjefd:function(e,t){e.exports={container:"_1c8mz"}},dcihijcig:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMetricMediaType=function(e){switch(e){case"audio":return a.MEDIA_TYPE.AUDIO;case"document":return a.MEDIA_TYPE.DOCUMENT;case"gif":return a.MEDIA_TYPE.GIF;case"image":return a.MEDIA_TYPE.PHOTO;case"ppic":return a.MEDIA_TYPE.PROFILE_PIC;case"product":return a.MEDIA_TYPE.PRODUCT_IMAGE;case"ptt":return a.MEDIA_TYPE.PTT;case"sticker":return a.MEDIA_TYPE.STICKER;case"video":return a.MEDIA_TYPE.VIDEO;case"template":return a.MEDIA_TYPE.TEMPLATE;default:throw new Error(`webMediaType is invalid: ${e}`)}},t.getMetricUploadErrorResultType=function(e){if(e instanceof r.MMSUnauthorizedError)return a.MEDIA_UPLOAD_RESULT_TYPE.ERROR_NO_PERMISSIONS;if(e instanceof r.MediaTooLargeError)return a.MEDIA_UPLOAD_RESULT_TYPE.ERROR_BAD_MEDIA;if(e instanceof r.MMSThrottleError)return a.MEDIA_UPLOAD_RESULT_TYPE.ERROR_THROTTLE;if(e instanceof r.HttpStatusCodeError&&e.status>=500)return a.MEDIA_UPLOAD_RESULT_TYPE.ERROR_SERVER;return a.MEDIA_UPLOAD_RESULT_TYPE.ERROR_UNKNOWN};var r=n("fgeddfbg"),a=n("bfbggcdbfb")},dciidighgh:function(e,t){e.exports={container:"_32fST",control:"saez2",label:"_3_4Uv",buttons:"_2KA93",button:"_3v4Q3"}},dcjaajabae:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=c(n("bbchdeehff")),i=c(n("baagejbchg")),u=c(n("biddiiafgd")),s=c(n("fffdgbfji")),l=c(n("ihfccfgdf"));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=void 0;switch(this.props.msg.type){case i.default.MSG_TYPE.VIDEO:this.props.msg.isGif||(e=s.default.t(838))}return a.createElement(u.default,{onOK:function(){o.default.closeModal()},okText:s.default.t(1287)},e)}}]),t}();f.CONCERNS={msg:["type","isGif"]},f.displayName="MediaNeedPokeModal",t.default=(0,l.default)(f,f.CONCERNS)},dcjaicbbhg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("ebjaejiaba"),i=s(n("bhhdeihhhf")),u=s(n("ihfccfgdf"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=void 0;switch(this.props.chat.kind){case o.CHAT_KIND.GROUP:e=this.props.chat.isReadOnly?l10n.t(1187):l10n.t(1194);break;case o.CHAT_KIND.BROADCAST:e=l10n.t(1189);break;case o.CHAT_KIND.CHAT:e=l10n.t(367)}return a.createElement(i.default,{a8n:"mi-delete",action:this.props.onDeleteOrExit,disabled:this.props.disabled},e)}}]),t}();l.CONCERNS={chat:["isReadOnly","kind"]},l.displayName="DeleteMenuItem",t.default=(0,u.default)(l,l.CONCERNS)},dcjbdhhjge:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateLocal=function(e,t){if(a.default.supportsFeature(a.default.F.MODEL_STORAGE))return r.default.merge(e.toString(),t);return Promise.resolve()};var r=o(n("chdahjcdf")),a=o(n("bjbdcigbdi"));function o(e){return e&&e.__esModule?e:{default:e}}},dcjcghaij:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("cjijggjfed"),i=c(o),u=c(n("igbbahaj")),s=c(n("fffdgbfji")),l=c(n("debediheaf"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._handleClick=function(e){r.props.onClick(r.props.sectionId,e)},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e={[u.default.FAVORITES]:s.default.t(484),[u.default.TRENDING]:s.default.t(490),[u.default.HAHA]:s.default.t(485),[u.default.SAD]:s.default.t(488),[u.default.LOVE]:s.default.t(486),[u.default.REACTIONS]:s.default.t(487),[u.default.SPORTS]:s.default.t(489),[u.default.TV]:s.default.t(491)},t=this.props.sectionId,n=e[t];return a.createElement(i.default,{onClick:this.props.onClick,sectionId:this.props.sectionId,selected:this.props.selected,title:n,theme:o.THEMES.MENU},a.createElement(l.default,{sectionId:t,sectionTitle:n}))}}]),t}();d.displayName="GifSectionTab",t.default=d},dcjhajfghf:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=/\r\n/g,o=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hasText=function(){return n.hasType("text/plain")},this.hasType=function(e){return n.types.includes(e)},this.data=t,this.types=t.types?Array.isArray(t.types)?t.types:Object.keys(t.types).map(function(e){return t.types[e]}):[]}return r(e,[{key:"getItems",value:function(){var e=this;if(this.data.items)return Array.prototype.slice.call(this.data.items);var t=this._getFileTypes();return this.types.map(function(n){return{type:n,data:e.data.getData(n),kind:t.includes(n)?"string":"file"}})}},{key:"_getFileTypes",value:function(){return Array.prototype.slice.call(this.data.files).map(function(e){return e.type})}},{key:"getText",value:function(e){return this._getText(e).then(function(e){return e?e.replace(a,"\n"):null})}},{key:"_getText",value:function(e){var t=e||[];0===t.length&&t.push("text/plain");var n=this.data;if(n.getData){var r=void 0;return t.some(function(e){if(n.getData(e))return r=n.getData(e),!0}),Promise.resolve(r)}var a,o,i,u=(a=this.data.items,o=t,i=Array.from(a),o.reduce(function(e,t){var n=i.find(function(e){return e.type===t});return n&&e.push(n),e},[]));return u.length?Promise.all(u.map(function(e){return new Promise(function(t){return e.getAsString(t)})})).then(function(e){return e.find(function(e){return e.length})}):Promise.resolve()}},{key:"getFiles",value:function(){return this.data.items?Array.prototype.slice.call(this.data.items).filter(function(e){return"file"===e.kind}).map(function(e){return e.getAsFile()}).filter(function(e){return!!e}):Array.prototype.slice.call(this.data.files||[])}},{key:"getData",value:function(e){return this.data.getData(e)}},{key:"hasFiles",value:function(){return this.data.items?Array.prototype.slice.call(this.data.items).some(function(e){return"file"===e.kind}):!!Array.prototype.slice.call(this.data.files||[]).length}}]),e}();e.exports=o},ddadaeidcc:function(e,t){e.exports={icon:"_13zxx"}},ddafjfecha:function(e,t){e.exports={recording:"_1pmIt",btnBorder:"_15EcM",isHover:"_4kcXP",btnStateDefault:"_1V2op",btnStateHover:"Qvj1g",pttCounter:"_2NdXo","ptt-indicator":"_20RFk",pttIndicator:"_20RFk",btnBorderIcon:"_3IFEL",btnPtt:"hjJpn",container:"cEdds",active:"dgjLl"}},ddajcjhiai:function(e,t){e.exports={adminBtn:"_1OSSR"}},ddbdaadcgc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("fgeddfbg");Object.defineProperty(t,"AbortError",{enumerable:!0,get:function(){return r.AbortError}}),Object.defineProperty(t,"HttpNetworkError",{enumerable:!0,get:function(){return r.HttpNetworkError}}),Object.defineProperty(t,"HttpStatusCodeError",{enumerable:!0,get:function(){return r.HttpStatusCodeError}}),Object.defineProperty(t,"MediaNotFoundError",{enumerable:!0,get:function(){return r.MediaNotFoundError}}),Object.defineProperty(t,"MediaTooLargeError",{enumerable:!0,get:function(){return r.MediaTooLargeError}}),Object.defineProperty(t,"MediaInvalidError",{enumerable:!0,get:function(){return r.MediaInvalidError}}),Object.defineProperty(t,"MMSUnauthorizedError",{enumerable:!0,get:function(){return r.MMSUnauthorizedError}});var a=n("cajijabhgb");Object.defineProperty(t,"MediaEncryptionError",{enumerable:!0,get:function(){return a.MediaEncryptionError}});var o=n("beifdajhid");Object.defineProperty(t,"NoMediaHostsError",{enumerable:!0,get:function(){return o.NoMediaHostsError}})},ddbdcagdbi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=g(n("hdccjfbbg")),u=g(n("dhigahgdjb")),s=n("cicgeajfge"),l=n("bbhhbdicgc"),c=g(n("dgjddffcfg")),f=g(n("dfjibhjhde")),d=g(n("eceadcicaf")),p=g(n("cbgeijgefb")),h=g(n("dcaibchbg")),m=g(n("fbjjefaic")),b=n("hjbbdjjdf");function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y={HEADER:"HEADER",ROW:"ROW"},_=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return n=a=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.selection=new h.default([],function(e){return e.id}),a.state={searchFilter:void 0},a.onSelect=function(e,t){if(t.type===y.ROW){var n=t.contact;!0===a.props.filter(n)&&a.props.onSelect&&a.props.onSelect(n)}},a.onSearch=a.props.debounce(function(e){a.setState({searchFilter:e})},100),a.renderItem=function(e){var t=a.props,n=t.filter,u=t.onSelect,s=t.onContext,c=t.contextEnabled,f=t.contextMenu,d=t.openContextOnClick,h=t.showNotifyName,m=t.participantCollection,g=t.listenForAdminChange;switch(e.type){case y.HEADER:return o.createElement(p.default,{header:e.header});case y.ROW:var v=(0,b.isString)(n(e.contact)),_=v?"group-modal":null,E=v?n(e.contact):null,j=s&&f?{contextEnabled:c,contextMenu:f(e.contact.id),onContext:s}:{};return o.createElement(i.default,r({contact:e.contact,active:a.selection,theme:_,secondary:E,onClick:d&&s?s:v?void 0:u?function(){u(e.contact)}:function(){},waitIdle:!0,showNotifyName:h,listenForAdminChange:g,participantCollection:m},j));default:throw new l.UnknownDataError(e)}},v(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.contacts||this.props.listeners.add(u.default,"add remove change:name")}},{key:"getData",value:function(){var e=this.props.filter,t=l10n.accentFold(this.state.searchFilter),n=c.default.numberSearch(t),r=(this.props.contacts||u.default).filter(function(r){return e(r)&&(!t||t&&r.searchMatch(t,n))});this.selection.init(r.filter(function(t){return!0===e(t)}));var a=[];if(!r.length)return a;for(var o=void 0,i=void 0,s=r.length>10,l=0;l<r.length;l++)o=r[l],s&&o.header!==i&&a.push({type:y.HEADER,header:o.header,itemKey:`${o.header||""}_${l}`}),a.push({type:y.ROW,contact:o,itemKey:`${o.id.toString()}_${l}`}),i=o.header;return a}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.onCancel;return o.createElement(f.default,{title:t,data:this.getData(),renderItem:this.renderItem,emptyState:o.createElement(s.SearchContacts,null),selection:this.selection,onSearch:this.onSearch,searchPlaceholder:l10n.t(975),onSelect:this.onSelect,onCancel:n})}}]),t}();_.defaultProps={filter:function(e){return u.default.isFilteredContact(e)}},_.displayName="ContactsModal",t.default=(0,d.default)((0,m.default)(_))},ddbddjjgia:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MsgPosition={FRONT:"FRONT",MID:"MID",END:"END",SINGLE:"SINGLE"}},ddcbeeeahg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=u(n("bggjbiacd")),o=n("dbhhbejbcb"),i=u(o);function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.emoji,n=e.selectable,u=e.size;return"xlarge"===u?r.createElement(i.default,{emoji:t,size:o.SIZE.XLARGE,element:"span",selectable:n}):r.createElement(a.default,{emoji:t,selectable:n,size:u})}},ddcbhjdfdg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=n("cchiafiebc"),u=(r=i)&&r.__esModule?r:{default:r};var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),a(t,[{key:"render",value:function(){return o.createElement(u.default,this.props)}}]),t}();s.displayName="PTT",t.default=s},ddcchcchag:function(e,t,n){"use strict";var r=n("dhgjbgdbhg"),a=n("ddjgcfjicj"),o=s(n("ecjehifjdd")),i=s(n("cahfddcdga")),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("dcbbccfgab"));function s(e){return e&&e.__esModule?e:{default:e}}var l={encrypt:function(e){if(!e)throw new Error("Missing ArrayBuffer in cryptoAsync:encrypt");var t=u.get(),n=(0,r.encryptAndMac)((0,i.default)(t.encKey),(0,i.default)(t.macKey),e);return this._encryptQueue.enqueue(n)},decrypt:function(e){if(!e)throw new Error("Missing ArrayBuffer in cryptoAsync:decrypt");var t=u.get(),n=(0,r.macAndDecrypt)((0,i.default)(t.encKey),(0,i.default)(t.macKey),e);return this._decryptQueue.enqueue(n)},dropAllBecauseLogout:function(){var e=new a.LogoutDrop("cancelled binary protocol call");this._encryptQueue.cancelAll(e),this._decryptQueue.cancelAll(e)},_encryptQueue:new o.default,_decryptQueue:new o.default};e.exports=l},ddcfhecgai:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LabelItemCollection=void 0;var r=o(n("cgcgbfbffj")),a=o(n("eaejieeafc"));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.LabelItemCollection=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),t}();i.model=a.default,t.default=i},ddchcbhaia:function(e,t,n){"use strict";var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=s(n("bbchdeehff")),o=s(n("dcjaicbbhg")),i=s(n("bhhdeihhhf")),u=s(n("dhhcghbjeb"));function s(e){return e&&e.__esModule?e:{default:e}}e.exports={group:function(e,t){var n=[];return n.push(r.createElement(i.default,{key:"info",a8n:"mi-group-info",action:function(){return a.default.chatInfoDrawer(e)}},l10n.t(1217))),n.push(r.createElement(i.default,{a8n:"mi-select-messages",key:"select",action:t},l10n.t(1351))),e.mute.canMute()&&n.push(r.createElement(u.default,{key:"mute",onMute:function(t){return a.default.muteChat(e,t)},mute:e.mute})),n.push(r.createElement(i.default,{key:"clear",a8n:"mi-clear",action:function(){return a.default.clearChatMsgs(e)}},l10n.t(306))),n.push(r.createElement(o.default,{key:"delete",onDeleteOrExit:function(){return a.default.deleteOrExitChat(e)},chat:e})),n},broadcast:function(e,t){var n=[];return n.push(r.createElement(i.default,{key:"info",a8n:"mi-broadcast-info",action:function(){return a.default.chatInfoDrawer(e)}},l10n.t(1259))),n.push(r.createElement(i.default,{a8n:"mi-select-messages",key:"select",action:t},l10n.t(1351))),n.push(r.createElement(i.default,{key:"clear",a8n:"mi-clear",action:function(){return a.default.clearChatMsgs(e)}},l10n.t(306))),n.push(r.createElement(o.default,{key:"delete",onDeleteOrExit:function(){return a.default.deleteOrExitChat(e)},chat:e})),n}}},ddchejfidi:function(e,t){e.exports={item:"_3cfBY",text:"_3BqnP",hover:"_3VXiW",action:"Sl-9e",compact:"_3_4Kp",icon:"_3mQ-P",emoji:"_1sHYl",ellipsify:"_3zy-4",disabled:"_3rvh2",shortcut:"_2yhpw"}},dddjddjahc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.THUMB_RADIUS_FULLSCREEN=t.THUMB_RADIUS_WINDOW=void 0;var r=f(n("bbebbadde")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=f(n("ceffhbhahb")),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=f(n("cfadcbbiie")),s=f(n("bfdcadbbif")),l=f(n("bcjcbbafcj")),c=f(n("cdhichafeb"));function f(e){return e&&e.__esModule?e:{default:e}}var d=t.THUMB_RADIUS_WINDOW=parseFloat(c.default["-thumb-radius-window"].replace(/px$/,"")),p=t.THUMB_RADIUS_FULLSCREEN=parseFloat(c.default["-thumb-radius-fullscreen"].replace(/px$/,"")),h=.25,m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handlePause=function(){n.props.onPause()},n.handlePlay=function(){n.props.onPlay()},n.isVideoPlayingBeforeDrag=null,n.handleProgressChange=function(e){var t=parseFloat(e.target.value);n.props.onProgressChange(t);var r=Math.abs(n.state.bufferedTime-n.props.duration)<.1?n.state.bufferedTime:0;n.setState({progress:t,bufferedTime:r})},n.handleProgressMouseUp=function(e){n.setState({isDraggingProgress:!1}),null!=n.isVideoPlayingBeforeDrag&&(n.isVideoPlayingBeforeDrag&&n.handlePlay(),n.isVideoPlayingBeforeDrag=null)},n.handleProgressMouseDown=function(e){n.setState({isDraggingProgress:!0}),n.isVideoPlayingBeforeDrag=n.props.isVideoPlaying,n.isVideoPlayingBeforeDrag&&n.handlePause()},n.handleVolumeValueChange=function(e){var t=parseFloat(e.target.value);n.props.onVolumeValueChange(t),n.setState({volume:t})},n.handleMute=function(){n.props.onMutedValueChange(!0),n.setState({muted:!0})},n.handleUnmute=function(){n.props.onMutedValueChange(!1),n.setState({muted:!1})},n.stopEventPropagation=function(e){e.stopPropagation()},n.renderTooltip=function(){var e=n.state.mouseOverProgressRatio;if(void 0===e)return i.createElement("div",{className:c.default.tooltipWrapper});var t=u.default.durationStr(e*n.props.duration),r=100*e+"%";return i.createElement("div",{className:c.default.tooltipWrapper,style:{left:r}},i.createElement("div",{className:(0,o.default)(c.default.tooltipTextBoxGeneral,c.default.tooltipTextBoxPosAndSize)},t),i.createElement("div",{className:(0,o.default)(c.default.tooltipTailGeneral,c.default.tooltipTailPosAndSize)}))},n.renderVolume=function(){var e=void 0;e=n.state.muted||0===n.state.volume?i.createElement(s.default,{name:"video-volume-muted",display:"inline",onClick:function(e){n.handleUnmute(),0===n.props.volume&&n.props.onVolumeValueChange(h)}}):n.state.volume<.5?i.createElement(s.default,{name:"video-volume-1",display:"inline",onClick:n.handleMute}):n.state.volume>=.5&&n.state.volume<1?i.createElement(s.default,{name:"video-volume-2",display:"inline",onClick:n.handleMute}):i.createElement(s.default,{name:"video-volume",display:"inline",onClick:n.handleMute});var t={width:100*n.state.volume+"%"},r=n.state.isMouseOverVolumeControl&&!n.state.muted,a=r?i.createElement("div",{className:c.default.volumeBarContainer},i.createElement("div",{className:(0,o.default)(c.default.volumeLowerTrack,{[c.default.lowerTrackLongest]:1===n.state.volume,[c.default.firefoxFix]:l.default.isGecko}),style:t}),i.createElement("input",{className:c.default.volumeBar,dir:"ltr",onChange:n.handleVolumeValueChange,type:"range",min:"0",max:1,step:"any",value:n.state.volume})):i.createElement("div",{className:c.default.volumeBarContainer});return i.createElement("div",{className:(0,o.default)(c.default.volumeContainer,{[c.default.volumePadding]:r}),onClick:n.stopEventPropagation,onMouseEnter:function(e){n.setState({isMouseOverVolumeControl:!0})},onMouseLeave:function(e){n.setState({isMouseOverVolumeControl:!1}),0!==n.props.volume||n.state.muted||n.handleMute()},onMouseDown:n.stopEventPropagation},e,a)},n.renderProgress=function(){var e=n.state.progress/n.props.duration;e>1&&(e=1);var t=100*e+"%",a={width:t},u=n.state.bufferedTime/n.props.duration;u>1&&(u=1);var s={width:100*u+"%"},l={left:t};return i.createElement("div",{className:(0,o.default)(c.default.progressBarContainer),onClick:n.stopEventPropagation,onMouseDown:n.stopEventPropagation,onMouseEnter:function(e){n.setState({isMouseOverProgressBar:!0})},onMouseLeave:function(e){n.setState({isMouseOverProgressBar:!1,mouseOverProgressRatio:void 0})},onMouseMove:function(e){var t=n.props.isFullscreenMode?p:d,r=e.currentTarget.getBoundingClientRect().left,a=e.pageX,o=a-r-t,i=e.currentTarget.offsetWidth-2*t,u=(a-r-t)/i,s=i*(n.state.progress/n.props.duration),l=Math.abs(o-s)<=t;u<0?u=l?0:void 0:u>1&&(u=l?1:void 0),n.setState({mouseOverProgressRatio:u})}},i.createElement("input",{className:c.default.hiddenProgressBar,dir:"ltr",onChange:n.handleProgressChange,onMouseDown:n.handleProgressMouseDown,onMouseUp:n.handleProgressMouseUp,type:"range",min:"0",max:(0,r.default)(n.props.duration,2),step:"any",value:n.state.progress}),i.createElement("div",{className:c.default.displayedProgressBar},i.createElement("div",{className:c.default.displayedTrack}),i.createElement("div",{className:(0,o.default)(c.default.displayedBuffer,{[c.default.lowerTrackLongest]:1===u}),style:s}),i.createElement("div",{className:(0,o.default)(c.default.displayedProgress,{[c.default.lowerTrackLongest]:1===e}),style:a}),i.createElement("div",{className:(0,o.default)(c.default.thumb,{[c.default.hideThumb]:!n.state.isMouseOverProgressBar}),style:l}),n.renderTooltip()))},n.state={progress:n.props.progress,volume:n.props.volume,muted:n.props.muted,bufferedTime:n.props.bufferedTime,isMouseOverVolumeControl:!1,isMouseOverProgressBar:!1,mouseOverProgressRatio:void 0,isDraggingProgress:!1,prevPropProgress:n.props.progress,prevPropVolume:n.props.volume,prevPropMuted:n.props.muted,prevPropBufferedTime:n.props.bufferedTime},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.PureComponent),a(t,[{key:"componentDidMount",value:function(){0!==this.props.volume||this.props.muted||this.handleMute()}},{key:"render",value:function(){var e=this.props.isFullscreenMode,t=e?i.createElement("div",{className:(0,o.default)(c.default.timeText,c.default.currentTime),onClick:this.stopEventPropagation},u.default.durationStr(this.state.progress)):null,n=e?i.createElement("div",{className:(0,o.default)(c.default.timeText,c.default.duration),onClick:this.stopEventPropagation},u.default.durationStr(this.props.duration)):null,r=this.props.className?this.props.className:c.default.controls;return i.createElement("div",{className:(0,o.default)(r,{[c.default.fullscreen]:e})},i.createElement("div",{className:c.default.playpauseBtnContainer,onClick:this.stopEventPropagation,onMouseDown:this.stopEventPropagation,onMouseUp:this.stopEventPropagation},i.createElement(s.default,{name:this.props.isVideoPlaying?"video-pause":"video-play",display:"inline",onClick:this.props.isVideoPlaying?this.handlePause:this.handlePlay})),this.renderProgress(),this.renderVolume(),t,n)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n={};return t.prevPropProgress===e.progress||t.isDraggingProgress||(n.progress=e.progress,n.prevPropProgress=e.progress),t.prevPropVolume!==e.volume&&(n.volume=e.volume,n.prevPropVolume=e.volume),t.prevPropMuted!==e.muted&&(n.muted=e.muted,n.prevPropMuted=e.muted),t.prevPropBufferedTime!==e.bufferedTime&&(n.bufferedTime=e.bufferedTime,n.prevPropBufferedTime=e.bufferedTime),n}}]),t}();m.displayName="VideoControls",t.default=m},dddjjdbfga:function(e,t,n){"use strict";var r={labelsDisplay:n("bjhbahjgdi"),groupsV3:n("bjjegiiahd"),groupsV3Create:n("cdhdchfidf"),changeNumberV2:n("cjaiehadfe"),queryStatusV3Thumbnail:n("djhbejhbda"),queryVname:n("dgfcjhijbf"),voipIndividualIncoming:n("jijhjeei"),quickRepliesQuery:n("cdjfcjheca"),payments:n("cjijcbcfhd"),stickerPackQuery:n("ecidgeifdi"),labelsEdit:n("cgbbacefei"),mediaUpload:n("bcbeebghff"),videoPlaybackUrl:n("dhjaadicdd"),statusRanking:n("jciegiifi"),recentStickers:n("cdffadcgjg"),starredStickers:n("bafbadjdec"),groupsV4JoinPermission:n("bbgehjjjbb"),ephemeralMessages:n("ccafbdigcj")};e.exports=r},ddeghajfaj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("dcaifjegcg"),i=(r=o)&&r.__esModule?r:{default:r};function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.id=(0,o.prop)(),r.shortcut=(0,o.prop)(),r.message=(0,o.prop)(),r.count=(0,o.prop)(),r.keywords=(0,o.prop)(),r.pendingCount=(0,o.session)(0),r.totalCount=(0,o.derived)(r._totalCount,["count","pendingCount"]),u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"_totalCount",value:function(){return this.count+this.pendingCount}},{key:"useOnce",value:function(){this.pendingCount+=1,this.getCollection().periodicFlush()}},{key:"getCollection",value:function(){return n("bechejbabh").default}}]),t}();s.Proxy="quickReply",t.default=(0,o.defineModel)(s)},ddeihcgfbg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function a(e,t){return e.msMatchesSelector?e.msMatchesSelector(t):e.webkitMatchesSelector?e.webkitMatchesSelector(t):e.matches(t)}function o(e,t){for(var n=0;n<t.length;++n){var o=t[n].serializers;if(o)for(var i=0;i<o.length;++i){var u=r(o[i],2),s=u[0],l=u[1];if(a(e,s))return l}}return null}t.default=function(e,t){var n=[],r=e.cloneNode(!0).firstChild;for(;r;){switch(r.nodeType){case 1:var a=o(r,t);if(a){n.push(a(r));break}switch(r.tagName){case"P":case"BR":case"PRE":n.push("\n");break;case"DIV":r.firstChild&&3!==r.firstChild.nodeType||n.push("\n")}break;case 3:n.push(r.nodeValue)}if(r.hasChildNodes())r=r.firstChild;else{for(;r&&!r.nextSibling;)if((r=r.parentNode)===e){r=null;break}r&&(r=r.nextSibling)}}return n.join("")}},ddfbaajaeh:function(e,t){e.exports={checkboxChatWrapper:"_3WtUH",checkboxChatControl:"p9kzm",labelSelection:"_1Ao9U"}},ddffjbhaib:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=j(n("dbjacfjdhg")),i=j(n("dbifaacaac")),u=n("ebjaejiaba"),s=j(n("ffebdchi")),l=j(n("bbchdeehff")),c=j(n("jeadbebac")),f=j(n("eaehccahdc")),d=j(n("jheedhagg")),p=j(n("dfgbhedcf")),h=j(n("eceadcicaf")),m=n("cafajifcca"),b=j(n("eiiicijcj")),g=j(n("ebibecaibi")),v=j(n("biecbbiiee")),y=j(n("cahfddcdga")),_=j(n("ebbfdafeec")),E=j(n("jjgaeci"));function j(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var S=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var d=arguments.length,h=Array(d),j=0;j<d;j++)h[j]=arguments[j];return n=r=O(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(h))),r.onAttachProduct=function(e){var t=e.chat,n=e.file,i=e.fileOrigin,u=e.product,s=e.catalogWid,c=(0,y.default)(new o.default);n&&c.processFiles([n],t,i),l.default.openModal(a.createElement(E.default,{mediaCollection:c,product:u,catalogWid:s,chat:t,fileOrigin:i}),{transition:"modal-flow",uim:r.props.uim})},r.onProductImageViewer=function(e,t){l.default.openModalMedia(a.createElement(_.default,{activeProductImage:e.activeProductImage,productImageCollection:e.productImageCollection,getZoomNode:e.getZoomNode,product:e.product,sessionId:t}),{transition:"media-viewer",uim:r.props.uim})},r.onChatInfoDrawer=function(e,t){l.default.openDrawerRight(a.createElement(p.default,{chat:e,key:`info-${e.id.toString()}`,showFullGroupDescription:t}),"slide-left",r.props.uim)},r.onLiveLocationDrawer=function(e,t){e.liveLocation&&e.liveLocation.active||l.default.openDrawerRight(a.createElement(m.LiveLocationDrawerLoadable,{chat:e,openFrom:t,isFirstLevel:!0}),"slide-left",r.props.uim)},r.onExpiredLocationDrawer=function(e){l.default.openDrawerRight(a.createElement(m.ExpiredLocationDrawerLoadable,{msg:e}),"slide-left",r.props.uim)},r.onMsgInfoDrawer=function(e){e.chat.kind===u.CHAT_KIND.CHAT?l.default.openDrawerRight(a.createElement(c.default,{msg:e}),"slide-left",r.props.uim):l.default.openDrawerRight(a.createElement(f.default,{msg:e}),"slide-left",r.props.uim)},r.onAttachMediaDrawer=function(e){var t=e.chat,n=e.files,u=e.animationName,s=e.initCaption,c=e.onComplete,f=e.fileOrigin;l.default.existsDrawerMid(function(e){if(!e){t.composeAttachMediaContents||t.setComposeAttachMediaContents(new o.default);var d=(0,y.default)(t.composeAttachMediaContents),p={noFocus:!0,onEnterAnimationComplete:function(){n&&d.processFiles(n,t,f)}};l.default.openDrawerMid(a.createElement(i.default,{chat:t,files:n,onComplete:c,initCaption:s,mediaCollection:d}),u||"slide-up",r.props.uim,p)}})},r.onChatSearch=function(e){l.default.openDrawerRight(a.createElement(s.default,{chat:e}),"slide-left",r.props.uim)},r.onMediaViewer=function(e){var t=e.msg,n=e.getZoomNode,o=e.currentTime,i=e.highlightedMsgIds;v.default.get(t.id)?l.default.openModalMedia(a.createElement(g.default,{msg:t,startTime:o,getZoomNode:n,highlightedMsgIds:i}),{transition:"media-viewer",uim:r.props.uim}):l.default.openModal(a.createElement(b.default,{msg:t}))},O(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props.listeners;e.add(l.default,"chat_info_drawer",this.onChatInfoDrawer),e.add(l.default,"msg_info_drawer",this.onMsgInfoDrawer),e.add(l.default,"chat_search",this.onChatSearch),e.add(l.default,"attach_media_drawer",this.onAttachMediaDrawer),e.add(l.default,"live_location_drawer",this.onLiveLocationDrawer),e.add(l.default,"media_viewer_modal",this.onMediaViewer),e.add(l.default,"expired_location_drawer",this.onExpiredLocationDrawer),e.add(l.default,"product_image_viewer_modal",this.onProductImageViewer),e.add(l.default,"attach_product",this.onAttachProduct)}},{key:"render",value:function(){return null}}]),t}();S.displayName="ChatActionListener",t.default=(0,d.default)((0,h.default)(S))},ddfgdjiacb:function(e,t,n){"use strict";e.exports={singleByte:["vname","old_jid","new_jid","announcement","locked","prop","label","color","call","offer","call-id"]}},ddfihebbjf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("cjieghfgda")),i=s(n("bffjfbgbg")),u=s(n("ihfccfgdf"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){function t(e){l(this,t);var n=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.refreshBlob=function(){var e=n.blob;if(!e)throw new Error("Cannot call refreshBlob when the blob does not exist.");var t=new Blob([e],{type:e.type}),r=window.URL.createObjectURL(t);n.state.url&&window.URL.revokeObjectURL(n.state.url),n.setState({url:r})};var r=e.mediaData.filehash,a=o.default.has(r);!a&&e.mediaData.mediaStage===i.default.STAGE.RESOLVED&&e.downloadMedia&&e.downloadMedia();var u=a?n.createURL(r):null;return n.state={url:u},n}return f(t,a.Component),r(t,[{key:"componentDidUpdate",value:function(){var e=this.props.mediaData.filehash;o.default.has(e)&&!this.state.url&&this.setState({url:this.createURL(e)})}},{key:"componentWillUnmount",value:function(){this.state.url&&this.revokeURL(this.state.url)}},{key:"createURL",value:function(e){var t=o.default.get(e);if(!t)throw new Error("Cannot call createURL when the blob does not exist.");this.blob=t;var n=new Blob([t],{type:t.type});return window.URL.createObjectURL(n)}},{key:"revokeURL",value:function(e){window.URL.revokeObjectURL(e)}},{key:"render",value:function(){return this.state.url?this.props.children(this.state.url):this.props.placeholderRenderer()}}]),t}();d.CONCERNS={mediaData:["filehash","mediaStage"]},d.displayName="AnimatedStickerUrlProvider";var p=(0,u.default)(d,d.CONCERNS),h=function(e){function t(){var e,n,r;l(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.refreshBlob=function(){r.getComponent().refreshBlob()},c(r,n)}return f(t,p),t}();t.default=h},ddgbhifaji:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediaPrep=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.canSendType=D,t.downloadMsg=function(e,t,n,r){if(e.mediaObject){var a=e.mediaObject.getPendingProcess("fromDisk");return a.then(function(){return m.downloadMedia({mimetype:e.mimetype,object:e.mediaObject,downloadEvenIfExpensive:t,mediaType:(0,E.msgToMediaType)({type:e.type,isGif:e.isGif,subtype:e.subtype}),rmrReason:n,rmrData:r})})}return p.default.assert(!1,"media-fault: downloadMsg msg without mediaObject",`id: ${e.id.toString()} type: ${e.type}`)(e),Promise.resolve()},t.cancelDownloadMsg=function(e){e.mediaObject?m.cancelDownloadMedia(e.mediaObject):p.default.assert(e.mediaObject,"media-fault: cancelDownloadMsg msg without mediaObject",`id: ${e.id.toString()} type: ${e.type}`)(e)},t.prepRawMedia=function(e,t){p.default.info("Prepping raw media")(e,t);var n=void 0;n=t.isPtt?_.OUTWARD_TYPES.PTT:t.asDocument?_.OUTWARD_TYPES.DOCUMENT:t.asGif?_.OUTWARD_TYPES.VIDEO:t.isAudio?_.OUTWARD_TYPES.AUDIO:_.OUTWARD_TYPES.UNKNOWN;var r=Promise.resolve(e).then(function(e){return e.autoreleaseWhenPromiseCompletes(r),h.processRawMedia(e,t)});return new L(n,r)},t.forwardMediaMsg=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];p.default.info("Prepping media msg")(e);var r=e.mediaObject;if(!r)return p.default.assert(!1,"media-fault: forwardMediaMsg msg without mediaObject",`id: ${e.id.toString()} type: ${e.type}`)(e),Promise.reject("non initialized media");var a=e.mediaData.toJSON();a.preview&&(a.preview=r.contentInfo._preview);a.mediaBlob&&a.mediaBlob.retain();var o=a.isGif?{isGif:!0}:{};a.type===_.OUTWARD_TYPES.PTT&&(a.type=_.OUTWARD_TYPES.AUDIO);var i={businessOwnerJid:e.businessOwnerJid,productId:e.productId,currencyCode:e.currencyCode,priceAmount1000:e.priceAmount1000,retailerId:e.retailerId,url:e.url,productImageCount:e.productImageCount,title:e.title,description:e.description};return new L(a.type,Promise.resolve(a)).sendToChat(t,{caption:a.type===_.OUTWARD_TYPES.DOCUMENT?e.caption:void 0,addEvenWhilePreparing:!0,placeholderProps:o,isForwarded:e.isForwarded||!e.isSentByMe,forwardingScore:e.getForwardingScoreWhenForwarded(),multicast:n,productMsgOptions:i})},t.cancelUploadMsg=function(e){e.mediaObject?h.cancelUploadMedia(e.mediaObject):p.default.assert(!1,"media-fault: cancelUploadMsg msg without mediaObject",`id: ${e.id.toString()} type: ${e.type}`)(e)},t.resumeUploadMsg=function(e){var t=e.mediaObject;if(!t)return void p.default.assert(!1,"media-fault: resumeUploadMsg msg without mediaObject",`id: ${e.id.toString()} type: ${e.type}`)(e);t.userAttemptCount++;var n=h.uploadMedia(e.mimetype,t,(0,E.msgToMediaType)({type:e.type,isGif:e.isGif})).then(function(n){if(!n)throw new Error("upload failed: media entry was not created");t.userAttemptCount=0;var r={clientUrl:n.mmsUrl,directPath:n.directPath,mediaKey:n.mediaKey,mediaKeyTimestamp:n.mediaKeyTimestamp,filehash:t.filehash,uploadhash:n.uploadHash,size:t.size,streamingSidecar:n.sidecar,firstFrameSidecar:n.firstFrameSidecar};return $(e,r).then(function(){return e})});(0,C.sendMsgToChat)(e.chat,n).catch(function(){e.ack=-1})},t.mediaMetadata=function(e){var t=e.mediaObject;if(!t)throw p.default.assert(!1,"media-fault: mediaMetadata msg without mediaObject",`id: ${e.id.toString()} type: ${e.type}`)(e),new Error("msg.mediaMetadata with no mediaObject");var n=t.entries.getEntryFromUrl(e.clientUrl);if(!n)throw p.default.assert(!1,"media-fault: mediaMetadata no entry",`id: ${e.id.toString()} type: ${e.type}`)(e),new Error("msg.mediaMetadata with entry mismatch");var r=e.mediaData;return{url:n.mmsUrl,directPath:n.directPath,encFilehash:n.uploadHash,mediaKey:n.mediaKey,mediaKeyTimestamp:n.mediaKeyTimestamp,filehash:e.filehash,type:r.type,mimetype:r.mimetype,filename:r.filename,duration:r.duration,width:r.fullWidth,height:r.fullHeight,firstFrameLength:r.firstFrameLength,isAnimated:r.isAnimated}},t.videoStreamingInfo=function(e){var t=e.mediaObject;return t?t.videoStreamingInfo(e.id.toString()):null},t.manuallySetMedia=function(e,t,n){var r=e.mediaObject;if(!r)return;P.default.createFromData(t,e.mimetype).then(function(t){m.manuallySetMedia(e.mimetype,r,t,(0,E.msgToMediaType)({type:e.type,isGif:e.isGif}),n)})},t.clearMediaForChat=function(e){y.clearMediaForChat(e)},t.prepareMsg=function(e){var t=e.mediaObject;if(t)return t.resolveWhenConsolidated();var n=e.mediaData,r=n.preview;return!r||void 0!==n.aspectRatio||void 0!==n.fullWidth&&void 0!==n.fullHeight?Promise.resolve():(0,O.getImageWidthHeight)(r).then(function(t){var n=t.width,r=t.height;e.mediaObject||e.mediaData.set({aspectRatio:n/r})})},t.registerMsgEarly=function(e,t){p.default.assert(!e.isUnsentPhoneMsg(),"media-fault: registerMsgEarly msg without mediaObject",`id: ${e.id.toString()} type: ${e.type}`)(e);for(var n={},r=0;r<_.MEDIA_MSG_PROPS.length;r++){var a=_.MEDIA_MSG_PROPS[r],o=t[a];n[a]=void 0!==o?o:e[a]}n.mimetype||n.type!==_.OUTWARD_TYPES.IMAGE||(t.mimetype=n.mimetype="image/jpeg");e.on(R,x),G(e,n,S.default.WEBC_RMR_REASON_CODE.MSG_UPDATE);for(var i={},u=0;u<_.MSG_SPECIFIC_FIELDS.length;u++){var s=_.MSG_SPECIFIC_FIELDS[u];i[s]=n[_.MEDIA_TO_MSG[s]]}e.mediaData.set(i)},t.registerMsg=function(e){e.mimetype||e.type!==_.OUTWARD_TYPES.IMAGE||(e.mimetype="image/jpeg");e.mimetype||e.type!==_.OUTWARD_TYPES.STICKER||(e.mimetype="image/webp");e.on(R,x),U(e,S.default.WEBC_RMR_REASON_CODE.MSG_INIT)},t.deregisterMsg=function(e){e.off(null,x);var t=e.mediaObject;t&&y.disassociateMediaFromMsg(t,e);e.mediaData&&e.mediaData.filehash&&(0,O.shouldUseLruMediaStore)((0,E.msgToMediaType)({type:e.type,isGif:e.isGif||!1,subtype:e.subtype}))&&A.default.del(e.mediaData.filehash)},t.registerSticker=function(e){V(e,e.mediaObject||function(e){if(!e.filehash)return void p.default.assert(!1,"sticker-filehash-error","Unexpected sticker with no filehash")(e);var t=y.getOrCreateMediaObject(e.filehash);return y.associateMediaWithSticker(t,e),t}(e),j.default.STICKER)},t.registerStickerPackIcon=function(e){V(e,e.mediaObject||function(e){if(!e.filehash)return void p.default.assert(!1,"sticker-pack-filehash-error","Unexpected sticker pack with no filehash")(e);var t=y.getOrCreateMediaObject(e.filehash);return y.associateMediaWithStickerPack(t,e),t}(e),j.default.IMAGE)},t.downloadStickerOrStickerPackIcon=function(e,t){if(e.isPlaceholder)return e.mediaData.mediaStage=g.default.STAGE.PREPARING,Promise.resolve();var n=e.mediaObject;if(n){if(n.downloadStage===_.DOWNLOAD_STAGE.RESOLVED)return Promise.resolve();var r=n.getPendingProcess("fromDisk"),a="STICKER"===t?S.default.WEBC_RMR_REASON_CODE.STICKER_PANEL_STICKER:S.default.WEBC_RMR_REASON_CODE.STICKER_PANEL_ICON;return e.clientUrl&&e.filehash&&e.mediaKey&&e.uploadhash?r.then(function(){return m.downloadMedia({mimetype:e.mimetype,object:e.mediaObject,downloadEvenIfExpensive:!0,mediaType:(0,E.msgToMediaType)({type:e.type,isGif:!1}),rmrReason:a})}):r.then(function(){return c.default.rmr({object:n,signal:(new i.default).signal,rmrReason:a})}).then(function(){return m.downloadMedia({mimetype:e.mimetype,object:e.mediaObject,downloadEvenIfExpensive:!0,mediaType:(0,E.msgToMediaType)({type:e.type,isGif:!1}),rmrReason:a})})}var o=e&&e.id||"unknown";return p.default.assert(!1,"media-fault: downloadStickerOrStickerPackIcon sticker/stickerPack without mediaObject",`type: ${e.constructor.name} id: ${o}`)(e),Promise.resolve()},t.prepSticker=function(e){p.default.info("Prepping sticker")(e);var t=e.mediaObject,n=e.mediaData.toJSON();if(n.fullWidth=125,n.fullHeight=125,!t)return p.default.assert(!1,"media-fault: prepSticker sticker without mediaObject",`id: ${e.id}`)(),new L(n.type,Promise.reject("non initialized media"));return new L(n.type,Promise.resolve(n))};var o=I(n("cgeeeeddea")),i=I(n("cgeedcdffb")),u=I(n("cfadcbbiie")),s=I(n("bbchdeehff")),l=I(n("bjigbaghc")),c=I(n("bfhdbejjbg")),f=k(n("cajijabhgb")),d=I(n("bjbdcigbdi")),p=I(n("bdiiahhjbe")),h=k(n("dhjfgehgcf")),m=k(n("dahcghhcfg")),b=I(n("cjieghfgda")),g=I(n("bffjfbgbg")),v=I(n("chfghiiefb")),y=k(n("cgidhbdcgc")),_=n("daichdjff"),E=n("gbjefdbgb"),j=I(E),O=n("fabajdgab"),S=I(n("bfbggcdbfb")),w=I(n("cffajefeag")),P=I(n("beeieigghj")),M=I(n("cfejjfjhca")),C=n("cgddafdgie"),T=n("dgeebjciej"),A=I(n("dejcgejdhb")),N=n("dffjhcaahi");function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function I(e){return e&&e.__esModule?e:{default:e}}var R=`change:phoneUploading change:ack ${_.MEDIA_MSG_PROPS.map(function(e){return`change:${e}`}).join(" ")}`,L=t.MediaPrep=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseType=t,this._mediaData=new g.default({mediaStage:_.STAGE.PREPARING}),this._prepwork=n.then(function(e){if(r._mediaData.set(e),!e.filehash)return p.default.assert(e.mediaBlob,"media-fault: no hash or blob")(),(0,T.getHash)(e.mediaBlob).then(function(e){r._mediaData.filehash=e})},function(e){return r._mediaData.mediaStage=_.STAGE.ERROR_UNSUPPORTED,Promise.reject(e)})}return a(e,[{key:"sendToChat",value:function(e,t){return Promise.callSynchronously(B,null,this,e,t)}},{key:"waitForPrep",value:function(){var e=this;return this._prepwork.then(function(){var t=e._mediaData;return D(t.type)?t:Promise.reject(new f.CapabilityUnsupported)})}}]),e}();function D(e){switch(e){case _.OUTWARD_TYPES.IMAGE:return d.default.supportsFeature(d.default.F.ENC_IMAGE);case _.OUTWARD_TYPES.VIDEO:return d.default.supportsFeature(d.default.F.ENC_VIDEO);case _.OUTWARD_TYPES.PTT:case _.OUTWARD_TYPES.AUDIO:return d.default.supportsFeature(d.default.F.ENC_AUDIO);case _.OUTWARD_TYPES.DOCUMENT:return d.default.supportsFeature(d.default.F.ENC_DOC);default:return!0}}function x(e){U(e,S.default.WEBC_RMR_REASON_CODE.MSG_UPDATE)}function U(e,t){if(e.isUnsentPhoneMsg()){p.default.assert(!e.mediaObject,"media-fault: consolidateMediaUpdate unsent message",`id: ${e.id.toString()} type: ${e.type}`)(e);var n=F(e);if(n.mediaStage=e.phoneUploading?_.STAGE.REMOTE_UPLOADING:_.STAGE.REMOTE_NEED_UPLOAD,n.hasOwnProperty("preview")){var r=n.preview;delete n.preview,r&&P.default.createFromBase64Jpeg(r).then(function(t){e&&e.mediaData&&e.isUnsentPhoneMsg()&&(e.mediaData.preview=t)})}e.mediaData.set(n)}else G(e,e,t)}function G(e,t,n){var r=F(t),a=e.mediaObject,o=t.filehash;if(a)o&&o!==a.filehash&&(p.default.log(`media:msg ${e.id.toString()} ${a.filehash?"changed":"added"} filehash`)(),y.disassociateMediaFromMsg(a,e),a=y.getOrCreateMediaObject(o),e.mediaObject=a,y.associateMediaWithMsg(a,e));else{a=o?y.getOrCreateMediaObject(o):new v.default;var i=e.mediaData;void 0!==i.aspectRatio&&(r.aspectRatio=i.aspectRatio),e.mediaObject=a,y.associateMediaWithMsg(a,e)}var u=!1,s=t.clientUrl,l=t.mediaKey,c=t.mediaKeyTimestamp,f=t.uploadhash,d=t.type,h=t.streamingSidecar,b=t.firstFrameSidecar,g=t.directPath;if(s){var j=~E.MEDIA_TYPE_VALUES.indexOf(d)?d:null,O=void 0;(u=!a.entries.knowsUrl(s))?l&&f&&j?O=a.entries.addEntry(s,l,c,f,j,h,g,b):u=!1:l&&(O=a.entries.updateEntry(s,l,f,j,h,g,b)),O||(u=!1),u&&a.downloadStage===_.DOWNLOAD_STAGE.ERROR_MISSING&&(r.downloadStage=_.DOWNLOAD_STAGE.INIT)}if(a.consolidate(r)||a.notifyMsgsAsync(),u&&a.downloadStage===_.DOWNLOAD_STAGE.NEED_POKE){var S=void 0;try{S=(0,E.msgToMediaType)({type:e.type,isGif:e.isGif})}catch(n){if(!t.type)throw n;S=(0,E.msgToMediaType)({type:t.type,isGif:e.isGif})}m.downloadMedia({mimetype:t.mimetype,object:a,downloadEvenIfExpensive:!1,mediaType:S,rmrReason:n})}}function F(e){var t={};return _.MAPPED_MSG_PROPS.forEach(function(n){var r=e[n],a=_.MSG_TO_MEDIA[n];t[a]=r}),t}function B(e,t,n){p.default.log(`Media:sendToChat chat ${t.id.toString()}`)();var a=n.caption,i=n.quotedMsg?n.quotedMsg.msgContextInfo(t.id):{},s=l.default.me,c=n.productMsgOptions,f=void 0===c?{}:c,d=r({t:u.default.globalUnixTime(),from:s,isNewMsg:!0,to:t.id,self:"out",type:e._baseType,ack:0,local:!0,id:new w.default({from:s,to:t.id,id:(0,M.default)(),participant:void 0,selfDir:"out"}),caption:a,quotedMsg:i.quotedMsg,quotedParticipant:i.quotedParticipant,quotedStanzaID:i.quotedStanzaID,quotedRemoteJid:i.quotedRemoteJid,mentionedJidList:n.mentionedJidList,isForwarded:n.isForwarded,forwardingScore:n.forwardingScore,multicast:n.multicast},f),g=e.waitForPrep().then(function(e){var t=e.mediaBlob;return!t||t instanceof P.default?Promise.resolve(e):P.default.createFromData(t,t.type).then(function(t){return e.mediaBlob=t,e})}).then(function(e){var t=e.filehash;p.default.assert(t,"media-fault: sendToChat filehash undefined")();var n=y.getOrCreateMediaObject(t),r=n.mediaBlob;if(r&&(r.retain(),e.mediaBlob&&e.mediaBlob.autorelease(),e.mediaBlob=r),e.mediaBlob&&(e.renderableUrl=e.mediaBlob.url()),n.consolidate(e.toJSON()),e.mediaBlob&&e.mediaBlob.autorelease(),(0,O.shouldUseMediaCache)((0,E.castToV4)(n.type))&&e.mediaBlob){var o=e.mediaBlob.formData();b.default.put(t,o)}m.downloadMedia({mimetype:e.mimetype,object:n,downloadEvenIfExpensive:!0,mediaType:(0,E.msgToMediaType)({type:e.type,isGif:e.isGif}),rmrReason:S.default.WEBC_RMR_REASON_CODE.SEND_TO_CHAT});var i=n.msgProps(e);return i.caption=a,a||e.type!==_.OUTWARD_TYPES.DOCUMENT||(i.caption=e.filename),i}),v=void 0;function j(e){v=e;var t=e.mediaObject;return p.default.assert(t,"media-fault: incorrect media object for created msg")(),(0,o.default)(t,"msg is missing mediaObject"),h.uploadMedia(e.mimetype,t,(0,E.msgToMediaType)({type:e.type,isGif:e.isGif})).then(function(e){if(!e)throw new Error("upload failed: media entry was not created");return $(v,{clientUrl:e.mmsUrl,directPath:e.directPath,mediaKey:e.mediaKey,mediaKeyTimestamp:e.mediaKeyTimestamp,filehash:t.filehash,uploadhash:e.uploadHash,size:t.size,streamingSidecar:e.sidecar,firstFrameSidecar:e.firstFrameSidecar})})}var T=void 0;if(n.addEvenWhilePreparing){var A=n.placeholderProps||{};T=(0,C.addAndSendMsgToChat)(t,r({},A,d),function(e){return v=e,g.then(function(e){return $(v,e)}).then(function(){return j(v)})})[1]}else{var N=g.then(function(e){var t=n.useBasePropsType?d.type:e.type;return r({},d,e,{type:t})});T=(0,C.addAndSendMsgToChat)(t,N,j)[1]}T.catch(function(e){p.default.error(`Media:sendToChat error ${String(e)}`)(e),v&&(v.ack=-1)})}function $(e,t){return(0,N.updateLocal)(e.id,t).then(function(){e.set(t)})}function V(e,t,n){var r,a,o=(r=e,a={},_.MAPPED_STICKER_PROPS.forEach(function(e){var t=r[e],n=_.MSG_TO_MEDIA[e];a[n]=t}),a);if(e.mediaData.set(o),t){if(e.mediaObject=t,!t.entries.knowsUrl(e.clientUrl))t.entries.addEntry(e.clientUrl,e.mediaKey,e.mediaKeyTimestamp,e.uploadhash,n,null,e.directPath)&&t.downloadStage===_.DOWNLOAD_STAGE.ERROR_MISSING&&(o.downloadStage=_.DOWNLOAD_STAGE.INIT);t.consolidate(o)}}s.default.on("logout",function(){y.delistAndDeleteAllMedia()})},ddgfdbejhb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var r=l(n("ceffhbhahb")),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("bbcaggdbc"),i=l(n("bjgiedaj")),u=l(n("fdacbigid")),s=l(n("bfdcadbbif"));function l(e){return e&&e.__esModule?e:{default:e}}var c=o.PaymentInfo.STATUS,f={FAILED:"failed",PROCESSING:"processing",WAITING:"waiting",SUCCESS:"success"};function d(e){var t=i.default.formatLocalSymbol(e.currency),n=void 0;switch(e.paymentStatus){case c.COMPLETE:n=f.SUCCESS;break;case c.CANCELLED:case c.COULD_NOT_COMPLETE:case c.REFUNDED:case c.EXPIRED:case c.REJECTED:n=f.FAILED;break;case c.PROCESSING:case c.SENT:case c.WAITING_FOR_PAYER:case c.NEED_TO_ACCEPT:default:n=f.PROCESSING}var o="send"===e.subtype||null==e.paymentStatus||e.paymentStatus===c.UNKNOWN_STATUS||e.paymentStatus===c.PROCESSING?a.createElement(s.default,{name:"payment-send"}):a.createElement(s.default,{name:"payment-request"});return a.createElement("div",{className:(0,r.default)(u.default.icon,u.default[n],{[u.default.compact]:e.isCompact})},a.createElement("div",{className:(0,r.default)(u.default.iconSymbol,u.default[e.currency])},t),o)}d.displayName="PaymentIcon"},ddhbfebjfb:function(e,t){e.exports={wallpaperColorGrid:"_3ErqO",wallpaperColorCanvas:"_2l-YP",wallpaperDefaultTitle:"_23AyA",wallpaperColorEmpty:"mz3NP",canvasActive:"_3u8cf",canvasHover:"_3DZa-"}},ddibegacej:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=y(n("hhegggegb")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=y(n("ceffhbhahb")),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=y(n("ebgjhfacdb")),s=y(n("bbhhbdicgc")),l=y(n("cicjcfabii")),c=y(n("bggeiidigb")),f=y(n("ccajjgdjf")),d=y(n("eceadcicaf")),p=n("bifgjibich"),h=y(n("bechejbabh")),m=y(n("gegihfgbf")),b=y(n("ddifcjhjde")),g=y(n("caffijjhc")),v=y(n("didfdhbecg"));function y(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E={query:"",results:[],active:!1,offset:0},j=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,u=Array(o),s=0;s<o;s++)u[s]=arguments[s];return n=a=_(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.state=E,a.flatListController=new c.default,a.setRefList=function(e){a.list=e},a.onUpdate=O(function(){return a.onFilter(a.state.query)},a),a.onFilter=function(e){h.default.synced()||a.syncIfNeeded();var t=h.default.filterShortcuts(e);t.length&&(0,p.logFilterEvent)(t.length),a.setState({query:e,results:t,active:!0,offset:0})},a.onInactive=O(function(){a.setState(E)},a),a.onSelect=O(function(){return a.handleSelect(a.state.offset)},a),a.onUp=O(function(){var e=Math.max(a.state.offset-1,0);a.setOffset(e)},a),a.onDown=O(function(){var e=a.state.results.length-1,t=Math.min(a.state.offset+1,e);a.setOffset(t)},a),a.onBackspace=function(){var e=window.getSelection().toString();a.lastInsertedText&&e===a.lastInsertedText&&(0,p.logCancelEvent)()},a.onEscape=function(){a.setState(E)},a.syncIfNeeded=(0,r.default)(function(){h.default.synced()||h.default.sync()},1e3),a.renderItem=function(e){var t=e.index,n=e.quickReply;return i.createElement(m.default,{key:n.id,quickReply:n,query:a.state.query,selected:t===a.state.offset,onMouseDown:function(e){return e.preventDefault()},onMouseUp:function(){return a.handleSelect(t)},onMouseEnter:function(){return a.setOffset(t,!0)}})},_(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props.plugin;e.registerHandler(this,u.default.ENTER,this.onSelect),e.registerHandler(this,u.default.TAB,this.onSelect),e.registerHandler(this,u.default.FILTER,this.onFilter),e.registerHandler(this,u.default.INACTIVE,this.onInactive),e.registerHandler(this,u.default.UP,this.onUp),e.registerHandler(this,u.default.DOWN,this.onDown),e.registerHandler(this,u.default.BACKSPACE,this.onBackspace)}},{key:"componentWillUnmount",value:function(){var e=this.props.plugin;e.unregisterHandler(this,u.default.ENTER),e.unregisterHandler(this,u.default.TAB),e.unregisterHandler(this,u.default.FILTER),e.unregisterHandler(this,u.default.INACTIVE),e.unregisterHandler(this,u.default.UP),e.unregisterHandler(this,u.default.DOWN),e.unregisterHandler(this,u.default.BACKSPACE),this.syncIfNeeded.cancel()}},{key:"componentDidMount",value:function(){this.props.listeners.add(h.default,"add remove change:shortcut",this.onUpdate)}},{key:"setOffset",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e!==this.state.offset&&this.setState({offset:e},function(){!n&&t.list&&t.list.scrollIntoViewIfNeeded(e)})}},{key:"handleSelect",value:function(e){var t=this.state.results[e];t&&t.id&&(this.lastInsertedText=t.message,(0,p.logSelectEvent)(),this.props.plugin.handleSelect(t))}},{key:"renderList",value:function(){var e=this.state,t=e.results,n=e.query,r=e.offset,a=t.map(function(e,t){return{height:52,itemKey:e.id,contentKey:`${n}${t===r?"-selected":""}`,index:t,quickReply:e}});return t.length?i.createElement(g.default,{displayName:"QuickReplySuggestions",escapable:!0,requestDismiss:this.onEscape},i.createElement("div",{className:(0,o.default)(b.default.overlayContainer)},i.createElement(l.default,{className:b.default.resultsContainer,flatListControllers:[this.flatListController]},i.createElement(s.default,{ref:this.setRefList,data:a,flatListController:this.flatListController,direction:"vertical",renderItem:this.renderItem})))):null}},{key:"render",value:function(){return i.createElement(v.default,{component:"div",className:b.default.positioningContainer,transitionName:"slide-up"},this.renderList())}}]),t}();function O(e,t){return function(n,r){return!(!t.state.active||!t.state.results.length)&&((!n||!(0,f.default)(n))&&(e.call(t,n,r),!0))}}j.displayName="Suggestions",t.default=(0,d.default)(j)},ddidadfgch:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=f(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=f(n("bcidefefj")),u=f(n("dbfaahhhec")),s=n("daichdjff"),l=f(n("becfabjeeg")),c=f(n("bcifhbgija"));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.setRefElement=function(e){n.refElement=e},n.setRefSpinner=function(e){n.refSpinner=e},n.spinningAnimation=null,n.incrementResolvedCount=function(){n.setState({resolved:n.state.resolved+1})};for(var r=0,a=0;a<e.imageModels.length;a++)e.imageModels[a].mediaData.mediaStage===s.STAGE.RESOLVED&&(r+=1);return n.state={resolved:r,fadeInImages:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"componentDidMount",value:function(){this.isAllImagesLoaded()||this.props.renderFallbackImage||this.animateSpinnerAppearance()}},{key:"componentWillUnmount",value:function(){this.spinningAnimation&&this.spinningAnimation.cancel()}},{key:"animateSpinnerAppearance",value:function(){var e=this,t=this.refSpinner;t&&(this.spinningAnimation&&this.spinningAnimation.cancel(),this.spinningAnimation=(this.spinningAnimation||Promise.resolve()).then(function(){return(0,c.default)(t,{opacity:[1,0]},{delay:75,duration:50})}).cancellable().then(function(){e.setState({fadeInImages:!0})}).catch(Promise.CancellationError,function(){(0,c.default)(t,"stop",!0)}).finally(function(){e.spinningAnimation=null}))}},{key:"getRowKey",value:function(e){return`ImageGrid-row-${e}`}},{key:"getColumnKey",value:function(e){return`ImageGrid-col-${e}`}},{key:"isAllImagesLoaded",value:function(){var e=this.props.imageModels;return this.state.resolved>=Math.min(3,e.length)}},{key:"renderLastItem",value:function(e){var t=this.props,n=t.imageModels,r=t.numberTextClassName,a=t.fetching,i=t.onClick,s=n.length-1-e,l=n[e];return o.createElement(u.default,{key:this.getRowKey(e),onClick:i,imageModel:l,mediaData:l.mediaData,renderOverlay:s>0,numImagesNotRendered:s,numberTextClassName:r,incrementResolvedCount:this.incrementResolvedCount,renderImage:this.isAllImagesLoaded()&&!a})}},{key:"renderItem",value:function(e,t,n){var r=this.props,a=r.fetching,i=r.onClick,s=t.mediaData;return o.createElement(u.default,{key:e,className:n,onClick:i,imageModel:t,mediaData:s,incrementResolvedCount:this.incrementResolvedCount,renderImage:this.isAllImagesLoaded()&&!a})}},{key:"renderLastColumnImages",value:function(e,t){for(var n=this.props.imageModels,r=[],a=e;a<t-1;a++)r.push(this.renderItem(this.getRowKey(a),n[a]));return r.push(this.renderLastItem(t-1)),r}},{key:"renderLastColumn",value:function(e,t,n){var r=this.props.lastColumnClassName;return o.createElement("div",{key:e,className:(0,a.default)(i.default.column,i.default.lastColumn,r,{[i.default.lastColumnWidth]:!r})},this.renderLastColumnImages(t,n))}},{key:"renderImagesInColumns",value:function(e,t){var n=this.props.imageModels;if(!n.length)return null;var r=Math.min(n.length,e-1+t);if(1===r)return this.renderItem(this.getColumnKey(0),n[0],i.default.column);if(2===r)return[this.renderItem(this.getColumnKey(0),n[0],i.default.column),this.renderItem(this.getColumnKey(1),n[1],i.default.column)];for(var a=[],o=0;o<e-1;o++){var u=n[o];a.push(this.renderItem(this.getColumnKey(o),u,i.default.column))}return e-1<r-1&&a.push(this.renderLastColumn(this.getColumnKey(e-1),e-1,r)),a}},{key:"_renderFallbackImage",value:function(){var e=this.props.productMsgMediaData;return o.createElement("div",{className:i.default.headContainer},o.createElement("div",{className:(0,a.default)(i.default.container,i.default.containerBg),ref:this.setRefElement},e&&o.createElement(u.default,{className:i.default.column,mediaData:e,renderFallbackImage:!0})))}},{key:"render",value:function(){var e=this.props,t=e.fetching,n=e.renderFallbackImage,r=this.state.fadeInImages;if(n)return this._renderFallbackImage();var u=this.props,s=u.columns,c=u.lastColumnNumRows;null!=s&&0!==s||(s=2),null!=c&&0!==c||(c=2);var f=this.isAllImagesLoaded(),d=f?null:o.createElement("div",{className:i.default.loadingBlock},o.createElement("div",{className:i.default.spinner,ref:this.setRefSpinner},o.createElement(l.default,{color:"default",size:50,stroke:4})));return o.createElement("div",{className:i.default.headContainer},d,o.createElement("div",{className:(0,a.default)(i.default.container,{[i.default.containerBg]:!t&&f,[i.default.fadeIn]:r}),ref:this.setRefElement},this.renderImagesInColumns(s,c)))}}]),t}();d.displayName="ImageGrid",t.default=d},ddifaecacd:function(e,t){e.exports={more:"_2TQyO",hotKeyWraper:"BfrqJ"}},ddifcjhjde:function(e,t){e.exports={positioningContainer:"Ya_1h",resultsContainer:"_2sVI6",overlayContainer:"SFlCH"}},ddihbaicfd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=h(n("bbchdeehff")),o=h(n("djcchigfih")),i=h(n("djbhiedbef")),u=n("dajffajabh"),s=h(u),l=h(n("dhfbfehaef")),c=n("chcadgfgad"),f=h(c),d=h(n("cgfjebhhej")),p=h(n("dggeggcjcd"));function h(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.vcard,n=d.default.parse(t);return n?r.createElement(f.default,{type:c.BoxModalType},r.createElement(o.default,{key:"vcard-modal"},r.createElement(s.default,{title:l10n.t(353),type:u.DRAWER_HEADER_TYPE.POPUP,onCancel:function(){return a.default.closeModal()}}),r.createElement(i.default,null,r.createElement(l.default,null,r.createElement(p.default,{parsedVCard:n,thumbnail:d.default.thumbnail(t)}))))):null}},ddihieeaee:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.sendQueryMediaConn=function(e){return(0,o.default)({retries:1/0,factor:1e3,maxTimeout:9e5,jitter:.25,signal:e},function(t){return i.default.supportsFeature(i.default.F.MD_BACKEND)?Promise.reject(new Error("sendQueryMediaConn: not supported when not build with MD_BACKEND")):u.default.queryMediaConnections(e).then(function(e){var t=e.ttl,n=e.authTTL;return null==n?(n=1e3*t,t=3e5):(n*=1e3,t*=1e3),r({},e,{authTTL:n,ttl:t})}).catch(a.ServerStatusCodeError,function(e){if(e.status>=500)return t(e);throw e})})};var a=n("ddjgcfjicj"),o=s(n("bdiihbaeaj")),i=s(n("bjbdcigbdi")),u=s(n("bihdhbjih"));function s(e){return e&&e.__esModule?e:{default:e}}},ddjbidjfjh:function(e,t){e.exports={icon:"_2fF63",body:"_3P-1q",spinner:"_3kjgZ"}},ddjcbfehh:function(e,t){e.exports={container:"_1wA0y",body:"_2rGVQ"}},ddjdjjicid:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.storeMessages=f,t.addMessagesToHistory=function(e,t,n,a){if(!o.default.supportsFeature(o.default.F.MODEL_STORAGE))return Promise.resolve();if(!e||"search"===n.add)return Promise.resolve();if("unread"===n.add||a&&("before"===n.add||"after"===n.add)){var i=t.map(function(e){return e.id.toString()});return a&&"before"===n.add?i.push(a.id.toString()):a&&"after"===n.add&&i.unshift(a.id.toString()),s.default.lock(["meta-message-island","message-island"],function(t){var n=r(t,2),a=n[0],o=n[1];return p(o,i).then(function(t){return h(o,a,t,e)})})}if("last"===n.add||"before"===n.add||"after"===n.add){var u=t.map(function(e){return e.id.toString()});return s.default.lock(["meta-message-island","message-island"],function(t){var a=r(t,2),o=a[0],i=a[1];return Promise.all([p(i,u),d(o,e.toString())]).then(function(t){var a=r(t,2),u=a[0],s=a[1];return h(i,o,u,e,{before:"before"===n.add,mergeIntoMetaIsland:s})})})}return Promise.resolve()},t.appendMessage=function(e,t){return o.default.supportsFeature(o.default.F.MODEL_STORAGE)?f([t]).then(function(){return s.default.lock(["meta-message-island","message-island"],function(n){var a=r(n,2),o=a[0],i=a[1];return d(o,e.toString()).then(function(e){var n=e.islands;if(n.length){var r=n[n.length-1];return i.get(r).then(function(e){if(e)return e.messages.push(t.id.toString()),i.merge(e.id,{messages:e.messages})})}return i.create({parent:e.id,messages:[t.id.toString()]}).then(function(t){return n.push(t),o.merge(e.id,{islands:n})})})})}):Promise.resolve()};var o=l(n("bjbdcigbdi")),i=l(n("dggagcddja")),u=l(n("bjdejebbgc")),s=l(n("ffjiicch"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function f(e){return o.default.supportsFeature(o.default.F.MODEL_STORAGE)?u.default.bulkCreateOrMerge(e.map(function(e){return a({},e,{id:e.id.toString()})})):Promise.resolve()}function d(e,t){return e.equals(["chat","mostRecent"],[t,1]).then(function(n){return n.length?n[0]:e.create({islands:[],mostRecent:1,chat:t}).then(function(e){return{id:e,islands:[],mostRecent:1,chat:t}})})}function p(e,t){return function(e,t){return(0,i.default)(t,function(t){return e.equals(["messages"],t).then(function(e){return e.length?e[0]:null})})}(e,t).then(function(e){var n=[],r=new Map,a=new Map;return t.forEach(function(t,o){var i=e[o];if(i){var u=i.parent;a.has(u)||n.push({type:"meta-island",id:u}),a.set(u,i)}else{if(!n.length)return void n.push({type:"new-island",messages:[t]});var s=n[n.length-1];"new-island"===s.type?s.messages.push(t):"meta-island"===s.type&&(a.has(s.id)&&r.set(a.get(s.id),n.length),n.push({type:"new-island",messages:[t]}))}}),r.forEach(function(e,t){if(t){var r=n[e];r.messages.length+t.messages.length<100&&(n[e]={type:"update-island",id:t.id,messages:[].concat(c(t.messages),c(r.messages))})}}),n})}function h(e,t,n,a,o){var i=[],u=[],s=[];return n.forEach(function(e){switch(e.type){case"new-island":i.push({messages:e.messages});break;case"update-island":u.push({id:e.id,messages:e.messages});break;case"meta-island":s.push(e.id)}}),i.length||u.length||1!==s.length?Promise.all([m(e,i),e.bulkCreateOrMerge(u),t.bulkGet(s)]).then(function(i){var u=r(i,3),l=u[0],c=(u[1],u[2].reduce(function(e,t){return t&&e.set(t.id,t),e},new Map)),f=[],d=0;n.forEach(function(e){switch(e.type){case"new-island":f.push(l[d++]);break;case"update-island":break;case"meta-island":var t=c.get(e.id);t&&(f=f.concat(t.islands))}}),o&&!c.has(o.mergeIntoMetaIsland.id)&&(o.before?(s.push(o.mergeIntoMetaIsland.id),f=f.concat(o.mergeIntoMetaIsland.islands)):(s.unshift(o.mergeIntoMetaIsland.id),f=o.mergeIntoMetaIsland.islands.concat(f)));var p=void 0;if(s.length){var h=s[0],m=s.slice(1);p=t.merge(h,{islands:f}).then(function(){return t.bulkRemove(m)}).then(function(){return h})}else p=t.create({islands:f,mostRecent:0,chat:a.toString()});return p.then(function(t){return e.bulkCreateOrMerge(f.map(function(e){return{id:e,parent:t}}))}).then(function(){})}):Promise.resolve()}function m(e,t){return(0,i.default)(t,function(t){return e.create({messages:t.messages,parent:-1})})}},ddjfcdfihc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONFIG=void 0;var r=o(n("dbegcaehed"));t.getAction=function(e){var t=e.key,n=e.ctrlKey,r=e.metaKey,a=e.altKey,o=e.shiftKey;if("Control"===t||"Meta"===t||"Alt"===t||"Shift"===t)return;var i=n&&a;return n&&r||i?s[function(e,t){return!t||"Tab"!==e&&"Enter"!==e&&"Backspace"!==e&&" "!==e?e:`Shift+${e}`}(t,o)]:void 0},t.getKey=function(e){var t=u[e];if(!t.length)return;var n=t[0],r=n.key,a=n.nativeKey,o=n.nativeModifier,i=a||r;return i?l(i,o):void 0},t.getWebKey=function(e){var t=u[e];if(!t.length)return;var n=t[0],r=n.key,a=n.webKey||r;return a||void 0},t.getAdditionalShortcuts=function(){var e={};return Object.keys(u).forEach(function(t){var n=u[t];n.length<=1||n.slice(1).forEach(function(n){var r=n.key,a=n.nativeKey,o=n.nativeModifier,i=a||r;i&&(e[l(i,o)]=t)})}),e};var a=o(n("dieejegcge"));function o(e){return e&&e.__esModule?e:{default:e}}var i,u=t.CONFIG={[a.default.CONTACT_US]:[{key:"H"}],[a.default.DELETE_OR_EXIT_CHAT]:[{key:"Backspace"}],[a.default.GO_TO_NEXT_CHAT]:[{key:"Tab",nativeModifier:"Ctrl"},{key:"}"}],[a.default.GO_TO_PREV_CHAT]:[{key:"Shift+Tab",nativeModifier:"Ctrl"},{key:"{"}],[a.default.LOGOUT]:[],[a.default.OPEN_NEW_CHAT]:[{key:"n"}],[a.default.OPEN_NEW_GROUP]:[{key:"N"}],[a.default.OPEN_PROFILE]:[{key:"p"}],[a.default.OPEN_SETTINGS]:[{key:","}],[a.default.SEARCH]:[{webKey:"/",nativeKey:"f"}],[a.default.SEARCH_IN_CHAT]:[{key:"F"}],[a.default.TOGGLE_ARCHIVE]:[{key:"e"}],[a.default.TOGGLE_MUTE]:[{key:"M"}],[a.default.TOGGLE_UNREAD]:[{key:"U"}],[a.default.ZOOM_IN]:[{key:"+"}],[a.default.ZOOM_OUT]:[{key:"-"}],[a.default.ZOOM_RESET]:[{key:"0"}]},s=(i={},Object.keys(u).forEach(function(e){u[e].forEach(function(t){var n=t.key,r=t.webKey||n;r&&(i[r]=e)})}),i);function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CmdOrCtrl",n="+"!==e?e:"Plus";return 1===n.length&&n.match(/[a-z]/i)?n.match(/[a-z]/)?`${t}+${(0,r.default)(n)}`:`Shift+${t}+${n}`:`${t}+${(0,r.default)(n)}`}},deabffecii:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initSessionId()}return r(e,[{key:"initSessionId",value:function(){this.sessionId=this.newSessionId()}},{key:"newSessionId",value:function(){return this.sessionId=Math.floor(2147483648*Math.random()),this.sessionId}},{key:"toString",value:function(){return`${this.sessionId}`}}]),e}();t.default=a},deabjbejhf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("dfdebdgdei"),i=p(n("hdccjfbbg")),u=p(n("bhhdeihhhf")),s=p(n("fffdgbfji")),l=p(n("eceadcicaf")),c=p(n("ihfccfgdf")),f=p(n("caffijjhc")),d=p(n("dbjbhajgfd"));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={contextMenu:null},r.unblockContactTrigger=function(e){var t=r.props.contact,n=[a.createElement(u.default,{a8n:"unblock-contact-in-multi-select",key:"unblock",action:r.unblockContact},s.default.t(342,{contact:t.shortName||t.name}))];e.event&&e.event.persist(),r.setState({contextMenu:{contactId:t.id.toString(),menu:n,anchor:e.anchor,event:e.event}})},r.contextClose=function(){r.setState({contextMenu:null})},r.unblockContact=function(){var e=r.props.contact;r.contextClose(),e.addPendingAction((0,o.unblockContact)(e)).then(function(){return r.props.onSelect()}).catch(function(){})},r.onSelect=function(e){if(!r.props.disabled)if(r.props.allowBlockedContacts)r.props.onSelect();else{var t=r.props.contact;r.state.contextMenu?r.contextClose():t.isContactBlocked?r.unblockContactTrigger({event:e}):r.props.onSelect()}},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.customSecondaryText,r=e.contact,o=e.active,u=e.allowBlockedContacts,l=void 0;return this.state.contextMenu&&(l=a.createElement(f.default,{displayName:"ChatContextMenu",escapable:!0,popable:!0},a.createElement(d.default,{contextMenu:this.state.contextMenu}))),a.createElement(a.Fragment,null,a.createElement(i.default,{theme:t||r.isContactBlocked&&!u?"chat-checkbox-no-delete":"chat-checkbox",active:o,contact:r,onClick:t?null:this.onSelect,secondary:r.isContactBlocked&&!u?s.default.t(341):n||null,waitIdle:!0}),l)}}]),t}();m.CONCERNS={contact:["id","isGroup","isContactBlocked","pendingAction","shortName","name"]},m.displayName="UnblockableContactWrapper",t.default=(0,l.default)((0,c.default)(m,m.CONCERNS))},deahbiefdi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=b(n("dhbceejbjg")),i=b(n("baagejbchg")),u=b(n("bjgiedaj")),s=b(n("fifhbjiec")),l=b(n("bbhhbdicgc")),c=b(n("cicjcfabii")),f=n("bgjddhffji"),d=b(n("daedihffb")),p=b(n("cgbfcjgjcf")),h=b(n("ihfccfgdf")),m=n("bheafeifce");function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c];return n=r=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.onProductDetail=function(e){var t=r.props,n=t.onProductDetail,a=t.sessionId;return(0,f.logCatalogListDetailClick)((0,m.unproxy)(e),a),n(e,a)},r.renderItem=function(e){var t=e.product,n=t.imageCdnUrl.productImageModel.mediaData,i=a.createElement(p.default,{theme:"list",onClick:function(){return r.onProductDetail(t)},mediaData:n}),l=a.createElement(s.default,{text:t.name,ellipsify:!0,titlify:!0}),c=[a.createElement("div",{className:d.default.description,key:"desc"},a.createElement(s.default,{text:t.description,ellipsify:!0})),t.currency&&null!=t.priceAmount1000&&0!==t.priceAmount1000?a.createElement("div",{className:d.default.price,key:"price"},a.createElement(s.default,{text:u.default.format(t.currency,t.priceAmount1000),ellipsify:!0})):null];return a.createElement(o.default,{key:t.id.toString(),customImage:!0,image:i,primary:l,onClick:function(){return r.onProductDetail(t)},secondary:c,theme:"product"})},g(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"getData",value:function(){return this.props.catalog.productCollection.getProductModels().map(function(e){return{itemKey:e.id.toString(),product:e}})}},{key:"render",value:function(){var e=this.props.catalog;return e.productCollection&&e.productCollection.getProductModels().length?a.createElement(c.default,{flatListControllers:[this.props.flatListController]},a.createElement(l.default,{flatListController:this.props.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:this.getData(),renderItem:this.renderItem,defaultItemHeight:i.default.PRODUCT_LIST_ITEM_HEIGHT})):null}}]),t}();v.CONCERNS={catalog:["productCollection","afterCursor","id","index"]},v.displayName="ProductCatalogList",t.default=(0,h.default)(v,v.CONCERNS)},debediheaf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=u(n("igbbahaj")),o=u(n("dhagjfdjei")),i=u(n("bfdcadbbif"));function u(e){return e&&e.__esModule?e:{default:e}}var s="panel-starred";function l(e){return e.sectionId&&e.sectionId===a.default.FAVORITES?r.createElement(i.default,{name:s}):r.createElement("span",{className:o.default.text},e.sectionTitle)}l.displayName="EmojiSectionIcon"},debfbiicee:function(e,t,n){"use strict";var r,a=n("chgaccicf"),o=(r=a)&&r.__esModule?r:{default:r};e.exports=(0,o.default)({CHANGE:void 0,MOUNT:void 0,INPUT:void 0})},debjjaigad:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PREFERENCE=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("dcaifjegcg"),o=u(a),i=u(n("jccfhaecf"));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.id=(0,a.prop)(),r.wallpaperColor=(0,a.prop)(),r.saveToCameraRoll=(0,a.prop)(),s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"getCollection",value:function(){return n("ebcagbhefg")}}]),t}();l.Proxy="chatPreference",l.idClass=i.default,l.idWhitelist=["defaultPreference"],t.DEFAULT_PREFERENCE="defaultPreference",t.default=(0,a.defineModel)(l)},decdhbjfjc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=t;for(;n>0;)e.modify("extend","backward","character"),n--}},decebhabae:function(e,t){e.exports={attachMenuContainer:"KSY4t",iconsItem:"Ijb1Q"}},deceibabdd:function(e,t){e.exports={status:"_zurL",failed:"_3Wtud",processing:"_1j9ix",waiting:"_10nh0",success:"_2xlO9"}},decfffijad:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=c(n("eceadcicaf")),i=c(n("fagbfehid")),u=c(n("bfidigcji")),s=c(n("dabcbibhcf")),l=c(n("hfcihgigj"));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._handleStickerPackPageFetchState=function(e,t){if(!n._unmounted){var r=n.props.index;i.default.pageWithIndex(r)===e&&(t||i.default.fetchAt(r),n.setState({stickerPack:i.default.at(r)}))}},i.default.fetchAt(e.index),n.state={stickerPack:i.default.at(e.index)},n._unmounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(i.default,"change:pageFetchStates",this._handleStickerPackPageFetchState)}},{key:"componentWillUnmount",value:function(){this._unmounted=!0}},{key:"render",value:function(){var e=this.state.stickerPack;return e?e.isPlaceholder?a.createElement(s.default,null):e.isFirstParty?a.createElement(u.default,{stickerPack:e}):a.createElement(l.default,{stickerPack:e,mediaData:e.mediaData}):null}}]),t}();f.displayName="StickerPackIconAtIndex",t.default=(0,o.default)(f)},decfjabfdj:function(e,t){e.exports={"-side-margin":"12px",sideMargin:"12px","-emoji-width":"44px",emojiWidth:"44px","-emoji-height":"44px",emojiHeight:"44px",panel:"_3hIRi",section:"_2ecE7"}},dedicfgaca:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=l(n("bdiiahhjbe")),u=l(n("bhaaifddjf")),s=l(n("bcifhbgija"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.setRefBar=function(t){e.refBar=t},e.onClick=function(t){e.props.onClick&&e.props.onClick(t)},e.onStart=function(t,n){if(e.refBar){var r=`-${t/n*100}%`;(0,s.default)(e.refBar,"stop"),e.barAnimation=(0,s.default)(e.refBar,{translateX:["0%",r]},{duration:t,easing:"linear"})}},e.onPause=function(){e.refBar&&(0,s.default)(e.refBar,"stop")},e.onEnded=function(){return e.barAnimation?e.barAnimation:Promise.resolve()},i.default.info(`Current index: ${e.props.current}, total count: ${e.props.total}`)(),i.default.assert(e.props.current>=0&&e.props.current<e.props.total,"bad current status v3 index")(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){for(var e=this,t=[],n=`${100/this.props.total}%`,r=function(r){var i=(0,a.default)(u.default.foreground,{[u.default.filled]:r<e.props.current,[u.default.empty]:r>e.props.current,[u.default.active]:r===e.props.current}),s={width:n},l=o.createElement("div",{className:u.default.wrapper,style:s,key:r,onClick:function(){return e.onClick(r)}},o.createElement("div",{className:u.default.bg}),o.createElement("div",{className:u.default.mask},o.createElement("div",{className:i,ref:r===e.props.current?e.setRefBar:function(){}})));t.push(l)},i=0;i<this.props.total;++i)r(i);return o.createElement("div",{className:u.default.container},t)}}]),t}();c.displayName="StatusV3ProgressBar",e.exports=c},dedjffeefj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=d(n("baagejbchg")),i=d(n("cbjcfbbhja")),u=d(n("eceadcicaf")),s=d(n("bdiiahhjbe")),l=d(n("bfbggcdbfb")),c=d(n("deagfdiahe")),f=d(n("djgjhgjdcd"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=-5,m=[{source:window,name:"focus"},{source:document,name:"wheel"},{source:document,name:"keydown"},{source:document,name:"mouseover"},{source:document,name:"mousemove"},{source:document,name:"click"},{source:document,name:"scroll"}],b=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.lastInform=Date.now(),r.lastPageX=-1,r.lastPageY=-1,r.bitArray=null,r.endSession=function(){r.bitArray&&r.bitArray.shipAndEndSession()},r.handleRestore=function(){var e=r.bitArray;e?(r.lastInform=Date.now(),e.update(r.lastInform)):s.default.error("Time Spent Logger not started")()},r.handleEvent=function(e){var t=r.bitArray;if(t){if(e instanceof MouseEvent){if(e.pageX===r.lastPageX&&e.pageY===r.lastPageY&&"click"!==e.type)return;r.lastPageX=e.pageX,r.lastPageY=e.pageY}var n=Date.now(),a=n-r.lastInform;a>0?(r.lastInform=n,t.update(r.lastInform)):a<h&&(r.lastInform=n)}},r.handleUnload=function(){r.bitArray&&(r.bitArray.ship(r.stashLogs),r.bitArray=null)},r.shipLogs=function(e){var t=new l.default.UserActivity({userActivitySessionId:e.sessionId,userActivityStartTime:e.startTime,userActivityBitmapLen:e.bitmapLen,userActivityBitmapLow:e.bitmap[0],userActivitySessionSeq:e.sessionSeq,userActivitySessionCum:e.sessionCum});e.bitmapLen>32&&(t.userActivityBitmapHigh=e.bitmap[1]),t.commit()},r.stashLogs=function(e){for(var t=`${e.bitmap[0]}`,n=1;n<e.bitmap.length;++n)t+=`:${e.bitmap[n]}`;var r=`${e.sessionId}:${e.sessionSeq}:${e.sessionCum}`+`:${e.startTime}:${e.bitmapLen}$${t}`;i.default.permanentStorage.setItem(o.default.KEY_TIME_SPENT_EVENT,r)},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){var e=i.default.permanentStorage.getItem(o.default.KEY_TIME_SPENT_EVENT);e&&(this.parseAndShipStashed(e),i.default.permanentStorage.removeItem(o.default.KEY_TIME_SPENT_EVENT));var t=this.props.listeners;this.bitArray=new f.default(this.shipLogs);var n=!c.default||{passive:!0,capture:!0};t.add(window,"beforeunload",this.handleUnload);for(var r=0;r<m.length;++r){var a=m[r],u=a.source,s=a.name;t.add(u,s,this.handleEvent,n)}}},{key:"componentWillUnmount",value:function(){this.bitArray&&(this.bitArray.ship(),this.bitArray=null)}},{key:"parseAndShipStashed",value:function(e){var t,n=e.split("$"),r=(t=n,Array.isArray(t)?t:Array.from(t)),a=r[0],o=r[1];if(!r.slice(2).length&&o)if(5===(a=a.split(":")).length){o=new Int32Array(o.split(":").map(function(e){return Number(e)}));var i={sessionId:a[0],sessionSeq:Number(a[1]),sessionCum:Number(a[2]),startTime:Number(a[3]),bitmapLen:Number(a[4]),bitmap:o};this.shipLogs(i)}else s.default.error("Invalid stashed time spent event")(e);else s.default.error("Invalid stashed time spent event")(e)}},{key:"render",value:function(){return null}}]),t}();b.displayName="TimeSpentLogger",t.default=(0,u.default)(b)},deecfijhbf:function(e,t){e.exports={bubble:"CqLtL",isPreview:"_1C-RS",isGallery:"z9Uq5",quote:"_2LeWN",hasAuthor:"dnNr8",vcard:"_3j7-G",author:"_2ohYw",hasQuote:"ahnAe",body:"_1XWux",avatar:"_1t5VN",meta:"_2CQ-C",name:"_3ZVco",image:"_1C4N3"}},defecifdhg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULTS=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("dcaifjegcg"),o=u(a),i=u(n("jccfhaecf"));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.id=(0,a.prop)(),r.tag=(0,a.prop)(),r.description=(0,a.prop)(),r.categories=(0,a.prop)(),r.email=(0,a.prop)(),r.website=(0,a.prop)(),r.latitude=(0,a.prop)(),r.longitude=(0,a.prop)(),r.businessHours=(0,a.prop)(),r.catalogStatus=(0,a.prop)(),r.structuredAddress=(0,a.prop)(),r.stale=(0,a.session)(!0),s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"markStale",value:function(){this.stale=!0,this.hasObservers()&&this.getCollection().find(this.id)}},{key:"getCollection",value:function(){return n("ejiicdbii").default}}]),t}();l.Proxy="businessProfile",l.idClass=i.default,t.default=(0,a.defineModel)(l);t.DEFAULTS={description:null,email:null,website:null}},defeghgfc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("cjijggjfed"),i=c(o),u=c(n("bheebijggd")),s=c(n("fffdgbfji")),l=c(n("bfajhabbdf"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._handleClick=function(e){r.props.onClick(r.props.sectionId,e)},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e={[u.default.RECENT]:s.default.t(416),[u.default.SMILEYS_PEOPLE]:s.default.t(417),[u.default.ANIMALS_NATURE]:s.default.t(411),[u.default.FOOD_DRINK]:s.default.t(413),[u.default.ACTIVITY]:s.default.t(410),[u.default.TRAVEL_PLACES]:s.default.t(419),[u.default.OBJECTS]:s.default.t(415),[u.default.SYMBOLS]:s.default.t(418),[u.default.FLAGS]:s.default.t(412)},t=this.props.sectionId,n=e[t];return a.createElement(i.default,{onClick:this.props.onClick,sectionId:this.props.sectionId,selected:this.props.selected,theme:o.THEMES.MENU,title:n},a.createElement(l.default,{sectionId:t}))}}]),t}();d.displayName="EmojiSectionTab",t.default=d},degbdgggga:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("bdiiahhjbe")),i=l(n("hcfegac")),u=l(n("bcjcbbafcj")),s=l(n("dbhbjaeieh"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.refVideo=null,r.autoPlayErrorCount=0,r.setRefVideo=function(e){if(e!==r.refVideo&&(r.refVideo&&r.refVideo.removeEventListener("playing",r.onPlaying),r.refVideo=e,e&&("srcObject"in e&&r.props.srcObject?e.srcObject=r.props.srcObject:e.src||o.default.warn("srcObject is not supported in video tag while src is not set.")(),e&&e.addEventListener("playing",r.onPlaying),r.props.autoPlay))){if(e.addEventListener("playing",r.onceAutoplay),e.srcObject)return void r.play();(u.default.isGecko||u.default.isSafari)&&r.props.autoPlay&&e.paused&&r.play()}},r.onceAutoplay=function(e){var t=r.refVideo;if(t&&(t.removeEventListener("playing",r.onceAutoplay),!t.videoHeight||!t.videoWidth)){r.pause(),r.play();r.autoPlayErrorCount<6&&r.autoPlayErrorCount++;var n=void 0;r.autoPlayErrorCount>1&&r.autoPlayErrorCount<6&&(n=`the height and width of the video is not zero, count (larger than 1): ${r.autoPlayErrorCount}`),r.autoPlayErrorCount>=6&&(n=`the height and width of the video is not zero, count larger than ${r.autoPlayErrorCount}`),n&&o.default.assert(!1,"non-zero height and width",n)()}},r.onPlaying=function(e){var t=r.refVideo;t&&(t.paused||null!=t.videoHeight&&t.videoHeight>0&&null!=t.videoWidth&&t.videoWidth>0&&r.props.onPlaying&&r.props.onPlaying())},r.getVolume=function(){return r.refVideo?r.refVideo.volume:0},r.setVolume=function(e){r.refVideo&&(r.refVideo.volume=e)},r.getMuted=function(){return!!r.refVideo&&r.refVideo.muted},r.setMuted=function(e){r.refVideo&&(r.refVideo.muted=e)},r.getPaused=function(){return!r.refVideo||r.refVideo.paused},r.getCurrentTime=function(){return r.refVideo?r.refVideo.currentTime:0},r.setCurrentTime=function(e){r.refVideo&&(r.refVideo.currentTime=e)},r.getDuration=function(){return r.refVideo?r.refVideo.duration:0},r.setDuration=function(e){r.refVideo&&(r.refVideo.duration=e)},r.getBuffered=function(){return r.refVideo?r.refVideo.buffered:null},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"underlyingVideo",value:function(){return this.refVideo}},{key:"play",value:function(){this._play()}},{key:"_play",value:function(){var e=this,t=this.refVideo;return t?t.paused?(t.removeEventListener("playing",this.onPlaying),(0,i.default)(t).then(function(){t&&t.addEventListener("playing",e.onPlaying),e.onPlaying()}).catch(function(n){if(t&&t.addEventListener("playing",e.onPlaying),"AbortError"!==n.name){var r=e.refVideo&&e.refVideo.error&&e.refVideo.error.message?e.refVideo.error.message:"",a=e.refVideo&&e.refVideo.error?e.refVideo.error.code:"";o.default.error(`video.play() promise rejected: ${r} The error code is ${a}.`)(),e.props.onError&&e.props.onError(n)}else o.default.error(`video.play() promise rejected w/ AbortError: ${n.message}, error code: ${n.code}`)()})):Promise.resolve():Promise.reject(new Error("cannot play unmounted video"))}},{key:"pause",value:function(){var e=this.refVideo;e&&(e.paused||e.pause())}},{key:"pauseAndReset",value:function(){var e=this.refVideo;e&&(e.currentTime=0,this.pause())}},{key:"render",value:function(){return a.createElement("video",{ref:this.setRefVideo,autoPlay:this.props.src?this.props.autoPlay:void 0,className:this.props.className?this.props.className:s.default.video,controls:this.props.controls,height:this.props.height,loop:this.props.loop,muted:this.props.muted,poster:this.props.poster,src:this.props.src?this.props.src:void 0,width:this.props.width,onClick:this.props.onClick,onAbort:this.props.onAbort,onCanPlay:this.props.onCanPlay,onCanPlayThrough:this.props.onCanPlayThrough,onDurationChange:this.props.onDurationChange,onEmptied:this.props.onEmptied,onEncrypted:this.props.onEncrypted,onEnded:this.props.onEnded,onError:this.props.onError,onLoadedData:this.props.onLoadedData,onLoadedMetadata:this.props.onLoadedMetadata,onLoadStart:this.props.onLoadStart,onPause:this.props.onPause,onPlay:this.props.onPlay,onProgress:this.props.onProgress,onRateChange:this.props.onRateChange,onSeeked:this.props.onSeeked,onSeeking:this.props.onSeeking,onStalled:this.props.onStalled,onSuspend:this.props.onSuspend,onTimeUpdate:this.props.onTimeUpdate,onVolumeChange:this.props.onVolumeChange,onWaiting:this.props.onWaiting},this.props.children)}}]),t}();f.displayName="BaseVideo",t.default=f},dehacgjjde:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PANELS=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("bjbggbjed"),i=d(o),u=d(n("bjbdcigbdi")),s=d(n("dahicgggee")),l=d(n("bfgbdiffgd")),c=d(n("biahchiahj")),f=d(n("caffijjhc"));function d(e){return e&&e.__esModule?e:{default:e}}var p=t.PANELS={EMOJI:"EMOJI",GIF:"GIF",STICKER:"STICKER"},h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.restoreFocus=function(e){switch(n.props.selectedPanelId){case p.STICKER:n._refStickerPanel&&n._refStickerPanel.restoreFocus();break;case p.GIF:n._refGifPanel&&n._refGifPanel.restoreFocus(e);break;case p.EMOJI:default:n._refEmojiPanel&&n._refEmojiPanel.restoreFocus(e)}},n._setRefEmojiPanel=function(e){n._refEmojiPanel=e},n._setRefGifPanel=function(e){n._refGifPanel=e},n._setRefStickerPanel=function(e){n._refStickerPanel=e},n._handleEmojiPanelDisplayCache=function(e){n._emojiPanelDisplayCache=e,n._triggerDisplayCache()},n._handleEmojiPanelFocusNext=function(){n.props.onPanelChange(p.GIF)},n._handleEmojiPanelFocusPrev=function(){n.props.onFocusRelease()},n._handleGifPanelDisplayCache=function(e){n._gifPanelDisplayCache=e,n._triggerDisplayCache()},n._handleGifPanelFocusNext=function(){l.default.stickers&&u.default.supportsFeature(u.default.F.STICKER_PACK_QUERY)?n.props.onPanelChange(p.STICKER):n.props.onFocusRelease()},n._handleGifPanelFocusPrev=function(){n.props.onPanelChange(p.EMOJI)},n._handleRequestFocus=function(){n.restoreFocus(!1)},n._handleStickerPanelDisplayCache=function(e){n._stickerPanelDisplayCache=e,n._triggerDisplayCache()},n._handleStickerPanelFocusNext=function(){n.props.onFocusRelease()},n._handleStickerPanelFocusPrev=function(){n.props.onPanelChange(p.GIF)},e.displayCache&&(n._emojiPanelDisplayCache=e.displayCache.emojiPanel,n._gifPanelDisplayCache=e.displayCache.gifPanel),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"_triggerDisplayCache",value:function(){this.props.onDisplayCache&&this.props.onDisplayCache({emojiPanel:this._emojiPanelDisplayCache,gifPanel:this._gifPanelDisplayCache,stickerPanel:this._stickerPanelDisplayCache})}},{key:"render",value:function(){var e=null;switch(this.props.selectedPanelId){case p.STICKER:e=a.createElement(c.default,{ref:this._setRefStickerPanel,displayCache:this._stickerPanelDisplayCache,onDisplayCache:this._handleStickerPanelDisplayCache,onFocusPrev:this._handleStickerPanelFocusPrev,onFocusNext:this._handleStickerPanelFocusNext,onSticker:this.props.onSticker});break;case p.EMOJI:default:e=a.createElement(i.default,{ref:this._setRefEmojiPanel,displayCache:this._emojiPanelDisplayCache,width:this.props.width,displayLocation:o.DISP_LOCATION.COMPOSE_BOX,onDisplayCache:this._handleEmojiPanelDisplayCache,onEmoji:this.props.onEmoji,onFocusPrev:this._handleEmojiPanelFocusPrev,onFocusNext:this._handleEmojiPanelFocusNext});break;case p.GIF:e=a.createElement(s.default,{ref:this._setRefGifPanel,displayCache:this._gifPanelDisplayCache,onDisplayCache:this._handleGifPanelDisplayCache,onFocusRelease:this.props.onFocusRelease,onFocusNext:this._handleGifPanelFocusNext,onFocusPrev:this._handleGifPanelFocusPrev,onGif:this.props.onGif})}return a.createElement(f.default,{displayName:"ComposeBoxPanels",escapable:!0,requestDismiss:this.props.requestDismiss,requestFocus:this._handleRequestFocus},e)}}]),t}();h.displayName="ComposeBoxPanels",t.default=h},dehfhdefdi:function(e,t){e.exports={body:"_3UbnA",vcardWrapper:"WOXAS",btnContainer:"_21bWq",btnPosition:"_1ecLP"}},deibcghej:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AlbumPosition={TOP_LEFT:"TOP_LEFT",TOP_RIGHT:"TOP_RIGHT",BOTTOM_LEFT:"BOTTOM_LEFT",BOTTOM_RIGHT:"BOTTOM_RIGHT"}},deibgadgic:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=c(n("baagejbchg")),u=c(n("fifhbjiec")),s=c(n("dbbbgjbbgf")),l=c(n("cefjbaedhh"));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"render",value:function(){var e=this.props.msg,t=e.rtl!==l10n.isRTL();if(e.hsmEnabled&&e.footer){var n=(0,a.default)(l.default.footer,{[l.default.isMedia]:e.subtype!==i.default.TEMPLATE_SUBTYPE.TEXT,[l.default.dirMismatch]:t});return o.createElement(s.default,{className:n,spacer:!0,msg:e},o.createElement(u.default,{text:e.footer,dirMismatch:t,direction:e.dir,selectable:!0}))}return null}}]),t}();f.displayName="TemplateMessageFooter",t.default=f},deifjeacc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=p(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=p(n("effbcehec")),u=p(n("ebcagbhefg")),s=p(n("baagejbchg")),l=n("ciajafaaie"),c=p(n("cdaddeffii")),f=p(n("ihfccfgdf")),d=p(n("bfdcadbbif"));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m="FRONT",b="SINGLE",g=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.setRefContext=function(e){return r.refContext=e},r.handleMouseDown=function(e){e.stopPropagation(),e.preventDefault(),r.props.onToggle(e.target)},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"handleClick",value:function(e){e.stopPropagation()}},{key:"render",value:function(){var e=this.props,t=e.msg,n=e.position,r=e.isGroupedSticker,f=t.isSentByMe,p=t.isGroupMsg,h=t.type,g=t.subtype,v=!!t.quotedMsg,y=!t.quotedMsg&&t.quotedRemoteJid,_=t.showForwarded(),E=y?null:f?c.default.contextOut:c.default.contextIn,j=(h===s.default.MSG_TYPE.DOCUMENT||h===s.default.MSG_TYPE.TEMPLATE&&g===s.default.TEMPLATE_SUBTYPE.DOCUMENT)&&!t.body,O=(h===s.default.MSG_TYPE.DOCUMENT||h===s.default.MSG_TYPE.TEMPLATE&&g===s.default.TEMPLATE_SUBTYPE.DOCUMENT)&&t.body,S=h===s.default.MSG_TYPE.LOCATION||h===s.default.MSG_TYPE.TEMPLATE&&g===s.default.TEMPLATE_SUBTYPE.LOCATION,w=t.linkPreview&&(0,l.isParsableOnlineVideoURL)(t.richPreviewType,t.matchedText,t.doNotPlayInline),P=t.isMedia&&h!==s.default.MSG_TYPE.AUDIO||O||S||v||h===s.default.MSG_TYPE.PAYMENT||w||h===s.default.MSG_TYPE.PRODUCT,M=!1;p&&(M=!f&&(n===m||n===b||v||P));var C=t.getSuspiciousLinks().length>0;P=P&&!M&&!C&&!_;var T=h===s.default.MSG_TYPE.CHAT&&t.linkPreview&&!w&&!M&&!_&&!C&&t.isTrusted(),A=(0,a.default)(P?c.default.contextIconMedia:c.default.contextIcon),N=h===s.default.MSG_TYPE.PTT||h===s.default.MSG_TYPE.AUDIO,k=t.type===s.default.MSG_TYPE.MULTI_VCARD&&!v&&!M&&!_,I=h===s.default.MSG_TYPE.GROUPS_V4_INVITE,R=(T||j||I)&&!M&&!_&&!v,L=h===s.default.MSG_TYPE.STICKER&&!v&&(r||!t.isGroupMsg||t.isGroupMsg&&t.isSentByMe),D=void 0,x=void 0;if(L){var U=u.default.get("defaultPreference"),G=U?U.wallpaperColor:s.default.WALLPAPER_COLOR[0],F={backgroundColor:G,opacity:.9};x=o.createElement("div",{className:c.default.badge,style:F}),D=s.default.INVERT_TRANSPARENT[G]}var B=!(h!==s.default.MSG_TYPE.CHAT||v||M||_||w||!t.dir||t.rtl===l10n.isRTL()),$=(h===s.default.MSG_TYPE.PTT||h===s.default.MSG_TYPE.AUDIO)&&l10n.isRTL()&&!M,V=(0,a.default)(E,P?l10n.isRTL()?c.default.contextMediaRtl:c.default.contextMediaLtr:null,{[c.default.context]:!(P||T)||R,[c.default.contextMedia]:P,[c.default.contextPtt]:N,[c.default.contextPttFix]:N&&!v&&!M,[c.default.contextSpecial]:R,[c.default.contextDoc]:j&&!M&&!_&&!v,[c.default.contextMediaDocument]:O,[c.default.contextMultiVcard]:k,[c.default.contextInverse]:B||$,[c.default.contextStickerAuthor]:h===s.default.MSG_TYPE.STICKER&&!L,[c.default.contextStickerTransparent]:L,[c.default.contextStickerInverse]:L&&D});return o.createElement("div",{className:V},o.createElement("div",{"data-a8n":i.default.key("icon-down-context"),"data-js-context-icon":!0,className:A,ref:this.setRefContext,onMouseDown:this.handleMouseDown,onClick:this.handleClick},o.createElement(d.default,{name:"down-context",color:P?"white":null})),x)}}]),t}();g.CONCERNS={msg:["linkPreview","matchedText","dir","rtl","isMedia","isSentByMe","isGroupMsg","type","quotedMsg","body","quotedRemoteJid","richPreviewType","subtype","doNotPlayInline"]},g.displayName="Menu",t.default=(0,f.default)(g,g.CONCERNS)},deijdcaadj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.addListeners=function(e,n,r){t._onStart=e,t._onPause=n,t._onEnded=r},this.setVideo=function(e,n){t._video=e,t._video.addEventListener("playing",t._onPlayingHandler),t._video.addEventListener("pause",t._onPauseHandler),t._video.addEventListener("ended",t._onEndedHandler)},this.play=function(){t._video&&t._video.play()},this.pause=function(){t._video&&!t._video.paused&&t._video.pause()},this.resume=function(){t._video&&t._video.play()},this.stop=function(){t._video&&!t._video.paused&&t._video.pause()},this._onPlayingHandler=function(){var e=t._onStart;e&&e(1e3*(t._video.duration-t._video.currentTime),1e3*t._video.duration)},this._onPauseHandler=function(){var e=t._onPause;e&&e()},this._onEndedHandler=function(){var e=t._onEnded;e&&e()},this.removeListeners=function(){t._onStart=void 0,t._onPause=void 0,t._onEnded=void 0}}return r(e,[{key:"duration",get:function(){return 1e3*this._video.duration}}]),e}();t.default=a},dejbbcaghh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canBeGroupedAsAlbum=function(e,t){return(e.isGroupMsg?a.default.equals(e.author,t.author):a.default.equals(e.from,t.from))&&e.isForwarded===t.isForwarded&&t.t-e.t<=r.default.ALBUM_DIFF_INTERVAL},t.canBeGroupedWithNext=function(e,t){return!e.isNotification&&!t.isNotification&&(e.isGroupMsg?a.default.equals(e.author,t.author):a.default.equals(e.from,t.from))};var r=o(n("baagejbchg")),a=o(n("jccfhaecf"));function o(e){return e&&e.__esModule?e:{default:e}}},dejcdgeeje:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=P(n("ecahagbbfh")),i=P(n("ejeidfcga")),u=P(n("hgeacfdgi")),s=P(n("ffebdchi")),l=P(n("bbchdeehff")),c=P(n("bfdjgcjbeh")),f=P(n("dhhfaeacef")),d=P(n("hehdicceb")),p=P(n("eihefeaje")),h=P(n("jheedhagg")),m=P(n("djiejaiah")),b=P(n("dfgbhedcf")),g=P(n("eceadcicaf")),v=n("bhfdfhefca"),y=P(n("bhheahajjg")),_=P(n("bjbedjfe")),E=P(n("ihfccfgdf")),j=n("bheafeifce"),O=P(n("bfdcadbbif")),S=P(n("fbjjefaic")),w=P(n("cjcaccbiih"));function P(e){return e&&e.__esModule?e:{default:e}}var M=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.isListeningForMove=!1,e.didDrag=!1,e.setRef=function(t){e.ref=t,e.props.onRef(t)},e.onWindowFocus=function(){},e.onMouseDown=function(e){},e.onDrag=function(t){e.didDrag=!0},e.onClickCapture=function(e){},e.onInfoPanel=function(){var t=e.props.chat;!t.isPSA&&(t.isUser||t.isBroadcast||t.isGroup)&&l.default.openDrawerRight(a.createElement(b.default,{chat:(0,j.unproxy)(t),key:`info-${t.id.toString()}`}),"slide-left",e.props.uim)},e.checkForDrawerMid=function(e){l.default.existsDrawerMid(function(t){t&&e.preventDefault()})},e.onChatSearch=function(t){t.preventDefault();var n=e.props.chat;l.default.existsDrawerMid(function(t){t||l.default.openDrawerRight(a.createElement(s.default,{chat:(0,j.unproxy)(n),key:`chat-search-${n.id.toString()}`}),"slide-left",e.props.uim)})},e.state={},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){}},{key:"render",value:function(){var e=this.props.chat,t=void 0,r=void 0;if(e.isUser)t=a.createElement(c.default,{callUi:u.default,chat:e,contact:e.contact,onSelectMessages:this.props.onSelectMessages}),r=a.createElement(w.default,{contact:e.contact,presence:e.presence,chatstate:e.presence.chatstate,placeholder:l10n.t(313),location:"title"});else if(e.isBroadcast)t=a.createElement(i.default,{chat:(0,j.unproxy)(e),onSelectMessages:this.props.onSelectMessages}),r=null;else if(e.isGroup){t=a.createElement(d.default,{chat:(0,j.unproxy)(e),onSelectMessages:this.props.onSelectMessages});var s=e.groupMetadata&&e.groupMetadata.participants&&e.groupMetadata.participants.iAmAdmin()&&e.groupMetadata.announce?l10n.t(178):l10n.t(312);r=a.createElement(p.default,{chatstate:e.presence.chatstate,groupMetadata:e.groupMetadata,presence:e.presence,placeholder:s,location:"title"})}var l=n("bjbdcigbdi"),h=l.supportsFeature(l.F.FTS_IN_CONV)?a.createElement(v.MenuBarItem,{a8nText:"search-button",icon:a.createElement(O.default,{name:"search-alt"}),title:l10n.t(973),onClick:this.onChatSearch}):null,b=this.props.canAttach?a.createElement(o.default,{chat:(0,j.unproxy)(e),getComposeContents:this.props.getComposeContents,onMenuComplete:this.props.onMenuComplete}):null;return e.isPSA&&(r=null),a.createElement("header",{ref:this.setRef,className:m.default.chatHeader,onClickCapture:this.onClickCapture,onMouseDown:this.onMouseDown},a.createElement("div",{className:m.default.chatAvatar,onClick:this.onInfoPanel,role:e.isPSA?null:"button"},a.createElement(f.default,{id:e.id,size:40})),a.createElement("div",{className:m.default.chatBody,onClick:this.onInfoPanel,role:e.isPSA?null:"button"},a.createElement("div",{className:m.default.chatMain},a.createElement("div",{className:m.default.chatTitle},a.createElement(y.default,{chat:e,titlify:!0,ellipsify:!0,showBusinessCheckmark:!0}))),r),a.createElement("div",{className:m.default.chatControls},a.createElement(v.MenuBar,{key:"conversation-header"},h,b,a.createElement(v.MenuBarItem,{a8nText:"conversation-menu",icon:a.createElement(O.default,{name:"menu"}),title:l10n.t(704),onClick:this.checkForDrawerMid},t))))}}]),t}();M.CONCERNS={chat:["id","formattedTitle","presence","isUser","isGroup","isBroadcast","groupMetadata","isPSA","contact"]},M.displayName="ConversationHeader",t.default=(0,h.default)((0,S.default)((0,g.default)((0,_.default)((0,E.default)(M,M.CONCERNS)))))},dejeiggfhi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={encFilehash:e.encFilehash,type:e.type};return a.default.log("mmsCheckIfUploadExists: start",t)(),(0,o.default)(e).then(function(e){if("complete"!==e.resume)throw new r.MediaNotFoundError("mmsCheckIfUploadExists");if(!e.directPath)throw new r.HttpInvalidResponseError("mmsCheckIfUploadExists: missing directPath");if(!e.url)throw new r.HttpInvalidResponseError("mmsCheckIfUploadExists: missing url");return{directPath:e.directPath,url:e.url}}).then(function(e){return a.default.log("mmsCheckIfUploadExists: success",t)(),e}).catch(function(e){throw e instanceof r.MediaNotFoundError?a.default.log("mmsCheckIfUploadExists: expected error",t,e)():a.default.error("mmsCheckIfUploadExists: error",t,e)(),e})};var r=n("fgeddfbg"),a=i(n("bdiiahhjbe")),o=i(n("bgfebdjaae"));function i(e){return e&&e.__esModule?e:{default:e}}},dejgiicjih:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("chdbdhafaj");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}})},dfabffebdg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=b(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=b(n("bfhcddbbhg")),u=n("deibcghej"),s=b(n("bbchdeehff")),l=n("baagejbchg"),c=n("ejbdjaifi"),f=b(n("eceadcicaf")),d=n("dhccihecch"),p=b(d),h=b(n("eedjbihej")),m=b(n("dbgefjefac"));function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=function(e){function t(){var e,n,r;g(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.addRevokeListener=function(){r.props.listeners.add(r.props.msg,"change:isRevoked",r.handleRevoke)},r.handleRevoke=function(){s.default.refreshMessages()},v(r,n)}return y(t,o.Component),r(t,[{key:"componentDidMount",value:function(){this.addRevokeListener()}},{key:"componentDidUpdate",value:function(e){this.props.msg.id.equals(e.msg.id)||(this.props.listeners.remove(e.msg,"change:isRevoked",this.handleRevoke),this.addRevokeListener())}},{key:"getRef",value:function(){return this.ref}},{key:"render",value:function(){var e=this.props,t=e.msg,n=e.albumMsgs,r=e.albumPosition,s=e.isMsgVisible,f=e.zoomMsg,b=e.numAdditionalMedia,g=(0,a.default)({[i.default.albumTopLeft]:r===u.AlbumPosition.TOP_LEFT,[i.default.albumTopRight]:r===u.AlbumPosition.TOP_RIGHT,[i.default.albumBottomLeft]:r===u.AlbumPosition.BOTTOM_LEFT,[i.default.albumBottomRight]:r===u.AlbumPosition.BOTTOM_RIGHT}),v=void 0;null!=b&&0!==b&&(v=o.createElement(h.default,{theme:"large",className:(0,a.default)(i.default.numberText)},l10n.t(857,{number:b})));var y=void 0;if(t.type===l.MSG_TYPE.IMAGE)y=o.createElement(p.default,{theme:d.THEMES.ALBUM,albumMsgs:n,msg:t,mediaData:t.mediaData,ref:(0,c.GetRef)("ref",this),isMsgVisible:s,zoomMsg:f,overlayContent:v});else{if(t.type!==l.MSG_TYPE.VIDEO)throw new Error("Unexpected Album Type: "+t.type);y=o.createElement(m.default,{theme:d.THEMES.ALBUM,albumMsgs:n,msg:t,mediaData:t.mediaData,ref:(0,c.GetRef)("ref",this),zoomMsg:f,overlayContent:v})}return o.createElement("div",{className:i.default.albumGridClass},o.createElement("div",{className:g},y))}}]),t}();_.displayName="AlbumGrid";var E=(0,f.default)(_),j=function(e){function t(){var e,n,r;g(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.getRef=function(){return r.getComponent().getRef()},v(r,n)}return y(t,E),t}();t.default=j},dfaebdhdda:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("bhhdiiaihb")),i=s(n("ceggedffg")),u=s(n("geiiceahh"));function s(e){return e&&e.__esModule?e:{default:e}}var l=(0,o.default)("_"),c=(0,i.default)(/(?:^|[\s\W_])~(\S|\S[^\n]*?\S)~(?=$|[[\s\W_])/g,1,l),f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c),r(t,null,[{key:"jsx",value:function(e,t,n){var r=n.selectable;return a.createElement(u.default,{selectable:r},e)}}]),t}();t.default=f},dfafdjbjfd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=l(n("cdbddjfbcd")),u=l(n("cjhcbjdgc")),s=l(n("baaaeiafec"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=u.default.prefix("transform"),d=u.default.prefix("transition"),p=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={shouldAnimate:!0,prevItemKey:null,prevRowOffset:null},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.animate!==e.animate||this.props.zIndex!=this.props.zIndex||this.props.renderItem!==e.renderItem||this.state.shouldAnimate!==t.shouldAnimate||!(0,i.default)(this.props.data,e.data)}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.zIndex,a=this.state.shouldAnimate?`${f} 200ms ease-in-out`:"none",i="horizontal"===this.props.listDirection?{width:t.width,[f]:`translateX(${t.offset}px)`}:{height:t.height,[f]:`translateY(${t.offset}px)`},u=r({zIndex:n,[d]:a},i),l=this.props.renderItem(t);return o.createElement("div",{className:s.default.item,style:u},l)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return r({},t,{prevItemKey:e.data.itemKey,prevRowOffset:e.data.offset,shouldAnimate:h(e,t)})}}]),t}();function h(e,t){if(!e.animate)return!1;var n=t.prevItemKey;return e.data.itemKey===n&&e.data.offset!==t.prevRowOffset}p.displayName="ListItem",t.default=p},dfbbbjdejj:function(e,t){e.exports={avatar:"_2Z5XD",avatarDefault:"_3Vh6k",avatarImage:"o7roc",isLoaded:"_1Ve1Q"}},dfbbghiidh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onIsBusinessChange=function(e){var t=(0,a.unproxy)(e),n=t.isBusiness,r=t.businessProfile,o=t.id;n&&!r?t.addChild("businessProfile",i.default.BusinessProfile.gadd(o)):!n&&r&&(t.stopListening(r),t.businessProfile=void 0,r.delete())};var r,a=n("bheafeifce"),o=n("bhggeigghg"),i=(r=o)&&r.__esModule?r:{default:r}},dfbcaibdjh:function(e,t){e.exports={empty:"_13U-5",emptyTop:"_2dEsb",compact:"_1EZrc",icon:"_1i7uJ",title:"_1qGyP",text:"_3dwyT",spinner:"_334hl",action:"_32ACA"}},dfbccdiiii:function(e,t){e.exports={button:"_1f9br",fullscreen:"_3ffkZ"}},dfbhcehadj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EmojiVariantCollection=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("cgcgbfbffj"),o=s(a),i=s(n("djegeegcbf")),u=s(n("eaejdgfgif"));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.EmojiVariantCollection=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"setVariant",value:function(e,t){var n=i.default.skinToneEmojis[e];if(!n)throw new Error("attempt to store variantless emoji");this.gadd({id:n,variant:t})}},{key:"getVariant",value:function(e){if(i.default.skinToneEmojis[e]){var t=this.get(e);return t?t.variant:null}throw new Error("attempt to get variantless emoji")}},{key:"getVariantIfExists",value:function(e){if(i.default.skinToneEmojis[e]){var t=this.get(e);return t?t.variant:null}return null}}]),t}();l.model=u.default,l.cachePolicy={id:"emoji_variant_collection",policy:a.CACHE_POLICY.LOAD,delay:1e3},t.default=new l},dfcdejcheh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=h(n("dbdfbgehgj")),i=h(n("bbchdeehff")),u=h(n("ebcfjdcbhh")),s=n("bgddggdhc"),l=h(n("bbhhbdicgc")),c=h(n("jheedhagg")),f=h(n("dhfbfehaef")),d=h(n("bifahbdaeg")),p=h(n("ecgfaicjah"));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=function(e){function t(){var e,n,r;m(this,t);for(var l=arguments.length,c=Array(l),f=0;f<l;f++)c[f]=arguments[f];return n=r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r._listPointerEvents=!0,r.onListPointerEventsOff=function(){r._listPointerEvents=!1},r.onListPointerEventsOn=function(){r._listPointerEvents=!0},r.onClick=function(e,t,n){e.preventDefault(),e.stopPropagation(),o.default.find(t.id).then(function(e){2===u.default.column&&r.props.uim.uie.requestDismiss(),i.default.focusChatTextInput(e),i.default.openChatAt(e,n)})},r.getSelection=function(){return r.props.ftsResult||[]},r.renderItem=function(e){var t=e.msg;return t.sender&&t.isGroupMsg&&!t.isNotification&&!t.isSentByMe?a.createElement(p.default,{contact:t.senderObj,msg:t,chat:t.chat,searchText:r.props.searchText,onClick:r.onClick,active:r.props.selection,key:t.id.toString()}):a.createElement(d.default,{msg:t,chat:t.chat,searchText:r.props.searchText,onClick:r.onClick,active:r.props.selection,key:t.id.toString()})},r.restoreFocus=function(){r.props.selection.reset(!0)},r.onFocusGain=function(e){e.target===(0,s.forbiddenAssertDOMNode)(r)&&r._listPointerEvents&&(r.props.selection.index<0?r.focusFirst():r.props.selection.reset(!0))},r.focusFirst=function(){r.props.selection.setFirst(!0)},r.onNextChat=function(e){e&&(e.preventDefault(),e.stopPropagation());var t=r.props.selection.next();r.props.selection.index!==t&&r.props.selection.setNext(!0)},r.onPrevChat=function(e){e&&(e.stopPropagation(),e.preventDefault()),r.props.selection.prev()>-1?r.props.selection.setPrev(!0):r.props.onFocusSearch()},b(r,n)}return g(t,a.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.selection.init(this.getSelection())}},{key:"getData",value:function(){return this.props.ftsResult.map(function(e){return{itemKey:e.id.toString(),msg:e}})}},{key:"render",value:function(){var e=this,t={down:function(t){return e.onNextChat(t)},up:function(t){return e.onPrevChat(t)}};return a.createElement(f.default,{handlers:t,onFocus:this.onFocusGain,"data-tab":3},a.createElement(l.default,{flatListController:this.props.flatListController,direction:"vertical",data:this.getData(),renderItem:this.renderItem,forceConsistentRenderCount:!1}))}}]),t}();v.displayName="MsgListBase";var y=(0,c.default)(v),_=function(e){function t(){return m(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,y),r(t,[{key:"focusFirst",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).focusFirst()}}]),t}();t.default=_},dfcggebdjj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmojiEl=function(e){return!!e&&e instanceof HTMLElement&&!!e.dataset[p]};var r=s(n("ceffhbhahb")),a=s(n("bbchdeehff")),o=s(n("djegeegcbf")),i=s(n("debfbiicee")),u=n("eagfdbhhhh");function s(e){return e&&e.__esModule?e:{default:e}}var l=n("baagejbchg").ONE_BY_ONE_TRANS_GIF,c=o.default.emojiRegex,f=o.default.getEmojiFromUnicode,d=c(),p="isEmoji",h=!1;var m={serializers:[["img.emoji",function(e){return e.getAttribute("alt")||""}]],parsers:[function(e){return e.replace("","")},function(e){return e.replace(d,function(e,t){var n=function(e){var t=f(e);if(!t)return null;var n=(0,u.createSelectableElement)("img",e);return n.setAttribute("alt",e),n.setAttribute("draggable","false"),n.setAttribute("class",(0,r.default)(n.getAttribute("class"),o.default.getClasses(t))),Object.assign(n.style,o.default.getStyle(t)),n.setAttribute("src",l),n.dataset[p]="true",n}(t);return n?n.outerHTML:""})}],hooks:{[i.default.MOUNT](){h||(h=!0,new Promise(function(e){0===a.default.uiBusy&&e(),a.default.once("ui_idle",function(){e()})}).delay(0).then(function(){document.execCommand("enableObjectResizing",!1,!1)}).catch(function(){}))}},handlers:{onBeforeInput(e,t){var n=e.data,r=d.exec(n);return!!r&&(t.replaceSelection(r[0]),!0)},onClick(e){if(!e.target)return!1;var t=e.target.getAttribute("class");if(!t||!~t.indexOf("emoji"))return!1;var n=window.getSelection(),r=new Range;return e.pageX<e.target.x+e.target.width/2?(r.setStartBefore(e.target),r.setEndBefore(e.target)):(r.setStartAfter(e.target),r.setEndAfter(e.target)),n.removeAllRanges(),n.addRange(r),!0}}};t.default=m},dfcihdhibf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("dhfbfehaef")),i=s(n("bdjihaecid")),u=s(n("faeabghda"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._stickerItems=new Map,r._setRefContainer=function(e){r._refContainer=e},r._handleStickerArrowDown=function(e){e.stopPropagation(),e.preventDefault();var t=r._getActiveStickerItemIndex(),n=r._getNumCols(),a=Math.min(t+n,r._stickerItems.size-1);Math.floor(t/n)!==Math.floor(a/n)&&r._incActiveIndex(n)},r._handleStickerArrowLeft=function(e){e.stopPropagation(),e.preventDefault(),r._decActiveIndex(1)},r._handleStickerArrowRight=function(e){e.stopPropagation(),e.preventDefault(),r._incActiveIndex(1)},r._handleStickerArrowUp=function(e){e.stopPropagation(),e.preventDefault(),r._decActiveIndex(r._getNumCols())},r._handleScroll=function(e){r.props.onScroll&&r._refContainer&&r.props.onScroll(r._refContainer.scrollTop)},r._setRefContainer=function(e){r._refContainer=e},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"focus",value:function(e){var t=e||0;t=Math.min(t,this._stickerItems.size),t=Math.max(t,0);var n=this._stickerItems.get(t);n&&n.focus()}},{key:"scrollToTop",value:function(){this._refContainer&&(this._refContainer.scrollTop=0)}},{key:"_decActiveIndex",value:function(e){this._incActiveIndex(0-e)}},{key:"_getActiveStickerItemIndex",value:function(){for(var e=this._stickerItems.size,t=0;t<e;t++){var n=this._stickerItems.get(t);if(n&&n.hasFocus())return t}return-1}},{key:"_getNumCols",value:function(){var e=this._stickerItems.get(0);if(!e)return 0;for(var t=e.getOffsetTop(),n=this._stickerItems.size,r=0;r<n;r++){var a=this._stickerItems.get(r);if(a&&a.getOffsetTop()!==t)return r}return this._stickerItems.size}},{key:"_incActiveIndex",value:function(e){if(0!==e){var t=this._getActiveStickerItemIndex();if(-1!==t){var n=t+e;if(n<0){if(!this.props.onFocusPrev)return;this.props.onFocusPrev()}else{n=Math.min(n,this._stickerItems.size-1);var r=this._stickerItems.get(n);r&&r.focus()}}}}},{key:"_renderStickers",value:function(){var e=this;return this.props.stickers.map(function(t,n){return a.createElement(i.default,{key:t.id,onClick:e.props.onStickerClick,onEnter:e.props.onStickerEnter,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){t?e._stickerItems.set(n,t):e._stickerItems.delete(n)}),sticker:t})})}},{key:"render",value:function(){return a.createElement(o.default,{onRef:this._setRefContainer,className:u.default.container,handlers:{up:this._handleStickerArrowUp,down:this._handleStickerArrowDown,left:this._handleStickerArrowLeft,right:this._handleStickerArrowRight},onScroll:this._handleScroll},this._renderStickers())}}]),t}();c.displayName="StickersScrollGridPresentational",t.default=c},dfdebdgdei:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.blockContact=function(e){return d((0,c.unproxy)(e),!0)},t.unblockContact=function(e){return d((0,c.unproxy)(e),!1)};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=n("ccihhdchab"),o=n("eafejccch"),i=f(n("bgfcjjddjf")),u=f(n("bbchdeehff")),s=n("ddjgcfjicj"),l=f(n("bdiiahhjbe")),c=n("bheafeifce");function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n){var c=e.id,f=e.isBlocked();if(t&&f||!t&&!f)return Promise.resolve();var p=(0,o.sendSetBlock)(t,c).then(function(e){e&&(t?i.default.add({id:c}):i.default.remove(c))});return function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,a.genId)(),i={participant:e.formattedName},c=n?new a.ActionType(l10n.t(7,i)):new a.ActionType(l10n.t(157,i)),f=t.then(function(){var t=n?l10n.t(6,i):l10n.t(156,i);return new a.ActionType(t,l10n.t(158),function(){return d(e,!n,o)})}).catch(function(t){if(!(t instanceof s.ServerStatusCodeError)){l.default.error("action:setBlock dropped")(t);var r=n?l10n.t(5,i):l10n.t(155,i),u=new a.ActionType(r,l10n.t(154),function(){return d(e,n,o)});return Promise.reject(u)}if(t.statusCode>=400){var c=n?new a.ActionType(l10n.t(5,i)):new a.ActionType(l10n.t(155,i));return Promise.reject(c)}});u.default.openToast(r.createElement(a.ActionToast,{id:o,initialAction:c,pendingAction:f}))}(e,p,t,n),p}},dfdhiegfdi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addLiveLocation=function(e,t){var n=(0,r.unproxy)(e);n.liveLocations||(n.liveLocations=[]);n.liveLocations.push(t)},t.removeLiveLocation=function(e,t){var n=(0,r.unproxy)(e),a=n.liveLocations;if(!a)return;for(var o=a.length-1;o>=0;o--)if(a[o]===t){a.splice(o,1);break}0===a.length&&(n.liveLocations=null)};var r=n("bheafeifce")},dfdjejggdf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PROFILE_PIC_COMMAND=Object.freeze({REMOVE:"remove",SET:"set"})},dfeecdfijg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=c(n("dhbejdh")),u=c(n("bfgbdiffgd")),s=c(n("ihfccfgdf")),l=c(n("bfdcadbbif"));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.msg,n=e.className;if(!t.showForwarded())return null;var r=u.default.frequentlyForwardedMessages&&t.isFrequentlyForwarded?"highly-forwarded":"forwarded";return o.createElement("div",{className:(0,a.default)(i.default.container,n)},o.createElement(l.default,{name:r,display:"inline"}),o.createElement("span",{className:i.default.text},l10n.t(466)))}}]),t}();f.CONCERNS={msg:["isForwarded","forwardingScore","numTimesForwarded","isFrequentlyForwarded"]},f.displayName="ForwardedIndicator",t.default=(0,s.default)(f,f.CONCERNS)},dfehedcfdb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("bhhdiiaihb")),i=s(n("ceggedffg")),u=s(n("hadecdfeb"));function s(e){return e&&e.__esModule?e:{default:e}}var l=(0,o.default)("_"),c=(0,i.default)(/(?:^|\s|_|[^\w\\])_(\S|\S[^\n]*?\S)_(?=$|[[\s\W_])/g,1,l),f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c),r(t,null,[{key:"jsx",value:function(e,t,n){var r=n.selectable,o=void 0!==r&&r;return a.createElement(u.default,{selectable:o},e)}}]),t}();t.default=f},dfeigdcjhi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=_[e];if(!t)return;try{t()}catch(t){l.default.error(`keyboard:error occurred running action ${e}.`,t)()}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=y(n("dieejegcge")),o=y(n("dbdfbgehgj")),i=y(n("bbchdeehff")),u=y(n("biddiiafgd")),s=y(n("bjigbaghc")),l=y(n("bdiiahhjbe")),c=y(n("biecbbiiee")),f=y(n("icadbbfej")),d=y(n("daijadgha")),p=y(n("bajidgjehj")),h=y(n("dhefcajhhb")),m=y(n("bfebbjhgbh")),b=y(n("icaahcghc")),g=y(n("gbbacfeci")),v=y(n("eaaehfdjdg"));function y(e){return e&&e.__esModule?e:{default:e}}var _={[a.default.CONTACT_US]:function(){i.default.openModal(r.createElement(m.default,null))},[a.default.DELETE_OR_EXIT_CHAT]:function(){var e=E();e&&i.default.deleteOrExitChat(e)},[a.default.GO_TO_NEXT_CHAT]:function(){i.default.focusNextChat(!0)},[a.default.GO_TO_PREV_CHAT]:function(){i.default.focusPrevChat(!0)},[a.default.LOGOUT]:function(){if(!c.default.some(function(e){return 0===e.ack&&e.local&&e.isSentByMe}))return v.default.logout();i.default.openModal(r.createElement(u.default,{title:l10n.t(332),onOK:function(){return v.default.logout()},okText:l10n.t(693),onCancel:function(){return i.default.closeModal()},cancelText:l10n.t(1153)},l10n.t(1026)))},[a.default.OPEN_NEW_CHAT]:function(){i.default.existsDrawerLeft(function(e){e&&i.default.closeDrawerLeft(),i.default.openDrawerLeft(r.createElement(f.default,null))})},[a.default.OPEN_NEW_GROUP]:function(){i.default.existsDrawerLeft(function(e){e&&i.default.closeDrawerLeft(),i.default.openDrawerLeft(r.createElement(d.default,null))})},[a.default.OPEN_PROFILE]:function(){i.default.existsDrawerLeft(function(e){e&&i.default.closeDrawerLeft();var t=g.default.assertGet(s.default.me),n=h.default.assertGet(s.default.me);i.default.openDrawerLeft(r.createElement(p.default,{status:t,profilePicThumb:n,conn:s.default}))})},[a.default.OPEN_SETTINGS]:function(){i.default.existsDrawerLeft(function(e){e&&i.default.closeDrawerLeft(),i.default.openDrawerLeft(r.createElement(b.default,null))})},[a.default.SEARCH]:function(){i.default.focusChatSearch()},[a.default.SEARCH_IN_CHAT]:function(){var e=E();e&&i.default.chatSearch(e)},[a.default.TOGGLE_ARCHIVE]:function(){var e=E();if(e&&e.canArchive()){var t=e.archive;i.default.archiveChat(e,!t)}},[a.default.TOGGLE_MUTE]:function(){var e=E();if(e&&e.mute.canMute()){var t=e.mute.isMuted;i.default.muteChat(e,!t)}},[a.default.TOGGLE_UNREAD]:function(){var e=E();if(e){var t=e.markedUnread;i.default.markChatUnread(e,!t)}},[a.default.ZOOM_IN]:function(){},[a.default.ZOOM_OUT]:function(){},[a.default.ZOOM_RESET]:function(){}};function E(){var e=o.default.filter(function(e){return e.active});return e.length?e[0]:void 0}},dffedeegcb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.createGroup=function(e,t,n,r){return function e(t,n,r,s){var f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(0,o.genId)();var b=s.map(function(e){return e.id});var g=void 0;var y=(0,l.sendCreateGroup)(t,b,g,(0,m.default)(),!1,!1);var _=new o.ActionType(l10n.t(55));var E=y.then(function(e){return v(e,t,g),new o.ActionType(l10n.t(54))}).catch(c.ServerStatusCodeError,function(e){return 406===e.status?new o.ActionType(l10n.t(50)+" "+l10n.t(51)):429===e.status?new o.ActionType(l10n.t(50)+" "+l10n.t(52)):void 0}).catch(function(a){return d.default.error("models:chatCollection:createGroup dropped")(a),new o.ActionType(l10n.t(50),l10n.t(154),function(){return e(t,n,r,s,f)})});u.default.openToast(a.createElement(o.ActionToast,{id:f,initialAction:_,pendingAction:E}));return y.then(function(e){if(e.gid&&i.default.find(e.gid).then(function(e){u.default.openChatBottom(e).then(function(t){t&&u.default.focusChatTextInput(e)})}),!e._duplicate&&n&&r){var t=h.default.gadd(e.gid);return(0,p.setProfilePic)(t,n,r)}e._duplicate&&d.default.error("createGroup failed to set picture.")()}).catch(c.ServerStatusCodeError,function(e){})}(e,t,n,r)},t.sendForNeededAddRequest=v;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("ccihhdchab"),i=g(n("dbdfbgehgj")),u=g(n("bbchdeehff")),s=g(n("dhigahgdjb")),l=n("eihchghee"),c=n("ddjgcfjicj"),f=g(n("bjbdcigbdi")),d=g(n("bdiiahhjbe")),p=n("bbbdgehigj"),h=g(n("dhefcajhhb")),m=g(n("cfejjfjhca")),b=n("dcbdjheea");function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){if(f.default.supportsFeature(f.default.F.GROUPS_V_4_JOIN_PERMISSION)&&e.participants){var o=a||e.gid;d.default.assert(!!o,"Group add request was provided with undefined gid")();var i=e.participants.reduce(function(e,t){var n=Object.keys(t)[0];if("403"!==t[n].code)return e;var a=(0,b.createWid)(n),o=s.default.gadd(a,{silent:!0});return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e),[r({},t[n],{contact:o})])},[]);i.length>0&&o&&u.default.openGroupV4InviteRequestFlow(i,o,t,n)}}},dffedieagi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n("ceffhbhahb")),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("ffhghhcgf")),i=l(n("baagejbchg")),u=l(n("dfeecdfijg")),s=l(n("cieaeggjg"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.msg,n=(0,r.default)(o.default.bubble,{[o.default.bubbleIn]:!t.isSentByMe,[o.default.bubbleOut]:t.isSentByMe,[o.default.hasAuthor]:e.author,[o.default.hasQuote]:e.quotedMsg,[o.default.isGallery]:e.displayType===i.default.DISP_TYPE.STARRED_MSGS||e.displayType===i.default.DISP_TYPE.GALLERY,[o.default.isForwarded]:t.showForwarded()}),l=e.status?a.createElement("div",{className:o.default.status},e.status):null,c=e.author?a.createElement("div",{className:o.default.author},e.author):null,f=t.showForwarded()?a.createElement(u.default,{msg:t,className:o.default.forwardedIndicator}):null,d=e.quotedMsg?a.createElement("div",{className:o.default.quote},e.quotedMsg):null;return a.createElement("div",{className:n},c,f,d,a.createElement("div",{className:o.default.body},a.createElement("div",{className:o.default.player},e.player),a.createElement("div",{className:o.default.avatar},l,e.avatar)),a.createElement("div",{className:o.default.meta},a.createElement(s.default,{msg:t})))};c.displayName="AudioBubble",t.default=c},dffjhcaahi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateLocal=function(e,t){if(r.default.supportsFeature(r.default.F.MODEL_STORAGE))return a.default.merge(e.toString(),t);return Promise.resolve()};var r=o(n("bjbdcigbdi")),a=o(n("bjdejebbgc"));function o(e){return e&&e.__esModule?e:{default:e}}},dfgbhedcf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=h(n("cbhegcchgg")),i=h(n("dghhefgjhc")),u=h(n("djcchigfih")),s=h(n("djbhiedbef")),l=n("dajffajabh"),c=h(l),f=n("cicgeajfge"),d=h(n("jheedhagg")),p=n("bchecggagg");function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.onCancel=function(){r.props.uim.uie.requestDismiss()},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){return a.createElement(u.default,null,a.createElement(c.default,{type:l.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onCancel}),a.createElement(s.default,null,this.props.error?a.createElement(f.LazyLoadRetry,{onClick:this.props.retry}):a.createElement(f.Loading,null)))}}]),t}();b.displayName="BaseLoadingDrawer";var g=(0,d.default)(b),v=(0,o.default)({loader:p.requireInfoFlow,loading:e=>a.createElement(g,{error:Boolean(e.error),retry:e.retry}),delay:i.default.LOADABLE_DELAY});t.default=v},dfgcaedggj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;return l(e,(0,a.default)(t),n)},t._parse=l;var r=s(n("beifejbdga")),a=s(n("ceijcbgdah")),o=s(n("bgiegbhhbf")),i=s(n("ebiheagbje")),u=n("chhhffajfi");function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,a=(0,o.default)(e,t,n),s=a.length?(0,i.default)(e,(0,r.default)(a,t),t):{children:[{type:"text",value:e}]};return n<(0,u.numCodepoints)(e)&&function e(t,n){if(n.limit<=0)return;if(t.type&&"text"===t.type){if(t.value.length>=n.limit){var r=(0,u.toArray)(t.value);r.length>=n.limit&&(r=r.slice(0,n.limit)),t.value=r.join(""),n.limit=n.limit-r.length}else n.limit=n.limit-t.value.length;return}if(t.type&&"delimiter"===t.type)return;var a=0;for(;a<t.children.length&&(e(t.children[a],n),!(n.limit<=0));)a++;t.children=t.children.slice(0,a+1)}(s,{limit:n}),s}},dfgeejdaib:function(e,t,n){"use strict";var r=m(n("dejffaagc")),a=m(n("beajagdaig")),o=m(n("iidhbgeed")),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},s=m(n("cgcgbfbffj")),l=m(n("bjbdcigbdi")),c=m(n("bdiiahhjbe")),f=m(n("cbcbdjdah")),d=m(n("biecbbiiee")),p=n("eaaehfdjdg"),h=m(p);function m(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.syncPromise=null,e.isSynced=!1,e.listenTo(h.default,"change:stream",function(){h.default.stream===p.STREAM.DISCONNECTED&&(e.isSynced=!1)}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),i(t,[{key:"onResume",value:function(){this.isSynced=!1,this.sync()}},{key:"maySync",value:function(){return l.default.supportsFeature(l.default.F.STARRED_GIFS)}},{key:"sync",value:function(){var e=this;return this.isSynced?Promise.resolve():this.syncPromise?this.syncPromise:this.maySync()?(this.syncPromise=d.default.getStarred(void 0,void 0,void 0,!0).then(function(t){var n=[];t&&t.length&&(n=(0,o.default)(t,function(e){return e&&e.isGif&&!e.isUnsentMedia})),e.set(n)}).catch(function(e){499!==e&&c.default.error("starred gif msgs sync error: ",e)()}).finally(function(){e.syncPromise=null,e.isSynced=!0}),this.syncPromise):Promise.resolve()}},{key:"add",value:function(e,n){if(!e||!this.maySync()||!this.isSynced)return[];var r=this.isModel(e)?[e]:e;return r=(0,a.default)((0,o.default)(r,function(e){return e.isGif}),this.toArray(),function(e,t){return e.body===t.body}),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,r,n)}},{key:"remove",value:function(e,n){if(!e||!this.maySync()||!this.isSynced)return[];var a=this.isModel(e)?[e]:e;return a=(0,r.default)((0,o.default)(a,function(e){return e.isGif}),this.toArray(),function(e,t){return e.body===t.body}),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this,a,n)}}]),t}();b.model=f.default,b.comparator=function(e,t){return t.t-e.t},e.exports=new b},dfhbgghjei:function(e,t){e.exports={bubble:"_3SaET",isPreview:"_269ND",author:"_1UWph",forwarded:"X41CX",forwardedIndicator:"Lmjye",hasAuthor:"_2blB5",meta:"iVt71",hasCaption:"_1Jk6Y",caption:"_3AT9Y",isPSA:"XR5vd",isPsa:"XR5vd",quote:"_1-viB",thumb:"_3mdDl",isAlbum:"xCzoD",thumbBody:"_18vxA",thumbBodyLores:"_1RZLX",isGallery:"_11lI2",overlay:"_1cdQD",overlayAlbumText:"_3Ms7M"}},dfhebgbhja:function(e,t){e.exports={container:"RxbUw",contentContainer:"_2r0i1",emptyContainer:"U9fHd",emptySticker:"_3WpZ3",emptyText:"_2Hze1"}},dfhgeaeig:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryIdentity=function(e){var t=(0,a.unproxy)(e),n=t.verificationBinary,i=t.verificationString,s=t.id;if(n&&i)return Promise.resolve();if(t.promises.queryIdentity)return t.promises.queryIdentity;t.promises.queryIdentity=o.default.queryIdentity(s).then(function(t){u(e,t)}).catch(function(e){r.default.error("models:contact:queryIdentity error: "+String(e))()}).finally(function(){t.promises.queryIdentity=null})},t.updateIdentity=u;var r=i(n("bdiiahhjbe")),a=n("bheafeifce"),o=i(n("bihdhbjih"));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var n=(0,a.unproxy)(e);t.status&&t.status>=400?(n.unset("verificationBinary"),n.unset("verificationString")):(n.verificationBinary=t.binary,n.verificationString=t.string)}},dfhgffbdig:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=m(n("eaaagccfda")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},i=m(n("dbdfbgehgj")),u=m(n("bbchdeehff")),s=m(n("fcedgihic")),l=m(n("bjigbaghc")),c=n("dffedeegcb"),f=m(n("bjbdcigbdi")),d=m(n("iajeehcac")),p=m(n("beahjdfigf")),h=m(n("bfgbdiffgd"));function m(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a._debouncedSort=(0,r.default)(function(){return a.sort()},1e3),a.sendForNeededAddRequest=function(e){var t=a.parent.id,n=i.default.assertGet(t),r=n.groupMetadata.desc;(0,c.sendForNeededAddRequest)(e,n.formattedTitle||n.name,r,a.parent.id)},a.listenTo(a,"change:contact.name",a._debouncedSort),a.listenTo(u.default,"locale_change",a._debouncedSort),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),a(t,[{key:"delete",value:function(){this.forEach(function(e){e.delete()}),this.stopListening(),this.reset()}},{key:"ensureSorted",value:function(){this._debouncedSort.flush()}},{key:"set",value:function(e,n){var r=n||{};return r.isParticipantCollectionAdd||(r.remove=!0),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"set",this).call(this,e,r)}},{key:"add",value:function(e,n){var r=n||{};return r.isParticipantCollectionAdd=!0,o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,r)}},{key:"canAdd",value:function(){return!!this.iAmAdmin()}},{key:"canPromote",value:function(e){return!!e&&(!l.default.me.equals(e.id)&&(!!this.iAmAdmin()&&!e.isAdmin))}},{key:"canDemote",value:function(e){return!!e&&(!!this.iAmAdmin()&&(!l.default.me.equals(e.id)&&(!(f.default.supportsFeature(f.default.F.GROUPS_V_3)&&h.default.groupsV3&&e.isSuperAdmin)&&!!e.isAdmin)))}},{key:"canRemove",value:function(e){return!!e&&(!l.default.me.equals(e.id)&&!!this.iAmAdmin())}},{key:"canVerifyIdentity",value:function(e){return!!f.default.supportsFeature(f.default.F.QUERY_IDENTITY)&&(!!e&&!l.default.me.equals(e.id))}},{key:"iAmMember",value:function(){return 1===this.filter(function(e){return e.id.equals(l.default.me)}).length}},{key:"iAmRestrictedMember",value:function(){var e=this.parent.id;return i.default.assertGet(e).groupMetadata.restrict&&!this.iAmAdmin()}},{key:"iAmAdmin",value:function(){return 1===this.filter(function(e){return e.id.equals(l.default.me)&&e.isAdmin}).length}},{key:"iAmSuperAdmin",value:function(){return 1===this.filter(function(e){return e.id.equals(l.default.me)&&e.isSuperAdmin}).length}},{key:"getAdmins",value:function(){return this.where({isAdmin:!0})}}]),t}();b.model=d.default,b.comparator=p.default,t.default=b},dfigcajgai:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n("dbafiicfja")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=n("hdccjfbbg"),u=c(i),s=c(n("dhfbfehaef")),l=c(n("dcaibchbg"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.focusLast=function(){r.props.contacts&&r.props.contacts.length&&r.selection.setLast(!0)},r.focusPrev=function(e){e.preventDefault(),e.stopPropagation(),r.selection.prev()>-1&&r.selection.setPrev(!0)},r.focusNext=function(e){e.preventDefault(),e.stopPropagation();var t=r.props.onFocusSearch,n=r.selection.next();r.selection.index===n?(r.selection.unset(),t&&t(e)):r.selection.setNext(!0)},r.deleteContact=function(e){e.preventDefault(),e.stopPropagation();var t=r.props.onDelete,n=r.selection.getVal();if(n){var a=r.props.contacts.find(n);a&&t&&t(e,a)}},r.onParticipantClick=function(e,t){r.selection.setVal(t)},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),a(t,[{key:"UNSAFE_componentWillMount",value:function(){this.selection=new l.default(this.props.contacts,function(e){return e.id})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.selection.init(e.contacts,!0)}},{key:"render",value:function(){var e=this,t=this.props.contacts;if(!t)return null;var n=t.length?(0,r.default)(t,function(t){return o.createElement(u.default,{contact:t,active:e.selection,onDelete:e.props.onDelete,onClick:e.onParticipantClick,type:i.Type.SMALL,key:t.id.toString(),theme:e.props.theme,waitIdle:!0})}):null,a={up:this.focusPrev,down:this.focusNext};this.props.onDelete&&(a[l10n.LR("left","right")]=this.focusPrev,a[l10n.LR("right","left")]=this.focusNext,a.backspace=this.deleteContact);var l=o.createElement("ul",null,n);return o.createElement(s.default,{handlers:a},l)}}]),t}();d.displayName="ParticipantList",t.default=d},dfihaffaee:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMOJI_WIDTH=t.EMOJI_HEIGHT=t.SIDE_MARGIN=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=_(n("bbchdeehff")),i=n("dbgdaechch"),u=_(n("bhhdeihhhf")),s=_(n("djegeegcbf")),l=_(n("bggjbiacd")),c=_(n("decfjabfdj")),f=_(n("fifhbjiec")),d=_(n("dfbhcehadj")),p=n("ddajbaceej"),h=_(n("dhfbfehaef")),m=n("gaifbabbj"),b=_(n("eceadcicaf")),g=_(n("caffijjhc")),v=_(n("dadidajbgf")),y=n("eecehffbj");function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.SIDE_MARGIN=parseInt(c.default["-side-margin"],10),t.EMOJI_HEIGHT=parseInt(c.default["-emoji-height"],10),t.EMOJI_WIDTH=parseInt(c.default["-emoji-width"],10);var S=function(e){function t(){var e,n,r;E(this,t);for(var o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return n=r=j(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={skinTonePicker:null},r._lastFocusedElement=null,r._closeSkinTonePicker=function(){var e=r.state.skinTonePicker&&r.state.skinTonePicker.anchor;e&&e instanceof HTMLElement&&r._focusElement(e),r.setState({skinTonePicker:null})},r._setEmojiVariant=function(e,t,n){M(e),d.default.setVariant(t,n),r._handleEmoji(t)},r._clearPickerTimer=function(){r._pickerTimer&&clearTimeout(r._pickerTimer)},r._showContextMenu=function(e,t,n){var o=s.default.skinToneEmojis[e];if(o){var l=y.SKIN_TONE_VARIATIONS.map(function(t){var n=s.default.variantToUnicode(o,t);return a.createElement(u.default,{type:"emoji",key:n,a8n:"mi-emoji-variant",action:function(t){return r._setEmojiVariant(t,e,n)}},a.createElement(f.default,{text:n,formatters:m.Configuration.LargeEmojiOnly(),tabIndex:"-1"}))});r.setState({skinTonePicker:{menu:l,anchor:t,type:"picker",dirX:i.DirX.RIGHT,dirY:i.DirY.TOP,horizontal:!0,autoFocus:n}})}},r._handleEmoji=function(e){var t=e;if(s.default.skinToneEmojis[t]){var n=d.default.getVariantIfExists(t);if(null!=n)t=n;else if(r.props.allowVariantPrompt)return!0}r.props.onEmoji(t)},r._handleEmojiArrowDown=function(e){M(e);var t=C(e);null!=t&&r.props.focusBelow&&r.props.focusBelow(t)},r._handleEmojiArrowLeft=function(e){M(e);var t=C(e);if(null!=t){var n=t-1;n<0?r.props.focusAbove(r.props.numColumns-1):r.focusEmojiAt(n)}},r._handleEmojiArrowRight=function(e){M(e);var t=C(e);if(null!=t){var n=t+1;n>=r.props.emojiIds.length?r.props.focusBelow&&r.props.focusBelow(0):r.focusEmojiAt(n)}},r._handleEmojiArrowUp=function(e){M(e);var t=C(e);null!=t&&r.props.focusAbove(t)},r._handleEmojiEnter=function(e){M(e);var t=C(e);r._selectEmojiAt(t)},r._handleClick=function(e){M(e);var t=C(e);r._selectEmojiAt(t)},r._handleContextMenu=function(e){M(e);var t=r._getEmojiUnicode(e);t&&e.target instanceof HTMLElement&&r._showContextMenu(t,e.target)},r._handleMouseDown=function(e){M(e);var t=e.target;if(t instanceof HTMLElement){var n=r._getEmojiUnicode(e);n&&r._startPickerTimer(n,t)}},r._setRefEmojis=function(e){r.refEmojis=e},j(r,n)}return O(t,a.Component),r(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.emojiIds!==e.emojiIds||this.state.skinTonePicker!==t.skinTonePicker}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.state.skinTonePicker&&this._closeSkinTonePicker()}},{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(d.default,"add remove change:variant",function(){return e.forceUpdate()})}},{key:"focusEmojiAt",value:function(e){var t=this._getRefEmojiAt(e);t&&this._focusElement(t)}},{key:"selectFirstEmoji",value:function(){this._selectEmojiAt(0)}},{key:"restoreFocus",value:function(){this._lastFocusedElement&&this._focusElement(this._lastFocusedElement)}},{key:"_focusElement",value:function(e){var t=parseInt(e.dataset.emojiIndex,10);isNaN(t)||((0,p.focus)(e,{preventScroll:!0}),this.props.onEmojiFocus(e),this._lastFocusedElement=e)}},{key:"_selectEmojiAt",value:function(e){if(null!=e){var t=this.props.emojiIds[e],n=s.default.getUnicodeFromEmoji(t);if(n){var r=this._getRefEmojiAt(e);if(r)this._clearPickerTimer(),this._handleEmoji(n)&&this._showContextMenu(n,r,!0)}}}},{key:"_getEmojiUnicode",value:function(e){var t=C(e);if(null!=t){var n=this.props.emojiIds[t],r=s.default.getUnicodeFromEmoji(n);return r||null}}},{key:"_getRefEmojiAt",value:function(e){var t=this.props.emojiIds.length-1,n=Math.max(Math.min(e,t),0);if(this.refEmojis)return this.refEmojis.children[n]}},{key:"_startPickerTimer",value:function(e,t){var n=this;this._clearPickerTimer(),this._pickerTimer=setTimeout(function(){delete n._pickerTimer,n.props.listeners.addOnce(o.default,"window_click",M),n._showContextMenu(e,t)},250),this.props.listeners.addOnce(window,"mouseup",this._clearPickerTimer,!0)}},{key:"render",value:function(){var e=void 0;this.state.skinTonePicker&&(e=a.createElement(g.default,{displayName:"SkinTonePicker",popable:!0,escapable:!0,requestDismiss:this._closeSkinTonePicker,requestRecentFocusOnUnmount:!1},a.createElement(v.default,{tooltip:this.state.skinTonePicker})));var t=this.props.emojiIds;return t.length?a.createElement("div",{className:c.default.panel},a.createElement(h.default,{onMouseDown:this._handleMouseDown,onClick:this._handleClick,onContextMenu:this._handleContextMenu,handlers:{up:this._handleEmojiArrowUp,down:this._handleEmojiArrowDown,left:this._handleEmojiArrowLeft,right:this._handleEmojiArrowRight,enter:this._handleEmojiEnter}},a.createElement("div",{ref:this._setRefEmojis,className:c.default.section},t.map(function(e,t){var n=s.default.getUnicodeFromEmoji(e),r=d.default.getVariantIfExists(n);return a.createElement(l.default,{element:"span",emoji:r||n,size:"large",key:e,tabIndex:"-1","data-emoji-index":t})}))),e):null}}]),t}();S.displayName="EmojiRow";var w=(0,b.default)(S),P=function(e){function t(){return E(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O(t,w),r(t,[{key:"focusEmojiAt",value:function(e){this.getComponent().focusEmojiAt(e)}},{key:"selectFirstEmoji",value:function(){this.getComponent().selectFirstEmoji()}},{key:"restoreFocus",value:function(){this.getComponent().restoreFocus()}}]),t}();function M(e){e.preventDefault(),e.stopPropagation()}function C(e){if(!(e.target instanceof HTMLElement))return null;var t=parseInt(e.target.dataset.emojiIndex,10);return isNaN(t)?null:t}t.default=P},dfijbgdefb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n("bcdffbhbhg")),a=s(n("dgdjiicfdg")),o=s(n("cfadcbbiie")),i=s(n("baagejbchg")),u=s(n("behbjhhbg"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n=e,r=t.type===i.default.MSG_TYPE.VCARD?"text/vcard":t.mimetype,a=u.default.getExtension(r);return n.endsWith(a)||(n+=a),n}function c(e){var t=a.default.unix(e.t).locale("en"),n=`${t.format("YYYY-MM-DD")} at ${t.format(o.default.getIs24Hour()?"HH.mm.ss":"h.mm.ss A")}`;return`WhatsApp ${(0,r.default)(e.type)} ${n}`}t.default={getDefaultName(e){var t=void 0;switch(e.type){case i.default.MSG_TYPE.DOCUMENT:var n=(e.filename||"").trim();t=n||(e.caption||"").trim()||l10n.t(1083),n&&function(e){return/[\.].{1,4}$/.test(e)}(n)||(t=l(t,e));break;case i.default.MSG_TYPE.VCARD:t=l(t=(e.subtype||"").trim()||c(e),e);break;case i.default.MSG_TYPE.IMAGE:case i.default.MSG_TYPE.VIDEO:case i.default.MSG_TYPE.AUDIO:default:t=l(t=c(e),e)}return t}}},dfjadefi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e,t){return new u(e,t)};var a,o=n("cbgabiccd"),i=(a=o)&&a.__esModule?a:{default:a};var u=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r._iterator=e,r._mapper=n,r._n=0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,[{key:"_next",value:function(){var e=this._iterator.next();if(e.done)return this.return();var t=this._mapper(e.value,this._n,this._iterator);return this._n++,{done:!1,value:t}}}]),t}()},dfjfejdjjh:function(e,t,n){"use strict";var r=l(n("bhehgiigij")),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ebggjhghhi")),o=l(n("bgabgddgch")),i=n("eaaehfdjdg"),u=l(i),s=l(n("bjieiiccce"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){return Promise.loop(function(t,n,s){var l=Promise.delay(o.default.expBackoff(s,6e4,void 0,.1));return(u.default.state===i.STATE.CONNECTED?Promise.resolve():a.waitForBBEvent(u.default,"change:state",(0,r.default)({state:i.STATE.CONNECTED}))).then(function(){return e()}).then(function(e){if(e.status>=500&&e.status<600)return l;t(e)}).catch(function(){return l})})}e.exports={headRetry:function(e){return c(function(){return s.default.head(e)})},getRetry:function(e,t){return c(function(){return s.default.get(e,t)})},postRetry:function(e,t){return c(function(){return s.default.post(e,t)})}}},dfjfgdhbjj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n=e.pin||0,r=t.pin||0;if(n||r)return n!==r?n>r?-1:1:e.id.toString()<t.id.toString()?-1:1;var a=e.t||0,o=t.t||0;return a!==o?a>o?-1:1:e.id.toString()<t.id.toString()?-1:1}},dfjgaaeeeb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=d(n("baagejbchg")),i=d(n("ebijaadcje")),u=d(n("bjbdcigbdi")),s=d(n("bdiiahhjbe")),l=d(n("bffjfbgbg")),c=d(n("caeigdhgia")),f=d(n("ihfccfgdf"));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.displayType,n=e.mediaData,r=e.msg,s=t===o.default.DISP_TYPE.CONVERSATION,f=n.mediaStage;return f===l.default.STAGE.ERROR_TOO_LARGE?a.createElement(c.default,{displayType:this.props.displayType,mediaType:n.type}):!r.isUnsentMedia||f!==l.default.STAGE.ERROR_MISSING&&f!==l.default.STAGE.ERROR_UNSUPPORTED?r.isFailed?f===l.default.STAGE.ERROR_MISSING?a.createElement(i.default,{displayType:this.props.displayType,tooltip:l10n.t(1073)}):r.type===o.default.MSG_TYPE.PTT&&f===l.default.STAGE.PREPARING?a.createElement(i.default,{displayType:this.props.displayType,tooltip:l10n.t(913)}):u.default.supportsFeature(u.default.F.RESEND_ICON)&&s&&f!==l.default.STAGE.REMOTE_UPLOADING?a.createElement(i.default,{displayType:this.props.displayType,onClick:h.bind(null,r),tooltip:l10n.t(948)}):a.createElement(i.default,{displayType:this.props.displayType,tooltip:l10n.t(995)}):null:a.createElement(i.default,{displayType:this.props.displayType,tooltip:l10n.t(995)})}}]),t}();function h(e){e.resend().catch(function(e){s.default.log("msg_media_fail_icon:resend failure: "+e)()})}p.CONCERNS={msg:["isFailed","isMMS","type","isUnsentMedia"],mediaData:["mediaStage","type"]},p.displayName="MsgMediaFailIcon",t.default=(0,f.default)(p,p.CONCERNS)},dfjhghbebf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("cbgabiccd"),i=(r=o)&&r.__esModule?r:{default:r};var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._array=e.slice(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"_next",value:function(){return 0===this._array.length?this.return():{done:!1,value:this._array.shift()}}}]),t}();t.default=u},dfjhjafaab:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTosUrl=function(){return`${r}?lg=${l10n.getLocale()}`};var r="https://www.whatsapp.com/legal/"},dfjibhjhde:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=g(n("djcchigfih")),i=g(n("djbhiedbef")),u=n("dajffajabh"),s=g(u),l=g(n("bbhhbdicgc")),c=g(n("bggeiidigb")),f=g(n("ddajbaceej")),d=n("dhfbfehaef"),p=g(d),h=g(n("dbciicjiad")),m=n("chcadgfgad"),b=g(m);function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.flatListController=new c.default,r.listRef=a.createRef(),r.searchRef=a.createRef(),r.onNext=function(e){e.preventDefault(),e.stopPropagation();var t=r.props.selection;t&&t.setNext(!0)},r.onPrev=function(e){var t=r.props.selection;t&&(e.preventDefault(),e.stopPropagation(),t.prev()>-1?t.setPrev(!0):(t.unset(),(0,d.shouldIndicateFocus)(),f.default.focus(r.searchRef.current)))},r.onFocusList=function(e){r.listRef.current&&(e.preventDefault(),e.stopPropagation(),(0,d.shouldIndicateFocus)(),r.props.selection.setFirst(!0))},r.onSelectFirst=function(e){e.preventDefault(),e.stopPropagation();var t=r.props.data[0];t&&r.props.onSelect(e,t)},r.onSearch=function(e){r.props.onSearch(e)},v(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.onCancel,r=e.onSearch,c=e.searchPlaceholder,f=e.renderItem,d=e.data,g=e.emptyState,v={down:this.onFocusList,enter:this.onSelectFirst},y={down:this.onNext,up:this.onPrev},_=void 0;r&&(_=a.createElement(p.default,{handlers:v},a.createElement(h.default,{ref:this.searchRef,onSearch:this.onSearch,placeholder:c||l10n.t(973)})));var E=d.length?a.createElement(p.default,{handlers:y},a.createElement(l.default,{data:d,ref:this.listRef,flatListController:this.flatListController,direction:"vertical",renderItem:f})):g;return a.createElement(b.default,{type:m.TowerModalType},a.createElement(o.default,{key:"contact-modal"},a.createElement(s.default,{title:t,type:u.DRAWER_HEADER_TYPE.POPUP,onCancel:n}),_,a.createElement(i.default,{flatListControllers:[this.flatListController]},E)))}}]),t}();y.displayName="ListModal",t.default=y},dfjijdgbhd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=y(n("bcdejiigcg"));t._processMultipleMessages=function(e,t,n,v){var y=[],j=[],O=[];return t.forEach(function(t,o){t.id instanceof f.default||(l.default.error("Store.Msg:_processMultipleMessages: el.id is not a MsgKey"+(new Error).stack)(),a.upload("forgot-to-create-msgkey"),t.id=new f.default({from:t.from,to:t.to,id:t.id,participant:t.participant,selfDir:t.self})),(0,m.isString)(e)&&g.default.isBroadcast(e)&&delete t.broadcast,"ptt"===t.type&&!t.id.fromMe&&t.ack<0&&(t.ack=0);var u=h.default.Msg.get(t.id);if(t.type===i.default.MSG_TYPE.PROTOCOL)switch(t.subtype){case"revoke":if(u=h.default.Msg.get(t.protocolMessageKey)){var c=new h.default.Msg.constructor.model(t);g.default.equals(u.sender,c.sender)?(g.default.isStatusV3(e)&&u.msgChunk&&u.msgChunk.remove(u),(0,p.revoke)(u,c.id),g.default.isStatusV3(e)&&h.default.StatusV3.find(u.sender).then(function(e){s.default.supportsFeature(s.default.F.QUERY_STATUS_V_3_THUMBNAIL)&&u&&u.msgChunk&&u.msgChunk.length!==e.totalCount&&b.default.statusQueryThumbnail(e.id)})):l.default.warn(`model:Msg:processMM revoke sender mismatch ${c.id.toString()}, ${u.id.toString()}`)()}break;default:l.default.info(`unknown protocolMessage ${t.id.toString()}`)(t)}else if(u&&!u.isRevoked){for(var E in t.ack<u.ack&&delete t.ack,t)t.hasOwnProperty(E)&&void 0===t[E]&&delete t[E];t.id.fromMe&&!u.clientUrl&&t.clientUrl&&(t.phoneUploading=!1),n.isHistory&&(t.isNewMsg=!1);var S=u.t?(0,r.default)(t,["t","id","from","to"]):t,w=u.applyUpdate(S).then(function(){return u});if(O.push(w),g.default.isBroadcast(u.id.remote)){var P=d.getBroadcastFanoutKeys(u);P&&P.forEach(function(e){var t=h.default.Msg.get(e);t&&O.push(t.applyUpdate(S).then(function(){return u}))})}n.isHistory&&(u.recvFresh||v)&&!u.search?(l.default.warn("model:Msg:handle:processMM:"+(u.recvFresh?"dup:":"overlap:")+String(u.id))(),j.push(u)):n.isHistory&&u.search?(u.search=!1,l.default.warn(`model:Msg:handle:processMM load search as history ${String(u.id)}`)(),y.push({id:u.id})):"search"===n.add&&y.push({id:u.id}),_(u)}else d.typeIsMMS(t.type)&&!t.clientUrl&&(t.phoneUploading=t.id.fromMe&&0===t.ack),"search"===n.add&&(t.search=!0),n.update||y.push(t)}),(O.length?Promise.all(O):Promise.resolve()).then(function(){if(0===y.length&&0===j.length){if(e&&n.pendingMsgsDone){var r=h.default.Chat.get(e);r&&(r.pendingMsgs=!1)}return t.map(function(e){return h.default.Msg.get(e.id)}).filter(function(e){return e})}if(e){var a=void 0;if(g.default.isStatusV3(e)){var f=t[0],p=f.id.fromMe?u.default.me:f.author;a=h.default.StatusV3.find(p)}else a=h.default.Chat.find(e);return a.then(function(r){return E(y).then(function(a){var u=void 0,f=void 0,p="after"===n.add||"last"===n.add,m=!n.isHistory,b=!1;if("unread"===n.add?(u=v,r.msgChunks.push(u),f=n.firstUnreadKey):"last"===n.add&&n.resume?(u=v,b=!0):u="function"==typeof v?v():v,function(e,t,n,r,a,o,i,u){var s=function(e,t,n,r,a){var o={},i={},u=void 0,s=void 0,c=void 0,f=n.length,d=a;if(0===f)return{msgs:t,collection:d};for(u=0;u<f;u++)s=n[u],i[s.id]=s;for(f=t.length,u=0;u<f;u++)(s=t[u])&&(o[s.id]=s);var p=[];for(f=e.length,u=0;u<f;u++)if((s=e[u])&&((c=o[s.id])&&p.push(c),c=i[s.id]))if(c.recvFresh)p.push(c),r.removeMsg(c),c.unset("recvFresh");else{var h=r.getAllCMCs(),m=h.find(function(e){return e.get(c.id)});if(a&&m===a);else if(m)if(m.forEach(function(e){p.push(e),delete i[e.id.toString()]}),m===r.msgs){if(a.msgLoadState.noEarlierMsgs){var b=[`chatMsgsCollection ${r.id.toString()} replaced by a collection with noEarlierMsgs true`,(new Error).stack];l.default.logVerbose(b.join("\n"))()}r.replaceMsgsCollection(a),d=r.msgs}else r.notifyMsgCollectionMerge(a,m,a),r.removeMsgsCollection(m);else l.default.error("models:Msg:reorder trying to merge CMC of orphaned message "+s.id,s)(),p.push(i[s.id])}return{msgs:p,collection:d}}(e,t,n,r,o);d.addRecordsToChat(s.msgs,r,a,s.collection,i,u)}(t,a,j,r,p,u||r.msgs,f,b),n.pendingMsgsDone&&(r.pendingMsgs=!1),m&&g.default.isBroadcast(e)&&!g.default.isStatusV3(e)&&a.forEach(function(e){e&&e.recvFresh&&!e.isNotification&&d.broadcastFanout(e)}),s.default.supportsFeature(s.default.F.RECENT_EMOJI_SYNC))for(var y=0;y<a.length;y++){var _=a[y];if(_&&_.isNewMsg&&_.isSentByMe&&_.containsEmoji){h.default.RecentEmoji.throttledSync();break}}if(s.default.isRecentStickersEnabled()){var E=a.map(function(e){if(e&&e.isNewMsg&&e.isSentByMe&&e.type===i.default.MSG_TYPE.STICKER){var t=e.mediaData;return{id:t.filehash,clientUrl:t.mmsUrl,directPath:t.directPath,filehash:t.filehash,uploadhash:t.uploadHash,mediaKey:t.mediaKey,mediaKeyTimestamp:null!=t.mediaKeyTimestamp?t.mediaKeyTimestamp:o.default.globalUnixTime(),width:t.fullWidth,height:t.fullHeight,size:t.size,mimetype:t.mimetype,type:c.OUTWARD_TYPES.STICKER,index:0}}}).filter(Boolean);h.default.RecentSticker.enqueue(E)}return t.map(function(e){return h.default.Msg.get(e.id)}).filter(function(e){return e})})})}return E(y).then(function(){return t.map(function(e){return h.default.Msg.get(e.id)}).filter(function(e){return e&&!!e.chat})})})};var a=v(n("dfhjacfbjg")),o=y(n("cfadcbbiie")),i=y(n("baagejbchg")),u=y(n("bjigbaghc")),s=y(n("bjbdcigbdi")),l=y(n("bdiiahhjbe")),c=n("daichdjff"),f=y(n("cffajefeag")),d=v(n("ccbagdhfbb")),p=n("bfabbhgjga"),h=y(n("bhggeigghg")),m=n("hjbbdjjdf"),b=y(n("bihdhbjih")),g=y(n("jccfhaecf"));function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function y(e){return e&&e.__esModule?e:{default:e}}function _(e){if(!s.default.supportsFeature(s.default.F.CONTACT_HAS_PUSHNAME)&&e.notifyName){var t=h.default.Contact.get(e.sender);t&&!t.isMe&&t.updateNotifyName(e.notifyName,e.t)}}function E(e){var t=h.default.Msg.add(e,{merge:!0});return Promise.all(t.map(function(e){return _(e),e.waitForPrep().catch(function(e){l.default.assert(!1,"bad-msg-prep",`${String(e)}`)(e)})})).then(function(){return t})}},dgacffdjd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resyncContacts=function(e){var t=s.default.Contact;void 0!==t.checksum&&void 0!==e&&(t.checksum!==e?t.findQuery({retry:!0}).then(function(e){if(Array.isArray(e)){(0,l.mungePSAContact)(e),o.default.log("Store:Contact:resync success")();var t=(0,u.getContactsToRemove)(e),n=Promise.resolve();if(a.default.supportsFeature(a.default.F.MODEL_STORAGE)&&t.length){var r=t.map(function(e){return e.id.toString()});n=i.Contact.bulkRemove(r)}n.then(function(){t.forEach(function(e){e.unset("name"),e.unset("shortName")})})}else o.default.error("Store:Contact.resync error "+JSON.stringify(e),e)()}).catch(r.WapDrop,function(){}):o.default.log("Store:Contact:resync checksum match")())};var r=n("ddjgcfjicj"),a=c(n("bjbdcigbdi")),o=c(n("bdiiahhjbe")),i=n("cefcddgdgg"),u=n("dbefabiacb"),s=c(n("bhggeigghg")),l=n("dafafigeih");function c(e){return e&&e.__esModule?e:{default:e}}},dgacgafafa:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n("ceffhbhahb")),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("cajbifjffe")),i=s(n("cegfacfjjj")),u=s(n("dabcbibhcf"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.id,n=e.name,s=e.url;return a.createElement("div",{className:i.default.container},s?a.createElement("div",{className:(0,r.default)(i.default.centerChild,i.default.show),"data-id":t},a.createElement(o.default,{alt:n,className:i.default.image,draggable:!1,renderError:u.default,renderLoading:u.default,src:s})):a.createElement(u.default,null))}l.displayName="StickerPackIcon",t.default=l},dgafbfebjc:function(e,t){e.exports={drawerHeader:"_3jHKU",drawerTitle:"kyJvR",drawerTitleBody:"_1pYs5",side:"_2aXcZ",drawerTitleAction:"_2DP8_",multiMediaGallery:"_1lH_n",drawerHeaderSmall:"kiodY",drawerHeaderOffset:"_1WD8C",drawerHeaderPopup:"_3D31H",btnCloseDrawer:"qfKkX",paneListControls:"_278GW",labels:"_1B-sv"}},dgbdeadddb:function(e,t){e.exports={wrapper:"_3X58t"}},dgbjhghjfc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n("hddfjdhii"));function a(e){return e&&e.__esModule?e:{default:e}}var o=(0,a(n("chgaccicf")).default)(r.default);t.default=o},dgcbhjfhad:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=u(n("begdabbfeh")),i=u(n("bfdcadbbif"));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){return a.createElement("div",{className:o.default.panel},a.createElement("div",{className:o.default.body},this.props.children),a.createElement("div",{className:o.default.cancelButton},a.createElement("div",{role:"button",onClick:this.props.onOmit},a.createElement(i.default,{name:"x"}))))}}]),t}();s.displayName="PopupPanel",t.default=s},dgdadejebh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var r=s(n("ceffhbhahb")),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("baagejbchg")),i=s(n("djggfadejg")),u=s(n("bfdcadbbif"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.msg,n=e.link,s=e.displayType;if(!t&&!n)return null;var l=void 0;if(n)n.suspiciousCharacters&&n.suspiciousCharacters.size&&(l=l10n.t(1053));else if(t){var c=t.getSuspiciousLinks().length;if(c)l=1===t.getLinks().length||s===o.default.DISP_TYPE.GALLERY?l10n.t(1053):l10n.t(1054,{count:c,_plural:c})}return l?a.createElement("div",{className:(0,r.default)(i.default.container,{[i.default.isLinkMsg]:Boolean(n)})},a.createElement(u.default,{name:"alert",display:"inline"}),a.createElement("span",{className:i.default.text},l)):null}l.displayName="SuspiciousLabel"},dgdahfddff:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=i(n("bdiiahhjbe")),o=i(n("ceddibdhdb"));function i(e){return e&&e.__esModule?e:{default:e}}var u=[],s=new o.default(function(){var e=u;u=[];for(var t=0;t<e.length;t++){var n=e[t];n._inAutoreleasePool=!1,0!==n._retainCount||n.released||(n.released=!0,n._releaseImpl())}}),l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._retainCount=1,this._inAutoreleasePool=!1,this.released=!1}return r(e,[{key:"retain",value:function(){if(this.released){var e="OpaqueData:retain called on released OpaqueData";throw a.default.error(e)(e),new Error(e)}this._retainCount++}},{key:"autorelease",value:function(){this.released?a.default.error("OpaqueData:autorelease called on released object")():0===this._retainCount?a.default.error("OpaqueData:autorelease too many release calls")():1===this._retainCount?(this._retainCount=0,this._inAutoreleasePool||(this._inAutoreleasePool=!0,u.push(this),s.onOrBefore(1e3))):this._retainCount--}},{key:"autoreleaseWhenPromiseCompletes",value:function(e){var t=this,n=function(){t.autorelease()};e.then(n,n)}},{key:"throwIfReleased",value:function(e){if(this.released){var t=`${e} called on released OpaqueData`;throw a.default.error(t)(),new Error(t)}if(0===this._retainCount){var n=`${e} called on unretained OpaqueData`;a.default.error(n)()}}},{key:"_releaseImpl",value:function(){throw new Error("OpaqueData:_releaseImpl unimplemented")}}]),e}();t.default=l},dgdeceggdh:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function e(t){a(this,e),this.promise=t,this.lastUsedTime=this.createdTime=+Date.now()},i=function(){function e(t,n){var r=n.maxCached,o=void 0===r?10:r,i=n.maxAge,u=void 0===i?1/0:i,s=n.shouldCache;a(this,e),this._cache={},this._maxCached=o,this._maxAge=u,this._createPromiseFunc=t,this._shouldCacheFunc=s}return r(e,[{key:"getOrRun",value:function(e){var t=this,n=this._cache;if(this._maxAge!==1/0)for(var r=Date.now()-this._maxAge,a=Object.keys(n),i=0;i<a.length;i++){var u=a[i];n[u].createdTime<r&&delete n[u]}var s=n[e];if(s)return s.lastUsedTime=+Date.now(),s.promise;var l=Object.keys(n);if(l.length>=this._maxCached){for(var c=void 0,f=void 0,d=0;d<l.length;d++){var p=l[d],h=n[p];(null==f||h.lastUsedTime<f)&&(f=h.lastUsedTime,c=p)}c&&delete n[c]}for(var m=arguments.length,b=Array(m>1?m-1:0),g=1;g<m;g++)b[g-1]=arguments[g];var v=this._createPromiseFunc.apply(void 0,[e].concat(b));return n[e]=new o(v),v.then(function(n){var r=t._shouldCacheFunc;r&&t._cache[e]===v&&!r(n)&&delete t._cache[e]}).catch(function(){t._cache[e]===v&&delete t._cache[e]}),v}}]),e}();e.exports=i},dgdegachj:function(e,t){e.exports={secondaryDetailContainer:"_1z1e6"}},dgdhcdgffe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.markUnread=function(e,t){return function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,a.genId)();n?t.active&&(t.markedUnread=!0):t.markedUnread=!1;var s=t.promises;if(s.markUnread)return s.markUnread;var f=s.markUnread=n?function(e){var t=e.getLastMsgKeyForAction();return(0,c.sendConversationUnseen)(e.id,t).then(function(){g(e)}).catch(u.ServerStatusCodeError,function(t){return e.markedUnread=!1,Promise.reject(t)})}(t):v(t);var d=n?new a.ActionType(l10n.t(29)):new a.ActionType(l10n.t(28));var p=f.then(function(r){var i=n?l10n.t(27):l10n.t(26);return new a.ActionType(i,l10n.t(158),function(){return e(t,!n,o)})}).catch(u.ServerStatusCodeError,function(e){if(e.status>=400)return n?new a.ActionType(l10n.t(25)):new a.ActionType(l10n.t(24));throw new Error("invalid response status")}).catch(function(r){var i=n?l10n.t(25):l10n.t(24);return new a.ActionType(i,l10n.t(154),function(){return e(t,n,o)})});i.default.openToast(r.createElement(a.ActionToast,{id:o,initialAction:d,pendingAction:p}));return f.then(function(){}).catch(u.ServerStatusCodeError,function(e){l.default.error(`markUnread: got status ${e.status}`)()}).finally(function(){s.markUnread=null})}((0,f.unproxy)(e),t)},t.sendSeen=m,t.markSeen=b,t.markUnseen=g;var r=h(n("ddhijeejag")),a=n("ccihhdchab"),o=p(n("cfadcbbiie")),i=p(n("bbchdeehff")),u=n("ddjgcfjicj"),s=h(n("cajijabhgb")),l=p(n("bdiiahhjbe")),c=n("gigfajjic"),f=n("bheafeifce"),d=p(n("dcdiaahjj"));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return v((0,f.unproxy)(e),t).catch(u.ServerStatusCodeError,function(e){l.default.error(`sendSeen: got status ${e.status}`)()})}function b(e,t,n){!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];String(t);var r=null;null!=t?t>0&&t<=e.unreadCount?(r=e.unreadCount-t,String(r)):-1===t&&e.unreadCount<=0&&(r=0,String(r)):(r=0,String(r));(null==r?Promise.resolve():(0,c.markConversationSeen)(e.id,r)).then(function(){if(null!=t&&n){var a=e.pendingSeenCount-t;e.pendingSeenCount=Math.max(0,a)}null!=r&&(e.unreadCount=r),e.unreadMsgAnchor=void 0,e.markedUnread=!1,e.msgs.forEach(function(e){e.id.fromMe||null!=e.ephemeralStartTimestamp||e.updateEphemeralStartTimestamp(o.default.globalUnixTime())})})}((0,f.unproxy)(e),t,n)}function g(e){!function(e){e.active&&(e.markedUnread=!0);(0,c.markConversationUnseen)(e.id).then(function(){e.unreadCount=-1})}((0,f.unproxy)(e))}function v(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.markedUnread||0===e.unreadCount)return String(e.markedUnread),e.unreadCount,Promise.resolve();if(!d.default.available&&t)return e.listenToOnce(d.default,"change:available",function(){return m(e)}),Promise.resolve();e.unreadCount,e.pendingSeenCount;var n=e.unreadCount-e.pendingSeenCount,r=-1===e.unreadCount&&-1===n;if(n<=0&&!r)return Promise.resolve();e.disableUnreadAnchor=!0,e.pendingSeenCount=e.unreadCount,e.pendingSeenCount;var a=function(){e.pendingSeenCount=e.pendingSeenCount-n,e.pendingSeenCount,e.pendingSeenCount<0&&(l.default.error("models:chat:sendSeen unread "+e.unreadCount+" pending: "+e.pendingSeenCount+" delta: "+n)(),e.pendingSeenCount=0)},o=e.getLastMsgKeyForAction();return(0,c.sendConversationSeen)(e,o,n).then(function(t){t._duplicate?a():b(e,n,!0)}).catch(u.ServerStatusCodeError,function(e){return a(),Promise.reject(e)}).catch(u.WapDrop,s.ProtoVersionUndefined,function(e){a(),l.default.error("models:chat:sendConversationSeen dropped")()})}},dgeebjciej:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getHash=function(e){return(e instanceof p.default?(0,c.opaqueDataToArrayBuffer)(e):(0,u.blobToArrayBuffer)(e)).then(function(e){return(0,h.default)(e)}).catch(function(e){l.default.error(`SubtleCrypto::getHash error: ${e}`)(e)})},t.decrypt=b,t.decryptE2EMedia=function(e,t,n,r,a){var u=void 0,s=Promise.resolve().then(function(){if(!e)throw new i.MediaEncryptionError('decrypt async, missing "type"');if(!(t instanceof ArrayBuffer))throw new i.MediaEncryptionError('decrypt async, missing "payload"');if(!n)throw new i.MediaEncryptionError('decrypt async, missing "mediaKey"');if(u=new f.default.WebcCryptoMedia({webcCryptoType:f.default.WEBC_CRYPTO_TYPE_CODE.DECRYPT,webcCryptoLibrary:f.default.WEBC_CRYPTO_LIBRARY_CODE.WEBCRYPTO,webcCryptoFileSize:t.byteLength}),t.byteLength<10)throw new i.MediaEncryptionError(`ciphertext too short: ${t.byteLength}`);return(0,o.default)(e,n).then(function(n){var a=n.iv,o=n.encKey,i=n.macKey,u=r||function(t){return d.default.getMediaMimeType(e,t)},s=t.byteLength-10,l=new Uint8Array(t,s),c=new Uint8Array(t,0,s);return b(new Uint8Array(o),new Uint8Array(a),c,new Uint8Array(i),l,u)})}).tap(function(e){e.autoreleaseWhenPromiseCompletes(s),u.markWebcCryptoElapsedT(),u.commit()}).catch(function(e){return!(e instanceof i.MediaEncryptionError)},function(e){var t=e instanceof Error?`encryption error: ${String(e)}; stack: ${e.stack}`:`encryption error: ${String(e)};`;throw new i.MediaEncryptionError(t)});return s};var r=n("eaiigfgagg"),a=m(n("dbajccegac")),o=m(n("feacbgeaf")),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cajijabhgb")),u=n("cgffhfegce"),s=m(n("bbejegbieb")),l=m(n("bdiiahhjbe")),c=n("fabajdgab"),f=m(n("bfbggcdbfb")),d=m(n("behbjhhbg")),p=m(n("beeieigghj")),h=m(n("jjijgifac"));function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t,n,o,u,l){return Promise.resolve().then(function(){if(!(10<=u.length&&u.length<=32))throw new i.MediaEncryptionError("Given bad expected hmac");var l=a.default.build(t,n).readByteArray();return new s.default(o).sign(l).then(function(t){for(var n=new Uint8Array(t,0,u.length),a=!1,o=0;o<n.length;o++)n[o]!==u[o]&&(a=!0);if(a)throw new i.MediaEncryptionError("hmac check failure");return(0,r.aesCbcDecrypt)(e,l)})}).then(function(e){var t="string"==typeof l?l:l(new Uint8Array(e));return p.default.createFromData(e,t)})}},dgefajbgai:function(e,t){e.exports={item:"_22OEK",itemBody:"_317xe",row:"_22FXD",main:"_2s00i",side:"_3BAin",primary:"_1VI-m",secondary:"fwByR"}},dgfcjhijbf:function(e,t,n){"use strict";var r,a=n("bdiiahhjbe"),o=(r=a)&&r.__esModule?r:{default:r};var i={queryVname:function(e){var t=this;return new Promise(function(n,r){var a=t.queryNode({type:"vname",jid:e},void 0);t.binSend("sendEphemeral",a,r,{onSend:t.binWrap(function(a){t.BinaryProtocol.read(a).then(function(r){var a=void 0;o.default.logColor("green","bin-recv: response,vname",r)(),"response"===t.N.tag(r)&&"vname"===t.N.attr("type",r)&&(a=t.parseContact(t.N.child("user",r),e)),n(a)}).catch(r)},n),onDrop:t.wrap(r)},{debugString:`query,vname,${e}`,metricName:"QUERY_VNAME"})})}};e.exports=i},dgfecega:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FIT_TYPE=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=f(n("ceffhbhahb")),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=n("bgddggdhc"),s=f(n("eceadcicaf")),l=f(n("bdiiahhjbe")),c=f(n("bfihjhiege"));function f(e){return e&&e.__esModule?e:{default:e}}t.FIT_TYPE={CONTAIN:"contain",COVER:"cover",SCALE_DOWN:"scaleDown",ZOOM_IN:"zoomIn"};var d="transform 300ms cubic-bezier(.1,.82,.25,1)",p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setRefObject=function(e){n.refObject=e},n.onObjectLoad=function(){var e=n.props.onObjectLoad;e&&n.refObject&&n.refObject.firstChild&&e(n.refObject.firstChild)},n.state={style:{visibility:"hidden"},className:(0,o.default)(c.default.fit)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"componentDidMount",value:function(){var e=this;this.shouldUseNativeObjectFit()||(this.initialize(this.props),this.props.listeners.add(window,"resize",function(){e.initialize(e.props)}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.shouldUseNativeObjectFit()||this.initialize(e)}},{key:"initialize",value:function(e){var t=e.size,n=e.type;if(t){var r=(0,u.forbiddenAssertDOMNode)(this),a=void 0;switch(n){case"contain":a=function(e,t,n){var r=e.clientWidth,a=e.clientHeight,i=t,u=n,s=0,l=0;i/r>u/a?(u*=r/i,i=r,u<a&&(s=a/2-u/2)):(i*=a/u,u=a,i<r&&(l=r/2-i/2));return{style:{width:i,height:u,top:s,left:l,position:"absolute"},className:(0,o.default)(c.default.fit)}}(r,t.width,t.height);break;case"cover":a=function(e,t,n){var r=e.clientWidth,a=e.clientHeight,i=t,u=n,s=0,l=0;i!==r&&(u*=r/i,i=r,u>a&&(s=a/2-u/2));u<a&&(i*=a/u,u=a,i>r&&(l=r/2-i/2));return{style:{width:i,height:u,top:s,left:l,position:"absolute"},className:(0,o.default)(c.default.fit)}}(r,t.width,t.height);break;case"scaleDown":a=h(r,t.width,t.height);break;case"zoomIn":a=function(e,t,n,r){var a=h(e,t,n).style,i=void 0;i=r?{width:a.width,height:a.height,transition:d,transform:`translateX(${r.translateX}px) translateY(${r.translateY}px) scale(${r.factor})`}:{width:a.width,height:a.height,transition:d};return{style:i,className:(0,o.default)(c.default.fit,c.default.fitScaledown,c.default.fitZoomin)}}(r,t.width,t.height,e.zoomIn);break;default:return void l.default.assert(!1,"object-fit",`unrecognized type ${n}`)()}this.setState(a,this.onObjectLoad)}}},{key:"shouldUseNativeObjectFit",value:function(){return!1}},{key:"render",value:function(){if(this.shouldUseNativeObjectFit())return i.createElement("div",{className:c.default.nativeScaleDown},this.props.children);var e=this.props,t=this.state,n=(0,o.default)(t.className,{[c.default.fitRelative]:"relative"===e.position}),a=this.props.objectPosition?r({},t.style,{position:this.props.objectPosition}):t.style;return i.createElement("div",{className:n},i.createElement("div",{style:a,ref:this.setRefObject},e.children))}}]),t}();function h(e,t,n){var r=e.clientWidth,a=e.clientHeight,i=n,u=t;return i>a&&(i=a,u=t*(a/n)),u>r&&(u=r,i=n*(r/t)),{style:{width:u,height:i},className:(0,o.default)(c.default.fit,c.default.fitScaledown)}}p.displayName="ObjectFit",t.default=(0,s.default)(p)},dgfhiaehb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=n("cjijggjfed"),u=(r=i)&&r.__esModule?r:{default:r};function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._setRef=function(e){r._ref=e},s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),a(t,[{key:"render",value:function(){var e=this.props,t=e.column,n=e.carouselNumColumns,r=e.index,a=e.menuWidth,s=void 0;s=null!=a&&0!==a?`${Math.round(a/n)}px`:`${100/n}%`;var l=0!==r&&(t<=0||t>=n),c=l10n.isRTL()?-1:1;return o.createElement(u.default,{onRef:this._setRef,onClick:this.props.onClick,sectionId:r,selected:this.props.selected,theme:l?i.THEMES.CAROUSEL_END:i.THEMES.CAROUSEL,transform:`translateX(${100*t*c}%)`,width:s},this.props.children)}}]),t}();l.displayName="CarouselMenuItem",t.default=l},dggagcddja:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return Promise.resolve(e).then(function(e){return Promise.all(e.map(function(e,n){return t(e,n)}))})}},dggbjaijga:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=p(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=p(n("fabjefgai")),u=p(n("fffdgbfji")),s=p(n("ihfccfgdf")),l=p(n("bfdcadbbif")),c=p(n("cdegfghcid")),f=p(n("didfdhbecg")),d=p(n("jccfhaecf"));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={chatId:null,shouldAnimate:!1},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.chat,n=e.mute,r=e.unreadCount,s=n.isMuted?o.createElement("div",{className:i.default.icon,key:"icon-muted"},o.createElement(l.default,{name:"muted"})):null,d=null!=t.pin&&t.pin>0?o.createElement("div",{className:i.default.icon,key:"icon-pinned"},o.createElement(l.default,{name:"pinned"})):null,p=0!==r?o.createElement("div",{className:i.default.icon,key:"icon-unread"},o.createElement(c.default,{count:r})):null,h=t.archive?o.createElement("span",{className:(0,a.default)(i.default.icon,i.default.archived),key:"icon-archived"},u.default.t(296)):null;return o.createElement(f.default,{transitionName:"pop",transitionEnter:this.state.shouldAnimate,transitionLeave:this.state.shouldAnimate},s,h,d,p)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.chat.id;return{chatId:n,shouldAnimate:d.default.equals(t.chatId,n)}}}]),t}();m.CONCERNS={chat:["id","archive","pin"],mute:["isMuted"]},m.displayName="Icons",t.default=(0,s.default)(m,m.CONCERNS)},dggccgeid:function(e,t){e.exports={content:"_1VwzF"}},dggeggcjcd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=j(n("iidhbgeed")),a=j(n("dbafiicfja")),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=j(n("dhbceejbjg")),s=j(n("dbdfbgehgj")),l=j(n("bbchdeehff")),c=j(n("dhhfaeacef")),f=j(n("cdbcigcahd")),d=j(n("fifhbjiec")),p=n("bidfjbaebi"),h=j(n("fffdgbfji")),m=j(n("bahgfcjcda")),b=n("eagfdbhhhh"),g=j(n("bfdcadbbif")),v=j(n("cgfjebhhej")),y=j(n("dggccgeid")),_=j(n("djbfhebjhe")),E=n("dcbdjheea");function j(e){return e&&e.__esModule?e:{default:e}}var O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"openChat",value:function(e){l.default.closeModal(),s.default.find((0,E.numberToWid)(e)).then(function(e){l.default.openChatFromUnread(e).then(function(t){t&&l.default.focusChatTextInput(e)})})}},{key:"sendEmail",value:function(e){var t=`mailto:${e}`;(0,p.openExternalLink)(t)}},{key:"openLocation",value:function(e){var t=`https://maps.google.com/maps/search/${(0,a.default)((0,r.default)(e),encodeURIComponent).join(", ")}?hl=${h.default.getLocale()}`;(0,p.openExternalLink)(t)}},{key:"getHeader",value:function(){var e=this.props.parsedVCard,t=v.default.vcardWAids(e),n=i.createElement(d.default,{text:v.default.getNameFromParsedVCard(e),direction:"auto",titlify:!0,ellipsify:!0,selectable:!0}),r=v.default.getOrganizationString(e),a=i.createElement(m.default,{thumb:this.props.thumbnail,size:c.default.Size.SMALL,waid:v.default.thumbnailWAid(t)});return i.createElement(u.default,{image:a,theme:"plain",primary:n,secondary:r})}},{key:"render",value:function(){var e=this,t=this.props.parsedVCard,n=(0,r.default)(t.TEL,function(e){return e.properties.waid}),o=(0,r.default)(t.TEL,function(e){return!e.properties.waid}),u=(0,a.default)(n,function(t){var n=t.properties.waid[0],r=i.createElement(g.default,{name:"chat",onClick:function(){return e.openChat(n)}}),a=i.createElement(b.SelectableSpan,{selectable:!0},(0,_.default)(n));return i.createElement(f.default,{title:a,icon:r,key:`vCard-${String(t.index)}`},v.default.getType(t))}),s=(0,a.default)(t.EMAIL,function(t){return i.createElement(f.default,{title:h.default.forceLTR(t.value),onClick:function(){return e.sendEmail(t.value)},key:`vCard-${String(t.index)}`},v.default.getType(t))}),l=(0,a.default)(t.ADR,function(t){var n=t.value.join(" ");return i.createElement(f.default,{title:n,onClick:function(){return e.openLocation(t.value)},key:`vCard-${String(t.index)}`},v.default.getType(t))}),c=(0,a.default)(o,function(e){return i.createElement(f.default,{title:h.default.forceLTR(e.value),key:`vCard-${String(e.index)}`},v.default.getType(e))}),d=(0,a.default)(t.SERVICE,function(e){return i.createElement(f.default,{title:e.value,key:`vCard-${String(e.index)}`},v.default.getType(e))}),p=(0,a.default)(t.BDAY,function(e){return i.createElement(f.default,{title:v.default.getDate(e.value),key:`vCard-${String(e.index)}`},h.default.t(1096))}),m=(0,a.default)(t.NICKNAME,function(e){return i.createElement(f.default,{title:e.value,key:`vCard-${String(e.index)}`},h.default.t(1106))}),E=this.getHeader();return i.createElement("div",null,E,i.createElement("div",{className:y.default.content},u,s,l,c,p,m,d))}}]),t}();O.displayName="VCardModalDetails",t.default=O},dggfjficbb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=S(n("hhbhaabfi")),i=S(n("bbchdeehff")),u=S(n("biddiiafgd")),s=S(n("djcchigfih")),l=S(n("djbhiedbef")),c=n("dajffajabh"),f=S(c),d=S(n("dbgdaechch")),p=S(n("bhhdeihhhf")),h=S(n("bijffg")),m=n("bddhdheedf"),b=S(n("icghcjegh")),g=S(n("eceadcicaf")),v=n("bhfdfhefca"),y=S(n("bfbggcdbfb")),_=S(n("dahdbbghjd")),E=S(n("cbcbdjdah")),j=S(n("dceicchccd")),O=S(n("bfdcadbbif"));function S(e){return e&&e.__esModule?e:{default:e}}var w=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.openColorPicker=function(){var t=e.props.labelId,n=h.default.assertGet(t);e.props.openLabelColorDrawer(e.props.labelId,n.color)},e.openEditLabel=function(){e.props.onEditLabel&&e.props.onEditLabel(e.props.labelId)},e.onCancelLabelSelection=function(){e.multiSelection.unsetAll()},e.renderMenu=function(){return a.createElement(v.MenuBarItem,{a8nText:"starred-menu",icon:a.createElement(O.default,{name:"menu-white"}),title:l10n.t(704)},a.createElement(d.default,{type:"dropdown_menu",flipOnRTL:!0,key:"labelChooseColor",dirX:"LEFT"},a.createElement(p.default,{a8n:"menu-item",action:e.openColorPicker},l10n.t(617)),a.createElement(p.default,{a8n:"menu-item",action:e.openEditLabel},l10n.t(407))))},e.onRemoveLabel=function(){var t=e.multiSelection.getSelected(),n=e.props,r=n.onRemoveLabel,o=n.labelId;if(r){var s=h.default.assertGet(o);(0,m.logLabelOperationEvent)(y.default.LABEL_OPERATIONS.VIEW,t.length,y.default.LABEL_TARGETS.BULK_UNLABEL_DIALOG),i.default.openModal(a.createElement(u.default,{title:l10n.t(923,{count:t.length,labelName:s.name,_plural:t.length}),okText:l10n.t(1287),cancelText:l10n.t(1153),onCancel:e._closeModal,onOK:e.onRemoveLabelConfirmed.bind(null,o,t)}))}},e._closeModal=function(){var t=e.multiSelection.getSelected();(0,m.logLabelOperationEvent)(y.default.LABEL_OPERATIONS.CLICK_NEGATIVE,t.length,y.default.LABEL_TARGETS.BULK_UNLABEL_DIALOG),i.default.closeModal()},e.onRemoveLabelConfirmed=function(t,n){i.default.closeModal(),e.onCancelLabelSelection(),e.props.onRemoveLabel(t,n),(0,m.logLabelOperationEvent)(y.default.LABEL_OPERATIONS.CLICK_POSITIVE,n.length,y.default.LABEL_TARGETS.BULK_UNLABEL_DIALOG)},e.multiSelection=new j.default([],function(e){return e.id.toString()}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(this.multiSelection,"all",function(){return e.forceUpdate()}),(0,m.logLabelOperationEvent)(y.default.LABEL_OPERATIONS.VIEW,void 0,y.default.LABEL_TARGETS.LABEL_DETAILS_SCREEN)}},{key:"hasMixedSelection",value:function(e){for(var t=void 0,n=void 0,r=0;r<e.length;r++){if(e[r]instanceof E.default?n=!0:t=!0,t&&n)return!0}return!1}},{key:"render",value:function(){var e=this.multiSelection.getSelected(),t=this.hasMixedSelection(e),n=this.multiSelection.getSelected().length>0?a.createElement(_.default,{labelEditEnabled:!t,onRemoveLabel:this.onRemoveLabel,selectedModels:this.multiSelection,onCancel:this.onCancelLabelSelection,theme:"drawer-header"}):a.createElement(f.default,{onBack:this.props.onClose,menu:this.renderMenu(),type:c.DRAWER_HEADER_TYPE.LABELS},a.createElement(b.default,{labels:[this.props.labelId],renderAsCircle:!0,showName:!0,theme:"drawer-title"}));return a.createElement(s.default,{theme:"settings"},n,a.createElement(l.default,null,a.createElement(o.default,{hideMultiSelectBar:!0,multiSelection:this.multiSelection,labelFilter:this.props.labelId,selectable:!0})))}}]),t}();w.displayName="LabelItemDrawer",t.default=(0,g.default)(w)},dggicghjch:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=w(n("effbcehec")),i=w(n("cfadcbbiie")),u=w(n("bjigbaghc")),s=w(n("dhigahgdjb")),l=w(n("dhhfaeacef")),c=n("cicgeajfge"),f=n("bbhhbdicgc"),d=w(f),p=w(n("cicjcfabii")),h=w(n("bggeiidigb")),m=w(n("bjbdcigbdi")),b=w(n("fffdgbfji")),g=w(n("eceadcicaf")),v=w(n("cahfddcdga")),y=w(n("bfgbdiffgd")),_=w(n("cgebaggcga")),E=w(n("bgcdajbhif")),j=w(n("cajjfeahjc")),O=w(n("gdhdegbhg")),S=w(n("bfdcadbbif"));function w(e){return e&&e.__esModule?e:{default:e}}function P(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var A="SEC_UNREAD",N="SEC_READ",k="SEC_MUTED",I="ROW_STATUS",R=function(e){function t(){M(this,t);var e=C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));L.call(e);var n=e.getUnreadStatusList(),r=e.getReadStatusList(),a=[].concat(P(n),P(r)).filter(function(e){return e.contact.statusMute});return e.state={unreadStatusList:n.filter(function(e){return!e.contact.statusMute}),readStatusList:r.filter(function(e){return!e.contact.statusMute}),mutedStatusList:a,myStatus:E.default.getMyStatus(),isMutedExpanded:!1},e}return T(t,a.Component),r(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(E.default,"add remove bulk_add sort change:msgsChanged change:hasUnread",this.onStatusChange),this.props.listeners.add(s.default,"change:statusMute",this.onContactMuteChange),this.props.listeners.add(E.default,"sync")}},{key:"getUnreadStatusList",value:function(){return E.default.getUnexpired(!0)}},{key:"getReadStatusList",value:function(){return E.default.getUnexpired(!1)}},{key:"getData",value:function(){var e=this.state,t=e.unreadStatusList,n=e.readStatusList,r=e.mutedStatusList,a=[];return t.length>0&&(a.push({type:A,itemKey:"section-unread",height:48}),a.push.apply(a,P(t.map(function(e,t){return{type:I,itemKey:e.id.toString(),height:64,status:e,index:t}})))),n.length>0&&(a.push({type:N,itemKey:"section-read",height:48}),a.push.apply(a,P(n.map(function(e,t){return{type:I,itemKey:e.id.toString(),height:64,status:e,index:t}})))),r.length>0&&(a.push({type:k,itemKey:"section-muted",height:48,expanded:this.state.isMutedExpanded}),this.state.isMutedExpanded&&a.push.apply(a,P(r.map(function(e,t){return{type:I,itemKey:e.id.toString(),height:64,status:e,index:t}})))),a}},{key:"render",value:function(){var e=this.getData(),t=void 0;return t=E.default.hasSynced()&&e.length>0?a.createElement(d.default,{className:"statusList",itemEnterAnimationsEnabled:!0,flatListController:this.flatListController,direction:"vertical",data:e,renderItem:this.renderItem}):a.createElement(c.ListStatus,null),a.createElement("div",{className:j.default.listPanel},a.createElement(D,{statusV3:this.state.myStatus,onOpenStatus:this.props.onOpenStatus}),a.createElement(p.default,{className:j.default.listBody,flatListControllers:[this.flatListController]},t))}}]),t}(),L=function(){var e=this;this.flatListController=new h.default,this.onStatusChange=function(){var t=e.getUnreadStatusList(),n=e.getReadStatusList(),r=[].concat(P(t),P(n)).filter(function(e){return e.contact.statusMute});e.setState({unreadStatusList:t.filter(function(e){return!e.contact.statusMute}),readStatusList:n.filter(function(e){return!e.contact.statusMute}),mutedStatusList:r,myStatus:E.default.getMyStatus()})},this.onContactMuteChange=function(){var t=e.getUnreadStatusList(),n=e.getReadStatusList(),r=[].concat(P(t),P(n)).filter(function(e){return e.contact.statusMute});e.setState({unreadStatusList:t.filter(function(e){return!e.contact.statusMute}),readStatusList:n.filter(function(e){return!e.contact.statusMute}),mutedStatusList:r,myStatus:E.default.getMyStatus()})},this.toggleMuted=function(){e.setState(function(e){return{isMutedExpanded:!e.isMutedExpanded}})},this.renderItem=function(t){switch(t.type){case A:return a.createElement("div",{className:j.default.listSectionSep},a.createElement("hr",null),a.createElement("div",{className:j.default.listSectionText},a.createElement("span",null,b.default.t(1043))));case N:return a.createElement("div",{className:j.default.listSectionSep},a.createElement("hr",null),a.createElement("div",{className:j.default.listSectionText},a.createElement("span",null,b.default.t(1049))));case k:return a.createElement("div",{className:j.default.listSectionSep},a.createElement("hr",null),a.createElement("div",{className:j.default.listSectionText},a.createElement("span",null,b.default.t(1037)),a.createElement("button",{className:j.default.listSectionAction,onClick:e.toggleMuted},t.expanded?b.default.t(1034):b.default.t(1035))));case I:return a.createElement(_.default,{statusV3:t.status,onClick:function(){return e.props.onOpenStatus(t.status,void 0,t.index)},contact:t.status.contact});default:throw new f.UnknownDataError(t)}}};R.displayName="StatusV3ListPanel";var D=function(e){function t(){return M(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return T(t,a.Component),r(t,[{key:"render",value:function(){var e=this,t=void 0,n=this.props.statusV3,r=void 0,s=void 0;n&&(s=n.msgs);var c=function(){var t=n&&n.msgs;n&&t&&t.length&&e.props.onOpenStatus(n,t.head(),0)},f=void 0,d=void 0;if(n&&s&&s.length){t=a.createElement(O.default,{statusV3:n,contact:n.contact,onClick:c});var p=(0,v.default)(s.last()).t;r=a.createElement("span",{className:j.default.secondaryHeaderText},y.default.statusRanking&&m.default.supportsFeature(m.default.F.STATUS_RANKING)?b.default.t(1040,{count:s.length,_plural:s.length}):i.default.relativeDateAndTimeStr(p)),d={cursor:"pointer"},f=c}else t=a.createElement(l.default,{id:u.default.me,theme:"status_v3",size:40}),r=a.createElement("span",{"data-a8n":o.default.key("status-no-updates"),className:j.default.secondaryHeaderText},b.default.t(1039));var h=void 0,g=void 0;m.default.supportsFeature(m.default.F.STATUS_V3_UI_SENDING)&&(h=a.createElement(S.default,{name:"menu-white"}),g=a.createElement(S.default,{name:"status-v3-create"}));var _=a.createElement("span",{"data-a8n":o.default.key("my-status"),className:j.default.primaryHeaderText},b.default.t(1038));return a.createElement("div",{className:j.default.panelHeader,style:d,onClick:f},a.createElement("div",{className:j.default.headerButtonsPrimary},t),a.createElement("div",{className:j.default.headerText},_,r),a.createElement("div",{className:j.default.headerButtonsSecondary},g,h))}}]),t}();D.displayName="StatusV3ListHeader",t.default=(0,g.default)(R)},dghbeeheia:function(e,t){e.exports={note:"lfgvk",icon:"OYyjt",noteBody:"_2QOAV"}},dghebhejhb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=h(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=h(n("cehjjfagii")),u=n("ddbddjjgia"),s=h(n("cieaeggjg")),l=h(n("bfbggcdbfb")),c=h(n("ihfccfgdf")),f=h(n("bgghfidcfh")),d=h(n("bcbhcfbjff")),p=h(n("bjddgjgae"));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._stopPropagation=function(e){e.stopPropagation()},r._handleDownloadMedia=function(){return r.props.msg.downloadMedia(!1,l.default.WEBC_RMR_REASON_CODE.MSG_RENDER)},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.props.msg.downloadMedia(!1,l.default.WEBC_RMR_REASON_CODE.MSG_RENDER)}},{key:"render",value:function(){var e=this.props.msg,t=this.props.displayAuthor&&!e.isSentByMe&&e.isGroupMsg,n=t?o.createElement("div",{className:d.default.author},o.createElement(i.default,{msg:e,contact:e.senderObj})):null,r=this.props.quotedMsg?o.createElement("div",{className:d.default.quote},this.props.quotedMsg):null,l=(0,a.default)(d.default.bubble,{[d.default.hasAuthor]:t,[d.default.isFirst]:this.props.position===u.MsgPosition.FRONT||this.props.position===u.MsgPosition.SINGLE,[d.default.isTransparent]:!e.quotedMsg});return o.createElement("div",{className:l,onClick:this._stopPropagation},n,r,o.createElement("div",{className:d.default.body},o.createElement(p.default,{mediaData:this.props.mediaData,msg:e},o.createElement(f.default,{mediaData:this.props.mediaData,theme:"conversation",isNewMsg:e.isNewMsg,downloadMedia:this._handleDownloadMedia})),o.createElement("div",{className:d.default.meta},o.createElement(s.default,{msg:e}))))}}]),t}();b.CONCERNS={msg:["isNewMsg","isSentByMe","isGroupMsg","senderObj","quotedMsg"]},b.displayName="StickerBubble",t.default=(0,c.default)(b,b.CONCERNS)},dghggcieid:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n("dcaifjegcg"),o=(r=a)&&r.__esModule?r:{default:r};function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,u=Array(o),s=0;s<o;s++)u[s]=arguments[s];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.id=(0,a.prop)(),r.weight=(0,a.prop)(),i(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),t}();u.Proxy="recentEmoji",t.default=(0,a.defineModel)(u)},dghjhchjic:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n("dffgeedefc")),a=i(n("cgcgbfbffj")),o=i(n("ccdbdjihjh"));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),t}();u.model=o.default,u.comparator=function(e,t){return e.id===t.id?0:(0,r.default)(e.id,t.id)?-1:1},t.default=u},dgibicjjj:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=m(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=m(n("effbcehec")),u=m(n("bcibfcjcbf")),s=m(n("dhbceejbjg")),l=m(n("fifhbjiec")),c=n("gaifbabbj"),f=m(n("becfabjeeg")),d=m(n("bfdcadbbif")),p=m(n("bcifhbgija")),h=m(n("didfdhbecg"));function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={hover:!1,contextMenu:!1,forceContextMenu:!1},r.setRefContext=function(e){r.refContext=e},r.setCellFrameDivRef=function(e){r.cellFrameDivRef=e},r.handleMenuMouseDown=function(e){var t=r.props,n=t.contextEnabled,a=t.onContext,o=r.state.contextMenu;(n()||o)&&(e.stopPropagation(),e.preventDefault(),a&&a({anchor:e.target}))},r.handleMenuClick=function(e){e.stopPropagation()},r.onContextMenu=function(e){var t=r.props,n=t.contextEnabled,a=t.onContext;n()&&(e.stopPropagation(),e.preventDefault(),a&&a({event:e}))},r.openContextMenu=function(){r.props.contextEnabled()&&r.setState({contextMenu:!0},function(){if(!r.refContext)throw new Error("Context ref not set");r.refContext.click()})},r.mouseOver=function(){r.state.hover||r.state.contextMenu||!r.props.contextEnabled()||r.setState({hover:!0})},r.mouseEnter=function(){r.state.hover||r.state.contextMenu||!r.props.contextEnabled()||r.setState({hover:!0})},r.mouseLeave=function(){r.state.hover&&r.setState({hover:!1})},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"reset",value:function(){var e=this.cellFrameDivRef;e&&((0,p.default)(e,"stop"),e.style.backgroundColor="")}},{key:"render",value:function(){var e=this.state.contextMenu||this.state.hover,t=(0,a.default)(this.props.className,{hover:e}),n="string"==typeof this.props.primary?o.createElement(l.default,{text:this.props.primary,direction:"auto",formatters:c.Configuration.Search({terms:this.props.searchText?[this.props.searchText]:[]}),titlify:!0,ellipsify:!0}):this.props.primary,r=null,p=null;null!=this.props.pendingAction&&this.props.pendingAction>0?p=o.createElement("div",{className:u.default.btnContext},o.createElement(f.default,{size:18,stroke:6,color:"highlight"})):e&&(r=o.createElement("div",{"data-a8n":i.default.key("context-btn"),className:u.default.btnContext,key:"icon-context",ref:this.setRefContext,onMouseDown:this.handleMenuMouseDown,onClick:this.handleMenuClick},o.createElement(d.default,{name:"down"})));var m=o.createElement(h.default,{transitionName:"fade"},p),b=o.createElement(h.default,{transitionName:"pop-fast-chat"},e?r:null),g=void 0,v=void 0;return this.props.secondary?(g=this.props.primaryDetail,v=[o.createElement(o.Fragment,{key:"prop"},this.props.secondaryDetail),o.createElement(o.Fragment,{key:"spinner"},m),o.createElement(o.Fragment,{key:"button"},b)]):g=[o.createElement(o.Fragment,{key:"prop"},this.props.primaryDetail),o.createElement(o.Fragment,{key:"spinner"},m),o.createElement(o.Fragment,{key:"button"},b)],o.createElement(s.default,{setDivRef:this.setCellFrameDivRef,image:this.props.image,customImage:this.props.customImage,className:t,unread:this.props.unread,active:this.props.active,isMuted:this.props.isMuted,dragging:this.props.dragging,theme:this.props.theme,primary:n,primaryDetail:g,secondary:this.props.secondary,secondaryDetail:v,detail:this.props.detail,onClick:this.props.onClick,onMouseDown:this.props.onMouseDown,onContextMenu:this.props.contextEnabled()?this.onContextMenu:null,onMouseEnter:this.state.hover?null:this.mouseEnter,onMouseOver:this.state.hover?null:this.mouseOver,onMouseLeave:this.state.hover?this.mouseLeave:null})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.forceContextMenu&&t.contextMenu&&!e.contextMenu?{contextMenu:!1,forceContextMenu:e.contextMenu}:{forceContextMenu:e.contextMenu}}}]),t}();g.displayName="Cell",e.exports=g},dgicehhija:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=g(n("dbafiicfja")),a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(e){var t=a(e,1)[0];function n(e,n){var r=void 0;r=m.default.isStatusV3(t.broadcast)?new p.default({from:t.from,to:t.broadcast,id:n,selfDir:t.self||"out"}):new p.default({from:t.from,to:e,id:n,participant:t.participant,selfDir:t.self||"out"});var a=h.default.Msg.get(r);a?(0,o.updateMsgAck)(a,t.broadcast,{from:t.from,to:e,ack:t.ack,t:t.t}):(f.default.log("Msg:out of order ack",t)(),h.default.Msg.preAck[r]=t)}if("ack"===t.cmd){var g=[t.to];if(m.default.isBroadcast(t.to)&&1===t.ack){var y=h.default.GroupMetadata.get(t.to);y&&Array.prototype.push.apply(g,(0,r.default)(y.participants.toArray(),"id"))}g.forEach(function(e){n(e,t.id)})}else if("acks"===t.cmd)t.id.forEach(function(e){n(t.to,e)});else if(t.msg){if(!(t.chat instanceof m.default))return;v(t.chat,t.msg,t.meta)}else if(t.msgs){var _=t.msgs.length;if(!_)return;var E=null;if(!(t.chat instanceof m.default))return;var j=t.meta;j.isHistory=!0,"unread"===j.add&&(j.firstUnreadKey=new p.default({fromMe:j.unreadFromMe,remote:t.chat,id:j.unreadId,participant:j.unreadParticipant}),E=new i.default);for(var O=0;O<_;O++){var S=t.msgs[O];S.invis=!0}l.default.platform===s.PLATFORMS.IPHONE&&h.default.Msg.trigger(u.default.COLLECTION_HAS_SYNCED),h.default.Msg.trigger("handle:msg_history",{count:t.msgs.length,binarySize:t.binarySize}),(0,d.storeMessages)(t.msgs).then(function(){return(0,d.addMessagesToHistory)(t.chat,t.msgs,j)}).then(function(){return h.default.Msg.processMultipleMessages(t.chat,t.msgs,j,E)}).catch(c.LogoutDrop,function(){}).catch(function(e){f.default.assert(!1,"msg_handler: error storing/processing multiple messages",`Msgs count: ${_} Chat: ${String(t.chat)} Error: ${e.name}, message: ${e.message}, stack: ${e.stack}`)(e)})}else t.recent?function(){var e=t.meta,n=t.binarySize;delete t.recent,delete t.meta,delete t.binarySize,h.default.Msg.trigger(u.default.COLLECTION_HAS_SYNCED,{count:Object.keys(t).length,binarySize:n}),e.isHistory=!0;var r=function(n){var r=void 0;try{r=(0,b.createWid)(n)}catch(e){return"continue"}var a=t[n];a.invis=!0,(0,d.storeMessages)([a]).then(function(){return(0,d.addMessagesToHistory)(r,[a],e)}).then(function(){var t="last"===e.add&&e.resume?new i.default:null;h.default.Msg.processMultipleMessages(r,[a],e,t)}).catch(c.LogoutDrop,function(){}).catch(function(e){f.default.assert(!1,"msg_handler: error storing recent messages")(e)})};for(var a in t)r(a)}():f.default.log("************** Msg else clause. something strange is going on")()},t.handleSingleMsg=v;var o=n("bgffafigi"),i=g(n("dbfjecijha")),u=g(n("baagejbchg")),s=n("bjigbaghc"),l=g(s),c=n("ddjgcfjicj"),f=g(n("bdiiahhjbe")),d=n("ecdfgaagba"),p=g(n("cffajefeag")),h=g(n("bhggeigghg")),m=g(n("jccfhaecf")),b=n("dcbdjheea");function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n){var r="update"===n.add;if(m.default.isStatusV3(e)&&!h.default.StatusV3.handleUpdate(t,n.checksum,r))return Promise.resolve();t.recvFresh=!0,t.isNewMsg=!0;var a=[t],o={add:"after",update:r,isHistory:!1},i=h.default.Chat.get(e);return(0,d.storeMessages)(a).then(function(){return(0,d.addMessagesToHistory)(e,a,o,i&&i.msgs&&i.msgs.last())}).then(function(){return h.default.Msg.processMultipleMessages(e,a,o)}).catch(c.LogoutDrop,function(){}).catch(function(n){f.default.assert(!1,"msg_handler: error storing/processing single message",`Msg: ${String(t.id)} chat: ${String(e)} Error: ${n.name}, message: ${n.message}, stack: ${n.stack}`)(n)})}},dgiechcbec:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=y(n("iabebjcej")),i=y(n("fifhbjiec")),u=y(n("dgjddffcfg")),s=y(n("bjbdcigbdi")),l=y(n("bhcdbgbbad")),c=n("gaifbabbj"),f=y(n("fffdgbfji")),d=y(n("eighdgacb")),p=y(n("eceadcicaf")),h=y(n("cjbgdeaacg")),m=y(n("cibcaiabfd")),b=y(n("bhheahajjg")),g=y(n("ihfccfgdf")),v=n("bheafeifce");function y(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=_(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.updateAfterFeatureFlagChange=function(){r.props.listeners._unmounted||r.forceUpdate()},_(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(s.default,s.default.FEATURE_CHANGE_EVENT,this.updateAfterFeatureFlagChange)}},{key:"render",value:function(){var e=this.props,t=e.msg,n=e.searchQuery,r=void 0===n?[]:n,s=e.msgType,p=e.author,g=[];t.isSentByMe&&!t.isRevoked&&g.push(a.createElement(h.default,{msg:t,key:"symbol"}));var y="Search"!==s&&!t.isSentByMe&&t.isGroupMsg&&!t.isNotification,_=p&&"Search"===s;(y||_)&&(y?g.push(a.createElement(b.default,{contact:t.senderObj,useShortName:!0,key:"author"})):_&&g.push(a.createElement(i.default,{text:p,direction:"auto",key:"author"})),g.push(a.createElement("span",{key:"divider"},":",""))),t.hasSymbol()&&g.push(a.createElement(m.default,{msg:t,key:"msg-symbol"})),t.isGroupNotification?g.push(a.createElement(l.default,{msg:t,clickable:!1,key:"status"})):t.isBroadcastNotification?g.push(a.createElement(o.default,{msg:t,clickable:!1,key:"broadcast_notification"})):g.push(a.createElement(i.default,{className:t.isRevoked?d.default.revoked:null,direction:t.dir,text:u.default.asSingleLineText(u.default.msgText((0,v.unproxy)(t),!1,!0)),dirMismatch:t.rtl!==f.default.isRTL(),formatters:c.Configuration[s]({mentions:t.mentionMap(),terms:r}),ellipsify:!0,inlineblock:!0,key:"status"}));var E=f.default.embedDir(u.default.msgText((0,v.unproxy)(t))||"",t.rtl);return a.createElement("span",{className:d.default.last,title:E},g)}}]),t}();E.CONCERNS={msg:["dir","isGroupMsg","isGroupNotification","isBroadcastNotification","isNotification","isRevoked","isSentByMe","rtl","senderObj","type"]},E.displayName="LastMsg",t.default=(0,p.default)((0,g.default)(E,E.CONCERNS))},dgijhbdidg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=I(n("eaaagccfda")),a=I(n("hhegggegb")),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=k(n("ddhijeejag")),u=I(n("ggfcffeaf")),s=I(n("bbchdeehff")),l=I(n("baagejbchg")),c=I(n("djcchigfih")),f=I(n("djbhiedbef")),d=n("dajffajabh"),p=I(d),h=n("cicgeajfge"),m=n("ddjgcfjicj"),b=k(n("cajijabhgb")),g=n("bbhhbdicgc"),v=I(n("bggeiidigb")),y=I(n("ddajbaceej")),_=I(n("dacfecidja")),E=I(n("jheedhagg")),j=n("dhfbfehaef"),O=I(j),S=I(n("dbciicjiad")),w=I(n("eceadcicaf")),P=I(n("dfcdejcheh")),M=I(n("bjbedjfe")),C=I(n("ceddibdhdb")),T=I(n("dcaibchbg")),A=I(n("becfabjeeg")),N=n("chhhffajfi");function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function I(e){return e&&e.__esModule?e:{default:e}}var R=u.default["-color-bg-light"],L=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.flatListController=new v.default,n.state={searchText:"",searching:!1,resultsUnavailable:!1},n.setSearch=function(e){n.search=e},n.selection=new T.default([],function(e){return e.id.toString()}),n.pending=!1,n._batchRenderState={},n._handleScroll=function(e){n.shouldFTSSearch(e)&&(n.fts(),n.pending=!0)},n.handleScroll=(0,a.default)(n._handleScroll,100),n._debounceSetState=new C.default(function(){n.setState(n._batchRenderState),n._batchRenderState={}}),n.batchSetState=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:75;Object.assign(n._batchRenderState,e),n._debounceSetState.debounce(t)},n.fts=(0,r.default)(function(){n.pending=!1;var e=(n.state.searchText||"").trim();(0,N.numCodepoints)(e)<l.default.FTS_MIN_CHARS||(n._ftsPromise&&n._ftsPromise.cancel(),n._ftsPromise=Promise.resolve().then(function(){n.isFTSSearching()||n.batchSetState({searching:!0})}).then(function(){return n.ftsMsgs.search({chat:n.props.chat,count:n.getSearchCount(),searchTerm:e})}).checkpoint(n.props.rejectOnUnmount()).then(function(t){t&&!t.canceled&&e===n.state.searchText.trim()&&n.batchSetState({searching:!1,resultsUnavailable:!1})}).catch(b.Unmount,function(){}).catch(function(e){n.pending||n.batchSetState({searching:!1,resultsUnavailable:e instanceof m.E404})}))},l.default.FTS_TYPING_DELAY),n.fullTextSearch=function(e){var t=e.trim();(0,N.numCodepoints)(t)>=l.default.FTS_MIN_CHARS?(n.fts(),n.pending=!0,n.state.searching||n.batchSetState({searching:!0})):(n.fts.cancel(),n.ftsMsgs.resetSearch(),n.ftsMsgs.delete(),n._ftsPromise&&n._ftsPromise.cancel(),n.pending=!1,n.state.searching&&n.batchSetState({searching:!1,resultsUnavailable:!1}))},n.shouldFTSSearch=function(e){return!(!n.ftsMsgs.hasMoreMsgs||n.pending||n.state.searching||n.ftsMsgs.searchPromise||(0,N.numCodepoints)(n.state.searchText||"")<l.default.FTS_MIN_CHARS)&&e.scrollTop+l.default.SCROLL_FUDGE>e.scrollHeight-e.clientHeight},n.isFTSSearching=function(){var e=n._batchRenderState;return"searching"in e?e.searching:n.state.searching},n.onSearch=function(e){if(e){if(e!==n.state.searchText){var t={searchText:e,resultsUnavailable:!1};n.fullTextSearch(e),n.setState({searchText:e}),n.batchSetState(t)}}else n.onStopSearch()},n.onStopSearch=function(){n.fts.cancel(),n.ftsMsgs.resetSearch(),n.ftsMsgs.delete(),n._ftsPromise&&n._ftsPromise.cancel(),n.pending=!1,n.setState({searchText:"",searching:!1})},n.onFocusList=function(e){e.repeat||n.refMsglist&&(n.search&&!n.search.isAtEnd()||(e.preventDefault(),e.stopPropagation(),(0,j.shouldIndicateFocus)(),n.refMsglist&&n.refMsglist.focusFirst()))},n.onOpenFirst=function(e){e.preventDefault();var t=n.ftsMsgs.head();if(t){var r=t.chat,a=r.getSearchContext(t);s.default.focusChatTextInput(r),s.default.openChatAt(r,a)}},n.onFocusSearch=function(){(0,j.shouldIndicateFocus)(),y.default.focus(n.search)},n.onClose=function(){n.props.uim.uie.requestDismiss()},n.indicateFocus=function(e){(0,j.indicateFocus)(n.refInputHotkey,[R,"#D9F3FF"])},n.onScroll=function(e){n.handleScroll(e.currentTarget)},n.getEmptyChatlistState=function(e){if(e.length)return null;var t=(n.state.searchText||"").trim();return(0,N.numCodepoints)(t)>=l.default.FTS_MIN_CHARS?n.state.searching?i.createElement(h.SearchingMessages,null):n.state.resultsUnavailable?i.createElement(h.SearchMessagesUnavailable,null):i.createElement(h.SearchMessages,null):(0,h.BeforeSearchMessages)(n.props.chat.title(),n.props.chat.isGroup)},n.setRefMsglist=function(e){n.refMsglist=e},n.setInputHotkey=function(e){n.refInputHotkey=e},n.ftsMsgs=new _.default(e.chat),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentDidMount",value:function(){this.onFocusSearch(),this.props.listeners.add(this.ftsMsgs,"bulk_remove")}},{key:"componentWillUnmount",value:function(){this.handleScroll.cancel(),this.fts.cancel(),this.ftsMsgs.delete(!0),this._ftsPromise&&this._ftsPromise.cancel(),this._debounceSetState.cancel()}},{key:"getSearchCount",value:function(){return Math.round(window.innerHeight/g.DEFAULT_ITEM_HEIGHT)+1}},{key:"render",value:function(){var e=this.ftsMsgs.toArray(),t=this.getEmptyChatlistState(e);if(null==t){var n=this.state.searchText?this.state.searchText.trim():null;t=i.createElement(P.default,{ref:this.setRefMsglist,flatListController:this.flatListController,isSearching:!!this.state.searchText,searchText:n,ftsResult:e,selection:this.selection,onFocusSearch:this.onFocusSearch})}var r={down:this.onFocusList,enter:this.onOpenFirst},a=this.state.searching&&e.length?i.createElement("div",{className:u.default.searchSpinner},i.createElement(A.default,{stroke:6,size:24})):null;return i.createElement(c.default,{key:"search-modal"},i.createElement(p.default,{title:l10n.t(979),type:d.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onClose}),i.createElement(O.default,{handlers:r,onFocus:this.indicateFocus,ref:this.setInputHotkey,className:u.default.panelSearch},i.createElement(S.default,{ref:this.setSearch,type:"chat-msg-search",onSearch:this.onSearch,placeholder:l10n.t(973),loading:this.state.searching})),i.createElement(f.default,{flatListControllers:[this.flatListController],className:u.default.panelBody,onScroll:this.onScroll,id:"pane-side"},t,a))}}]),t}();L.displayName="ChatSearch",t.default=(0,E.default)((0,w.default)((0,M.default)(L)))},dgjacfgggf:function(e,t,n){"use strict";var r=f(n("cgeedcdffb")),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cajijabhgb")),o=f(n("gaffaajde")),i=n("cgffhfegce"),u=n("cdbgdedbdh"),s=n("cdebehabcj"),l=f(n("bdiiahhjbe")),c=f(n("bcjcbbafcj"));function f(e){return e&&e.__esModule?e:{default:e}}var d=n("baffhfhhda"),p=n("bjacajbace");function h(e,t){var n=t.x||0,r=t.y||0;t.degrees&&(t.radians=t.degrees*(Math.PI/180)),e.translate(n,r),e.rotate(t.radians),e.translate(-n,-r)}function m(e){var t=e.getContext("2d");t.fillStyle="rgb(247,247,247)",t.fillRect(0,0,e.width,e.height)}var b={DATA_URL:1,BLOB:2,CANVAS:4},g={DATA_URL:b.DATA_URL,BLOB:b.BLOB,CANVAS:b.CANVAS,generateVideoThumbAndDuration:function(e,t){if(c.default.isBuggyVideoLoadChrome){return d.video(e,!0).then(function(e){var n=e.video,a=e.fullWidth,i=e.fullHeight;return(0,o.default)({minTimeout:50,maxTimeout:50,retries:100,signal:(new r.default).signal,factor:1},function(e,r){var o=document.createElement("canvas"),s=(0,u.boundHeightWidth)(i,a,t);o.width=s.width,o.height=s.height;var l=o.getContext("2d");l.drawImage(n,0,0,s.width,s.height);var c=l.getImageData(0,0,s.width,s.height);if(r<100&&function(e){for(var t=e.width*e.height/4,n=0;n<=1;n+=.25){var r=4*Math.round(t*n);if(0!==e.data[r])return!1;if(0!==e.data[r+1])return!1;if(0!==e.data[r+2])return!1;var a=e.data[r+3];if(0!==a&&255!==a)return!1}return!0}(c))return e(new Error("retry"));var f={duration:~~n.seekable.end(0),thumb:{url:o.toDataURL("image/jpeg"),width:s.width,height:s.height,fullWidth:a,fullHeight:i}};return d.disposeVideo(n),Promise.resolve(f)})})}return d.video(e,!0).then(function(e){var n=e.video,r=e.fullWidth,a=e.fullHeight;try{var o=document.createElement("canvas"),i=(0,u.boundHeightWidth)(a,r,t);return o.width=i.width,o.height=i.height,o.getContext("2d").drawImage(n,0,0,i.width,i.height),{duration:~~n.seekable.end(0),thumb:{url:o.toDataURL("image/jpeg"),width:i.width,height:i.height,fullWidth:r,fullHeight:a}}}finally{d.disposeVideo(n)}})},crop:function(e,t,n,r,a,o,i){var u=this,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:g.DATA_URL;return(e instanceof HTMLCanvasElement?Promise.resolve(e):d.loadImage(e)).then(function(e){var l=document.createElement("canvas"),c=l.getContext("2d");null==o||null==i?(l.height=a,l.width=r,c.drawImage(e,t,n,r,a)):(l.height=i,l.width=o,c.drawImage(e,t,n,r,a,0,0,o,i));var f={};return u.getImagePromises(f,l,s),Promise.props(f).then(function(e){return{images:e,width:r,height:a}})})},generateLinkPreview:function(e){return d.loadImage(e).then(function(e){if(e.width<100||e.height<100)return l.default.log("Image size too small for link preview")(),null;var t=document.createElement("canvas"),n=t.getContext("2d");t.height=140,t.width=140;var r=Math.min(e.width,e.height),a=(e.width-r)/2,o=(e.height-r)/2;return n.drawImage(e,a,o,r,r,0,0,140,140),t.toDataURL("image/jpeg").replace(/^data:image\/jpeg;base64,/,"")}).catch(function(e){return l.default.log("link preview image generation failed: ",e)(),null})},toDataUrl:function(e){return d.loadImage(e).then(function(e){var t=document.createElement("canvas"),n=t.getContext("2d");return t.height=e.height,t.width=e.width,n.drawImage(e,0,0),t.toDataURL("image/jpeg").replace(/^data:image\/jpeg;base64,/,"")}).catch(function(e){return l.default.log("data URL conversion failed: ",e)(),null})},getImagePromises:function(e,t,n){!e.blob&&n&this.BLOB&&(e.blob=this.canvasToBlob(t)),!e.dataUrl&&n&this.DATA_URL&&(e.dataUrl=Promise.resolve(t.toDataURL("image/jpeg"))),!e.canvas&&n&this.CANVAS&&(e.canvas=Promise.resolve(t))},rotateAndResize:function(e,t,n){var r=this,a=void 0,o=void 0,c=void 0;return e instanceof HTMLCanvasElement?(o=Promise.resolve(e),c=Promise.resolve(null)):(a=window.URL.createObjectURL(e),o=d.loadImage(a),c=(0,i.blobToArrayBuffer)(e).catch(function(e){l.default.error(`ImageUtils::rotateAndResize error: ${e}`)(e)})),Promise.props({buffer:c,image:o}).then(function(e){var a=e.buffer,o=e.image,i={};try{i=p(a)}catch(e){}var c=0;switch(i.orientation||"UNKNOWN"){case"right-top":c=1;break;case"left-bottom":c=-1;break;case"bottom-right":c=2}var f=document.createElement("canvas"),d=o.naturalWidth||o.width,b=o.naturalHeight||o.height,v=f.getContext("2d"),y={};if(!c){var _=(0,u.boundHeightWidth)(b,d,t),E=void 0,j=void 0,O=n&g.BLOB;if(a&&O&&d===_.width&&b===_.height)try{var S=(0,s.cleanJPEG)(a);y.blob=S,O=!1,E=d,j=b}catch(e){l.default.log(`Could not parse JPEG: ${e.message}`)()}return(O||n&~g.BLOB)&&(f.width=_.width,f.height=_.height,E=f.width,j=f.height,m(f),v.drawImage(o,0,0,E,j),r.getImagePromises(y,f,n)),Promise.props(y).then(function(e){return{width:E,height:j,images:e}})}switch(c){case 1:case-1:var w=Math.max(d,b),P=w/2;f.width=f.height=w,m(f),h(v,{x:P,y:P,degrees:90*c}),1===c?v.drawImage(o,0,w-b):v.drawImage(o,w-d,0),h(v,{x:P,y:P,degrees:-90*c}),function(e,t,n){var r=e.getContext("2d"),a=r.getImageData(0,0,t,n);e.width=t,e.height=n,r.putImageData(a,0,0)}(f,b,d);var M=function(e,t){var n=(0,u.boundHeightWidth)(e.height,e.width,t),r=n.width,a=n.height;if(r>e.width&&a>e.height)return e;var o=document.createElement("canvas"),i=o.getContext("2d");return o.width=r,o.height=a,i.drawImage(e,0,0,r,a),o}(f,t);return r.getImagePromises(y,M,n),Promise.props(y).then(function(e){return{width:M.width,height:M.height,images:e}});case 2:var C=(0,u.boundHeightWidth)(b,d,t),T=f.width=C.width,A=f.height=C.height;return m(f),h(v,{x:T/2,y:A/2,degrees:90*c}),v.drawImage(o,0,0,T,A),h(v,{x:T/2,y:A/2,degrees:-90*c}),r.getImagePromises(y,f,n),Promise.props(y).then(function(e){return{width:f.width,height:f.height,images:e}})}}).finally(function(){a&&window.URL.revokeObjectURL(a)})},canvasToBlob:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.toBlob?new Promise(function(t){e.toBlob(t,"image/jpeg")}):Promise.resolve(window.dataURLtoBlob(e.toDataURL("image/jpeg")))},urlToFile:function(e){var t=this;return d.loadImage(e).then(function(e){var n=document.createElement("canvas");n.width=e.naturalWidth,n.height=e.naturalHeight;var r=n.getContext("2d");return m(n),r.drawImage(e,0,0),t.canvasToBlob(n)}).catch(function(){return Promise.reject(new a.MediaDragDropError("unable to render image",e))})},isCached(e){if(!e)return!1;var t=new Image;return t.src=e,!!t.complete},loadImage:d.loadImage};e.exports=g},dgjddffcfg:function(e,t,n){"use strict";var r=M(n("jcfacighg")),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=M(n("daffbcegjj")),i=M(n("cfadcbbiie")),u=M(n("baagejbchg")),s=M(n("bjigbaghc")),l=M(n("dhigahgdjb")),c=M(n("bjgiedaj")),f=n("facgccaif"),d=M(n("daabecicc")),p=n("cdaacjiegb"),h=n("dbcfhhdejc"),m=M(n("bjbdcigbdi")),b=n("jegbhjbde"),g=n("gaifbabbj"),v=M(n("fffdgbfji")),y=M(n("bdiiahhjbe")),_=n("bjhjaiccai"),E=M(n("dagdiahdfi")),j=n("cdejbeiiha"),O=M(n("bcjcbbafcj")),S=n("chhhffajfi"),w=M(n("jccfhaecf")),P=M(n("djbfhebjhe"));function M(e){return e&&e.__esModule?e:{default:e}}var C=g.Configuration.ComposeBox(),T=g.Configuration.Format({mentions:{}}),A=u.default.MSG_TYPE,N=u.default.TEMPLATE_SUBTYPE;function k(e){return e.verifiedLevel===u.default.VERIFIED_LEVEL.HIGH?e.verifiedName:e.formattedName}function I(e){var t=void 0,n=void 0,r="";switch(e.subtype){case"identity":(t=l.default.get(e.body))&&t.isMe?r=v.default.t(1350):(n=t?t.formattedName:(0,P.default)(e.body),r=v.default.t(1347,{name:n}));break;case"device":n=(t=l.default.get(e.body))&&t.isMe?"you":t?t.formattedName:(0,P.default)(e.from);var a="",o="";e.devicesAdded&&(a=v.default.t(1140,{contactName:n,devicesAdded:e.devicesAdded||0,_plural:e.devicesAdded||0})),e.devicesRemoved&&(o=v.default.t(1344,{contactName:n,devicesRemoved:e.devicesRemoved||0,_plural:e.devicesRemoved||0})),r=`${a} ${o}`;break;case"encrypt":var i=e.id.remote;if(w.default.isGroup(i))r=v.default.t(1218);else if(w.default.isBroadcast(i))r=v.default.t(1144);else if(w.default.isOfficialBizAccount(i))r=v.default.t(1286);else if((t=l.default.get(i))&&t.isEnterprise){var u=k(t);r=v.default.t(1161,{businessName:u})}else r=v.default.t(1160)}return r}function R(e,t){var n="";switch(e.subtype){case"miss":n=t?v.default.t(1276,{time:i.default.timestampStr(e.t),_plural:i.default.timestampHour(e.t)}):v.default.t(1275);break;case"miss_video":n=t?v.default.t(1274,{time:i.default.timestampStr(e.t),_plural:i.default.timestampHour(e.t)}):v.default.t(1273);break;case"miss_group":n=t?v.default.t(1272,{time:i.default.timestampStr(e.t),_plural:i.default.timestampHour(e.t)}):v.default.t(1271);break;case"miss_group_video":n=t?v.default.t(1270,{time:i.default.timestampStr(e.t),_plural:i.default.timestampHour(e.t)}):v.default.t(1269)}return n}function L(e){var t=e.subtype,n=e.body,r=e.recipients;if("create"===t){var a=parseInt(n,10);return v.default.t(1415,{_plural:a,count:a})}if("add"===t){var o=r.length;return v.default.t(1260,{_plural:o,name:(0,b.getFormattedNames)(r,!0)})}if("remove"===t){var i=r.length;return v.default.t(1261,{_plural:i,name:(0,b.getFormattedNames)(r,!0)})}return""}function D(e,t){var n="",r=e.get("type"),a=e.get("subtype"),o=e.displayName(),i=e.get("author"),u=e.get("body"),c=void 0,f=void 0;if("group_notification"===r)switch(a){case"add":n=w.default.equals(i,s.default.me)?v.default.t(1227):v.default.t(1226,{name:o});break;case"remove":n=w.default.equals(i,s.default.me)?v.default.t(1239):v.default.t(1238,{name:o});break;case"leave":n=w.default.equals(i,s.default.me)?v.default.t(1235):v.default.t(1234,{name:o});break;case"picture":n="remove"===u?w.default.equals(i,s.default.me)?v.default.t(1339):v.default.t(1338,{name:o}):w.default.equals(i,s.default.me)?v.default.t(1337):v.default.t(1336,{name:o});break;case"subject":n=w.default.equals(i,s.default.me)?v.default.t(1251,{subject:u}):v.default.t(1250,{name:o,subject:u});break;case"modify":c=(0,P.default)(e.get("author")),f=(0,P.default)(u),n=c===o?v.default.t(1229,{name:o,new_number:f}):v.default.t(1228,{name:o});break;default:y.default.log("wa:formatGroupNotification:unknown message subtype: "+a)()}else if("gp2"===r){var d=e.recipients,p=d?(0,b.getFormattedNames)(d,!0):"",h=d?d[0]:void 0,m=h?l.default.get(h):void 0,g=m?m.get("formattedName"):h?(0,P.default)(h):"",_=void 0;switch(a){case"add":n=i?w.default.equals(i,s.default.me)?v.default.t(1244,{participants:p}):w.default.equals(h,s.default.me)?v.default.t(1241,{name:o}):v.default.t(1240,{name:o,participants:p}):w.default.equals(h,s.default.me)?v.default.t(1227):v.default.t(1226,{name:g});break;case"remove":n=!w.default.equals(h,s.default.me)||!w.default.equals(i,s.default.me)&&i?w.default.equals(h,s.default.me)&&i?v.default.t(1243,{name:o}):w.default.equals(i,s.default.me)?v.default.t(1245,{participants:p}):i?v.default.t(1242,{name:o,participants:p}):v.default.t(1238,{name:g}):v.default.t(1239);break;case"leave":n=w.default.equals(h,s.default.me)?v.default.t(1235):v.default.t(1234,{name:p});break;case"picture":n="remove"===u?w.default.equals(i,s.default.me)?v.default.t(1339):v.default.t(1338,{name:o}):w.default.equals(i,s.default.me)?v.default.t(1337):v.default.t(1336,{name:o});break;case"subject":n=w.default.equals(i,s.default.me)?v.default.t(1251,{subject:u}):v.default.t(1250,{name:o,subject:u});break;case"modify":c=(0,P.default)(i),f=(0,P.default)(h),n=c===o?v.default.t(1229,{name:o,new_number:f}):v.default.t(1228,{name:o});break;case"create":n=w.default.equals(i,s.default.me)?u?v.default.t(1206,{subject:u}):v.default.t(1207):u?v.default.t(1204,{name:o,subject:u}):v.default.t(1205,{name:o});break;case"delete":n=w.default.equals(i,s.default.me)?v.default.t(1216):v.default.t(1215,{name:o});break;case"promote":n=1===(_=d.length)&&w.default.equals(h,s.default.me)?v.default.t(1237):v.default.t(1236,{participants:p,_plural:_});break;case"demote":n=1===(_=d.length)&&w.default.equals(h,s.default.me)?v.default.t(1231):v.default.t(1230,{participants:p,_plural:_});break;case"invite":n=w.default.equals(h,s.default.me)?v.default.t(1233):v.default.t(1232,{name:g});break;case"revoke_invite":n=w.default.equals(i,s.default.me)?v.default.t(1221):v.default.t(1220,{name:o});break;case"description":var E=t?v.default.t(1210,{name:o}):v.default.t(1209,{name:o});n=w.default.equals(i,s.default.me)?v.default.t(1211):E;break;case"announce":n="on"===u?w.default.equals(i,s.default.me)?v.default.t(1203):v.default.t(1202,{name:o}):w.default.equals(i,s.default.me)?v.default.t(1201):v.default.t(1200,{name:o});break;case"restrict":n="on"===u?w.default.equals(i,s.default.me)?v.default.t(1249):v.default.t(1248,{name:o}):w.default.equals(i,s.default.me)?v.default.t(1247):v.default.t(1246,{name:o});break;case"no_frequently_forwarded":n="on"===u?w.default.equals(i,s.default.me)?v.default.t(1225):v.default.t(1224,{name:o}):w.default.equals(i,s.default.me)?v.default.t(1223):v.default.t(1222,{name:o});break;case"announce_msg_bounce":n=v.default.t(1199);break;case"v4_add_invite_sent":n=v.default.t(1094,{participants:p,_plural:d.length});break;case"v4_add_invite_join":n=v.default.t(1093,{participants:p,_plural:d.length});break;default:y.default.log("wa:formatGroupNotification:unknown message subtype: "+a)()}}return v.default.isRTL()&&(n=v.default.forceRTL(n)),n}function x(e){var t=e.subtype,n=e.templateParams;switch(t){case"non_verified_transition":return v.default.t(1284);case"unverified_transition":return v.default.t(1389);case"verified_transition":return v.default.t(1395);case"verified_low_unknown":return v.default.t(1393);case"verified_high":return v.default.t(1391);case"verified_initial_unknown":return v.default.t(1362);case"verified_initial_low":return v.default.t(1360,{businessName:n[0]});case"verified_initial_high":return v.default.t(1358,{businessName:n[0]});case"verified_transition_any_to_none":return v.default.t(1366);case"verified_transition_any_to_high":return v.default.t(1364,{businessName:n[0]});case"verified_transition_high_to_low":return v.default.t(1368,{businessName:n[0]});case"verified_transition_high_to_unknown":return v.default.t(1370,{businessName:n[0]});case"verified_transition_unknown_to_low":return v.default.t(1378,{businessName:n[0]});case"verified_transition_low_to_unknown":return v.default.t(1372,{businessName:n[0]});case"verified_transition_none_to_low":return v.default.t(1374);case"verified_transition_none_to_unknown":return v.default.t(1376);case"change_number":var r=n[0],a=l.default.get(r),o=a&&a.isMyContact?a.formattedName:(0,P.default)(r);return w.default.equals(e.chat.id,r)?v.default.t(276,{name:o}):v.default.t(275,{name:o});case"change_ephemeral_setting":var u=parseInt(n[0],10)||0,f=n[1];if(w.default.equals(f,s.default.me))return i.default.ephemeralSettingChangeByYouStr(u);var d="Someone";if(f){var p=l.default.get(f);d=p&&p.isMyContact?p.formattedName:(0,P.default)(f)}return i.default.ephemeralSettingChangeByOthersStr(u,d);case"payment_transaction_status_update_failed":return v.default.t(1324,{receiverName:F(n[0]),relativeTime:i.default.paymentTimestampStr(e.t)});case"payment_transaction_request_cancelled":var h=F(n[0]),m=c.default.format(n[1],parseInt(n[2],10));return e.id.fromMe?v.default.t(1292,{contactName:h,currencyAndAmount:m}):v.default.t(1291,{contactName:h,currencyAndAmount:m});case"payment_transaction_status_update_refunded":return v.default.t(1326,{receiverName:F(n[0]),relativeTime:i.default.paymentTimestampStr(e.t)});case"payment_transaction_status_update_refund_failed":return v.default.t(1325,{receiverName:F(n[0]),relativeTime:i.default.paymentTimestampStr(e.t)});case"payment_transaction_status_receiver_pending_setup":return v.default.t(1321,{senderName:F(n[0]),currencyAndAmount:c.default.format(n[1],parseInt(n[2],10))});case"payment_transaction_status_receiver_success_after_hiccup":return v.default.t(1322,{senderName:F(n[0]),relativeTime:i.default.paymentTimestampStr(e.t)});case"payment_action_account_setup_reminder":return v.default.t(1290,{senderName:F(n[0])});case"payment_action_send_payment_reminder":return v.default.t(1298,{receiverName:F(n[0])});case"payment_action_send_payment_invitation":return v.default.t(1297,{receiverName:F(n[0])});case"payment_action_request_declined":var b=F(n[0]),g=c.default.format(n[1],parseInt(n[2],10));return e.id.fromMe?v.default.t(1294,{contactName:b,currencyAndAmount:g}):v.default.t(1293,{contactName:b,currencyAndAmount:g});case"payment_action_request_expired":var y=n[0],_=n[1],E=c.default.format(n[2],parseInt(n[3],10));return w.default.equals(y,s.default.me)?v.default.t(1296,{receiverName:F(_),currencyAndAmount:E}):v.default.t(1295,{senderName:F(y),currencyAndAmount:E});case"biz_verified_transition_top_to_bottom":return v.default.t(211,{businessName:n[0]});case"biz_verified_transition_bottom_to_top":return v.default.t(209,{businessName:n[0]});case"biz_intro_top":var j=e.id.remote;return w.default.isOfficialBizAccount(j)?v.default.t(858):v.default.t(197,{businessName:n[0]});case"biz_intro_bottom":return v.default.t(195);case"biz_name_change":return v.default.t(202,{businessName:n[0]});case"biz_move_to_consumer_app":return v.default.t(200);case"biz_two_tier_migration_top":return v.default.t(206,{businessName:n[0]});case"biz_two_tier_migration_bottom":return v.default.t(204);default:return O.default.isElectron?v.default.t(1078):v.default.t(1081)}}function U(e,t){var n=t||"",r=e.mentionMap();if(!r)return function(e){return m.default.supportsFeature(m.default.F.RICH_TEXT)?(0,d.default)(e,T,j.UnformatSerializer):e}(n);var a=m.default.supportsFeature(m.default.F.RICH_TEXT)?g.Configuration.FormattedNotification({mentions:r}):g.Configuration.RawNotification({mentions:r});return(0,d.default)(n,a,j.UnformatSerializer)}var G=/^[0-9+()\- ]+$/;function F(e){var t=l.default.get(e);return t?t.formattedName:(0,P.default)(e)}function B(e){return e.match(/\s\s+/g)?e.replace(/\s\s+/g,function(e){return"".repeat(e?e.length:0)}):e}e.exports={formatBroadcastNotification:L,formatGroupNotification:D,formatEnterpriseE2EName:k,formatE2ENotification:I,formatCallLog:R,formatForwardError:function(e){var t=e.chat,n=e.undelivered,r=e.canForward,o=e.cannotForward,i=r.length-n.length,u=o.length+n.length,s=t.isUser?{contact:t.formattedTitle}:{};return i>0?n.length?o.length?v.default.t(262,a({count:u,_plural:u},s)):v.default.t(261,{count:u,_plural:u}):v.default.t(257,{count:u,_plural:u,contact:t.formattedTitle}):n.length?o.length?v.default.t(263,s):v.default.t(266):v.default.t(258,s)},formatNotificationTemplateText:x,formatNotificationTemplateOnClickText:function(e){var t=e.id,n=e.subtype,r=e.templateParams,a=e.displayName();switch(n){case"non_verified_transition":return v.default.t(1283,{businessName:r[0]});case"unverified_transition":return v.default.t(1388,{businessName:r[0]});case"verified_transition":return v.default.t(1394,{businessName:r[0]});case"verified_low_unknown":return v.default.t(1392,{businessName:r[0]});case"verified_high":return v.default.t(1390,{businessName:r[0]});case"verified_initial_unknown":return v.default.t(1363,{businessName:a});case"verified_initial_low":return v.default.t(1361);case"verified_initial_high":return v.default.t(1359);case"verified_transition_any_to_none":return v.default.t(1367);case"verified_transition_any_to_high":return v.default.t(1365);case"verified_transition_high_to_low":return v.default.t(1369,{businessName:r[0]});case"verified_transition_high_to_unknown":return v.default.t(1371,{businessName:r[0]});case"verified_transition_unknown_to_low":return v.default.t(1379);case"verified_transition_low_to_unknown":return v.default.t(1373,{businessName:r[0]});case"verified_transition_none_to_low":return v.default.t(1375,{businessName:r[0]});case"verified_transition_none_to_unknown":return v.default.t(1377,{businessName:a});case"biz_verified_transition_top_to_bottom":return v.default.t(212,{businessName:r[0]});case"biz_verified_transition_bottom_to_top":return v.default.t(210,{businessName:r[0]});case"biz_intro_top":var o=t.remote,i=l.default.get(o),u=r[0],s=i&&i.name||u,c=w.default.isOfficialBizAccount(o);return s===u?c?v.default.t(859):v.default.t(198,{businessName:u}):c?v.default.t(860):v.default.t(199,{businessName:u});case"biz_intro_bottom":return v.default.t(196,{businessName:F(t.remote)});case"biz_name_change":return v.default.t(203,{businessName:r[0]});case"biz_move_to_consumer_app":return v.default.t(201);case"biz_two_tier_migration_top":var f=t.remote,d=l.default.get(f),p=r[0];return(d&&d.name||p)===p?v.default.t(207,{businessName:p}):v.default.t(208,{businessName:p});case"biz_two_tier_migration_bottom":return v.default.t(205,{businessName:F(t.remote)});default:return""}},notificationTemplateFAQ:function(e){switch(e){case"non_verified_transition":return(0,f.getNonVerifiedTransitionFaqUrl)();case"unverified_transition":return(0,f.getUnverifiedTransitionFaqUrl)();case"verified_transition":return(0,f.getVerifiedTransitionFaqUrl)();case"verified_low_unknown":return(0,f.getVerifiedLowUnknownFaqUrl)();case"verified_high":return(0,f.getVerifiedHighFaqUrl)();case"biz_intro_top":case"verified_initial_unknown":case"verified_initial_low":case"verified_initial_high":case"verified_transition_any_to_none":case"verified_transition_any_to_high":case"verified_transition_high_to_low":case"verified_transition_high_to_unknown":case"verified_transition_unknown_to_low":case"verified_transition_low_to_unknown":case"verified_transition_none_to_low":case"verified_transition_none_to_unknown":return(0,f.getBusinessFaqUrl)();default:return(0,f.getFaqUrl)()}},asDesktopNotification:function(e){var t=void 0,n="",r=void 0,a=void 0,u=e.dir,f=E.default.getGlobalPreviews();switch(!s.default.me.equals(e.from)&&e.isGroupMsg&&(n=e.displayName()),e.type){case A.CHAT:if(f)t=U(e,e.body);else if(e.isGroupMsg)t=n?v.default.t(590,{author:n}):v.default.t(589),n="";else{var d=e.chat;t=v.default.t(591,{unreadCount:v.default.n(d.unreadCount),_plural:d.unreadCount})}break;case A.IMAGE:t=(r=O.default.hasEmoji?" ":"")+(f&&U(e,e.caption)||v.default.t(1178));break;case A.PRODUCT:t=(r=O.default.hasEmoji?" ":"")+(e.text&&U(e,e.text)||v.default.t(1181));break;case A.STICKER:t=(r=O.default.hasEmoji?" ":"")+v.default.t(1182);break;case A.VIDEO:e.isGif?(r=O.default.hasEmoji?" ":"",a=f&&U(e,e.caption)||"GIF"):(r=O.default.hasEmoji?" ":"",a=`${a=f&&U(e,e.caption)||v.default.t(1183)} (${i.default.durationStr(e.duration)})`),t=`${r} ${a}`;break;case A.PTT:t=`${r=O.default.hasEmoji?" ":""} ${v.default.t(1184)} (${i.default.durationStr(e.duration)})`;break;case A.AUDIO:t=`${r=O.default.hasEmoji?" ":""} ${v.default.t(1174)} (${i.default.durationStr(e.duration)})`;break;case A.LOCATION:t=`${r=O.default.hasEmoji?" ":""} ${a=e.isLive?f&&U(e,e.comment)||v.default.t(1179):f&&e.loc||v.default.t(1180)}`;break;case A.GROUPS_V4_INVITE:t=v.default.t(301);break;case A.GROUP_NOTIFICATION:case A.GP2:t=D(e,!0),n="";break;case A.BROADCAST_NOTIFICATION:t=L(e);break;case A.NOTIFICATION:t=e.body;break;case A.VCARD:t=(r=O.default.hasEmoji?" ":"")+(e.subtype||v.default.t(1175));break;case A.MULTI_VCARD:t=(r=O.default.hasEmoji?" ":"")+(0,_.getNameString)(e.vcardList);break;case A.DOCUMENT:t=(r=O.default.hasEmoji?" ":"")+(e.subtype||v.default.t(1177));break;case A.E2E_NOTIFICATION:t=I(e);break;case A.CALL_LOG:t=R(e,!1);break;case A.CIPHERTEXT:t=v.default.t(887);break;case A.REVOKED:t=e.isSentByMe?v.default.t(970):v.default.t(968);break;case A.PAYMENT:t=function(e){if(!e.paymentCurrency||!e.paymentAmount1000)return v.default.t(1300);if("send"!==e.subtype&&"request"!==e.subtype)return v.default.t(303);var t=c.default.format(e.paymentCurrency,e.paymentAmount1000),n=F(e.sender),r=F(e.paymentMessageReceiverJid),a=l.default.get(e.paymentMessageReceiverJid),o={senderName:n,receiverName:r,amount:t};return"send"===e.subtype?e.isGroupMsg?a&&a.isMe?v.default.t(1308,o):v.default.t(1309,o):v.default.t(1307,o):e.isGroupMsg?a&&a.isMe?v.default.t(1305,o):v.default.t(1306,o):v.default.t(1304,o)}(e);break;case A.OVERSIZED:t=(0,p.formatOversizedMsgNotification)(e);break;case A.UNKNOWN:t=(0,h.formatUnknownMsgNotification)(e);break;default:return y.default.error(`asDesktopNotification: Unrecognized type ${e.type}`)(),""}var m=v.default.isRTL()?"rtl":"ltr",b="";if(b=i.default.relativeStr(e.t),n){var g=o.default.dir(n);return"ltr"!==m||u&&"ltr"!==u||g&&"ltr"!==g?"ltr"!==m||u&&"ltr"!==u?"ltr"!==m||g&&"ltr"!==g?"ltr"===m?(b&&(b=`- ${b}`),`${n}: ${t}${b}`):u&&"rtl"!==u||g&&"rtl"!==g?u&&"rtl"!==u?g&&"rtl"!==g?(b&&(b=`- ${b}`),`${n}: ${t}${b}`):(b&&(b=` - ${b}`),`${n}: ${t}`):(b&&(b=` - ${b}`),`${n}: ${t}`):(b&&(b=` - ${b}`),`${n}: ${t}`):(b&&(b=` - ${b}`),`${n}: ${t}`):(b&&(b=` - ${b}`),`${n}: ${t}`):(b&&(b=` - ${b}`),`${n}: ${t}`)}return b?"ltr"===m?`${t} - ${b}`:`${t} - ${b}`:t},asSingleLineText:function(e){return B((0,S.substring)(e||"",0,u.default.INITIAL_PAGE_SIZE).replace(/[\n\r]+/gi," "))},msgText:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];switch(e.type){case A.TEMPLATE_BUTTON_REPLY:return e.hsmEnabled?t?U(e,e.body):e.body:v.default.t(1058);case A.TEMPLATE:if(e.hsmEnabled){if(e.subtype===N.IMAGE)return e.caption?t?U(e,e.caption):e.caption:v.default.t(1178);if(e.subtype===N.VIDEO)return e.caption?t?U(e,e.caption):e.caption:v.default.t(1183);if(e.subtype===N.LOCATION)return e.caption?t?U(e,e.caption):e.caption:e.loc||v.default.t(1180);if(e.subtype===N.DOCUMENT){var a=e.pageCount>0?v.default.t(1176,{count:e.pageCount+"",_plural:e.pageCount}):null;return e.caption?t?U(e,e.caption):e.caption:(0,r.default)([e.caption||v.default.t(1177),a]).join("  ")}if(e.subtype===N.TEXT)return e.title?t?U(e,e.title+" "+e.body):"*"+e.title+"* "+e.body:t?U(e,e.body):e.body}return v.default.t(1058);case A.HSM:return t?U(e,e.body):e.body;case A.CIPHERTEXT:return v.default.t(887);case A.REVOKED:return e.isSentByMe?v.default.t(970):v.default.t(968);case A.CHAT:return t?U(e,e.body):e.body;case A.IMAGE:return e.caption?t?U(e,e.caption):e.caption:v.default.t(1178);case A.STICKER:return v.default.t(1182);case A.VIDEO:return e.caption?t?U(e,e.caption):e.caption:e.isGif?"GIF":v.default.t(1183);case A.PTT:var o=i.default.durationStr(e.duration);return o||v.default.t(1184);case A.AUDIO:return v.default.t(1174);case A.LOCATION:return e.isLive?e.comment||v.default.t(1179):e.loc||v.default.t(1180);case A.GROUP_NOTIFICATION:case A.GP2:return D(e,n);case A.BROADCAST_NOTIFICATION:return L(e);case A.NOTIFICATION:return e.body;case A.VCARD:return e.subtype||v.default.t(1175);case A.GROUPS_V4_INVITE:return m.default.supportsFeature(m.default.F.GROUPS_V_4_JOIN_PERMISSION)?v.default.t(557):v.default.t(301);case A.MULTI_VCARD:return(0,_.getNameString)(e.vcardList);case A.DOCUMENT:var u=e.pageCount>0?v.default.t(1176,{count:e.pageCount+"",_plural:e.pageCount}):null;return(0,r.default)([e.mediaData.filename||v.default.t(1177),u]).join("  ");case A.E2E_NOTIFICATION:return I(e);case A.CALL_LOG:return R(e,!1);case A.PRODUCT:return e.text?t?U(e,e.text):e.text:v.default.t(1181);case A.OVERSIZED:return(0,p.formatOversizedMsgText)(e);case A.UNKNOWN:return(0,h.formatUnknownMsgText)(e);case A.PAYMENT:return function(e){switch(e.subtype){case"ciphertext":return v.default.t(1299);case"futureproof":return v.default.t(1301);case"send":var t=e.paymentNoteMsg&&e.paymentNoteMsg.body?" - "+e.paymentNoteMsg.body:"";return(e.paymentCurrency&&e.paymentAmount1000?c.default.format(e.paymentCurrency,e.paymentAmount1000):v.default.t(877))+t;case"request":var n=e.paymentNoteMsg&&e.paymentNoteMsg.body?" - "+e.paymentNoteMsg.body:"";return(e.paymentCurrency&&e.paymentAmount1000?c.default.format(e.paymentCurrency,e.paymentAmount1000):v.default.t(877))+n;default:return v.default.t(303)}}(e);case A.NOTIFICATION_TEMPLATE:return x(e);default:return""}},emojify:function(e){return m.default.supportsFeature(m.default.F.RICH_TEXT)?(0,d.default)(e,C,j.TextSerializer):e},numberSearch:function(e){return G.test(e)?e.replace(/[^0-9]/g,""):null},EMOJIFY_CONFIG:C,replaceMultipleSpaces:B}},dgjdeicghc:function(e,t){e.exports={container:"_2-yrI",btnActive:"_3PmhT",btnAction:"_1AWh3",controlsSummary:"_22oFl",adminSetting:"_3rjFB",summaryText:"_2GEk_",item:"_2N-Up"}},dgjifchfde:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initAsNeeded=function(){},t.shutdownAsNeeded=function(){v.forEach(function(e,t){j(v,t)}),y.forEach(function(e,t){j(y,t)})},t.showCallNotification=function(e,t,n){if(!e||!t||d.default.globalMute().isMuted)return;if(window.Notification&&window.Notification.permission===a.default.PERMISSION_ALLOWED&&d.default.getGlobalNotifications()){var r=i.default.get(e),o=r?r.formattedName:(0,b.default)(e),u=n?c.default.t(604,{name:o}):c.default.t(605,{name:o}),s=c.default.t(603);_(y,e,t,u,s,a.default.USER_DEFAULT_ICON)}d.default.getGlobalSounds()&&(y.get(e.toString())||Promise.resolve()).then(p.playNotification).catch(function(){})},t.showMsgNotification=function(e,t){var n=e.chat;if(document.hasFocus()&&n.active)return;if(d.default.globalMute().isMuted)return;if(t&&t(e))return;if(function(e){var t=e.chat;if(!t.mute.isMuted)return!1;if(!t.isGroup)return!0;if(e.isMentioned(o.default.me)||e.isQuoted(o.default.me)){var n=r.default.get(e.sender);return!(!n||!n.mute.isMuted)}return!0}(e))return;if(function(e){if(!e.isGroup)return!1;if(e.isGroup&&e.isReadOnly)return!1;var t=Date.now(),n=e.squelch||0;if(t>n)return l.default.find(e.id).then(function(t){var n=l.default.get(e.id);if(n){var r=n.participants.length,a=1e3*Math.min(120,30+5*r);e.squelch=Date.now()+a}}).catch(u.WapDrop,function(){e.squelch=Date.now()+6e4}),!1;return!0}(e.chat))return;if(window.Notification&&window.Notification.permission===a.default.PERMISSION_ALLOWED&&d.default.getGlobalNotifications()){var i=s.default.asDesktopNotification(e);i&&i.charCodeAt(0)>=128&&(i=" "+i);var f=n.isGroup?a.default.GROUP_DEFAULT_ICON:a.default.USER_DEFAULT_ICON,h=n.isGroup?c.default.t(363):c.default.t(362),m=n.contact.formattedName||h;_(v,n.id,e.id.toString(),m,i,f,n.canSend)}d.default.getGlobalSounds()&&(n.id&&v.get(n.id.toString())||Promise.resolve()).then(p.playNotification).catch(function(){})},t.cancelCallNotification=function(e){e&&j(y,e.toString())},t.closeNotifications=function(e){if(!e||!e.id)return;j(v,e.id.toString()),j(y,e.id.toString())};var r=g(n("dbdfbgehgj")),a=g(n("baagejbchg")),o=g(n("bjigbaghc")),i=g(n("dhigahgdjb")),u=n("ddjgcfjicj"),s=g(n("dgjddffcfg")),l=g(n("djaadchjch")),c=g(n("fffdgbfji")),f=g(n("bdiiahhjbe")),d=g(n("dagdiahdfi")),p=n("ihfbgdebe"),h=g(n("dhfjegifba")),m=g(n("dhefcajhhb")),b=g(n("djbfhebjhe"));function g(e){return e&&e.__esModule?e:{default:e}}var v=new Map,y=new Map;function _(e,t,n,r,o,i,s){var l=m.default.find(t).cancellable().timeout(1500,"showNotificationTimeout").then(function(e){var t=e&&e.img?e.img:i;return(0,p.cachePath)(t)}).catch(u.WapDrop,Promise.TimeoutError,function(e){return f.default.log(`NotificationBackend:IconLoadTimeoutError:${t.toString()}`)(e),(0,p.cachePath)(i)}).then(function(i){if(window.Notification.permission!==a.default.PERMISSION_ALLOWED)return Promise.reject(new Promise.CancellationError("Permission Denied"));var u=new h.default(t,n,r,o,i,s);return u.waitForClose().then(function(){E(e,t,u)}),u});return l.catch(Promise.CancellationError,function(n){E(e,t)}),e.get(t.toString())&&function(e,t){var n=e.get(t.toString());if(n){if(n.isFulfilled()){var r=n.value();r.close()}else n.cancel();e.delete(t.toString())}}(e,t),e.set(t.toString(),l),l}function E(e,t,n){var r=e.get(t.toString());if(r){if(n){if(r.isFulfilled()&&n!==r.value())return;if(r.isPending())return}e.delete(t.toString())}}function j(e,t){var n=e.get(t);if(n){if(n.isFulfilled())n.value().close();else n.cancel();e.delete(t)}}},dgjijbgdai:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.default.log("extendedFetch:",e)(),f(e,t).catch(function(e){if("AbortError"===e.name)throw new r.default;if(e instanceof o.HttpNetworkError)throw e;throw new o.HttpNetworkError(e.message)})},t.sharedFetch=f;var r=c(n("cgijjjgici")),a=c(n("bcjafgaahj")),o=n("fdghiidhc"),i=c(n("dcgheafecg")),u=c(n("dbhgiicheg")),s=c(n("bdiiahhjbe")),l=c(n("ciehajbjae"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(n,r){if(t.signal&&t.signal.aborted)r(new a.default("AbortError"));else{var s=new XMLHttpRequest;if(t.signal){var c=t.signal;c.addEventListener("abort",function e(){c.removeEventListener("abort",e),s.onreadystatechange=function(){},s.abort(),r(new a.default("AbortError"))})}var f=new u.default(t.headers||{});(0,i.default)(f.keys(),function(e){var t=f.get(e);null!=t&&s.setRequestHeader(e,t)}),null!=t.onProgress&&(s.onprogress=t.onProgress),s.onreadystatechange=function(){if(0!==s.readyState){if(4===s.readyState){if(null==s.status)return void r(new Error("fetch error: no status"));if(0===s.status||s.status>=12e3)return void r(new Error(`fetch error: unexpected status ${s.status}`));n(d())}}else r(new Error("fetch error: not sent"))},s.onerror=function(){return r(new Error("fetch error: error"))},s.ontimeout=function(){r(new o.HttpTimedOutError("fetch error: timedout",{url:e.toString()}))},s.withCredentials="include"===t.credentials,null!=t.timeout&&(s.timeout=t.timeout),s.open(t.method||"get",e.toString(),!0),s.responseType="arraybuffer",s.send(t.body||null)}function d(){var e=new u.default((0,l.default)(s.getAllResponseHeaders()));return{ok:200<=s.status&&s.status<300,statusText:s.statusText,status:s.status,url:s.responseURL,text:function(){return p()},json:function(){return p().then(function(e){return JSON.parse(e)})},arrayBuffer:function(){return s.response},blob:function(){return Promise.resolve(new Blob([s.response],{type:e.get("content-type")||""}))},clone:d,headers:e}}function p(){return Promise.resolve(String.fromCharCode.apply(String,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(new Uint8Array(s.response))))}})}},dhabbfcefj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PiPManager=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=_(n("bbchdeehff")),i=n("cgecdbiihg"),u=_(n("ibebafhjb")),s=_(n("bicbefgjgg")),l=_(n("dagibffcjf")),c=_(n("fffdgbfji")),f=_(n("eceadcicaf")),d=_(n("bfbggcdbfb")),p=_(n("biecbbiiee")),h=_(n("ichhibhgh")),m=_(n("bfjeggfcij")),b=n("bfjajhbdf"),g=_(b),v=_(n("didfdhbecg")),y=_(n("igaagcbbj"));function _(e){return e&&e.__esModule?e:{default:e}}var E=t.PiPManager=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMediaViewerModal=function(e){var t=e.msg;n.state.msg&&n.state.msg.id.equals(t.id)&&n.closePiP()},n.closePiPFromMsg=function(e){n.state.msg&&n.state.msg.id.equals(e.id)?n.closePiP():n.state.youtubeVideoInfo&&n.state.youtubeVideoInfo.videoMsg.id.equals(e.id)?n.closeYoutubePiP():n.state.ogVideoInfo&&n.state.ogVideoInfo.videoMsg.id.equals(e.id)&&n.closeOgVideoPiP()},n.openPiP=function(e,t,r){n.previousPiPDidClose(),h.default.didOpen(e),e.downloadMedia(!0,d.default.WEBC_RMR_REASON_CODE.PIP),n.setState({msg:e,youtubeVideoInfo:null,ogVideoInfo:null,startTime:t,zoomRect:r})},n.closePiP=function(){n.state.msg&&h.default.didClose(n.state.msg),n.setState({msg:null,youtubeVideoInfo:null,ogVideoInfo:null,startTime:null,zoomRect:null})},n.pausePiP=function(){},n.isOpened=function(e){return!(!n.state.msg||!e.id.equals(n.state.msg.id))||(!(!n.state.youtubeVideoInfo||!e.id.equals(n.state.youtubeVideoInfo.videoMsg.id))||!(!n.state.ogVideoInfo||!e.id.equals(n.state.ogVideoInfo.videoMsg.id)))},n.openYoutubePiP=function(e,t,r,a){n.previousPiPDidClose(),h.default.didOpen(t),n.setState({msg:null,youtubeVideoInfo:{videoId:e,videoMsg:t},ogVideoInfo:null,startTime:r,zoomRect:a})},n.closeYoutubePiP=function(){n.state.youtubeVideoInfo&&h.default.didClose(n.state.youtubeVideoInfo.videoMsg),n.setState({msg:null,youtubeVideoInfo:null,ogVideoInfo:null,startTime:null,zoomRect:null})},n.openOgVideoPiP=function(e,t,r,a,o){n.previousPiPDidClose(),h.default.didOpen(r);var i=`data:image/jpeg;base64,${t}`;n.setState({msg:null,youtubeVideoInfo:null,ogVideoInfo:{videoUrl:e,previewUrl:i,videoMsg:r},startTime:a,zoomRect:o})},n.closeOgVideoPiP=function(){n.state.ogVideoInfo&&h.default.didClose(n.state.ogVideoInfo.videoMsg),n.setState({msg:null,youtubeVideoInfo:null,ogVideoInfo:null,startTime:null,zoomRect:null})},n.previousPiPDidClose=function(){n.state.msg&&h.default.didClose(n.state.msg),n.state.youtubeVideoInfo&&h.default.didClose(n.state.youtubeVideoInfo.videoMsg),n.state.ogVideoInfo&&h.default.didClose(n.state.ogVideoInfo.videoMsg)},n.handleMsgVideoPiPError=function(){n.state.msg&&h.default.didError(n.state.msg)},n.handleOgVideoPiPError=function(){n.state.ogVideoInfo&&h.default.didError(n.state.ogVideoInfo.videoMsg)},n.state={msg:null,youtubeVideoInfo:null,ogVideoInfo:null,startTime:null,zoomRect:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){var e=this;h.default.register(this),this.props.listeners.add(o.default,"media_viewer_modal",this.onMediaViewerModal),this.props.listeners.add(p.default,"remove",function(t){e.closePiPFromMsg(t)}),this.props.listeners.add(p.default,"change:isRevoked",function(t){if(t.isRevoked){if(!t.isSentByMe){var n=e.state.msg&&e.state.msg.id.equals(t.id),r=e.state.youtubeVideoInfo&&e.state.youtubeVideoInfo.videoMsg.id.equals(t.id),i=e.state.ogVideoInfo&&e.state.ogVideoInfo.videoMsg.id.equals(t.id);(n||r||i)&&o.default.openToast(a.createElement(g.default,{id:(0,b.genId)(),msg:c.default.t(885)}))}e.closePiPFromMsg(t)}})}},{key:"componentWillUnmount",value:function(){h.default.unregister()}},{key:"renderVideoPlayer",value:function(){var e=this.state,t=e.msg,n=e.youtubeVideoInfo,r=e.ogVideoInfo;return t?a.createElement(u.default,{key:t.id.toString(),msg:t,mediaData:t.mediaData,animationStartStyle:this.getAnimationStartStyle(),startTime:this.state.startTime,onClose:this.closePiP,onError:this.handleOgVideoPiPError,onOpenMediaViewer:this.closePiP,onMissingMedia:this.closePiP,onUnsupportedMedia:this.closePiP,autoPlay:!0}):n?a.createElement(l.default,{key:n.videoId,aspectRatio:i.YOUTUBE_VIDEO_DEFAULT_ASPECT_RATIO,animationStartStyle:this.getAnimationStartStyle()},a.createElement(y.default,{key:n.videoId,youtubeVideoId:n.videoId,startTime:this.state.startTime,onClose:this.closeYoutubePiP,autoPlay:!0})):r?a.createElement(s.default,{key:r.videoMsg.id.toString(),ogVideoInfo:r,startTime:this.state.startTime,onClose:this.closeOgVideoPiP,onError:this.handleOgVideoPiPError,animationStartStyle:this.getAnimationStartStyle(),autoPlay:!0}):null}},{key:"getAnimationStartStyle",value:function(){return this.state.zoomRect?{height:this.state.zoomRect.bottom-this.state.zoomRect.top,width:this.state.zoomRect.right-this.state.zoomRect.left,left:this.state.zoomRect.left,bottom:window.innerHeight-this.state.zoomRect.bottom}:null}},{key:"render",value:function(){return a.createElement(v.default,{transitionName:"pip",className:m.default.playerWrapper,component:"div"},this.renderVideoPlayer())}}]),t}();E.displayName="PiPManager",t.default=(0,f.default)(E)},dhacjhbgfj:function(e,t,n){"use strict";var r=l(n("ddfeabiaci")),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=l(n("bdeabjehdj")),i=l(n("bjigbaghc")),u=l(n("bdiiahhjbe")),s=l(n("cffajefeag"));function l(e){return e&&e.__esModule?e:{default:e}}var c={version:"11",M:{DEBUG_LOG:1,QUERY_RESUME:2,QUERY_RECEIPT:3,QUERY_MEDIA:4,QUERY_CHAT:5,QUERY_CONTACTS:6,QUERY_MESSAGES:7,PRESENCE:8,PRESENCE_SUBSCRIBE:9,GROUP:10,READ:11,CHAT:12,RECEIVED:13,PIC:14,STATUS:15,MESSAGE:16,QUERY_ACTIONS:17,BLOCK:18,QUERY_GROUP:19,QUERY_PREVIEW:20,QUERY_EMOJI:21,QUERY_MESSAGE_INFO:22,SPAM:23,QUERY_SEARCH:24,QUERY_IDENTITY:25,QUERY_URL:26,PROFILE:27,CONTACT:28,QUERY_VCARD:29},msgFindQuery:function(e,t,n,r){var o=this,i=e;return new Promise(function(e,l){var c=void 0,f="";switch(i){case"after":t.id||(i="before");case"before":c={type:"message",kind:i,jid:t.remote,count:t.count.toString(),index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},f=[t instanceof s.default?t.toString():t.remote,t.count].join();break;case"search":c={type:"search",search:t.searchTerm,page:t.page.toString(),count:t.count.toString(),jid:t.remote,canceled:t.tagToCancel},t.label?c=a({},c,{label:t.label}):t.filter&&(c=a({},c,{filter:t.filter})),f=["search",t.page,t.count,t.jid,t.label].join();break;case"star":c={type:"star",media:"gif"===t.media?t.media:void 0,chat:t.chat,count:t.count.toString(),jid:t.remote,index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},f="starred";break;case"media":c={type:"media_message",media:"document"===t.media||"url"===t.media?t.media:void 0,count:t.count.toString(),kind:t.direction,jid:t.remote,index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},f="media"}var d=o.queryNode(c,void 0);o.binSend("sendEphemeral",d,l,{onSend:o.binWrap(function(n){o.BinaryProtocol.read(n).then(function(n){var r=[],a=o.N.children(n);if(u.default.logColor("green","bin-recv: response,msg",n)(),"response"===o.N.tag(n)&&("message"===o.N.attr("type",n)||"star"===o.N.attr("type",n)||"search"===o.N.attr("type",n)||"media_message"===o.N.attr("type",n)||"label"===o.N.attr("type",n))){if(Array.isArray(a)){var s=void 0,l=a.length;for(s=0;s<l;s++){var c=o.parseMsg(a[s],"response");if(c)switch(i){case"star":("gif"!==t.media||"video"===c.type&&c.isGif)&&r.push(c);break;case"media":"document"===t.media&&"document"===c.type?r.push(c):"url"===t.media&&"chat"===c.type?r.push(c):t.media||r.push(c);break;default:r.push(c)}}}"search"===o.N.attr("type",n)||"label"===o.N.attr("type",n)?r={eof:"true"===o.N.attr("last",n),messages:r}:"media"!==i||t.media||(r={docCount:parseInt(o.N.attr("document",n),10)||void 0,linkCount:parseInt(o.N.attr("url",n),10)||void 0,mediaCount:parseInt(o.N.attr("media",n),10)||void 0,messages:r})}e(r)}).catch(l)},e),onDrop:o.wrap(l),logOnSend:n,onTag:r,tagToCancel:t.tagToCancel},{debugString:"query,message,"+f,metricName:"search"===i?"QUERY_SEARCH":"QUERY_MESSAGES",ackRequest:!1})})},parseMsgCallLog:function(e){if("call_log"===this.N.tag(e)){var t=parseInt(this.N.attr("t",e),10)||0,n=this.N.attr("id",e),r=this.N.attr("jid",e),a="true"===this.N.attr("owner",e),o=this.N.attr("participant",e),l="video"===this.N.attr("kind",e),c=this.N.attr("type",e);switch(c){case"miss":l&&(c="miss_video")}var f=void 0;try{f=new s.default({fromMe:a,remote:r,id:n,participant:o})}catch(e){return void u.default.error("drop: cannot create MsgKey: "+e.stack)()}var d={id:f,t:t,participant:o,type:"call_log",subtype:c,from:a?i.default.me:r,to:a?r:i.default.me},p=[!n,!t,!r,"miss"!==c&&"miss_video"!==c];return this.dropIfConditionMet(p,d)}},queryVCard:function(e){var t=this;return new Promise(function(n,r){var a=t.queryNode({type:"vcard",jid:e},void 0);t.binSend("sendEphemeral",a,r,{onSend:t.binWrap(function(e){t.BinaryProtocol.read(e).then(function(e){var r=[],a=t.N.children(e);if("response"===t.N.tag(e)&&"vcard"===t.N.attr("type",e)&&Array.isArray(a))for(var o=a.length,i=0;i<o;i++){var u=t.parseMsg(a[i],"response");!u||"vcard"!==u.type&&"multi_vcard"!==u.type||r.push(u)}n(r)}).catch(r)},n),onDrop:t.wrap(r)},{debugString:`query,vcard,${e}`,metricName:"QUERY_VCARD",ackRequest:!1})})},parseContact:function(e){if("user"===this.N.tag(e)){var t=this.N.attr("jid",e),n=this.N.attr("name",e),r=this.N.attr("short",e)||void 0,a=this.N.attr("type",e)||"in",o={id:t,name:n,type:a,shortName:r},i=[!t,"in"!==a&&"out"!==a&&!!a];return this.dropIfConditionMet(i,o)}u.default.assert(!1,"wap-unexpected-tag",`expected tag: user, received tag: ${this.N.tag(e)}, tag id: ${this.N.attr("id",e)}`)()},parseContacts:function(e){if("contacts"===this.N.tag(e)){var t=this.N.attr("type",e),n=this.N.children(e),r=void 0,a=void 0,o=void 0,i=void 0,u=void 0;switch(t){case"frequent":if(Array.isArray(n)){a=n.length;for(var s=0;s<a;s++)switch(u=n[s],o=this.N.tag(u)){case"image":case"video":case"message":(i=this.N.attr("jid",u))&&(r||(r={type:"frequent"}),r[o]?r[o].push(i):r[o]=[i])}}}return r}}};e.exports=(0,r.default)(c,o.default)},dhadcigcaf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GLOBAL_MUTE=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},o=v(n("dgdjiicfdg")),i=g(n("ddhijeejag")),u=n("ccihhdchab"),s=v(n("djheacfeif")),l=n("dcaifjegcg"),c=v(l),f=v(n("bbchdeehff")),d=g(n("cajijabhgb")),p=v(n("bdiiahhjbe")),h=n("hjbbdjjdf"),m=v(n("bihdhbjih")),b=v(n("jccfhaecf"));function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.id=(0,l.prop)(),r.expiration=(0,l.prop)(0),r._unmuteTimer=(0,l.session)(),r.promises=(0,l.session)(function(){return{}}),r.isMuted=(0,l.derived)(r._isMuted,["expiration"]),y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default),r(t,[{key:"_isMuted",value:function(){return!!this.expiration}},{key:"initialize",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this),null!=this.expiration&&0!==this.expiration&&this.mute(this.expiration)}},{key:"setMute",value:function(e,t){(e||this.expiration)&&e!==this.expiration&&(e?this.mute(e,t):this.unmute(t))}},{key:"mute",value:function(e,t,n){var r=this,a=e;if(!(0,h.isNumber)(a))return p.default.log("models:Mute:mute called with invalid expiration "+a)(),Promise.reject(new d.ActionError);(a=Math.round(a))>2e9&&p.default.log("models:Mute:mute called with wrong units?"+this.id.toString()+" exp:"+a)();var l=function(){if(this.isMuted&&this._clearUnmuteTimer(),-1===a)p.default.log("models:Mute:mute "+this.id.toString()+" muted, no expiration")();else{var e=a-(0,o.default)().unix();p.default.log("models:Mute:mute "+this.id.toString()+" duration:"+e)(),this._unmuteTimer=s.default.setGlobalTimeout(this.unmute.bind(this),1e3*a)}this.set({expiration:a})}.bind(this),c=b.default.isGroup(this.id);if(t){if(this.promises.mute)return this.promises.mute;var g=this.promises.mute=m.default.sendConversationMute(this.id,a,this.expiration),v=c?new u.ActionType(l10n.t(77)):new u.ActionType(l10n.t(32)),y=n||(0,u.genId)(),_=this.promises.mute.catch(function(e){p.default.error("models:Mute:mute dropped")(e);var n=c?l10n.t(75):l10n.t(30);throw new u.ActionType(n,l10n.t(154),r.mute.bind(r,a,t,y))}).then(function(e){if(200===e.status){var n=c?l10n.t(76):l10n.t(31);return new u.ActionType(n,l10n.t(158),r.unmute.bind(r,t,y))}if(e.status>=400)throw c?new u.ActionType(l10n.t(75)):new u.ActionType(l10n.t(30))});return f.default.openToast(i.createElement(u.ActionToast,{id:y,initialAction:v,pendingAction:_})),g.then(function(e){200!==e.status||e._duplicate||l()}).finally(function(){r.promises.mute=null})}return l(),Promise.resolve()}},{key:"canMute",value:function(){var e=!1;if(b.default.isGroup(this.id)){var t=n("djaadchjch").get(this.id);t&&(e=t.participants.iAmMember())}return e||b.default.isUser(this.id)}},{key:"_clearUnmuteTimer",value:function(){s.default.clearTimeout(this._unmuteTimer),this.unset("_unmuteTimer"),this.expiration=0}},{key:"unmute",value:function(e,t){var n=this,r=function(){p.default.log("models:Mute:unmute "+this.id.toString())(),this._clearUnmuteTimer()}.bind(this),a=b.default.isGroup(this.id);if(e){if(this.promises.unmute)return this.promises.unmute;var o=this.promises.unmute=m.default.sendConversationMute(this.id,!1,this.expiration),s=a?new u.ActionType(l10n.t(84)):new u.ActionType(l10n.t(43)),l=t||(0,u.genId)(),c=this.promises.unmute.catch(function(t){p.default.error("models:Mute:unmute dropped")(t);var r=a?l10n.t(82):l10n.t(41);return Promise.reject(new u.ActionType(r,l10n.t(154),n.unmute.bind(n,e,l)))}).then(function(e){if(200===e.status)return a?new u.ActionType(l10n.t(83)):new u.ActionType(l10n.t(42));if(e.status>=400)throw a?new u.ActionType(l10n.t(82)):new u.ActionType(l10n.t(41))});return f.default.openToast(i.createElement(u.ActionToast,{id:l,initialAction:s,pendingAction:c})),o.then(function(e){200!==e.status||e._duplicate||r()}).finally(function(){n.promises.unmute=null})}return r(),Promise.resolve()}},{key:"delete",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),this.getCollection().remove(this.id),this._clearUnmuteTimer()}},{key:"getCollection",value:function(){return n("dagdiahdfi").default}}]),t}();_.Proxy="mute",_.idClass=b.default,_.idWhitelist=["global_mute"],t.GLOBAL_MUTE="global_mute",t.default=(0,l.defineModel)(_)},dhagjfdjei:function(e,t){e.exports={text:"_37OJc"}},dhajfeafhd:function(e,t){e.exports={container:"rK2ei",noscroll:"USE1O",centerItem:"_32Dig",padding:"_23C8w"}},dhbceejbjg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=u(n("ceffhbhahb")),o=u(n("effbcehec")),i=u(n("chbgjdggfh"));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=(0,a.default)(e.className,i.default.chat,{[i.default.themeCheckbox]:"chat-checkbox"===e.theme||"label-list"===e.theme||"chat-checkbox-no-delete"===e.theme||"cell-message-checkbox"===e.theme,[i.default.themeDrawerList]:"drawer-list"===e.theme,[i.default.themeIdentity]:"identity"===e.theme,[i.default.themeListNames]:"list-names"===e.theme||"list-names-no-delete"===e.theme,[i.default.themeMessage]:"cell-message"===e.theme||"cell-message-checkbox"===e.theme,[i.default.themePlain]:"plain"===e.theme,[i.default.themeSearch]:"chat-search"===e.theme,[i.default.themeStatus]:"status-list"===e.theme,[i.default.themeLabel]:"label-selection"===e.theme,[i.default.idle]:e.idle,[i.default.member]:"group-modal"===e.theme||"chat-checkbox-no-delete"===e.theme,[i.default.unread]:!!e.unread,[i.default.chatDrag]:!!e.dragging,[i.default.active]:!!e.active,[i.default.isMuted]:!!e.isMuted,[i.default.groupV4Invite]:"group_v4_invite"===e.theme,[i.default.product]:"product"===e.theme,[i.default.media]:"media"===e.theme}),n=void 0;e.image&&(n=e.customImage?e.image:r.createElement("div",{className:i.default.chatAvatar},e.image));var u=e.primaryDetail?r.createElement("div",{className:i.default.chatMeta},e.primaryDetail):null,s=void 0,l=void 0;e.secondary&&(l=e.secondaryDetail?r.createElement("div",{className:i.default.chatMeta},e.secondaryDetail):null,s=r.createElement("div",{className:i.default.chatSecondary},r.createElement("div",{className:i.default.chatStatus},e.secondary),l));var c=e.detail?r.createElement("div",{className:(0,a.default)(i.default.chatBody,i.default.chatDetails)},e.detail):null;return r.createElement("div",{ref:e.setDivRef,"data-a8n":o.default.key("chat-card"),className:t,onClick:e.onClick,onMouseDown:e.onMouseDown,onMouseEnter:e.onMouseEnter,onMouseOver:e.onMouseOver,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu},n,r.createElement("div",{className:i.default.chatBody},r.createElement("div",{className:(0,a.default)(i.default.chatMain,{[i.default.noDelete]:"list-names-no-delete"===e.theme})},r.createElement("div",{className:i.default.chatTitle},e.primary),u),s),c)};s.displayName="CellFrame",t.default=s},dhbegafffi:function(e,t){e.exports={audio:"uqRgA",controls:"_1h3dW",body:"TeXXU",button:"dVD5a",metadata:"_1lxsr",trackContainer:"_27pBm",track:"_30LFW",audioIn:"_2PmJH",audioOut:"_38Akx",progress:"_1N8Pv",spinner:"Nuoph",played:"_2gO--",isGallery:"Da4D2"}},dhbejdh:function(e,t){e.exports={container:"GXmef",text:"_8fE-g"}},dhbghcbcbi:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=c(n("dhhfaeacef")),u=c(n("fifhbjiec")),s=n("gaifbabbj"),l=c(n("eceejifaac"));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.theme,n=e.contact,r=n.id,c=n.formattedName,f=n.isMyContact,d=n.notifyName,p=e.onMouseDown,h=e.onMouseUp,m=e.onMouseEnter,b=e.term,g=e.selected,v=s.Configuration.Search({terms:b?[b]:[],boundary:!0});return o.createElement("div",{className:(0,a.default)(l.default.mentionsResult,{[l.default.mediaCaption]:"mediaCaption"===t,[l.default.selected]:!0===g}),onMouseDown:p,onMouseUp:h,onMouseEnter:m},o.createElement("div",{className:l.default.resultImage},o.createElement(i.default,{id:r,size:32})),o.createElement("div",{className:l.default.textContact,dir:"auto"},o.createElement(u.default,{text:c,formatters:v})),o.createElement("div",{className:l.default.textPushname,dir:"auto"},!f&&d?o.createElement(u.default,{text:`~${d}`,formatters:v}):null))}}]),t}();f.displayName="Result",e.exports=f},dhbjfhjgbc:function(e,t){e.exports={moveResizeComponentContainer:"_1kh4T",resizer:"_1hjdR",topResizer:"Y1Z6l",bottomResizer:"_1fmP5",leftResizer:"_1Acgj",rightResizer:"_2wPUP",topRightResizer:"LjzBs",topLeftResizer:"_3SNiV",bottomRightResizer:"p4AWt",bottomLeftResizer:"_3VG07",moveable:"_1Yf-_",defaultCursor:"_111Ju"}},dhccihecch:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.THEMES=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=S(n("ceffhbhahb")),o=O(n("ddhijeejag")),i=S(n("effbcehec")),u=S(n("cehjjfagii")),s=S(n("jhcabjcaf")),l=S(n("bfjbdahdag")),c=S(n("bbchdeehff")),f=S(n("baagejbchg")),d=S(n("dfeecdfijg")),p=S(n("eiiicijcj")),h=O(n("ecibddhig")),m=S(n("bbjadhadbg")),b=S(n("cieaeggjg")),g=S(n("bfbggcdbfb")),v=S(n("dfhbgghjei")),y=S(n("ihfccfgdf")),_=n("bheafeifce"),E=S(n("deibgadgic")),j=S(n("cbjacjjfgc"));function O(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var P=330,M=330,C=t.THEMES={ALBUM:"ALBUM"},T=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,u=Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=r=w(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.setRefImg=function(e){return r.refImg=e},r.showMediaMissing=function(){c.default.openModal(o.createElement(p.default,{msg:r.props.msg}))},r.getZoomNode=function(e){var t=r.props.isMsgVisible;if(!t)return null;var n=t(e);return n?n.getImgNode&&n.getImgNode():null},r.launchMediaViewer=function(e){if(e&&e.stopPropagation(),r.props.theme===C.ALBUM){var t=r.props.zoomMsg||r.props.msg,n=new Set((r.props.albumMsgs||[]).map(function(e){return e.id.toString()}));c.default.mediaViewerModal({msg:(0,_.unproxy)(t),getZoomNode:r.getZoomNode,highlightedMsgIds:n})}else c.default.mediaViewerModal({msg:(0,_.unproxy)(r.props.msg),getZoomNode:r.getZoomNode})},r.forceDownloadMedia=function(){r.props.msg.downloadMedia(!0,g.default.WEBC_RMR_REASON_CODE.MSG_CLICK)},r.downloadMedia=function(){return r.props.msg.downloadMedia(!1,g.default.WEBC_RMR_REASON_CODE.MSG_RENDER)},r.cancelDownload=function(){r.props.msg.cancelDownload()},r.cancelUpload=function(){r.props.msg.cancelUpload()},r.resumeUpload=function(){r.props.msg.resumeUpload()},r.resumeRemoteUpload=function(){r.props.msg.resumeRemoteUpload()},r._renderImage=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=r.props,i=n.mediaData,u=n.theme,s=(0,a.default)(v.default.thumbBody,{[v.default.thumbBodyLores]:t}),l=void 0,c=void 0;u===C.ALBUM?(l=f.default.ALBUM_MAX_HEIGHT-f.default.ALBUM_PADDING,c=f.default.ALBUM_MAX_HEIGHT):(l=P,c=r.determineBubbleHeight());var d=function(e,t,n,r){if(!(e&&t&&n&&r))return{height:"100%",width:"100%"};return t/e>r/n?{height:"100%"}:{width:"100%"}}(i.fullHeight||c,i.fullWidth||l,c,l);return o.createElement("img",{src:e,className:s,style:d,ref:r.setRefImg})},r._renderPreviewImage=function(){return r._renderImage(r.props.mediaData.preview&&r.props.mediaData.preview.url(),!0)},w(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.downloadMedia()}},{key:"getImgNode",value:function(){return this.refImg}},{key:"determineBubbleHeight",value:function(){var e=this.props,t=e.msg,n=e.mediaData;return t.hsmEnabled&&n.aspectRatio<=f.default.HSM_ASPECT_RATIO?A(f.default.HSM_ASPECT_RATIO):A(n.aspectRatio)}},{key:"render",value:function(){var e=this.props,t=e.msg,n=e.contentContainerClassName,r=e.captionComponent,c=e.thumbClassName,p=e.onThumbClick,g=e.mediaData,y=e.theme,_=e.overlayContent,O=t.caption?null:o.createElement(j.default,null),S=t.caption?o.createElement("div",{className:v.default.caption},o.createElement(l.default,{msg:t,trusted:this.props.trusted,spacer:!(t.hsmEnabled&&t.footer)})):null,w=null,M=null;if(_)M=p||this.launchMediaViewer;else{var T=g.mediaStage;switch(T){case"RESOLVED":M=p||this.launchMediaViewer;break;case"FETCHING":w=o.createElement(h.PendingCancel,null),M=this.cancelDownload;break;case"NEED_POKE":w=o.createElement(h.Download,{filesize:g.size}),M=this.forceDownloadMedia;break;case"UPLOADING":w=o.createElement(h.PendingCancel,null),M=this.cancelUpload;break;case"NEED_UPLOAD":w=o.createElement(h.Upload,{filesize:g.size}),M=this.resumeUpload;break;case"REMOTE_NEED_UPLOAD":w=o.createElement(h.Upload,{filesize:g.size}),M=this.resumeRemoteUpload;break;case"ERROR_MISSING":M=p||this.showMediaMissing;break;case"ERROR_UNSUPPORTED":w=o.createElement(h.Download,{filesize:g.size}),M=p||this.launchMediaViewer;break;case"SENDING":t.isFailed||(w=o.createElement(h.Pending,null));break;case"DECRYPTING":case"ERROR_TOO_LARGE":case"INIT":case"PREPARING":case"REMOTE_UPLOADING":case"REUPLOADING":w=o.createElement(h.Pending,null);break;default:throw new Error(`invalid value for picture mediaStage '${T}'`)}}var A=this.props.displayAuthor&&!t.isSentByMe&&t.isGroupMsg,k=t.showForwarded()&&this.props.theme!==C.ALBUM,I=(0,a.default)(v.default.bubble,{[v.default.isAlbum]:y===C.ALBUM}),R=(0,a.default)(I,{[v.default.hasCaption]:t.caption,[v.default.hasAuthor]:A,[v.default.forwarded]:k,[v.default.isPSA]:t.isPSA,[v.default.isPreview]:this.props.displayType===f.default.DISP_TYPE.MSG_INFO,[v.default.isGallery]:this.props.displayType===f.default.DISP_TYPE.STARRED_MSGS||this.props.displayType===f.default.DISP_TYPE.GALLERY}),L=A?o.createElement("div",{className:v.default.author},o.createElement(u.default,{msg:t,contact:t.senderObj})):null,D=k?o.createElement(d.default,{msg:t,className:v.default.forwardedIndicator}):null,x={width:P,height:this.determineBubbleHeight()},U=this.props.quotedMsg?o.createElement("div",{className:v.default.quote},this.props.quotedMsg):null,G=(0,a.default)(v.default.thumb,{[v.default.overlay]:_}),F=void 0;_||(F=o.createElement("div",{className:v.default.meta},o.createElement(b.default,{msg:t})));var B=o.createElement("div",{className:n},L,D,U,o.createElement("div",{"data-a8n":i.default.key("image-thumb"),className:c||G,onClick:M,style:x},w,o.createElement(m.default,{mediaData:g,placeholderRenderer:this._renderPreviewImage,downloadMedia:this.downloadMedia},this._renderImage),O),r||S,o.createElement(E.default,{msg:t}),F);return S?o.createElement(s.default,{contact:t.senderObj,msg:t,className:R,onClick:N},B):(_&&(B=o.createElement("div",{className:v.default.overlayAlbumText},B,_)),o.createElement("div",{className:R,onClick:N},B))}}]),t}();function A(e){if(!e)return M;var t=void 0;return t=e<=1?M:e<=2.4?P/e:P/2.4,Math.round(t)}function N(e){e.stopPropagation()}T.CONCERNS={msg:["ack","caption","dir","footer","hsmEnabled","id","isFailed","isGroupMsg","isPSA","isSentByMe","rtl","senderObj","subtype","type"],mediaData:["aspectRatio","preview","mediaStage","fullWidth","fullHeight","size"]},T.displayName="Picture",t.default=(0,y.default)(T,T.CONCERNS)},dhcejciehh:function(e,t){e.exports={section:"_19o76",control:"_3PsB1",label:"wVU1s"}},dheeebbech:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=u(n("ceffhbhahb")),i=u(n("bjfacgbcjj"));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=(0,o.default)(i.default.msg,{[i.default.hover]:e.hover,[i.default.current]:e.current,[i.default.active]:e.active});return a.createElement("div",{className:t,onClick:e.onClick,onMouseEnter:e.onMouseEnter,onMouseOver:e.onMouseOver,onMouseLeave:e.onMouseLeave},e.children)}}]),t}();s.displayName="GalleryMsg",t.default=s},dhefcajhhb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProfilePicThumbCollection=void 0;var r=j(n("bebajedcaf")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},i=n("cgcgbfbffj"),u=j(i),s=j(n("bjigbaghc")),l=n("ddjgcfjicj"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cajijabhgb")),f=j(n("bjbdcigbdi")),d=j(n("bdiiahhjbe")),p=j(n("edjgaiicj")),h=n("dfdjejggdf"),m=n("biahggehgf"),b=j(n("igdjeffe")),g=j(n("bhggeigghg")),v=j(n("egjjcjcg")),y=j(n("bihdhbjih")),_=j(n("jccfhaecf")),E=n("dcbdjheea");function j(e){return e&&e.__esModule?e:{default:e}}var O=t.ProfilePicThumbCollection=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),a(t,[{key:"get",value:function(e){var n=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"get",this).call(this,e);if(!this.modelClass.prototype.isIdType(e))return n;var r=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"get",this).call(this,(0,p.default)(e.toString()));if(r){if(this.remove(r,{silent:!0}),n&&n.tag)return n;var a=r.toJSON();return a.id=e,this.add(a,{silent:!0,merge:!0})[0]}return n||void 0}},{key:"saveToCache",value:function(){if(s.default.me){var e=t.cachePolicy.id,n=this.filter(function(e){return _.default.isWid(e.id)&&!!e.eurl});n=n.map(function(e){var t=e.toJSON();return t.id=(0,p.default)(t.id.toString()),t}),d.default.log(`models:profilePic:cache-save: ${String(e)}`)(),v.default.setCollection(e,n)}}},{key:"initializeFromCache",value:function(e){if(this.length&&e){var t=this.reduce(function(e,t){return e[(0,p.default)(t.id.toString())]=t.id.toString(),e},new Object);if(!(0,r.default)(t)){var n=e.reduce(function(e,n){return t[n.id]&&(n.id=(0,E.createWid)(t[n.id]),n.stale=!0,e.push(n)),e},[]);this.add(n,{merge:!0})}}}},{key:"onResume",value:function(){var e=this.filter(function(e){var t=g.default.Chat.get(e.id);return e.hasObservers()&&e.stale&&(_.default.isUser(e.id)||_.default.isGroup(e.id))&&!(t&&t.isReadOnly)}).map(function(e){return e.tag||e.unset("tag",{silent:!0}),e});this.resyncPictures(e)}},{key:"_find",value:function(e){var t=g.default.Chat.get(e);if(t&&t.isReadOnly)return(0,m.profilePicFindThumbFromPhone)(e,this.get(e)).then(function(e){return e.tag||e.raw||(e.eurl=null,e.tag=null,e.raw=null,e.eurlStale=!1),e}).catch(c.ProtoVersionUndefined,function(){return{id:e,stale:!0}});if(_.default.isUser(e)||_.default.isGroup(e)){var n={id:e};return(0,m.profilePicFind)(e).then(function(e){return n.tag=e.tag,n.raw=null,n.eurl=e.eurl,n.eurlStale=!1,f.default.supportsFeature(f.default.F.MD_BACKEND),n}).catch(l.ServerStatusCodeError,function(e){switch(e.status){case 401:n.tag="",n.raw=void 0;break;case 423:case 429:n.stale=!0;break;default:n.tag=null,n.eurl=null,n.eurlStale=!1}return Promise.resolve(n)}).catch(l.WapDrop,function(){return{id:e,stale:!0}})}return Promise.resolve({id:e,tag:null})}},{key:"imageChanged",value:function(e,t){var n=this.get(e);n&&(t===h.PROFILE_PIC_COMMAND.REMOVE?n.set({tag:void 0,eurl:void 0}):t!==h.PROFILE_PIC_COMMAND.SET&&n.tag===t||this.update(n.id).catch(l.WapDrop,function(){}))}},{key:"resyncPictures",value:function(e){var t=this;return 0===e.length?Promise.resolve():y.default.resyncPictures(e.map(function(e){return{id:e.id,tag:e.tag}})).then(function(n){if(423===n.status||429===n.status)d.default.warn("ProfilePicThumbStore:resyncPictures blocked "+n.status)();else{if("number"==typeof n.status&&n.status>=400)throw d.default.error("ProfilePicThumbStore:resyncPictures error "+n.status)(n),new Error("ProfilePicThumbStore:resyncPictures error");if(!Array.isArray(n))throw d.default.error("ProfilePicThumbStore:resyncPictures unknown reply",n)(),new Error("ProfilePicThumbStore:resyncPictures unknown reply");d.default.log("ProfilePicThumbStore:resyncPictures success")(),n.forEach(function(e){var n=t.get(e.id);n&&n.set({tag:e.tag,raw:void 0,stale:!1,eurl:e.eurl,eurlStale:!1})}),e.forEach(function(e){e.eurlStale&&t.update(e.id)}),e.forEach(function(e){e.stale=!1})}}).catch(l.WapDrop,function(){}).catch(function(e){d.default.error("ProfilePicThumbStore:resyncPictures dropped: "+String(e))()})}}]),t}();O.model=b.default,O.staleCollection=!0,O.resumeOnAvailable=!0,O.cachePolicy={id:"profile_pic_thumb",trigger:"change:tag change:raw",policy:i.CACHE_POLICY.LOAD,delay:5e3},t.default=new O},dheiadgfhj:function(e,t){e.exports={bubble:"_1BN2j",templateBubble:"_1Rd1y",isPreview:"_1auwW",isGallery:"_9dwDm",author:"_3OPGn",forwarded:"KmdWq",forwardedIndicator:"_3moRf",hasAuthor:"qKTgP",container:"_3F4Fd",body:"_1mrMQ",bubbleIn:"_3cukQ",bubbleOut:"_1o6AT",docMeta:"_1o0MN",metaValue:"_35Zop",meta:"_3vA5B",text:"_1NeOh",icon:"_1ceQM",quote:"_2-LEp",filetypeIcon:"_3ZoBw",thumb:"_2k0GR",hasCaption:"_2i0x3",caption:"_1vlJw"}},dhfbggbbbd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=c(n("effbcehec")),i=c(n("bdcjhdddde")),u=n("dccdiajhdf"),s=c(n("ihfccfgdf")),l=c(n("eedjbihej"));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=void 0,t=void 0;switch(this.props.section){case u.SECTIONS.PLAYED_FOOTER:e=this.props.msgInfo.playedRemaining,t=this.props.msgInfo.playedRemaining;break;case u.SECTIONS.READ_FOOTER:e=this.props.msgInfo.readRemaining,t=this.props.msgInfo.readRemaining;break;case u.SECTIONS.DELIVERED_FOOTER:e=this.props.msgInfo.deliveryRemaining,t=this.props.msgInfo.deliveryRemaining}var n=void 0;n=null!=e&&0!==e?{count:e,_plural:t}:{_plural:t};var r=l10n.t(719,n);return a.createElement("div",{"data-a8n":o.default.key("msg-info-remaining"),className:i.default.footer},a.createElement(l.default,{theme:"muted"},r))}}]),t}();f.CONCERNS={msgInfo:["playedRemaining","readRemaining","deliveryRemaining"]},f.displayName="GroupMsgInfoSectionFooter",t.default=(0,s.default)(f,f.CONCERNS)},dhfjegifba:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n("jhddfhjhh")),a=i(n("djegeegcbf")),o=i(n("edbaidcaf"));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e,n,r,i,u){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,{title:a.default.normalizeEmoji(r),notification:window.Notification,body:a.default.normalizeEmoji(i),icon:o.default.relToAbs(u)}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),t}();t.default=u},dhgbabghaf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enrich=function(e,t){var n=void 0;switch(u.previewType(t)){case"pdf":n=s(e);break;case"msoffice":n=Promise.resolve();break;default:n=Promise.resolve()}return n.timeout(3e3,"Document enrichment timeout").catch(function(e){return null})},t.enrichPdf=s;var r,a=n("bdiiahhjbe"),o=(r=a)&&r.__esModule?r:{default:r};var i=n("bbegjdfcja"),u=n("behbjhhbg");function s(e){var t=void 0;return i.fileToPdf(e).then(function(e){return t=e,i.pdfToImg(e,1)}).catch(function(e){return o.default.log("pdf preview generation failed",e)(),Promise.resolve(null)}).finally(function(){t&&i.releasePdf(t)})}},dhgdjhdfdh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=l(n("dhbceejbjg")),o=l(n("bidfjbaebi")),i=n("facgccaif"),u=l(n("dijcicjfhc")),s=l(n("bfdcadbbif"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.frequentlyForwardedCount,n=e.totalCount,l=r.createElement("span",{className:u.default.text},1===t&&1===n?l10n.t(471):l10n.t(470)," ",r.createElement(o.default,{href:(0,i.getFrequentlyForwardedFaqUrl)()},l10n.t(622)));return r.createElement("div",{className:u.default.wrapper},r.createElement("div",{className:u.default.icon},r.createElement(s.default,{name:"highly-forwarded"})),r.createElement(a.default,{theme:"plain",primary:l,idle:!0}))}c.displayName="FrequentlyForwardedWarning"},dhgeaaaega:function(e,t){e.exports={chatstateTyping:"_2ZAIy"}},dhgfgiaedi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=p(n("ddhijeejag")),o=d(n("dbdfbgehgj")),i=d(n("bbchdeehff")),u=d(n("eceadcicaf")),s=p(n("dgjifchfde")),l=n("cacaefcddj"),c=n("dcdiaahjj"),f=d(c);function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.count=0,r.updateUnreadCount=function(){var e=void 0;e=f.default.displayInfo===c.StreamInfo.OFFLINE?-1:f.default.displayInfo===c.StreamInfo.TIMEOUT?-1:o.default.filter(function(e){return e.shouldShowUnreadInTitle}).length,r.count!==e&&(r.count=e,(0,l.setTitleAndIcon)(e))},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.listeners;t.add(i.default,"alert_new_msg",function(t){return s.showMsgNotification(t,e.matchesFilter)}),t.add(i.default,"alert_call",s.showCallNotification),t.add(i.default,"cancel_call",s.cancelCallNotification),t.add(o.default,"add remove reset change:archive change:unreadCount change:muteExpiration",this.updateUnreadCount),t.add(o.default,"change:hasUnread",s.closeNotifications),t.add(f.default,"change:displayInfo",this.updateUnreadCount),this.updateUnreadCount()}},{key:"componentWillUnmount",value:function(){(0,l.setTitleAndIcon)(0)}},{key:"matchesFilter",value:function(e){return!1}},{key:"render",value:function(){return null}}]),t}();m.displayName="NotificationManager",t.default=(0,u.default)(m)},dhgfhcggji:function(e,t){e.exports={mediaCanvas:"_3fLj2",canvasBody:"_26DoP",list:"LQJlb",canvasComponent:"_2eLQ5",canvasComponentLarge:"_1nQDL",canvasSecondRow:"_1en8j",viewerFlow:"H7wMr",active:"_3P8qe",placeholder:"_3gKoq"}},dhggbbghfb:function(e,t,n){"use strict";var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=b(n("dbdfbgehgj")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("dfhjacfbjg")),i=b(n("baagejbchg")),u=b(n("dhigahgdjb")),s=n("ddjgcfjicj"),l=n("dfhgeaeig"),c=b(n("bdiiahhjbe")),f=b(n("ebbjbbjjg")),d=b(n("dhefcajhhb")),p=b(n("gbbacfeci")),h=b(n("bgcdajbhif")),m=n("dgdhcdgffe");function b(e){return e&&e.__esModule?e:{default:e}}var g={handle(e){var t=r(e,1)[0];switch(t.type){case"const":i.default[t.key]=t.value;break;case"read":if(t.isStatus){h.default.handle([t]);break}case"unread":var n=a.default.get(t.jid);n&&("read"===t.type?(0,m.markSeen)(n):"unread"===t.type&&(0,m.markUnseen)(n));break;case"log":o.upload("server-requested",!0,!0);break;case"privacy":if(t.jid){var b=f.default.get(t.jid);b&&b.reset(),d.default.update(t.jid).catch(s.WapDrop,function(){}),p.default.update(t.jid).catch(s.WapDrop,function(){})}else c.default.error("Store:Cmd:handle:privacy no jid",t)();break;case"identity":if(t.jid){var g=u.default.get(t.jid);g?(0,l.updateIdentity)(g,t):c.default.error("Store:Cmd:handle:identity no contact",t)()}else c.default.error("Store:Cmd:handle:identity no jid",t)();break;default:c.default.warn("Store:Cmd:handle:unknown "+t.type,t)()}}};e.exports=g},dhgjbgdbhg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encryptAndMac=function(e,t,n){return(0,r.aesCbcEncrypt)(e,new Uint8Array(n)).then(function(e){return new a.default(t).sign(e).then(function(t){return s.build(t,e).readBuffer()})})},t.macAndDecrypt=function(e,t,n){return Promise.resolve(new Uint8Array(n)).then(function(n){var i=u.encode(n.subarray(0,32)),s=n.subarray(32);return new a.default(t).sign(s).then(function(t){var n=u.encode(t);if(i!==n)throw o.default.error(`crypto:macAndDecrypt HMAC don't match ${i} vs. ${n}`)(),new Error("macAndDecrypt HMAC mismatch");return(0,r.aesCbcDecrypt)(e,s)})})};var r=n("eaiigfgagg"),a=i(n("bbejegbieb")),o=i(n("bdiiahhjbe"));function i(e){return e&&e.__esModule?e:{default:e}}var u=n("hgjcbccfg"),s=n("dbajccegac")},dhhbbaegif:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n("eaaagccfda")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},i=c(n("bbchdeehff")),u=c(n("fcedgihic")),s=c(n("iajeehcac")),l=c(n("beahjdfigf"));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a._debouncedSort=(0,r.default)(function(){return a.sort()},1e3),a.listenTo(a,"change:contact.name",a._debouncedSort),a.listenTo(i.default,"locale_change",a._debouncedSort),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),a(t,[{key:"delete",value:function(){this.forEach(function(e){e.delete()}),this.stopListening(),this.reset()}},{key:"ensureSorted",value:function(){this._debouncedSort.flush()}},{key:"set",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.isParticipantCollectionAdd||(n.remove=!0),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"set",this).call(this,e,n)}},{key:"add",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.isParticipantCollectionAdd=!0,o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,n)}}]),t}();f.model=s.default,f.comparator=l.default,t.default=f},dhhbehfjej:function(e,t){e.exports={container:"_13fQ2",media:"_3in0k",img:"UAI6v",audio:"_3352Z",videoContainer:"_2Bop3",spinner:"mAc_L",video:"F5UsY",staticPreview:"_2qzas"}},dhhbgegf:function(e,t){e.exports={clickable:"_2LRFQ",body:"_1J99z",main:"_1kz4p",mainEllipsify:"VfNCr",side:"_2h7Od"}},dhhcgceeai:function(e,t){e.exports={spam:"_2Pown",text:"_3Dvhp",controls:"xD5k0",button:"GdqkG"}},dhhcghbjeb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=u(n("bhhdeihhhf")),i=u(n("ihfccfgdf"));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.mute,n=e.disabled,r=this.props.onMute.bind(null,!t.isMuted),i=t.isMuted?l10n.t(1264):l10n.t(1263);return a.createElement(o.default,{action:r,a8n:"mi-mute",disabled:n},i)}}]),t}();s.CONCERNS={mute:["isMuted"]},s.displayName="MuteMenuItem",t.default=(0,i.default)(s,s.CONCERNS)},dhhfaeacef:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DetailImageCommon=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.getSize=N,t.getDefaultIcon=I;var o=y(n("ceffhbhahb")),i=v(n("ddhijeejag")),u=y(n("cffibfiejh")),s=y(n("dhigahgdjb")),l=y(n("cjejfecgc")),c=v(n("cajijabhgb")),f=y(n("efgfgjab")),d=y(n("cajbifjffe")),p=y(n("ceddibdhdb")),h=y(n("ihfccfgdf")),m=n("bheafeifce"),b=y(n("bfdcadbbif")),g=y(n("jccfhaecf"));function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function y(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O={SMALL:"SMALL",MEDIUM:"MEDIUM",LARGE:"LARGE",AUTO:"AUTO",NONE:"NONE"},S={LOW:"LOW",HIGH:"HIGH"},w=100,P=t.DetailImageCommon=function(e){function t(e){_(this,t);var n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.retriedAfter403=!1,n.state={loading:!0,loaded:!1,showSpinner:!1},n.onLoad=function(e){n.showSpinnerTimeout&&n.showSpinnerTimeout.cancel(),n.setState({loading:!1,loaded:!0}),n.props.onLoad&&n.props.onLoad()},n.onError=function(e){if(n.showSpinnerTimeout&&n.showSpinnerTimeout.cancel(),e instanceof c.ServerStatusError){var t=n.props.profilePicThumb;switch(e.status){case 403:t.markStale({eurl:!0}),n.retriedAfter403||(n.retriedAfter403=!0,t.validate());break;case 410:t.markStale()}}n.setState({loading:!1,loaded:!1})},n.enableSpinner="business"!==e.theme,e.loader&&n.enableSpinner&&(n.showSpinnerTimeout=new p.default(function(){n.setState({showSpinner:!0})}),n.showSpinnerTimeout.onOrAfter(w)),n}return j(t,i.PureComponent),a(t,[{key:"componentWillUnmount",value:function(){this.showSpinnerTimeout&&this.showSpinnerTimeout.cancel()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.profilePicThumbImg!==e.profilePicThumbImg&&(this.setState({loading:!0,loaded:!1,showSpinner:!1}),this.showSpinnerTimeout&&this.showSpinnerTimeout.onOrAfter(w))}},{key:"shouldShowSpinner",value:function(){var e=this.props,t=e.profilePicThumb,n=e.loader,r=this.state,a=r.loading,o=r.showSpinner;return!!this.enableSpinner&&(!!n&&o&&a&&!(!(0,m.unproxy)(t).stale&&!this.props.profilePicThumbImg))}},{key:"render",value:function(){var e=this.props,t=e.profilePicThumbImg,n=e.spinnerClassName,a=e.imgClassName,s=this.state,c=s.loading,f=(s.loaded,{[l.default.isLoaded]:!c});a&&(f=r({},f,{[a]:"string"==typeof a}));var p=(0,o.default)(l.default.avatarImage,f),h=void 0,m=void 0;this.shouldShowSpinner()&&(h=i.createElement(u.default,{key:"spinner",className:n})),t&&(m=i.createElement(d.default,{src:t,hasPrivacyChecks:!0,crossOrigin:!1,className:p,draggable:!1,key:"image",onLoad:this.onLoad,onError:this.onError}));var b=this.props.defaultIcon;return i.createElement(i.Fragment,null,h,m,b)}}]),t}();P.displayName="DetailImageCommon";var M=function(e){function t(){return _(this,t),E(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,i.PureComponent),a(t,[{key:"render",value:function(){return i.createElement(P,r({},this.props,{profilePicThumbImg:this.props.profilePicThumb.imgFull}))}}]),t}();M.CONCERNS={profilePicThumb:["imgFull"]},M.displayName="DetailImageFull";var C=(0,h.default)(M,M.CONCERNS),T=function(e){function t(){return _(this,t),E(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,i.PureComponent),a(t,[{key:"render",value:function(){return i.createElement(P,r({},this.props,{profilePicThumbImg:this.props.profilePicThumb.img}))}}]),t}();T.CONCERNS={profilePicThumb:["img"]},T.displayName="DetailImageThumb";var A=(0,h.default)(T,T.CONCERNS);function N(e){switch(e){case O.SMALL:return 49;case O.MEDIUM:return 100;case O.LARGE:return 200;case O.NONE:return;default:return e}}var k=function(e){var t=e.id,n=e.size,r=e.quality,a=e.loader,u=e.onClick,c=e.onLoad,d=e.quoted,p=e.square,h=e.border,m=e.waitIdle,b=e.theme,g=void 0;g="number"==typeof n?n>0?n:O.SMALL:null!=n?n:O.SMALL;var v=r||S.LOW,y={height:N(g),width:N(g)};u&&(y.cursor="pointer");var _=(0,o.default)(l.default.avatar,{[l.default.status_v3]:"status_v3"===b,[l.default.avatarSquare]:p,[l.default.avatarBorder]:h}),E=I(t,d);return i.createElement(f.default,{id:t,onComplex:function(){var e=null,n=s.default.gadd(t).getProfilePicThumb();return n&&(e=v===S.HIGH?i.createElement(C,{profilePicThumb:n,defaultIcon:E,loader:a,onLoad:c}):i.createElement(A,{profilePicThumb:n,defaultIcon:E,loader:a,onLoad:c})),i.createElement("div",{className:_,style:y,onClick:u},e)},waitIdle:m},i.createElement("div",{className:_,style:y,onClick:u},E))};function I(e,t){var n="default-user";return g.default.isUser(e)&&!g.default.isPSA(e)&&t?n="default-user-square":g.default.isGroup(e)?n="default-group":g.default.isBroadcast(e)?n="default-broadcast":g.default.isPSA(e)&&(n="default-psa"),i.createElement("div",{className:l.default.avatarDefault,key:"default"},i.createElement(b.default,{name:n}))}k.displayName="DetailImage",k.Size=O,k.Quality=S,t.default=k},dhhhjaejje:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("cgeeeeddea"),i=(r=o)&&r.__esModule?r:{default:r};var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,null,[{key:"onMutator",value:function(e,t,n,r,a){(0,i.default)(!1,"Subclasses of `Serializer` must override `onMutator()`")}},{key:"onRoot",value:function(e,t){(0,i.default)(!1,"Subclasses of `Serializer` must override `onRoot()`")}},{key:"onText",value:function(e,t){(0,i.default)(!1,"Subclasses of `Serializer` must override `onText()`")}},{key:"onDelimiter",value:function(e,t){(0,i.default)(!1,"Subclasses of `Serializer` must override `onDelimiter()`")}}]),e}();t.default=u},dhiccjfja:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contactFindQuery=function(e){var t=i.default.Contact,n=performance.now(),c={};return l.default.contactFindQuery(e.retry,function(e){c.binarySize=e.binarySize}).then(function(e){var i=e;if("preempted"===i.data)return Promise.reject("contacts preempted");c.count=i.data&&i.data.length,c.timing=Math.ceil(performance.now()-n),t.trigger(r.default.COLLECTION_HAS_SYNCED,c),(0,s.mungePSAContact)(i.data);return(a.default.supportsFeature(a.default.F.MODEL_STORAGE)?(0,u.bulkCreateOrUpdateContacts)(i.data):Promise.resolve()).then(function(){return i.checksum&&(t.setChecksum(i.checksum),o.default.log("Store:Contact:query update checksum "+i.checksum)()),Promise.resolve(i.data)})})};var r=c(n("baagejbchg")),a=c(n("bjbdcigbdi")),o=c(n("bdiiahhjbe")),i=c(n("bhggeigghg")),u=n("dbhhjaecch"),s=n("dafafigeih"),l=c(n("bihdhbjih"));function c(e){return e&&e.__esModule?e:{default:e}}},dhigahgdjb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContactCollection=void 0;var r=j(n("eaaagccfda")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},i=n("cgcgbfbffj"),u=j(i),s=n("cajejegicg"),l=j(n("bbchdeehff")),c=j(n("baagejbchg")),f=j(n("ccfcjccjbg")),d=j(n("ccicaaeiaa")),p=n("ddjgcfjicj"),h=n("dhiccjfja"),m=n("cbecjajacd"),b=j(n("bdiiahhjbe")),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ebggjhghhi")),v=j(n("cbeabehaca")),y=j(n("egjjcjcg")),_=n("eaaehfdjdg"),E=j(_);function j(e){return e&&e.__esModule?e:{default:e}}var O=t.ContactCollection=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._contactHashes=new v.default,e.checksum=void 0,e._frequentContacts={},e._sort=(0,r.default)(function(){return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"sort",e).call(e)},1e3),e._silentSort=(0,r.default)(function(){return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"sort",e).call(e,{silent:!0})},1e3),e.listenTo(l.default,"locale_change",e.sort),e.listenTo(e,"change:name",e.sort),e.listenTo(E.default,"change:stream",function(){E.default.stream===_.STREAM.RESUMING&&e.forEach(function(e){e.unset("verificationString"),e.unset("verificationBinary")})}),e.listenTo(e,"add",e.contactAdded),e.listenTo(e,"remove",e.contactRemoved),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),a(t,[{key:"sort",value:function(e){return e&&e.silent?this._silentSort():this._sort()}},{key:"ensureSorted",value:function(){this._sort.flush()}},{key:"initializeFromCache",value:function(e){e&&(b.default.log("Store:Contact init from cache")(),this.add(e,{silent:!0,merge:!0}))}},{key:"contactAdded",value:function(e){this._contactHashes.put(e)}},{key:"contactRemoved",value:function(e){this._contactHashes.remove(e)}},{key:"delete",value:function(){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),this.setChecksum(),delete this.checksum,this._frequentContacts={},(0,m.setFrequent)({}).catch(function(){}),this._contactHashes.clear()}},{key:"isFilteredContact",value:function(e){return!!e.name&&!e.isMe&&!e.isPSA&&e.isWAContact}},{key:"getFilteredContacts",value:function(){return this.filter(function(e){return e.name&&!e.isMe&&!e.isPSA&&e.isWAContact})}},{key:"_find",value:function(e){var t=this.get(e);return t?Promise.resolve(t):Promise.resolve({id:e})}},{key:"_findQuery",value:function(e){return(0,h.contactFindQuery)(e)}},{key:"sync",value:function(){return this.findQuery({}).catch(p.WapDrop,function(){}),g.waitForBBEvent(this,c.default.COLLECTION_HAS_SYNCED)}},{key:"updateFrequentContacts",value:function(e){this._frequentContacts=e}},{key:"frequentContacts",value:function(e,t){var n=this,r=e&&this._frequentContacts[e];if(r||(r=this._frequentContacts.message),!r)return[];var a=t&&t.id;return r.map(function(e){return n.get(e)}).filter(function(e){return!!e&&!e.id.equals(a)})}},{key:"getUserCount",value:function(){return this.map(function(e){return e.isUser?1:0}).reduce(function(e,t){return e+t},0)}},{key:"setChecksum",value:function(e){this.checksum=e,y.default.setContactChecksum(this.checksum),(0,s.setChecksum)(e).catch(function(){})}}]),t}();O.model=f.default,O.comparator=d.default,O.cachePolicy={id:"contact",policy:i.CACHE_POLICY.IMMEDIATE,trigger:"add\n        sort\n        remove\n        reset\n        change:id\n        change:name\n        change:shortName\n        change:pushname\n        change:type\n        change:verifiedName\n        change:isBusiness\n        change:isEnterprise\n        change:verifiedLevel\n        change:statusMute\n        change:sectionHeader\n        change:isContactBlocked\n        change:labels"},t.default=new O},dhjaadicdd:function(e,t,n){"use strict";var r,a=n("bdiiahhjbe"),o=(r=a)&&r.__esModule?r:{default:r};var i={queryVideoPlaybackUrl:function(e){var t=this;return new Promise(function(n,r){var a=t.queryNode({type:"video",url:e},void 0);t.binSend("sendEphemeral",a,r,{onSend:t.binWrap(function(e){t.BinaryProtocol.read(e).then(function(e){o.default.logColor("green","bin-recv: response,video_playback_url",e)();var r=void 0;if("response"===t.N.tag(e)&&"video"===t.N.attr("type",e)){var a=t.N.attr("url",e);a&&(r={url:a})}n(r)}).catch(r)},n),onDrop:t.wrap(r)},{debugString:"query,video_playback_url",metricName:"QUERY_URL"})})}};e.exports=i},dhjeadeagb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=d(n("dbdfbgehgj")),i=d(n("bbchdeehff")),u=d(n("biddiiafgd")),s=d(n("fifhbjiec")),l=d(n("bcbahjefec")),c=d(n("cihiahfgbc")),f=n("cgjcdbggeb");function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.filter=function(e){var t=e.groupMetadata;return!(!e.isGroup||e.isGroup&&!t.participants.iAmMember())&&(t.participants.get(r.props.contact.id)?l10n.t(1437):!!t.participants.iAmAdmin()||l10n.t(297))},r.confirmAddToGroup=function(e){r.push(a.createElement(u.default,{onOK:r.addToGroup.bind(null,e),okText:l10n.t(1435),onCancel:r._pop,cancelText:l10n.t(1153)},a.createElement(s.default,{text:l10n.t(322,{participant:r.props.contact.formattedName,subject:e.contact.name})})))},r.addToGroup=function(e){(0,f.addParticipants)(e,[r.props.contact]).then(function(){i.default.openChatFromUnread(e).then(function(t){t&&i.default.focusChatTextInput(e)})}).catch(function(){}),r.end()},r._pop=function(){r.pop()},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default),r(t,[{key:"componentDidMount",value:function(){this.push(a.createElement(c.default,{chats:o.default.filter(function(e){return e.isGroup}),filter:this.filter,onCancel:this._pop,onGroup:this.confirmAddToGroup}))}}]),t}();t.default=h},dhjffabgfb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StickerCollection=t.FETCH_STATE=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=i(n("cgcgbfbffj")),o=i(n("cgfidiajgj"));function i(e){return e&&e.__esModule?e:{default:e}}t.FETCH_STATE={PENDING:"PENDING",SUCCESS:"SUCCESS",ERROR:"ERROR"};var u=t.StickerCollection=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"fetch",value:function(e){throw new Error(`${this.constructor.name}.fetch is not implemented`)}}]),t}();u.model=o.default,t.default=new u},dhjfgehgcf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uploadMedia=t.cancelUploadMedia=void 0,t.processRawMedia=function(e,t){var n=Promise.resolve().then(function(){var n=e.size(),r=t.asDocument?o.FILETYPE.DOCUMENT:(0,o.typeFromMimetype)(e.type()),c=r===o.FILETYPE.DOCUMENT?l.default.maxFileSize:l.default.media;if(n>c)return Promise.reject(new i.default(e));if(n<=0)return Promise.reject(new a.MediaFileEmpty);var f=void 0;switch(null!=t.gifAttribution?f=t.gifAttribution:t.asGif&&(f=0),r){case"image":return s.processRawImage(e).then(function(e){var t=e.blob,n=e.width,r=e.height,a=e.preview;return{type:u.OUTWARD_TYPES.IMAGE,mediaBlob:t,mimetype:"image/jpeg",fullWidth:n,fullHeight:r,preview:a}});case"video":case"audio":return s.processRawAudioVideo(e,!!t.isPtt,t.precomputedFields,t.asGif,f,e.type());case"document":return s.processRawDocument(e,t.filename);default:throw new Error("Received unsupported mediaType: "+r)}});return e.retain(),e.autoreleaseWhenPromiseCompletes(n),n};var r=n("bhichefhgf");Object.defineProperty(t,"cancelUploadMedia",{enumerable:!0,get:function(){return r.cancelUploadMedia}}),Object.defineProperty(t,"uploadMedia",{enumerable:!0,get:function(){return r.uploadMedia}});var a=f(n("cajijabhgb")),o=n("cgffhfegce"),i=c(n("cieaaiahhf")),u=n("daichdjff"),s=f(n("fabajdgab")),l=c(n("bfgbdiffgd"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}},diafggiefe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("dcaifjegcg"),u=g(i),s=n("cajijabhgb"),l=g(n("bdiihbaeaj")),c=g(n("bdiiahhjbe")),f=n("ddgbhifaji"),d=g(n("bffjfbgbg")),p=n("daichdjff"),h=n("fabajdgab"),m=g(n("beeieigghj")),b=n("dgeebjciej");function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=r=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.id=(0,i.prop)(),r.type=(0,i.prop)(),r.mediaUrl=(0,i.prop)(),r.blobUrl=(0,i.session)(),r.mediaData=(0,i.session)(),r.fetchedFromServer=(0,i.prop)(),r.old=(0,i.session)(!1),v(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),o(t,[{key:"initialize",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this),this.listenTo(this,"change:mediaUrl change:fetchedFromServer",this.triggerImageUpdate),this.triggerImageUpdate()}},{key:"triggerImageUpdate",value:function(){var e=this;if(this.fetchedFromServer&&this.mediaUrl){this.mediaData||this.addChild("mediaData",new d.default({mediaStage:p.STAGE.PREPARING}));var t={};(0,l.default)({retries:10,factor:1e3,maxTimeout:9e5,jitter:.25},function(t){return(0,h.fetchMedia)(e.mediaUrl).then(function(e){return e&&e.status>=200&&e.status<300?e:t(new s.CatalogImageDownloadError)})}).then(function(n){var o=n.result,i=m.default.createFromData(o,"image/jpeg");(0,f.prepRawMedia)(i,{}).waitForPrep().then(function(e){return t=a({},t,{mediaBlob:e.mediaBlob,type:e.type,mimetype:e.mimetype,fullWidth:e.fullWidth,fullHeight:e.fullHeight}),Promise.all([m.default.createFromBase64Jpeg(e.preview),m.default.createFromData(e.mediaBlob),(0,b.getHash)(e.mediaBlob)])}).then(function(n){var o=r(n,3),i=o[0],u=o[1],s=o[2];if(t=a({},t,{preview:i,mediaBlob:u,renderableUrl:u.url(),mediaStage:p.STAGE.RESOLVED,filehash:s}),s===e.mediaData.filehash)return Promise.resolve();e.mediaData.set(t)})}).catch(function(t){c.default.error(`Failed to fetch ${e.mediaUrl}`,t)(),e.mediaData.set({mediaStage:p.STAGE.ERROR_MISSING})})}}},{key:"markOld",value:function(){this.old=!0}}]),t}();y.Proxy="productImage",t.default=(0,i.defineModel)(y)},diajeiidei:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=f(n("cgcgbfbffj")),o=f(n("baagejbchg")),i=n("ddjgcfjicj"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cajijabhgb")),s=f(n("bfbggcdbfb")),l=f(n("cbcbdjdah")),c=f(n("biecbbiiee"));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p="before",h="after",m=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.hasMediaBefore=!0,r.hasMediaAfter=!0,d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"delete",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),this.stopListening()}},{key:"getAfter",value:function(e){var t=this.indexOf(e);return t<0||t===this.length-1?null:this.at(t+1)}},{key:"getBefore",value:function(e){var t=this.indexOf(e);return t<=0?null:this.at(t-1)}},{key:"loadEarlierMedias",value:function(){var e=this.head();e&&this.queryMedia(null,e)}},{key:"loadRecentMedias",value:function(){var e=this.last();e&&this.queryMedia(null,e,h)}},{key:"loadMoreAroundIfNeeded",value:function(e){if(e){var t=this.indexOf(e);t<20&&this.hasMediaBefore&&this.loadEarlierMedias(),this.length-t<20&&this.hasMediaAfter&&this.loadRecentMedias()}}},{key:"queryMedia",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p;if(!t&&e){var a=e.msgs;if(!a||0===a.length)return this.hasMediaBefore=!1,new Promise(function(e){e({eof:!0})});this.add(a.filter(function(e){return e.isMedia}),{at:0});var s=this.toArray();if(this.downloadMedias(s),e.msgs.msgLoadState.noEarlierMsgs)return this.hasMediaBefore=!1,new Promise(function(e){e({eof:!0})});if(s.length<=2*o.default.MEDIA_QUERY_LIMIT){var l=0===s.length?a.head():s[0];return this.queryMedia(e,l)}return new Promise(function(e){e({eof:!1})})}if(t&&r===p){if(this.queryMediaBefore)return this.queryMediaBefore;var f=0;return this.queryMediaBefore=c.default.queryMedia(t.id.remote,o.default.MEDIA_QUERY_LIMIT,r,t.isMedia?t.id:void 0).then(function(t){var r=t.messages;(!r||r.length<o.default.MEDIA_QUERY_LIMIT)&&(n.hasMediaBefore=!1);var a=[];r&&r.length>0&&(a=r.filter(function(e){return e.isMedia}),n.downloadMedias(a)),n.add(a,{at:0});var i={mediaCount:t.mediaCount,linkCount:t.linkCount,docCount:t.docCount};return e&&e.resetMediasCount(i),{length:f=a.length}}).catch(i.WapDrop,u.ProtoVersionUndefined,function(){}).catch(404,function(){}).finally(function(){n.queryMediaBefore=null,n.trigger("query_media_before",f)}),this.trigger("query_media_before",0),this.queryMediaBefore}if(t&&r===h)return this.queryMediaAfter?this.queryMediaAfter:this.queryMediaAfter=c.default.queryMedia(t.id.remote,o.default.MEDIA_QUERY_LIMIT,r,t.id).then(function(t){var r=t.messages;(!r||r.length<o.default.MEDIA_QUERY_LIMIT)&&(n.hasMediaAfter=!1);var a=[];r&&r.length>0&&(a=r.filter(function(e){return e.isMedia}),n.downloadMedias(a)),n.add(a);var i={mediaCount:t.mediaCount,linkCount:t.linkCount,docCount:t.docCount};return e&&e.resetMediasCount(i),{length:a.length}}).catch(i.WapDrop,u.ProtoVersionUndefined,function(){}).catch(404,function(){}).finally(function(){n.queryMediaAfter=null,n.trigger("query_media_after")})}},{key:"downloadMedias",value:function(e){e.forEach(function(e){e.downloadMedia(!1,s.default.WEBC_RMR_REASON_CODE.MSG_RENDER)})}}]),t}();m.model=l.default,t.default=m},dibgadcjce:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=A(n("cbfghigjc")),a=A(n("cbfccfjdie")),o=A(n("bgeijhbbad")),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=A(n("ceffhbhahb")),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),c=A(n("cehjjfagii")),f=A(n("bfjbdahdag")),d=A(n("bbchdeehff")),p=A(n("baagejbchg")),h=A(n("biddiiafgd")),m=A(n("bjeccdffag")),b=A(n("dheiadgfhj")),g=A(n("bhcegecbha")),v=A(n("fifhbjiec")),y=A(n("dfeecdfijg")),_=A(n("bffjfbgbg")),E=A(n("eiiicijcj")),j=A(n("cieaeggjg")),O=A(n("bfbggcdbfb")),S=n("behbjhhbg"),w=A(n("ihfccfgdf")),P=n("bheafeifce"),M=A(n("deibgadgic")),C=n("bfjajhbdf"),T=A(C);function A(e){return e&&e.__esModule?e:{default:e}}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var k=(0,o.default)(S.MIMETYPES,function(e){return"document"===e.msgType});function I(e){e&&(e.stopPropagation(),e.preventDefault())}var R=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=N(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.showMediaMissing=function(e){I(e),d.default.openModal(l.createElement(E.default,{msg:r.props.msg}))},r.downloadMedia=function(e){if(I(e),Modernizr.adownload)r.props.msg.downloadMedia(!0,O.default.WEBC_RMR_REASON_CODE.MSG_CLICK).catch(function(){}).then(function(){switch(r.props.mediaData.mediaStage){case _.default.STAGE.RESOLVED:case _.default.STAGE.ERROR_UNSUPPORTED:r.displayToast(),g.default.initDownload((0,P.unproxy)(r.props.msg));break;case _.default.STAGE.ERROR_MISSING:r.showMediaMissing()}});else{var t=l10n.t(1425,{chrome_homepage:p.default.BROWSER_LINK.CHROME,firefox_homepage:p.default.BROWSER_LINK.FIREFOX,opera_homepage:p.default.BROWSER_LINK.OPERA});d.default.openModal(l.createElement(h.default,{onOK:function(){return d.default.closeModal()},okText:l10n.t(1287)},l.createElement("div",{dangerouslySetInnerHTML:{__html:t}})))}},r.cancelDownload=function(e){I(e),r.props.msg.cancelDownload()},r.cancelUpload=function(e){I(e),r.props.msg.cancelUpload()},r.resumeUpload=function(e){I(e),r.props.msg.resumeUpload()},r.resumeRemoteUpload=function(e){I(e),r.props.msg.resumeRemoteUpload()},N(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.PureComponent),u(t,[{key:"displayToast",value:function(){var e=this.props.mediaData.filename||l10n.t(1083);d.default.openToast(l.createElement(T.default,{msg:l10n.t(392,{name:e}),id:(0,C.genId)()}))}},{key:"render",value:function(){var e=this.props,t=e.msg,n=e.mediaData,o=e.displayAuthor,u=e.displayType,d=o&&!t.isSentByMe&&t.isGroupMsg,h=t.showForwarded(),g=d?l.createElement("div",{className:b.default.author},l.createElement(c.default,{msg:t,contact:t.senderObj})):null,E=h?l.createElement(y.default,{msg:t,className:b.default.forwardedIndicator}):null,O=t.hsmEnabled&&t.caption?b.default.templateBubble:b.default.bubble,w=(0,s.default)(O,{[b.default.hasCaption]:t.hsmEnabled&&t.caption,[b.default.bubbleOut]:t.isSentByMe,[b.default.bubbleIn]:!t.isSentByMe,[b.default.hasAuthor]:d,[b.default.forwarded]:h,[b.default.isPreview]:this.props.displayType===p.default.DISP_TYPE.MSG_INFO,[b.default.isGallery]:this.props.displayType===p.default.DISP_TYPE.STARRED_MSGS||this.props.displayType===p.default.DISP_TYPE.GALLERY}),P=void 0;if(n.pageCount>0){var C=l10n.t(1176,{count:n.pageCount,_plural:n.pageCount});P=l.createElement("span",{className:b.default.metaValue,title:C},C)}var T=void 0;if(n.size>0){var A=l10n.filesize(n.size);T=l.createElement("span",{className:b.default.metaValue,title:A},A)}var N=void 0,I=b.default.filetypeIcon,R=void 0,L=void 0;k.hasOwnProperty(n.mimetype)&&(R=k[n.mimetype].ext,L=n.mimetype);var D=void 0;if(n.filename){var x=n.filename.split(".");x.length>1&&(D=(0,a.default)(x[x.length-1]))}(!R||D&&R!==D)&&(R=D,L=(0,r.default)(S.EXT_TO_MIME,R)),I=(0,s.default)(I,L&&(0,r.default)(k,[L,"icon"])||"icon-doc-generic"),R&&(N=l.createElement("span",{"data-meta-key":"type",className:b.default.metaValue,title:R},R));var U=n.preview&&this.props.trusted?l.createElement("div",{className:b.default.thumb,style:{backgroundImage:`url("${n.preview.url()}")`}}):null,G=n.filename||l10n.t(1083),F=null,B={href:"#",onClick:null};switch(n.mediaStage){case _.default.STAGE.RESOLVED:case _.default.STAGE.ERROR_UNSUPPORTED:B.onClick=this.downloadMedia,F=l.createElement(m.default.Download,{onClick:B.onClick});break;case _.default.STAGE.FETCHING:F=l.createElement(m.default.PendingCancel,{outgoingMsg:t.isSentByMe}),B.onClick=this.cancelDownload;break;case _.default.STAGE.NEED_POKE:case _.default.STAGE.INIT:B.onClick=this.downloadMedia,F=l.createElement(m.default.Download,{onClick:B.onClick});break;case _.default.STAGE.UPLOADING:F=l.createElement(m.default.PendingCancel,{outgoingMsg:t.isSentByMe}),B.onClick=this.cancelUpload;break;case _.default.STAGE.NEED_UPLOAD:F=l.createElement(m.default.Upload,null),B.onClick=this.resumeUpload;break;case _.default.STAGE.REMOTE_NEED_UPLOAD:F=l.createElement(m.default.Upload,null),B.onClick=this.resumeRemoteUpload;break;case _.default.STAGE.ERROR_TOO_LARGE:B.onClick=null;break;case _.default.STAGE.ERROR_MISSING:B.onClick=this.showMediaMissing;break;case _.default.STAGE.SENDING:F=t.isFailed?null:l.createElement(m.default.Pending,{outgoingMsg:t.isSentByMe});break;default:F=l.createElement(m.default.Pending,{outgoingMsg:t.isSentByMe})}var $=u===p.default.DISP_TYPE.GALLERY?l.createElement("div",{className:b.default.meta},l.createElement(j.default,{msg:t,theme:"date"})):l.createElement("div",{className:b.default.meta},l.createElement(j.default,{msg:t})),V=this.props.quotedMsg?l.createElement("div",{className:b.default.quote},this.props.quotedMsg):null,H=void 0,W=void 0;t.hsmEnabled&&(H=t.caption?l.createElement("div",{className:b.default.caption},l.createElement(f.default,{msg:t,trusted:this.props.trusted,spacer:!t.footer})):null,W=l.createElement(M.default,{msg:t}));var Y=t.hsmEnabled&&t.caption?null:l.createElement("div",{className:b.default.docMeta},P,N,T);return l.createElement("div",{className:w},g,E,V,l.createElement("a",i({className:b.default.container,title:l10n.t(1190,{name:G})},B),U,l.createElement("div",{className:b.default.body},l.createElement("div",{className:b.default.icon},l.createElement("div",{className:I})),l.createElement("div",{className:b.default.text},l.createElement(v.default,{text:G,dirMismatch:t.rtl!==l10n.isRTL(),direction:"auto"})),F)),Y,H,W,$)}}]),t}();R.CONCERNS={msg:["ack","caption","dir","footer","hsmEnabled","isFailed","isGroupMsg","isSentByMe","rtl","senderObj","subtype","type"],mediaData:["mediaStage","filename","pageCount","size","mimetype","preview"]},R.displayName="Doc",t.default=(0,w.default)(R,R.CONCERNS)},dibjgbdhfg:function(e,t){e.exports={emojiPanel:"_342qq",panelBody:"_3hg8T",panelDropdown:"_1mTBR"}},diccedcfdi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=h(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=h(n("fifhbjiec")),u=n("gaifbabbj"),s=h(n("fffdgbfji")),l=h(n("faeadiehh")),c=h(n("dbbbgjbbgf")),f=h(n("cfiighfhhg")),d=n("cicjibbhdb"),p=h(n("dbabefhajh"));function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){var e=this.props.msg,t=(e.isTrusted()?u.Configuration.TrustedConversation:u.Configuration.UntrustedConversation)({mentions:e.mentionMap(),links:e.getLinks(),selectable:!0}),n=e.comment?o.createElement(c.default,{msg:e},o.createElement(i.default,{text:e.comment,formatters:t,selectable:!0,dirMismatch:e.rtl!==s.default.isRTL(),direction:e.dir})):null,r=void 0;if(this.props.quotedMsg){var h=(0,a.default)(l.default.quote,{[l.default.hasAuthor]:this.props.displayAuthor&&!e.isSentByMe&&e.isGroupMsg,[l.default.forwarded]:e.showForwarded()});r=o.createElement("div",{className:h},this.props.quotedMsg)}return o.createElement(p.default,{msg:e,displayAuthor:this.props.displayAuthor},r,o.createElement("div",{className:n?l.default.hasText:l.default.noText},o.createElement(f.default,{hasCaption:!!n,iconName:(0,d.liveLocationIcon)(!1),msg:this.props.msg,theme:"small-icon"},s.default.t(302))),n)}}]),t}();m.displayName="LiveLocation",t.default=m},dicdgcbidg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new Promise(function(t,n){var r=new o.default;r.onerror=function(e){r.terminate(),n(new i.DecodeWebpResultsError("worker error",e))},r.onmessageerror=function(e){r.terminate(),n(new i.DecodeWebpResultsError("worker message error",e))},r.onmessage=function(e){r.terminate();var n=e.data;t(n)},r.postMessage({webpBuffer:e},[e])})};var r,a=n("cejfhccbi"),o=(r=a)&&r.__esModule?r:{default:r},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cajijabhgb"))},dicfecifhd:function(e,t,n){"use strict";e.exports={STREAM_END:2,LIST_EMPTY:0,DICTIONARY_0:236,DICTIONARY_1:237,DICTIONARY_2:238,DICTIONARY_3:239,JID_AD:247,LIST_8:248,LIST_16:249,JID_PAIR:250,HEX_8:251,BINARY_8:252,BINARY_20:253,BINARY_32:254,NIBBLE_8:255,SINGLE_BYTE_MAX:256,PACKED_MAX:254}},dicggaeied:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n("cfjdfebffb")),a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(e){return(0,s.default)(e,m)};var o=p(n("bbhahjgijh")),i=p(n("bbchdeehff")),u=n("dideejhcch"),s=p(u),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ebggjhghhi")),c=n("dcdiaahjj"),f=p(c),d=p(n("bgabgddgch"));function p(e){return e&&e.__esModule?e:{default:e}}var h=new Set(["ar","bn","cs","de","en","es","fa","fr","gu","he","hi","hu","id","it","mr","ms","nl","pl","pt","pt-BR","ro","ru","sk","th","tr","uk","ur","zh-CN","zh-TW"]),m=null;var b=null,g=[];function v(){var e=(0,r.default)(["en",l10n.getLocale()]).filter(function(e){return h.has(e)});if(!(0,o.default)(g,e)){g=e;var t=Promise.map(e,function(e){return function(e){return Promise.loop(function(t,r,o){var i=Promise.delay(d.default.expBackoff(o,12e4,1e3,.1));return n("fbighchac")(`./${e}`)().then(function(e){var n=a(e,2)[1];return t(n)}).catch(function(){return i})}).catch(function(){return{}})}(e)}).then(function(e){b===t&&(m=(0,u.emojiLocaleDictsToTrie)(e))}).catch(function(){}).finally(function(){b===t&&(b=null)});b=t}}i.default.on("locale_change",function(){v()}),l.waitForBBEvent(f.default,"change:mode",function(){return f.default.mode===c.StreamMode.MAIN}).then(function(){v()})},didbbgcjac:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=n("bfdcadbbif"),u=(r=i)&&r.__esModule?r:{default:r};var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),a(t,[{key:"render",value:function(){var e=this.props.className;return o.createElement(u.default,{className:e,name:"sticker-placeholder"})}}]),t}();s.displayName="StickerPlaceholder",t.default=s},dideejhcch:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=b(n("eicihhaba")),a=b(n("bhdddbafig")),o=b(n("dbafiicfja")),i=b(n("jcfacighg")),u=b(n("bgjcbiaddd")),s=b(n("bhdefefjjb")),l=b(n("gaaifgdgd")),c=b(n("iidhbgeed")),f=b(n("cfjdfebffb")),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e,t){var n=[];if(e){var r=function(e,t){var n=function(e,t){if(!t)return[];if(e.length<=5)return t.getMatches(e);var n=e.substring(0,5).trim(),r=t.getMatches(n);return r=(0,c.default)(r,function(t){return t.keyword.startsWith(e)})}(e,t),r=(0,l.default)((0,c.default)(n,{keyword:e}),"value");n=(0,l.default)(n,"value");var f=(0,s.default)(h.default.map(function(e){return e.id}),n),d=(0,s.default)(g,n),m=(0,s.default)((0,u.default)(f,d),r);return m=(0,i.default)((0,o.default)(m,function(e){return p.default.getEmojiFromUnicode(e)})),r=y(r=(0,i.default)((0,o.default)(r,function(e){return p.default.getEmojiFromUnicode(e)}))),f=(0,i.default)((0,o.default)(f,function(e){return p.default.getEmojiFromUnicode(e)})),d=(0,i.default)((0,o.default)(d,function(e){return p.default.getEmojiFromUnicode(e)})),n=(0,i.default)((0,o.default)(n,function(e){return p.default.getEmojiFromUnicode(e)})),n=y(n=(0,a.default)(n,(0,u.default)(r,f,d))),(0,u.default)(m,r,f,d,n)}(e.toLowerCase(),t);n=(0,f.default)(r)}return n},t.emojiLocaleDictsToTrie=function(e){var t=e[0];e.length>1&&(t=d({},t,e[1]));return function(e,t){var n=m.default.fromForwardsStrings(e.map(function(e){return e[t]}),e);return{getMatches:function(e){return n.search(e)}}}((0,o.default)(t,function(e,t){var n=t.toLowerCase(),r=n.substring(0,5);return{value:e,keyword:n,shortKeyword:r}}),"shortKeyword")};var p=b(n("djegeegcbf")),h=b(n("bjfecgfdgj")),m=b(n("cjdfbfihbe"));function b(e){return e&&e.__esModule?e:{default:e}}var g=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=["SMILEYS_PEOPLE","ANIMALS_NATURE","FOOD_DRINK","ACTIVITY","TRAVEL_PLACES","OBJECTS","SYMBOLS","FLAGS","VARIATION"];function y(e){var t={};return v.forEach(function(e){t[e]=[]}),e.forEach(function(e){var n=p.default.getCategoryString(e);t[n].push(e)}),(0,r.default)(t,function(e,n){e.length>0&&(t[n]=(0,s.default)(p.default.getEmojiListInCategory(n),e))}),(0,l.default)(t)}},dieafdcbjb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("dcaifjegcg"),o=u(a),i=u(n("jccfhaecf"));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.id=(0,a.prop)(),r.status=(0,a.prop)(),r.stale=(0,a.session)(!0),s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"getCollection",value:function(){return n("gbbacfeci").default}}]),t}();l.Proxy="status",l.idClass=i.default,t.default=(0,a.defineModel)(l)},dieejegcge:function(e,t,n){"use strict";var r,a=n("chgaccicf");var o=(0,((r=a)&&r.__esModule?r:{default:r}).default)({CONTACT_US:void 0,DELETE_OR_EXIT_CHAT:void 0,GO_TO_NEXT_CHAT:void 0,GO_TO_PREV_CHAT:void 0,LOGOUT:void 0,OPEN_NEW_CHAT:void 0,OPEN_NEW_GROUP:void 0,OPEN_PROFILE:void 0,OPEN_SETTINGS:void 0,SEARCH:void 0,SEARCH_IN_CHAT:void 0,TOGGLE_ARCHIVE:void 0,TOGGLE_MUTE:void 0,TOGGLE_UNREAD:void 0,ZOOM_IN:void 0,ZOOM_OUT:void 0,ZOOM_RESET:void 0});e.exports=o},diegbjcafg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=m(n("bbchdeehff")),i=m(n("baagejbchg")),u=m(n("biddiiafgd")),s=m(n("bjigbaghc")),l=m(n("dhigahgdjb")),c=n("facgccaif"),f=n("dgjddffcfg"),d=m(n("edbaidcaf")),p=m(n("jccfhaecf")),h=m(n("djbfhebjhe"));function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return n=r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.onVerificationClick=function(){var e=r.props.jid;e&&(o.default.closeModal(),o.default.verificationDrawer(e))},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=void 0,t=void 0,n=null,r=null,m=function(){return o.default.closeModal()},b=l10n.t(1287),g=this.props,v=g.e2eSubtype,y=g.chatId;switch(v){case"info_encrypted":p.default.isGroup(y)?e=l10n.t(1219):p.default.isBroadcast(y)&&(e=l10n.t(1145)),t=(0,c.getE2EFaqUrl)();break;case"identity":var _=this.props.jid,E=_&&l.default.get(_);if(E&&E.isMe)e=l10n.t(1349);else{var j=E?E.formattedName:(0,h.default)(this.props.jid);e=l10n.t(1348,{name:j})}n=m,r=b,m=this.onVerificationClick,b=l10n.t(1396),t=(0,c.getCodeChangeFaqUrl)();break;case"encrypt":default:if(t=d.default.build(i.default.SECURITY_LINK,{lg:s.default.lg,lc:s.default.lc}),p.default.isGroup(y))e=l10n.t(1214);else if(p.default.isBroadcast(y))e=l10n.t(1143);else if(p.default.isOfficialBizAccount(y))e=l10n.t(1285),t=(0,c.getE2EEnterpriseFaqUrl)();else{var O=l.default.get(y);if(O&&O.isEnterprise){var S=(0,f.formatEnterpriseE2EName)(O);e=l10n.t(1258,{businessName:S}),t=(0,c.getE2EEnterpriseFaqUrl)()}else e=l10n.t(1257)}}var w=a.createElement("a",{target:"_blank",href:t},l10n.t(622));return a.createElement(u.default,{onOK:m,okText:b,onCancel:n,cancelText:r},e,"",w)}}]),t}();g.displayName="E2EInfoModal",t.default=g},difacfecfb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.shift().blocklist.map(function(e){return{id:e}});r.default.supportsFeature(r.default.F.MODEL_STORAGE)?a.Blocklist.clear().then(function(){return Promise.map(t,function(e){var t=e.id;return a.Blocklist.create({id:t.toString()})})}).then(function(){return o.default.Blocklist.set(t)}):o.default.Blocklist.set(t)};var r=i(n("bjbdcigbdi")),a=n("cefcddgdgg"),o=i(n("bhggeigghg"));function i(e){return e&&e.__esModule?e:{default:e}}},digcccheca:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.internalHandlers=new Map}return r(e,[{key:"initialize",value:function(e){this.ctx=e}},{key:"registerHandler",value:function(e,t,n){var r=this.internalHandlers.get(t)||new Map;r.set(e,n),this.internalHandlers.set(t,r)}},{key:"unregisterHandler",value:function(e,t){var n=this.internalHandlers.get(t);n&&(n.delete(e),n.size||this.internalHandlers.delete(t))}},{key:"handle",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=this.internalHandlers.get(e);return!!a&&(t=a,n=[],t.forEach(function(e){return n.push(e)}),n).some(function(e){return e.apply(null,r)})}}]),e}();e.exports=a},digfibghde:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeMessagesFromHistory=function(e){if(!o.default.supportsFeature(o.default.F.MODEL_STORAGE))return Promise.resolve();var t=e.map(function(e){return e.toString()});return Promise.resolve().then(function(){}).finally(function(){i.get().removeMessagesFromHistory(t)})};var r,a=n("bjbdcigbdi"),o=(r=a)&&r.__esModule?r:{default:r},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("bhehfiebbd"));n("becbhcadc")},digjajabhb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var r=l(n("ceffhbhahb")),a=l(n("dgdjiicfdg")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=n("bbcaggdbc"),u=l(n("fffdgbfji")),s=l(n("deceibabdd"));function l(e){return e&&e.__esModule?e:{default:e}}var c=6e4,f={FAILED:"failed",PROCESSING:"processing",WAITING:"waiting",SUCCESS:"success"};function d(e){var t=e.paymentStatus,n=e.expiryTimestamp;if(null==!t||t===d.UNKNOWN_STATUS)return null;var a=void 0,l=void 0;switch(t){case i.PaymentInfo.STATUS.PROCESSING:a=u.default.t(1320),l=f.PROCESSING;break;case i.PaymentInfo.STATUS.COMPLETE:a=u.default.t(1313),l=f.SUCCESS;break;case i.PaymentInfo.STATUS.SENT:a=u.default.t(1316),l=f.WAITING;break;case i.PaymentInfo.STATUS.NEED_TO_ACCEPT:a=p(n),l=f.WAITING;break;case i.PaymentInfo.STATUS.COULD_NOT_COMPLETE:case i.PaymentInfo.STATUS.REFUNDED:a=u.default.t(1314),l=f.FAILED;break;case i.PaymentInfo.STATUS.EXPIRED:a=u.default.t(1315),l=f.FAILED;break;case i.PaymentInfo.STATUS.REJECTED:a=u.default.t(1323),l=f.FAILED;break;case i.PaymentInfo.STATUS.CANCELLED:a=u.default.t(1312),l=f.FAILED;break;case i.PaymentInfo.STATUS.WAITING_FOR_PAYER:a=u.default.t(1327),l=f.WAITING;break;case i.PaymentInfo.STATUS.WAITING:a=p(n),l=f.WAITING;break;default:a="",l=f.PROCESSING}return o.createElement("span",{className:(0,r.default)(s.default.status,s.default[l])},a)}function p(e){if(null==e)return u.default.t(1316);var t=1e3*e;if(t-Date.now()>c){var n=(0,a.default)().to((0,a.default)(t));return u.default.t(1318,{timeSpan:n})}return t-Date.now()>0?u.default.t(1319):u.default.t(1317)}d.displayName="PaymentStatus"},dihehaccca:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=c(n("cffibfiejh")),u=c(n("cajbifjffe")),s=c(n("dfbbbjdejj")),l=c(n("bfdcadbbif"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d={SMALL:"SMALL",MEDIUM:"MEDIUM",LARGE:"LARGE",AUTO:"AUTO",NONE:"NONE"};function p(e){switch(e){case d.SMALL:return 49;case d.MEDIUM:return 100;case d.LARGE:return 200;case d.NONE:return;default:return e}}var h=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={isLoaded:!1},r.onLoad=function(){r.setState({isLoaded:!0})},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.size,n=e.src,r=e.fallback,c=e.className,f=e.loader,d=this.state.isLoaded,h=(0,a.default)(s.default.avatarImage,{[s.default.isLoaded]:d}),m={height:p(t),width:p(t)},b=void 0;return f&&!d&&(b=o.createElement(i.default,null)),o.createElement("div",{className:(0,a.default)(s.default.avatar,c),style:m},b,o.createElement(u.default,{src:n,className:h,onLoad:this.onLoad}),o.createElement("div",{className:s.default.avatarDefault},o.createElement(l.default,{name:r})))}}]),t}();h.defaultProps={size:d.SMALL,loader:!1},h.displayName="ImgWithFallback",t.default=h},diifgdjbh:function(e,t){e.exports={1:'[[10],[["(...)(....)","$1-$2",[]],["(...)(...)(....)","($1) $2-$3",[]]]]',7:'[[10],[["(...)(..)(..)","$1-$2-$3",["[1-79]"]],["([3489]..)(...)(..)(..)","$1 $2-$3-$4",["[34689]"]],["(7..)(...)(....)","$1 $2 $3",["7"]]]]',20:'[[9,10],[["(.)(........?)","$1 $2",["[23]"]],["(...)(...)(....)","$1 $2 $3",["1[0125]|[89]00"]],["(..)(.......?)","$1 $2",["1[35]|[4-6]|[89][2-9]"]]]]',27:'[[9],[["(860)(...)(...)","$1 $2 $3",["860"]],["(..)(....?)","$1 $2",["8[1-4]"]],["(..)(...)(...?)","$1 $2 $3",["8[1-4]"]],["(..)(...)(....)","$1 $2 $3",["[1-79]|8(?:[0-57]|6[1-9])"]]]]',30:'[[10],[["([27].)(....)(....)","$1 $2 $3",["21|7"]],["(...)(...)(....)","$1 $2 $3",["2[2-9]1|[689]"]],["(2...)(......)","$1 $2",["2[2-9][02-9]"]]]]',31:'[[9,11],[["([1-578].)(...)(....)","$1 $2 $3",["1[035]|2[0346]|3[03568]|4[0356]|5[0358]|7|8[4578]"]],["([1-5]..)(...)(...)","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"]],["(6)(........)","$1 $2",["6[0-57-9]"]],["(66)(.......)","$1 $2",["66"]],["(14)(....?)","$1 $2",["14"]],["([89]0.)(.....?.?.?)","$1 $2",["80|9"]]]]',32:'[[9],[["(...)(..)(..)(..)","$1 $2 $3 $4",["4[6-9]"]],["(.)(...)(..)(..)","$1 $2 $3 $4",["[23]|4[23]|9[2-4]"]],["(..)(..)(..)(..)","$1 $2 $3 $4",["[156]|7[018]|8(?:0[1-9]|[1-79])"]],["(...)(..)(...)","$1 $2 $3",["(?:80|9)0"]]]]',33:'[[9],[["([1-79])(..)(..)(..)(..)","$1 $2 $3 $4 $5",["[1-79]"]],["(1..)(...)","$1 $2",["11"]],["(8..)(..)(..)(..)","$1 $2 $3 $4",["8"]]]]',34:'[[9],[["([89]00)(...)(...)","$1 $2 $3",["[89]00"]],["([5-9]..)(..)(..)(..)","$1 $2 $3 $4",["[568]|[79][0-8]"]]]]',36:'[[9],[["(1)(...)(....)","$1 $2 $3",["1"]],["(..)(...)(....?)","$1 $2 $3",["[2-9]"]]]]',39:'[[9,10],[["(..)(....?)(....)","$1 $2 $3",["0[26]|55"]],["(0[26])(....)(.....)","$1 $2 $3",["0[26]"]],["(0[26])(.....?.?)","$1 $2",["0[26]"]],["(0..)(....?)(....)","$1 $2 $3",["0[13-57-9][0159]"]],["(...)(....?.?.?)","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[245])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|[45][0-4]))"]],["(0...)(...)(....)","$1 $2 $3",["0[13-57-9][2-46-8]"]],["(0...)(...?.?.?.?)","$1 $2",["0[13-57-9][2-46-8]"]],["(...)(...)(....?)","$1 $2 $3",["[13]|8(?:00|4[08]|9[59])","[13]|8(?:00|4[08]|9(?:5[5-9]|9))"]],["(....)(....)","$1 $2",["894","894[5-9]"]],["(...)(....)(....)","$1 $2 $3",["3"]]]]',40:'[[9],[["(..)(...)(....)","$1 $2 $3",["[23]1"]],["(..)(....)","$1 $2",["[23]1"]],["(...)(...)(...)","$1 $2 $3",["[23][3-7]|[7-9]"]],["(2..)(...)","$1 $2",["2[3-6]"]]]]',41:'[[9],[["([2-9].)(...)(..)(..)","$1 $2 $3 $4",["[2-7]|[89]1"]],["([89]..)(...)(...)","$1 $2 $3",["8[047]|90"]],["(...)(..)(...)(..)(..)","$1 $2 $3 $4 $5",["860"]]]]',43:'[[10,11,12,13],[["(116...)","$1",["116"]],["(1)(....?.?.?.?.?.?.?.?.?)","$1 $2",["1"]],["(5.)(....?.?)","$1 $2",["5[079]"]],["(5.)(...)(....?)","$1 $2 $3",["5[079]"]],["(5.)(....)(.....?.?.?)","$1 $2 $3",["5[079]"]],["(...)(....?.?.?.?.?.?.?)","$1 $2",["316|46|51|732|6(?:5[0-3579]|[6-9])|7(?:[28]0)|[89]"]],["(....)(....?.?.?.?.?.?)","$1 $2",["2|3(?:1[1-578]|[3-8])|4[2378]|5[2-6]|6(?:[12]|4[1-9]|5[468])|7(?:2[1-8]|35|4[1-8]|[5-79])"]]]]',44:'[[10],[["(7...)(......)","$1 $2",["7(?:[1-57-9]|62)","7(?:[1-57-9]|624)"]],["(..)(....)(....)","$1 $2 $3",["2|5[56]|7[06]"]],["(...)(...)(....)","$1 $2 $3",["1(?:[02-9]1|1)|3|9[018]"]],["(.....)(.....?)","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"]],["(1...)(......?)","$1 $2",["1"]],["(800)(....)","$1 $2",["800","8001","80011","800111","8001111"]],["(845)(46)(4.)","$1 $2 $3",["845","8454","84546","845464"]],["(8..)(...)(....)","$1 $2 $3",["8(?:4[2-5]|7[0-3])"]],["(80.)(...)(....)","$1 $2 $3",["80"]],["(800)(......)","$1 $2",["800"]]]]',45:'[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",[]]]]',46:'[[9],[["(8)(...?)(...?)(..)","$1 $2 $3 $4",["8"]],["([1-69].)(...?)(..)(..)","$1 $2 $3 $4",["1[013689]|2[0136]|3[1356]|4[0246]|54|6[03]|90"]],["([1-469].)(...)(..)","$1 $2 $3",["1[136]|2[136]|3[356]|4[0246]|6[03]|90"]],["(...)(..)(..)(..)","$1 $2 $3 $4",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[0-5]|4[0-3])"]],["(...)(...?)(..)","$1 $2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[0-5]|4[0-3])"]],["(7.)(...)(..)(..)","$1 $2 $3 $4",["7"]],["(77)(..)(..)","$1 $2 $3",["7"]],["(20)(...?)(..)","$1 $2 $3",["20"]],["(9[034].)(..)(..)(...)","$1 $2 $3 $4",["9[034]"]],["(9[034].)(....)","$1 $2",["9[034]"]],["(...)(..)(...)(..)(..)","$1 $2 $3 $4 $5",["25[245]|67[3-6]"]]]]',47:'[[8],[["([489]..)(..)(...)","$1 $2 $3",["[489]"]],["([235-7].)(..)(..)(..)","$1 $2 $3 $4",["[235-7]"]]]]',48:'[[9],[["(..)(...)(..)(..)","$1 $2 $3 $4",["[14]|2[0-57-9]|3[2-4]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145]"]],["(..)(.)(....)","$1 $2 $3",["[12]2"]],["(...)(...)(...)","$1 $2 $3",["26|39|5[0137]|6[0469]|7[02389]|8[08]"]],["(...)(..)(...?)","$1 $2 $3",["64"]],["(...)(...)","$1 $2",["64"]]]]',49:'[[7,8,9,10,11,12],[["(1..)(........?)","$1 $2",["1[67]"]],["(15...)(......)","$1 $2",["15[0568]"]],["(1...)(.......)","$1 $2",["15"]],["(..)(....?.?.?.?.?.?.?.?)","$1 $2",["3[02]|40|[68]9"]],["(...)(....?.?.?.?.?.?.?.?)","$1 $2",["2(?:.1|0[2389]|1[24]|28|34)|3(?:[3-9][15]|40)|[4-8][1-9]1|9(?:06|[1-9]1)"]],["(....)(...?.?.?.?.?.?.?.?.?)","$1 $2",["[24-6]|[7-9](?:.[1-9]|[1-9].)|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])","[24-6]|[7-9](?:.[1-9]|[1-9].)|3(?:3(?:0[1-467]|2[127-9]|3[124578]|[46][1246]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|3[1357]|4[13578]|6[1246]|7[1356]|9[1346])|5(?:0[14]|2[1-3589]|3[1357]|4[1246]|6[1-4]|7[1346]|8[13568]|9[1246])|6(?:0[356]|2[1-489]|3[124-6]|4[1347]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|3[1357]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|4[1347]|6[0135-9]|7[1467]|8[136])|9(?:0[12479]|2[1358]|3[1357]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))"]],["(3....)(..?.?.?.?.?.?.?.?.?)","$1 $2",["3"]],["(800)(........?.?.?.?.?)","$1 $2",["800"]],["(...)(.)(.....?.?.?.?.?.?)","$1 $2 $3",["(?:18|90)0|137","1(?:37|80)|900[1359]"]],["(1..)(......?.?.?.?.?.?)","$1 $2",["181"]],["(18...)(......)","$1 $2",["185","1850","18500"]],["(18..)(.......)","$1 $2",["18[68]"]],["(18.)(........)","$1 $2",["18[2-579]"]],["(700)(....)(....)","$1 $2 $3",["700"]],["(138)(....)","$1 $2",["138"]],["(15[013-68])(..)(........)","$1 $2 $3",["15[013-68]"]],["(15[279].)(..)(.......)","$1 $2 $3",["15[279]"]],["(1[67].)(..)(........?)","$1 $2 $3",["1(?:6[023]|7)"]]]]',51:'[[9],[["(1)(.......)","$1 $2",["1"]],["([4-8].)(......)","$1 $2",["[4-7]|8[2-4]"]],["(...)(.....)","$1 $2",["80"]],["(9..)(...)(...)","$1 $2 $3",["9"]]]]',52:'[[10,11],[["([358].)(....)(....)","$1 $2 $3",["33|55|81"]],["(...)(...)(....)","$1 $2 $3",["[2467]|3[0-2457-9]|5[089]|8[02-9]|9[0-35-9]"]],["(1)([358].)(....)(....)","$1 $2 $3 $4",["1(?:33|55|81)"]],["(1)(...)(...)(....)","$1 $2 $3 $4",["1(?:[2467]|3[0-2457-9]|5[089]|8[2-9]|9[1-35-9])"]]]]',53:'[[8],[["(.)(.......?)","$1 $2",["7"]],["(..)(.....?.?)","$1 $2",["[2-4]"]],["(.)(.......)","$1 $2",["5"]]]]',54:'[[10,11],[["([68]..)(...)(....)","$1-$2-$3",["[68]"]],["(..)(....)","$1-$2",["[2-9]"]],["(...)(....)","$1-$2",["[2-9]"]],["(....)(....)","$1-$2",["[2-9]"]],["(9)(11)(....)(....)","$1 $2 $3-$4",["911"]],["(9)(...)(...)(....)","$1 $2 $3-$4",["9(?:2[234689]|3[3-8])","9(?:2(?:2[013]|3[067]|49|6[01346]|80|9[147-9])|3(?:36|4[1-358]|5[138]|6[24]|7[069]|8[013578]))","9(?:2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3[456]|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45])))","9(?:2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3(?:4|5[014]|6[1239])|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45])))"]],["(9)(....)(..)(....)","$1 $2 $3-$4",["9[23]"]],["(11)(....)(....)","$1 $2-$3",["1"]],["(...)(...)(....)","$1 $2-$3",["2(?:2[013]|3[067]|49|6[01346]|80|9[147-9])|3(?:36|4[1-358]|5[138]|6[24]|7[069]|8[013578])","2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3[456]|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45]))","2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3(?:4|5[014]|6[1239])|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45]))"]],["(....)(..)(....)","$1 $2-$3",["[23]"]],["(...)","$1",["1[012]|911"]]]]',55:'[[10,11],[["(....)(....)","$1-$2",["[2-9](?:[1-9]|0[1-9])"]],["(.....)(....)","$1-$2",["9(?:[1-9]|0[1-9])"]],["(....?.?)","$1",["1[125689]"]],["(..)(....)(....)","$1 $2-$3",["[1-9][1-9]"]],["(..)(.....)(....)","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[1-5]|7[13-579])9"]],["(....)(....)","$1-$2",["(?:300|40(?:0|20))"]],["([3589]00)(...?)(....)","$1 $2 $3",["[3589]00"]]]]',56:'[[9],[["(.)(....)(....)","$1 $2 $3",["2[23]"]],["(..)(...)(....)","$1 $2 $3",["[357]|4[1-35]|6[13-57]"]],["(9)(....)(....)","$1 $2 $3",["9"]],["(44)(...)(....)","$1 $2 $3",["44"]],["([68]00)(...)(....?)","$1 $2 $3",["60|8"]],["(600)(...)(..)(...)","$1 $2 $3 $4",["60"]],["(1230)(...)(....)","$1 $2 $3",["1"]],["(.....)(....)","$1 $2",["219"]],["(.....?)","$1",["[1-9]"]]]]',57:'[[8,10],[["(.)(.......)","$1 $2",["1(?:8[2-9]|9[0-3]|[2-7])|[24-8]","1(?:8[2-9]|9(?:09|[1-3])|[2-7])|[24-8]"]],["(...)(.......)","$1 $2",["3"]],["(1)(...)(.......)","$1 $2 $3",["1(?:80|9[04])","1(?:800|9(?:0[01]|4[78]))"]]]]',58:'[[10],[["(...)(.......)","$1-$2",[]]]]',60:'[[9,10],[["([4-79])(...)(....)","$1-$2 $3",["[4-79]"]],["(3)(....)(....)","$1-$2 $3",["3"]],["([18].)(...)(....?)","$1-$2 $3",["1[02-46-9][1-9]|8"]],["(1)([36-8]00)(..)(....)","$1-$2-$3-$4",["1[36-8]0"]],["(11)(....)(....)","$1-$2 $3",["11"]],["(15[49])(...)(....)","$1-$2 $3",["15"]]]]',61:'[[9],[["([2378])(....)(....)","$1 $2 $3",["[2378]"]],["(...)(...)(...)","$1 $2 $3",["[45]|14"]],["(16)(....?)","$1 $2",["16"]],["(16)(...)(...?.?)","$1 $2 $3",["16"]],["(1[389]..)(...)(...)","$1 $2 $3",["1(?:[38]0|90)","1(?:[38]00|90)"]],["(180)(2...)","$1 $2",["180","1802"]],["(19.)(...)","$1 $2",["19[13]"]],["(19..)(....)","$1 $2",["19[679]"]],["(13)(..)(..)","$1 $2 $3",["13[1-9]"]]]]',62:'[[9,10,11,12],[["(..)(......?.?.?)","$1 $2",["2[124]|[36]1"]],["(...)(......?.?.?)","$1 $2",["[4579]|2[035-9]|[36][02-9]"]],["(8..)(....?)(...)","$1-$2-$3",["8[1-35-9]"]],["(8..)(....)(.....?)","$1-$2-$3",["8[1-35-9]"]],["(1)(500)(...)","$1 $2 $3",["15"]],["(177)(.......?.?)","$1 $2",["17"]],["(800)(......?.?)","$1 $2",["800"]],["(804)(...)(....)","$1 $2 $3",["804"]],["(80.)(.)(...)(...)","$1 $2 $3 $4",["80[79]"]]]]',63:'[[10],[["(2)(...)(....)","$1 $2 $3",["2"]],["(2)(.....)","$1 $2",["2"]],["(....)(.....?.?)","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|5(?:22|44)|642|8(?:62|8[245])","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"]],["(.....)(....)","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"]],["([3-8].)(...)(....)","$1 $2 $3",["[3-8]"]],["(...)(...)(....)","$1 $2 $3",["81|9"]],["(1800)(...)(....)","$1 $2 $3",["1"]],["(1800)(..?)(...)(....)","$1 $2 $3 $4",["1"]]]]',64:'[[8,9,10],[["([34679])(...)(....)","$1-$2 $3",["[346]|7[2-57-9]|9[1-9]"]],["(24099)(...)","$1 $2",["240","2409","24099"]],["(..)(...)(...)","$1 $2 $3",["21"]],["(..)(...)(....?.?)","$1 $2 $3",["2(?:1[1-9]|[69]|7[0-35-9])|70|86"]],["(2.)(....?)(....)","$1 $2 $3",["2[028]"]],["(...)(...)(....?)","$1 $2 $3",["2(?:10|74)|5|[89]0"]]]]',65:'[[8],[["([3689]...)(....)","$1 $2",["[369]|8[1-9]"]],["(1[89]00)(...)(....)","$1 $2 $3",["1[89]"]],["(7000)(....)(...)","$1 $2 $3",["70"]],["(800)(...)(....)","$1 $2 $3",["80"]]]]',66:'[[9],[["(2)(...)(....)","$1 $2 $3",["2"]],["([13-9].)(...)(....?)","$1 $2 $3",["14|[3-9]"]],["(1[89]00)(...)(...)","$1 $2 $3",["1"]]]]',81:'[[10],[["(...)(...)(...)","$1-$2-$3",["(?:12|57|99)0"]],["(...)(...)(....)","$1-$2-$3",["800"]],["(....)(....)","$1-$2",["0077"]],["(....)(..)(....?)","$1-$2-$3",["0077"]],["(....)(..)(....)","$1-$2-$3",["0088"]],["(....)(...)(....?)","$1-$2-$3",["00(?:37|66)"]],["(....)(....)(.....?)","$1-$2-$3",["00(?:37|66)"]],["(....)(.....)(......?)","$1-$2-$3",["00(?:37|66)"]],["(....)(......)(.......?)","$1-$2-$3",["00(?:37|66)"]],["(..)(....)(....)","$1-$2-$3",["[2579]0|80[1-9]"]],["(....)(.)(....)","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|5(?:76|97)|499|746|8(?:3[89]|63|47|51)|9(?:49|80|9[16])","1(?:267|3(?:7[247]|9[278])|4(?:5[67]|66)|5(?:47|58|64|8[67])|6(?:3[245]|48|5[4-68]))|5(?:76|97)9|499[2468]|7468|8(?:3(?:8[78]|96)|636|477|51[24])|9(?:496|802|9(?:1[23]|69))","1(?:267|3(?:7[247]|9[278])|4(?:5[67]|66)|5(?:47|58|64|8[67])|6(?:3[245]|48|5[4-68]))|5(?:769|979[2-69])|499[2468]|7468|8(?:3(?:8[78]|96[2457-9])|636[2-57-9]|477|51[24])|9(?:496|802|9(?:1[23]|69))"]],["(...)(..)(....)","$1-$2-$3",["1(?:2[3-6]|3[3-9]|4[2-6]|5[2-8]|[68][2-7]|7[2-689]|9[1-578])|2(?:2[03-689]|3[3-58]|4[0-468]|5[04-8]|6[013-8]|7[06-9]|8[02-57-9]|9[13])|4(?:2[28]|3[689]|6[035-7]|7[05689]|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9[4-9])|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9[014-9])|8(?:2[49]|3[3-8]|4[5-8]|5[2-9]|6[35-9]|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9[3-7])","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:5[78]|7[2-4]|[0468][2-9])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[89][2-8]|[4-7]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9[2-8])|3(?:7[2-6]|[3-6][2-9]|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5[4-7]|6[2-9]|8[2-8]|9[236-9])|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3[34]|[4-7]))","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:5[78]|7[2-4]|[0468][2-9])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[89][2-8]|[4-7]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9(?:[3578]|20|4[04-9]|6[56]))|3(?:7(?:[2-5]|6[0-59])|[3-6][2-9]|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5(?:[467]|5[014-9])|6(?:[2-8]|9[02-69])|8[2-8]|9(?:[236-8]|9[23]))|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3(?:3[02-9]|4[0-24689])|4[2-69]|[5-7]))","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:5[78]|7[2-4]|[0468][2-9])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[89][2-8]|[4-7]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9(?:[3578]|20|4[04-9]|6(?:5[25]|60)))|3(?:7(?:[2-5]|6[0-59])|[3-6][2-9]|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5(?:[467]|5[014-9])|6(?:[2-8]|9[02-69])|8[2-8]|9(?:[236-8]|9[23]))|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3(?:3[02-9]|4[0-24689])|4[2-69]|[5-7]))"]],["(..)(...)(....)","$1-$2-$3",["1|2(?:2[37]|5[5-9]|64|78|8[39]|91)|4(?:2[2689]|64|7[347])|5(?:[2-589]|39)|60|8(?:[46-9]|3[279]|2[124589])|9(?:[235-8]|93)","1|2(?:2[37]|5(?:[57]|[68]0|9[19])|64|78|8[39]|917)|4(?:2(?:[68]|20|9[178])|64|7[347])|5(?:[2-589]|39[67])|60|8(?:[46-9]|3[279]|2[124589])|9(?:[235-8]|93[34])","1|2(?:2[37]|5(?:[57]|[68]0|9(?:17|99))|64|78|8[39]|917)|4(?:2(?:[68]|20|9[178])|64|7[347])|5(?:[2-589]|39[67])|60|8(?:[46-9]|3[279]|2[124589])|9(?:[235-8]|93(?:31|4))"]],["(...)(..)(....)","$1-$2-$3",["2(?:9[14-79]|74|[34]7|[56]9)|82|993"]],["(.)(....)(....)","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]"]],["(..)(...)(....)","$1-$2-$3",["[2479][1-9]"]]]]',82:'[[9,10],[["(.....)(....?)(....)","$1 $2 $3",["00798"]],["(.....)(..)(...)(....)","$1 $2 $3 $4",["00798"]],["(..)(....)(....)","$1-$2-$3",["1(?:0|1[19]|[69]9|5[458])|[57]0","1(?:0|1[19]|[69]9|5(?:44|59|8))|[57]0"]],["(..)(....?)(....)","$1-$2-$3",["1(?:[01]|5[1-4]|6[2-8]|[7-9])|[68]0|[3-6][1-9][1-9]","1(?:[01]|5(?:[1-3]|4[56])|6[2-8]|[7-9])|[68]0|[3-6][1-9][1-9]"]],["(...)(.)(....)","$1-$2-$3",["131","1312"]],["(...)(..)(....)","$1-$2-$3",["131","131[13-9]"]],["(...)(...)(....)","$1-$2-$3",["13[2-9]"]],["(..)(..)(...)(....)","$1-$2-$3-$4",["30"]],["(.)(....?)(....)","$1-$2-$3",["2[1-9]"]],["(.)(....?)","$1-$2",["21[0-46-9]"]],["(..)(....?)","$1-$2",["[3-6][1-9]1","[3-6][1-9]1(?:[0-46-9])"]],["(....)(....)","$1-$2",["1(?:5[246-9]|6[04678]|8[03579])","1(?:5(?:22|44|66|77|88|99)|6(?:00|44|6[16]|70|88)|8(?:00|33|55|77|99))"]]]]',84:'[[9,10],[["([17]99)(....)","$1 $2",["[17]99"]],["(..)(....)(....)","$1 $2 $3",["2[48]"]],["(80)(.....)","$1 $2",["80"]],["(69.)(.....?)","$1 $2",["69"]],["(...)(....)(...)","$1 $2 $3",["2[0-35-79]"]],["([89].)(...)(..)(..)","$1 $2 $3 $4",["8(?:8|9[89])|9"]],["(1[2689].)(...)(....)","$1 $2 $3",["1(?:[26]|8[68]|99)"]],["([3578].)(...)(....)","$1 $2 $3",["[357]|8[1-5]"]],["(86[89])(...)(...)","$1 $2 $3",["86[89]"]],["(1[89]00)(.....?.?)","$1 $2",["1[89]0","1[89]00"]]]]',86:'[[11],[["(80..)(....)","$1 $2",["80[2678]"]],["([48]00)(...)(....)","$1 $2 $3",["[48]00"]],["(......?)","$1",["100|95"]],["(..)(......?)","$1 $2",["(?:10|2.)[19]","(?:10|2.)(?:10|9[56])","(?:10|2.)(?:100|9[56])"]],["(...)(......?)","$1 $2",["[3-9]","[3-9]..[19]","[3-9]..(?:10|9[56])"]],["(....?)(....)","$1 $2",["[2-9]"]],["(21)(....)(.....?.?)","$1 $2 $3",["21"]],["([12].)(....)(....)","$1 $2 $3",["10[1-9]|2[02-9]","10[1-9]|2[02-9]","10(?:[1-79]|8(?:[1-9]|0[1-9]))|2[02-9]"]],["(...)(...)(....)","$1 $2 $3",["3(?:1[02-9]|35|49|5|7[02-68]|9[1-68])|4(?:1[02-9]|2[179]|[35][2-9]|6[4789]|7.|8[23])|5(?:3[03-9]|4[36]|5[02-9]|6[1-46]|7[028]|80|9[2-46-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[04-9]|4[3-6]|6[2368])|8(?:1[236-8]|2[5-7]|3|5[1-9]|7[02-9]|8[3678]|9[1-7])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])"]],["(...)(....)(....)","$1 $2 $3",["3(?:11|7[179])|4(?:[15]1|3[1-35])|5(?:1|2[37]|3[12]|51|7[13-79]|9[15])|7(?:31|5[457]|6[09]|91)|8(?:[57]1|98)"]],["(....)(...)(....)","$1 $2 $3",["807","8078"]],["(...)(....)(....)","$1 $2 $3",["1[3-578]"]],["(10800)(...)(....)","$1 $2 $3",["108","1080","10800"]],["(...)(........?)","$1 $2",["950"]]]]',90:'[[10],[["(...)(...)(..)(..)","$1 $2 $3 $4",["[23]|4(?:[0-35-9]|4[0-35-9])"]],["(...)(...)(..)(..)","$1 $2 $3 $4",["5[02-69]"]],["(...)(...)(....)","$1 $2 $3",["51|[89]"]],["(444)(.)(...)","$1 $2 $3",["444"]]]]',91:'[[10],[["(.....)(.....)","$1 $2",["600|7(?:[02-8]|19|9[037-9])|8(?:0[015-9]|[1-9]|20)|9","600|7(?:[078]|19[0-5]|2(?:[02356-9]|[14][017-9]|9[389])|3(?:[025-9]|1[07-9]|[34][017-9])|4(?:[0-35689]|[47][017-9])|5(?:[02346-9]|1[017-9]|5[017-9])|6(?:[02-9]|1[0-257-9])|9(?:[089]|31|7[02-9]))|8(?:0(?:[01589]|6[67]|7[02-9])|1(?:[0-57-9]|6[07-9])|2(?:0[078]|[14][07-9]|[235-9])|3(?:[0357-9]|[126][07-9]|4[1-9])|[45]|6(?:[02457-9]|[136][07-9])|7(?:[078][07-9]|[1-69])|8(?:[0-25-9]|3[07-9]|4[047-9])|9(?:[02-9]|1[027-9]))|9","600|7(?:0|19[0-5]|2(?:[0235679]|[14][017-9]|8(?:[0-569]|[78][089])|9[389])|3(?:[05-8]|1(?:[089]|7[5-9])|2(?:[5-8]|[0-49][089])|3[017-9]|4(?:[07-9]|11)|9(?:[01689]|[2345][089]|40|7[0189]))|4(?:[056]|1(?:[0135-9]|[23][089]|2[089]|4[089])|2(?:0[089]|[1-7][089]|[89])|3(?:[0-8][089]|9)|4(?:[089]|11|7[02-8])|7(?:[089]|11|7[02-8])|8(?:[0-24-7][089]|[389])|9(?:[0-7][089]|[89]))|5(?:[0346-9]|1[017-9]|2(?:[03-9]|[12][089])|5[017-9])|6(?:[0346-9]|1[0-257-9]|2(?:[0-4].|[5-9][089])|5(?:[0-367][089]|[4589]))|7(?:0(?:[02-9]|1[089])|[1-9])|8(?:[0-79]|8(?:0[0189]|11|8[013-9]|9))|9(?:[089]|313|7(?:[02-8]|9[07-9])))|8(?:0(?:[01589]|6[67]|7(?:[02-8]|9[05-9]))|1(?:[02-57-9]|1(?:[0-35-9]|4[0-46-9])|6(?:[089]|7[02-8]))|2(?:0(?:[08]|7[02])|[14](?:[089]|7[02-8])|[235-9])|3(?:[0357-9]|1(?:[089]|7[02-6])|2(?:[09]|77|8[0-689])|4[1-9]|6(?:[089]|7[02-7]))|[45]|6(?:[02457-9]|1(?:[089]|7[02-8])|3(?:[089]|7[02358])|6(?:[08]|7[02-8]|9[01]))|7(?:0[07-9]|[1-69]|7(?:[089]|7[02-8])|8(?:[089]|7[02-8]))|8(?:[0-25-9]|3(?:[089]|7[02-8])|4(?:[0489]|7[02-68]))|9(?:[02-9]|1(?:[0289]|7[2-6])))|9"]],["(..)(....)(....)","$1 $2 $3",["11|2[02]|33|4[04]|79[1-9]|80[2-46]"]],["(...)(...)(....)","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[569][14]|7[1257]|8[1346]|[68][1-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|[36][25]|22|4[28]|5[12]|[78]1|9[15])|6(?:12|[2345]1|57|6[13]|7[14]|80)|7(?:12|2[14]|3[134]|4[47]|5[15]|[67]1|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)"]],["(....)(...)(...)","$1 $2 $3",["1(?:[23579]|[468][1-9])|[2-8]"]],["(..)(...)(....)(...)","$1 $2 $3 $4",["008"]],["(...)(...)(....)","$1 $2 $3",["140"]],["(....)(..)(....)","$1 $2 $3",["160","1600"]],["(....)(.....?)","$1 $2",["180","1800"]],["(....)(...?.?)(....)","$1 $2 $3",["180","1800"]],["(....)(....?)(....)","$1 $2 $3",["186","1860"]],["(....)(...)(...)(...)","$1 $2 $3 $4",["18[06]"]]]]',92:'[[10],[["(..)(111)(...)(...)","$1 $2 $3 $4",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)1","(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)11","(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)111"]],["(...)(111)(...)(...)","$1 $2 $3 $4",["2[349]|45|54|60|72|8[2-5]|9[2-9]","(?:2[349]|45|54|60|72|8[2-5]|9[2-9]).1","(?:2[349]|45|54|60|72|8[2-5]|9[2-9]).11","(?:2[349]|45|54|60|72|8[2-5]|9[2-9]).111"]],["(..)(........?)","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"]],["(...)(.......?)","$1 $2",["2[349]|45|54|60|72|8[2-5]|9[2-9]","(?:2[349]|45|54|60|72|8[2-5]|9[2-9]).[2-9]"]],["(3..)(.......)","$1 $2",["3"]],["([15]...)(......?)","$1 $2",["58[12]|1"]],["(586..)(.....)","$1 $2",["586"]],["([89]00)(...)(..)","$1 $2 $3",["[89]00"]]]]',93:'[[9],[["([2-7].)(...)(....)","$1 $2 $3",["[2-7]"]]]]',94:'[[9],[["(..)(.)(......)","$1 $2 $3",["[1-689]"]],["(..)(...)(....)","$1 $2 $3",["7"]]]]',95:'[[8,9,10],[["(.)(...)(....?)","$1 $2 $3",["1|2[245]"]],["(2)(....)(....)","$1 $2 $3",["251"]],["(.)(..)(...)","$1 $2 $3",["16|2"]],["(..)(...)(....?)","$1 $2 $3",["67|81"]],["(..)(..)(....?)","$1 $2 $3",["[4-8]"]],["(9)(...)(.....?.?)","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"]],["(9)([34]....)(....)","$1 $2 $3",["9(?:3[0-36]|4[0-57-9])"]],["(9)(...)(...)(...)","$1 $2 $3 $4",["92[56]"]],["(9)(...)(...)(..)","$1 $2 $3 $4",["93"]]]]',98:'[[10],[["(21)(....?.?)","$1 $2",["21"]],["(..)(....)(....)","$1 $2 $3",["[1-8]"]],["(...)(...)","$1 $2",["9"]],["(...)(..)(...?)","$1 $2 $3",["9"]],["(...)(...)(....?)","$1 $2 $3",["9"]]]]',211:'[[9],[["(...)(...)(...)","$1 $2 $3",[]]]]',212:'[[9],[["([5-7]..)(......)","$1-$2",["5(?:2[015-7]|3[0-4])|[67]"]],["([58]...)(.....)","$1-$2",["5(?:2[2-489]|3[5-9]|92)|892","5(?:2(?:[2-48]|9[0-7])|3(?:[5-79]|8[0-7])|924)|892"]],["(5....)(....)","$1-$2",["5(?:29|38)","5(?:29|38)[89]"]],["([5]..)(..)(..)(..)","$1 $2 $3 $4",["5(?:4[067]|5[03])"]],["(8[09])(.......)","$1-$2",["8(?:0|9[013-9])"]]]]',213:'[[9],[["([1-4].)(..)(..)(..)","$1 $2 $3 $4",["[1-4]"]],["([5-8]..)(..)(..)(..)","$1 $2 $3 $4",["[5-8]"]],["(9.)(...)(..)(..)","$1 $2 $3 $4",["9"]]]]',216:'[[8],[["(..)(...)(...)","$1 $2 $3",[]]]]',218:'[[9],[["([25679].)(.......)","$1-$2",[]]]]',220:'[[7],[["(...)(....)","$1 $2",[]]]]',221:'[[9],[["(..)(...)(..)(..)","$1 $2 $3 $4",["[379]"]],["(...)(..)(..)(..)","$1 $2 $3 $4",["8"]]]]',222:'[[8],[["([2-48].)(..)(..)(..)","$1 $2 $3 $4",[]]]]',223:'[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",["[246-9]"]],["(....)","$1",["67|74"]]]]',224:'[[8,9],[["(..)(..)(..)(..)","$1 $2 $3 $4",["3"]],["(...)(..)(..)(..)","$1 $2 $3 $4",["[67]"]]]]',225:'[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",[]]]]',226:'[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",[]]]]',227:'[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",["[289]|09"]],["(08)(...)(...)","$1 $2 $3",["08"]]]]',228:'[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",["[279]"]]]]',229:'[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",[]]]]',230:'[[7,8],[["([2-46-9]..)(....)","$1 $2",["[2-46-9]"]],["(5...)(....)","$1 $2",["5"]]]]',231:'[[7,8,9],[["(2.)(...)(...)","$1 $2 $3",["2"]],["([4-5])(...)(...)","$1 $2 $3",["[45]"]],["(..)(...)(....)","$1 $2 $3",["[23578]"]]]]',232:'[[8],[["(..)(......)","$1 $2",[]]]]',233:'[[9],[["(..)(...)(....)","$1 $2 $3",["[235]"]],["(...)(.....)","$1 $2",["8"]]]]',234:'[[10],[["(.)(...)(....?)","$1 $2 $3",["[12]|9(?:0[3-9]|[1-9])"]],["(..)(...)(...?)","$1 $2 $3",["[3-6]|7(?:[1-79]|0[1-9])|8[2-9]"]],["(...)(...)(....?)","$1 $2 $3",["70|8[01]|90[235-9]"]],["([78]00)(....)(.....?)","$1 $2 $3",["[78]00"]],["([78]00)(.....)(......?)","$1 $2 $3",["[78]00"]],["(78)(..)(...)","$1 $2 $3",["78"]]]]',235:'[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",[]]]]',236:'[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",[]]]]',237:'[[8,9],[["([26])(..)(..)(..)(..)","$1 $2 $3 $4 $5",["[26]"]],["(..)(..)(..)(..)","$1 $2 $3 $4",["[23]|88"]],["(800)(..)(...)","$1 $2 $3",["80"]]]]',238:'[[7],[["(...)(..)(..)","$1 $2 $3",[]]]]',239:'[[7],[["(...)(....)","$1 $2",[]]]]',240:'[[9],[["(...)(...)(...)","$1 $2 $3",["[235]"]],["(...)(......)","$1 $2",["[89]"]]]]',241:'[[8],[["(.)(..)(..)(..)","$1 $2 $3 $4",["[2-7]"]],["(..)(..)(..)(..)","$1 $2 $3 $4",["0"]]]]',242:'[[9],[["(..)(...)(....)","$1 $2 $3",["[02]"]],["(.)(....)(....)","$1 $2 $3",["8"]]]]',243:'[[9],[["(..)(...)(....)","$1 $2 $3",["12"]],["([89]..)(...)(...)","$1 $2 $3",["8[0-2459]|9"]],["(..)(..)(...)","$1 $2 $3",["88"]],["(..)(.....)","$1 $2",["[1-6]"]]]]',244:'[[9],[["(...)(...)(...)","$1 $2 $3",[]]]]',245:'[[7,9],[["(...)(...)(...)","$1 $2 $3",["44|9[567]"]],["(...)(....)","$1 $2",["40"]]]]',246:'[[7],[["(...)(....)","$1 $2",[]]]]',247:"[[5],[]]",248:'[[7],[["(.)(...)(...)","$1 $2 $3",["[246]"]]]]',249:'[[9],[["(..)(...)(....)","$1 $2 $3",[]]]]',250:'[[9],[["(2..)(...)(...)","$1 $2 $3",["2"]],["([7-9]..)(...)(...)","$1 $2 $3",["[7-9]"]],["(0.)(..)(..)(..)","$1 $2 $3 $4",["0"]]]]',251:'[[9],[["([1-59].)(...)(....)","$1 $2 $3",[]]]]',252:'[[8,9],[["(......)","$1",["[134]"]],["(.)(......)","$1 $2",["2[0-79]|[13-5]"]],["(.)(.......)","$1 $2",["24|[67]"]],["(..)(....)","$1 $2",["8[125]"]],["(..)(......?.?)","$1 $2",["15|28|6[1-35-9]|799|9[2-9]"]],["(...)(...)(...)","$1 $2 $3",["3[59]|4[89]|6[24-6]|79|8[08]|90"]]]]',253:'[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",[]]]]',254:'[[9],[["(..)(......?.?)","$1 $2",["[24-6]"]],["(...)(......)","$1 $2",["7"]],["(...)(...)(....?)","$1 $2 $3",["[89]"]]]]',255:'[[9],[["([24].)(...)(....)","$1 $2 $3",["[24]"]],["([67]..)(...)(...)","$1 $2 $3",["[67]"]],["([89]..)(..)(....)","$1 $2 $3",["[89]"]]]]',256:'[[9],[["(...)(......)","$1 $2",["[7-9]|20(?:[013-8]|2[5-9])|4(?:6[45]|[7-9])"]],["(..)(.......)","$1 $2",["3|4(?:[1-5]|6[0-36-9])"]],["(2024)(.....)","$1 $2",["2024"]]]]',257:'[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",[]]]]',258:'[[9],[["([28].)(...)(....?)","$1 $2 $3",["2|8[2-7]"]],["(80.)(...)(...)","$1 $2 $3",["80"]]]]',260:'[[9],[["([29].)(.......)","$1 $2",["[29]"]],["(800)(...)(...)","$1 $2 $3",["8"]]]]',261:'[[9],[["([23].)(..)(...)(..)","$1 $2 $3 $4",[]]]]',262:'[[9],[["([268]..)(..)(..)(..)","$1 $2 $3 $4",[]]]]',263:'[[9,10],[["([49])(...)(...?.?)","$1 $2 $3",["4|9[2-9]"]],["(7.)(...)(....?)","$1 $2 $3",["7"]],["(86..)(...)(...)","$1 $2 $3",["86[24]"]],["([2356]..)(....?.?)","$1 $2",["2(?:0[45]|2[278]|[49]8|[78])|3(?:08|17|3[78]|7[1569]|8[37]|98)|5[15][78]|6(?:[29]8|[38]7|6[78]|75|[89]8)"]],["(...)(...)(....?)","$1 $2 $3",["2(?:1[39]|2[0157]|6[14]|7[35]|84)|329"]],["([1-356].)(....?.?)","$1 $2",["1[3-9]|2[0569]|3[0-69]|5[05689]|6[0-46-9]"]],["([235].)(...)(....?)","$1 $2 $3",["[23]9|54"]],["([25]...)(....?.?)","$1 $2",["(?:25|54)8","258[23]|5483"]],["(8...)(......)","$1 $2",["86"]],["(80.)(...)(....)","$1 $2 $3",["80"]]]]',264:'[[9],[["(8.)(...)(....)","$1 $2 $3",["8[1235]"]],["(6.)(...)(....?)","$1 $2 $3",["6"]],["(88)(...)(...)","$1 $2 $3",["88"]],["(870)(...)(...)","$1 $2 $3",["870"]]]]',265:'[[9],[["(.)(...)(...)","$1 $2 $3",["1"]],["(2..)(...)(...)","$1 $2 $3",["2"]],["(...)(..)(..)(..)","$1 $2 $3 $4",["[1789]"]]]]',266:'[[8],[["(....)(....)","$1 $2",[]]]]',267:'[[8],[["(...)(....)","$1 $2",["[2-6]"]],["(7.)(...)(...)","$1 $2 $3",["7"]],["(90)(.....)","$1 $2",["9"]]]]',268:'[[8],[["(....)(....)","$1 $2",["[027]"]]]]',269:'[[7],[["(...)(..)(..)","$1 $2 $3",[]]]]',290:"[[4,5],[]]",291:'[[7],[["(.)(...)(...)","$1 $2 $3",[]]]]',297:'[[7],[["(...)(....)","$1 $2",[]]]]',298:'[[6],[["(......)","$1",[]]]]',299:'[[6],[["(..)(..)(..)","$1 $2 $3",[]]]]',350:'[[8],[["(...)(.....)","$1 $2",["2"]]]]',351:'[[9],[["(2.)(...)(....)","$1 $2 $3",["2[12]"]],["([2-46-9]..)(...)(...)","$1 $2 $3",["2[3-9]|[346-9]"]]]]',352:'[[9],[["(..)(...)","$1 $2",["[2-5]|7[1-9]|[89](?:[1-9]|0[2-9])"]],["(..)(..)(..)","$1 $2 $3",["[2-5]|7[1-9]|[89](?:[1-9]|0[2-9])"]],["(..)(..)(...)","$1 $2 $3",["20"]],["(..)(..)(..)(..?)","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(..)(..)(..)(...)","$1 $2 $3 $4",["20"]],["(..)(..)(..)(..)(..?)","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(..)(..)(..)(..?.?.?)","$1 $2 $3 $4",["2(?:[12589]|4[12])|[3-5]|7[1-9]|8(?:[1-9]|0[2-9])|9(?:[1-9]|0[2-46-9])"]],["(...)(..)(...)","$1 $2 $3",["70|80[01]|90[015]"]],["(...)(...)(...)","$1 $2 $3",["6"]]]]',353:'[[9],[["(1)(....?)(....)","$1 $2 $3",["1"]],["(..)(.....)","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"]],["(...)(.....)","$1 $2",["40[24]|50[45]"]],["(48)(....)(....)","$1 $2 $3",["48"]],["(818)(...)(...)","$1 $2 $3",["81"]],["(..)(...)(....?)","$1 $2 $3",["[24-69]|7[14]"]],["([78].)(....?)(....)","$1 $2 $3",["76|8[35-9]"]],["(700)(...)(...)","$1 $2 $3",["70"]],["(....)(...)(...)","$1 $2 $3",["1(?:8[059]|5)","1(?:8[059]0|5)"]]]]',354:'[[7,8,9],[["(...)(....)","$1 $2",["[4-9]"]],["(3..)(...)(...)","$1 $2 $3",["3"]]]]',355:'[[9],[["(4)(...)(....)","$1 $2 $3",["4[0-6]"]],["(6[6-9])(...)(....)","$1 $2 $3",["6"]],["(..)(...)(...)","$1 $2 $3",["[2358][2-5]|4[7-9]"]],["(...)(....?.?)","$1 $2",["[235][16-9]|8[016-9]|[79]"]]]]',356:'[[8],[["(....)(....)","$1 $2",[]]]]',357:'[[8],[["(..)(......)","$1 $2",[]]]]',358:'[[6,7,8,9,10,11],[["(...)(....?.?.?.?)","$1 $2",["(?:[1-3]00|[6-8]0)"]],["(116...)","$1",["116"]],["(..)(.....?.?.?.?.?.?)","$1 $2",["[14]|2[09]|50|7[135]"]],["(.)(.....?.?.?.?.?.?.?)","$1 $2",["[25689][1-8]|3"]]]]',359:'[[9],[["(2)(.)(..)(..)","$1 $2 $3 $4",["2"]],["(2)(...)(....?)","$1 $2 $3",["2"]],["(...)(....)","$1 $2",["43[124-7]|70[1-9]"]],["(...)(...)(..)","$1 $2 $3",["43[124-7]|70[1-9]"]],["(...)(..)(...)","$1 $2 $3",["[78]00"]],["(...)(...)(...)","$1 $2 $3",["999"]],["(..)(...)(...?)","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"]],["(..)(...)(....?)","$1 $2 $3",["48|8[7-9]|9[08]"]]]]',370:'[[8],[["([34].)(......)","$1 $2",["37|4(?:1|5[45]|6[2-4])"]],["([3-6]..)(.....)","$1 $2",["3[148]|4(?:[24]|6[09])|528|6"]],["([7-9]..)(..)(...)","$1 $2 $3",["[7-9]"]],["(5)(2..)(....)","$1 $2 $3",["52[0-79]"]]]]',371:'[[8],[["([2689].)(...)(...)","$1 $2 $3",[]]]]',372:'[[7,8],[["([3-79]..)(....)","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]"]],["(70)(..)(....)","$1 $2 $3",["70"]],["(8000)(...)(...)","$1 $2 $3",["800","8000"]],["([458]...)(....?)","$1 $2",["40|5|8(?:00|[1-5])","40|5|8(?:00[1-9]|[1-5])"]]]]',373:'[[8],[["(..)(...)(...)","$1 $2 $3",["22|3"]],["([25-7]..)(..)(...)","$1 $2 $3",["2[13-9]|[5-7]"]],["([89]..)(.....)","$1 $2",["[89]"]]]]',374:'[[8],[["(..)(......)","$1 $2",["1|47"]],["(..)(......)","$1 $2",["4[1349]|[5-7]|9[1-9]"]],["(...)(.....)","$1 $2",["[23]"]],["(...)(..)(...)","$1 $2 $3",["8|90"]]]]',375:'[[9],[["(..)(...)(..)(..)","$1 $2-$3-$4",["17[0-3589]|2[4-9]|[34]","17(?:[02358]|1[0-2]|9[0189])|2[4-9]|[34]"]],["(...)(..)(..)(..)","$1 $2-$3-$4",["1(?:5[24]|6[235]|7[467])|2(?:1[246]|2[25]|3[26])","1(?:5[24]|6(?:2|3[04-9]|5[0346-9])|7(?:[46]|7[37-9]))|2(?:1[246]|2[25]|3[26])"]],["(....)(..)(...)","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"]],["([89]..)(...)(....)","$1 $2 $3",["8[01]|9"]],["(82.)(....)(....)","$1 $2 $3",["82"]],["(800)(...)","$1 $2",["800"]],["(800)(..)(...?.?)","$1 $2 $3",["800"]]]]',376:'[[6,9],[["(...)(...)","$1 $2",["[1357-9]|6[0-8]"]],["(....)(....)","$1 $2",["180","180[02]"]],["(...)(...)(...)","$1 $2 $3",["690"]]]]',377:'[[8,9],[["(..)(..)(..)(..)","$1 $2 $3 $4",["[39]"]],["(..)(...)(...)","$1 $2 $3",["4"]],["(6)(..)(..)(..)(..)","$1 $2 $3 $4 $5",["6"]],["(...)(...)(..)","$1 $2 $3",["8"]]]]',378:'[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",["[5-7]"]],["(0549)(......)","($1) $2",["0"]],["(......)","(0549) $1",["[89]"]]]]',379:"[[10],[]]",380:'[[9],[["([3-9].)(...)(....)","$1 $2 $3",["[38]9|4(?:[45][0-5]|87)|5(?:0|6[37]|7[37])|6[36-8]|7|9[1-9]","[38]9|4(?:[45][0-5]|87)|5(?:0|6(?:3[14-7]|7)|7[37])|6[36-8]|7|9[1-9]"]],["([3-689]..)(...)(...)","$1 $2 $3",["3[1-8]2|4[13678]2|5(?:[12457]2|6[24])|6(?:[49]2|[12][29]|5[24])|8[0-8]|90","3(?:[1-46-8]2[013-9]|52)|4(?:[1378]2|62[013-9])|5(?:[12457]2|6[24])|6(?:[49]2|[12][29]|5[24])|8[0-8]|90"]],["([3-6]...)(.....)","$1 $2",["3(?:5[013-9]|[1-46-8])|4(?:[137][013-9]|6|[45][6-9]|8[4-6])|5(?:[1245][013-9]|6[0135-9]|3|7[4-6])|6(?:[49][013-9]|5[0135-9]|[12][13-8])","3(?:5[013-9]|[1-46-8](?:22|[013-9]))|4(?:[137][013-9]|6(?:[013-9]|22)|[45][6-9]|8[4-6])|5(?:[1245][013-9]|6(?:3[02389]|[015689])|3|7[4-6])|6(?:[49][013-9]|5[0135-9]|[12][13-8])"]]]]',381:'[[8,9,10],[["([23]..)(.....?.?.?.?.?)","$1 $2",["(?:2[389]|39)0"]],["([1-3].)(......?.?.?.?.?)","$1 $2",["1|2(?:[0-24-7]|[389][1-9])|3(?:[0-8]|9[1-9])"]],["(6.)(.......?.?)","$1 $2",["6"]],["([89]..)(....?.?.?.?.?.?)","$1 $2",["[89]"]],["(7[26])(.....?.?.?.?.?)","$1 $2",["7[26]"]],["(7[08].)(.....?.?.?.?.?)","$1 $2",["7[08]"]]]]',382:'[[8,9],[["(..)(...)(...)","$1 $2 $3",["[2-57-9]|6[036-9]"]]]]',383:'[[8],[["(..)(...)(...)","$1 $2 $3",["[23][89]|4[3-79]"]],["(...)(.....)","$1 $2",["[89]00"]],["(...)(...)(...)","$1 $2 $3",[]]]]',385:'[[8,9],[["(1)(....)(...)","$1 $2 $3",["1"]],["([2-5].)(...)(....?)","$1 $2 $3",["[2-5]"]],["(9.)(...)(....?)","$1 $2 $3",["9"]],["(6[01])(..)(...?)","$1 $2 $3",["6[01]"]],["([67].)(...)(....?)","$1 $2 $3",["[67]"]],["(80[01])(..)(...?)","$1 $2 $3",["8"]],["(80[01])(...)(...)","$1 $2 $3",["8"]]]]',386:'[[8],[["(.)(...)(..)(..)","$1 $2 $3 $4",["[12]|3[24-8]|4[24-8]|5[2-8]|7[3-8]"]],["([3-7].)(...)(...)","$1 $2 $3",["[37][01]|4[0139]|51|6"]],["([89][09])(....?.?.?)","$1 $2",["[89][09]"]],["([58]..)(.....)","$1 $2",["59|8[1-3]"]]]]',387:'[[8,9],[["(..)(...)(...)","$1 $2-$3",["[3-5]"]],["(..)(...)(...)","$1 $2 $3",["6[1-356]|[7-9]"]],["(..)(..)(..)(...)","$1 $2 $3 $4",["6[047]"]]]]',389:'[[8],[["(2)(...)(....)","$1 $2 $3",["2"]],["([347].)(...)(...)","$1 $2 $3",["[347]"]],["([58]..)(.)(..)(..)","$1 $2 $3 $4",["[58]"]]]]',420:'[[9],[["([2-9]..)(...)(...)","$1 $2 $3",["[2-8]|9[015-7]"]],["(96.)(...)(...)(...)","$1 $2 $3 $4",["96"]],["(9.)(...)(...)(...)","$1 $2 $3 $4",["9[36]"]]]]',421:'[[9],[["(2)(1[67])(....?)","$1 $2 $3",["21[67]"]],["([3-5].)(1[67])(...?)","$1 $2 $3",["[3-5]"]],["(2)(...)(...)(..)","$1/$2 $3 $4",["2"]],["([3-5].)(...)(..)(..)","$1/$2 $3 $4",["[3-5]"]],["([689]..)(...)(...)","$1 $2 $3",["[689]"]],["(9090)(...)","$1 $2",["9090"]]]]',423:'[[7],[["(...)(..)(..)","$1 $2 $3",["[23789]"]],["(...)(...)(...)","$1 $2 $3",["6[56]"]],["(69)(7..)(....)","$1 $2 $3",["697"]]]]',500:"[[5],[]]",501:'[[7],[["(...)(....)","$1-$2",["[2-8]"]],["(0)(800)(....)(...)","$1-$2-$3-$4",["0"]]]]',502:'[[8],[["(....)(....)","$1 $2",["[2-7]"]],["(....)(...)(....)","$1 $2 $3",["1"]]]]',503:'[[8],[["(....)(....)","$1 $2",["[267]"]],["(...)(....)","$1 $2",["[89]"]],["(...)(....)(....)","$1 $2 $3",["[89]"]]]]',504:'[[8],[["(....)(....)","$1-$2",[]]]]',505:'[[8],[["(....)(....)","$1 $2",[]]]]',506:'[[8],[["(....)(....)","$1 $2",["[24-7]|8[3-9]"]],["(...)(...)(....)","$1-$2-$3",["[89]0"]]]]',507:'[[8],[["(...)(....)","$1-$2",["[1-57-9]"]],["(....)(....)","$1-$2",["6"]]]]',508:'[[6],[["([45].)(..)(..)","$1 $2 $3",[]]]]',509:'[[8],[["(..)(..)(....)","$1 $2 $3",[]]]]',590:'[[9],[["([56]90)(..)(....)","$1 $2-$3",[]]]]',591:'[[8],[["([234])(.......)","$1 $2",["[234]"]],["([67].......)","$1",["[67]"]]]]',592:'[[7],[["(...)(....)","$1 $2",[]]]]',593:'[[8,9],[["(.)(...)(....)","$1-$2-$3",["[247]|[356][2-8]"]],["(..)(...)(....)","$1 $2 $3",["9"]],["(1800)(...)(....?)","$1 $2 $3",["1"]]]]',594:'[[9],[["(...)(..)(..)(..)","$1 $2 $3 $4",[]]]]',595:'[[9],[["(..)(.....)","$1 $2",["(?:[26]1|3[289]|4[124678]|7[123]|8[1236])"]],["(..)(...)(....?)","$1 $2 $3",["(?:[26]1|3[289]|4[124678]|7[123]|8[1236])"]],["(...)(....?.?.?)","$1 $2",["[2-9]0"]],["(...)(......)","$1 $2",["9[1-9]"]],["(..)(...)(....)","$1 $2 $3",["8700"]],["(...)(.....?)","$1 $2",["[2-8][1-9]"]],["(...)(...)(...)","$1 $2 $3",["[2-8][1-9]"]]]]',596:'[[9],[["(...)(..)(..)(..)","$1 $2 $3 $4",[]]]]',597:'[[7],[["(...)(...)","$1-$2",["[2-4]|5[2-58]"]],["(..)(..)(..)","$1-$2-$3",["56"]],["(...)(....)","$1-$2",["[6-8]"]]]]',598:'[[8],[["(....)(....)","$1 $2",["[24]"]],["(..)(...)(...)","$1 $2 $3",["9[1-9]"]],["(...)(....)","$1 $2",["[89]0"]]]]',599:'[[7,8],[["(...)(....)","$1 $2",["[13-7]"]],["(9)(...)(....)","$1 $2 $3",["9"]]]]',670:'[[8],[["(...)(....)","$1 $2",["[2-489]"]],["(....)(....)","$1 $2",["7"]]]]',672:'[[5,6],[["(..)(....)","$1 $2",["1"]],["(.)(.....)","$1 $2",["3"]]]]',673:'[[7],[["([2-578]..)(....)","$1 $2",[]]]]',674:'[[7],[["(...)(....)","$1 $2",[]]]]',675:'[[7,8],[["(...)(....)","$1 $2",["[13-689]|27"]],["(....)(....)","$1 $2",["20|7"]]]]',676:'[[7],[["(..)(...)","$1-$2",["[1-6]|7[0-4]|8[05]"]],["(...)(....)","$1 $2",["7[5-9]|8[47-9]"]],["(....)(...)","$1 $2",["0"]]]]',677:'[[7],[["(..)(.....)","$1 $2",["[7-9]"]]]]',678:'[[7],[["(...)(....)","$1 $2",["[579]"]]]]',679:'[[7],[["(...)(....)","$1 $2",["[35-9]"]],["(....)(...)(....)","$1 $2 $3",["0"]]]]',680:'[[7],[["(...)(....)","$1 $2",[]]]]',681:'[[6],[["(..)(..)(..)","$1 $2 $3",[]]]]',682:'[[5],[["(..)(...)","$1 $2",[]]]]',683:"[[4],[]]",685:'[[6,7],[["(8..)(....?)","$1 $2",["8"]],["(7.)(.....)","$1 $2",["7"]],["(.....)","$1",["[2-6]"]]]]',686:"[[8],[]]",687:'[[6],[["(..)(..)(..)","$1.$2.$3",["[2-46-9]|5[0-4]"]]]]',688:"[[6,7],[]]",689:'[[6,8],[["(..)(..)(..)(..)","$1 $2 $3 $4",["4[09]|8[79]"]],["(..)(..)(..)","$1 $2 $3",["44"]]]]',690:"[[4,5,6,7],[]]",691:'[[7],[["(...)(....)","$1 $2",[]]]]',692:'[[7],[["(...)(....)","$1-$2",[]]]]',850:'[[10],[["(...)(...)(....)","$1 $2 $3",["1"]],["(.)(...)(....)","$1 $2 $3",["2"]],["(..)(...)(...)","$1 $2 $3",["8"]]]]',852:'[[8],[["(....)(....)","$1 $2",["[235-7]|[89](?:0[1-9]|[1-9])"]],["(800)(...)(...)","$1 $2 $3",["800"]],["(900)(..)(...)(...)","$1 $2 $3 $4",["900"]],["(900)(...?.?.?)","$1 $2",["900"]]]]',853:'[[8],[["([268]...)(....)","$1 $2",[]]]]',855:'[[8,9],[["(..)(...)(....?)","$1 $2 $3",["1.[1-9]|[2-9]"]],["(1[89]00)(...)(...)","$1 $2 $3",["1[89]0"]]]]',856:'[[10],[["(20)(..)(...)(...)","$1 $2 $3 $4",["20"]],["([2-8].)(...)(...)","$1 $2 $3",["2[13]|3[14]|[4-8]"]],["(30)(..)(..)(...)","$1 $2 $3 $4",["30"]]]]',880:'[[10],[["(2)(........?)","$1-$2",["2"]],["(..)(.....?.?)","$1-$2",["[3-79]1"]],["(....)(....?.?.?)","$1-$2",["1|3(?:0|[2-58]2)|4(?:0|[25]2|3[23]|[4689][25])|5(?:[02-578]2|6[25])|6(?:[0347-9]2|[26][25])|7[02-9]2|8(?:[023][23]|[4-7]2)|9(?:[02][23]|[458]2|6[016])"]],["(...)(....?.?.?.?)","$1-$2",["[3-79][2-9]|8"]]]]',886:'[[9],[["(20)(.)(....)","$1 $2 $3",["202"]],["(20)(...)(....)","$1 $2 $3",["20[013-9]"]],["([2-8])(....?)(....)","$1 $2 $3",["2[23-8]|[3-6]|[78][1-9]"]],["([89]..)(...)(...)","$1 $2 $3",["80|9"]],["(70)(....)(....)","$1 $2 $3",["70"]]]]',960:'[[7],[["(...)(....)","$1-$2",["[3467]|9(?:[1-9]|0[1-9])"]],["(...)(...)(....)","$1 $2 $3",["[89]00"]]]]',961:'[[7,8],[["(.)(...)(...)","$1 $2 $3",["[13-6]|7(?:[2-57]|62|8[0-7]|9[04-9])|8[02-9]|9"]],["([7-9].)(...)(...)","$1 $2 $3",["[89][01]|7(?:[01]|6[013-9]|8[89]|9[1-3])"]]]]',962:'[[9],[["(.)(...)(....)","$1 $2 $3",["[2356]|87"]],["(7)(....)(....)","$1 $2 $3",["7[457-9]"]],["(...)(......?)","$1 $2",["70|8[0158]|9"]]]]',963:'[[9],[["(..)(...)(....?)","$1 $2 $3",["[1-5]"]],["(9..)(...)(...)","$1 $2 $3",["9"]]]]',964:'[[9,10],[["(1)(...)(....)","$1 $2 $3",["1"]],["([2-6].)(...)(....?)","$1 $2 $3",["[2-6]"]],["(7..)(...)(....)","$1 $2 $3",["7"]]]]',965:'[[8],[["(....)(....?)","$1 $2",["[16]|2(?:[0-35-9]|4[0-35-9])|9[024-9]|52[25]"]],["(...)(.....)","$1 $2",["244|5(?:[015]|66)"]]]]',966:'[[9],[["([1-467])(...)(....)","$1 $2 $3",["[1-467]"]],["(1.)(...)(....)","$1 $2 $3",["1[1-467]"]],["(5.)(...)(....)","$1 $2 $3",["5"]],["(92..)(.....)","$1 $2",["92"]],["(800)(...)(....)","$1 $2 $3",["80"]],["(811)(...)(....?)","$1 $2 $3",["81"]]]]',967:'[[9],[["([1-7])(...)(....?)","$1 $2 $3",["[1-6]|7[24-68]"]],["(7..)(...)(...)","$1 $2 $3",["7[0137]"]]]]',968:'[[8],[["(2.)(......)","$1 $2",["2"]],["([79]...)(....)","$1 $2",["[79]"]],["([58]00)(.....?.?)","$1 $2",["[58]"]]]]',970:'[[9],[["([2489])(2..)(....)","$1 $2 $3",["[2489]"]],["(5[69].)(...)(...)","$1 $2 $3",["5"]],["(1[78]00)(...)(...)","$1 $2 $3",["1[78]"]]]]',971:'[[9],[["([2-4679])(...)(....)","$1 $2 $3",["[2-4679][2-8]"]],["(5.)(...)(....)","$1 $2 $3",["5"]],["([479]00)(.)(.....)","$1 $2 $3",["[479]0"]],["([68]00)(...?.?.?.?.?.?.?)","$1 $2",["60|8"]]]]',972:'[[9],[["([2-489])(...)(....)","$1-$2-$3",["[2-489]"]],["([57].)(...)(....)","$1-$2-$3",["[57]"]],["(153)(..?)(...)(....)","$1 $2 $3 $4",["153"]],["(1)([7-9]..)(...)(...)","$1-$2-$3-$4",["1[7-9]"]],["(1255)(...)","$1-$2",["125"]],["(1200)(...)(...)","$1-$2-$3",["120"]],["(1212)(..)(..)","$1-$2-$3",["121"]],["(1599)(......)","$1-$2",["15"]],["(....)","*$1",["[2-689]"]]]]',973:'[[8],[["(....)(....)","$1 $2",[]]]]',974:'[[8],[["([28]..)(....)","$1 $2",["[28]"]],["([3-7]...)(....)","$1 $2",["[3-7]"]]]]',975:'[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",["1|77"]],["([2-8])(...)(...)","$1 $2 $3",["[2-68]|7[246]"]]]]',976:'[[8],[["([12].)(..)(....)","$1 $2 $3",["[12]1"]],["([12]2.)(......?)","$1 $2",["[12]2[1-3]"]],["([12]...)(.....)","$1 $2",["[12](?:27|[3-5])","[12](?:27|[3-5].)2"]],["(....)(....)","$1 $2",["[57-9]"]],["([12]....)(.....?)","$1 $2",["[12](?:27|[3-5])","[12](?:27|[3-5].)[4-9]"]]]]',977:'[[10],[["(1)(.......)","$1-$2",["1[2-6]"]],["(..)(......)","$1-$2",["1[01]|[2-8]|9(?:[1-69]|7[15-9])"]],["(9..)(.......)","$1-$2",["9(?:6[013]|7[245]|8)"]]]]',992:'[[9],[["([349]..)(..)(....)","$1 $2 $3",["[34]7|91[78]"]],["([457-9].)(...)(....)","$1 $2 $3",["4[148]|[578]|9(?:1[59]|[0235-9])"]],["(331700)(.)(..)","$1 $2 $3",["331","3317","33170","331700"]],["(....)(.)(....)","$1 $2 $3",["3[1-5]","3(?:[1245]|3(?:[02-9]|1[0-589]))"]]]]',993:'[[8],[["(..)(..)(..)(..)","$1 $2-$3-$4",["12"]],["(..)(......)","$1 $2",["6"]],["(...)(.)(..)(..)","$1 $2-$3-$4",["13|[2-5]"]]]]',994:'[[9],[["(..)(...)(..)(..)","$1 $2 $3 $4",["(?:1[28]|2(?:[45]2|[0-36])|365)"]],["(..)(...)(..)(..)","$1 $2 $3 $4",["[4-8]"]],["(...)(..)(..)(..)","$1 $2 $3 $4",["9"]]]]',995:'[[9],[["(...)(..)(..)(..)","$1 $2 $3 $4",["[348]"]],["(...)(...)(...)","$1 $2 $3",["7"]],["(...)(..)(..)(..)","$1 $2 $3 $4",["5"]]]]',996:'[[9],[["(...)(...)(...)","$1 $2 $3",["[25-7]|31[25]"]],["(....)(.....)","$1 $2",["3(?:1[36]|[2-9])"]],["(...)(...)(.)(...)","$1 $2 $3 $4",["8"]]]]',998:'[[7,8,9],[["([679].)(...)(..)(..)","$1 $2 $3 $4",[]]]]'}},diigahjidi:function(e,t){e.exports={actions:"_1PENu",actionsBtn:"Ir_Ne",noDivider:"_K9qV"}},dijbgcccgc:function(e,t){e.exports={container:"_2UVJ5",containerFull:"_3Zium",icon:"_3-Rfz",containerCircleIconFull:"EdESZ",name:"_2UekJ",labelFilter:"_36d6G",iconContainer:"yKiIK",drawerTitle:"_21dcE",circleIcon:"_3AL1D"}},dijcicjfhc:function(e,t){e.exports={wrapper:"_1kjoa",icon:"exVc0",text:"_2SQDy"}},djaachhgag:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findCC=c,t.getRegion=function(e){var t=c(e),n=r.default[t];if(!n||0===n.length)return null;if(1===n.length)return n[0];for(var a=0;a<n.length;a++){var i=n[a],u=o.default[i];if(u){var s=new RegExp(u);if(e.match(s))return i}}return null},t.default=function(e){var t=c(e);if(!t)return e;var n=e.substring(t.length),r=l[t]||function(e){var t=a.default[e];if(!t)return null;var n=JSON.parse(t);return l[e]={lengths:n[0],formats:n[1].map(function(e){return new i.default(e)})}}(t);if(!r)return"+"+t+" "+n;for(var o=r.formats,u=0;u<o.length;u++){var s=o[u].testAndFormat(n);if(s)return"+"+t+" "+s}return"+"+t+" "+n};var r=u(n("bgdibijceg")),a=u(n("diifgdjbh")),o=u(n("cbechdchcj")),i=u(n("bbfeidbiai"));function u(e){return e&&e.__esModule?e:{default:e}}var s=/^(1|2[07]|3[0-469]|4[013-9]|5[1-8]|6[0-6]|7|8[1246]|9[0-58])/,l={};function c(e){var t=e.match(s);return t?t[0]:e.length>=3?e.substring(0,3):e}},djaadchjch:function(e,t,n){"use strict";var r=b(n("bgjcbiaddd")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=b(n("cgcgbfbffj")),i=n("ddjgcfjicj"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cajijabhgb")),s=b(n("fcfchiagj")),l=b(n("bdiiahhjbe")),c=n("bjcegba"),f=n("biigiejiib"),d=b(n("bhggeigghg")),p=b(n("bihdhbjih")),h=b(n("jccfhaecf")),m=n("dcbdjheea");function b(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),a(t,[{key:"onResume",value:function(){var e=this;(0,r.default)(d.default.Chat.where({active:!0}).filter(function(e){return e.isGroup||e.isBroadcast}),d.default.Chat.where({isBroadcast:!0})).forEach(function(t){e.find(t.id).catch(i.WapDrop,u.ProtoVersionUndefined,function(){})})}},{key:"_find",value:function(e){var t=this;if(h.default.isGroup(e)){var n=d.default.Chat.get(e);return n&&n.isReadOnly?(0,c.queryGroupFromPhone)(e):(0,f.sendQueryGroup)(e)}if(h.default.isBroadcast(e))return p.default.contactFindBroadcast(e).then(function(n){if(200===n.status){var r=t.get(e);return r&&!r.stale?Promise.resolve(r):{id:e,participants:n.recipients}}return 404===n.status?(l.default.error("models:GroupMetadataCollection:_find:False broadcast list query")(),{id:e}):(l.default.error("models:GroupMetadataCollection:_find:bclist error: "+n.status)(),Promise.reject(new Error("models:GroupMetadataCollection:_find:bclist error: "+n.status)))});var r="groupMetadata:find trying to fetch non-group/bclist wid "+e.toString();return l.default.log(r)(),Promise.reject(new Error(r))}},{key:"_handle",value:function(e){return e}},{key:"handlePendingInvite",value:function(e){var t=e.gid,n=e.participants;this.add({id:(0,m.createWid)(t),pendingParticipants:n},{merge:!0})}}]),t}();g.model=s.default,g.staleCollection=!0,e.exports=new g},djachcgbii:function(e,t){e.exports={read_more:"_1Jc9f",readMore:"_1Jc9f"}},djahiefbec:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=j(n("ddhijeejag")),o=E(n("dbdfbgehgj")),i=E(n("bbchdeehff")),u=E(n("baagejbchg")),s=E(n("biddiiafgd")),l=E(n("dhigahgdjb")),c=E(n("dhhfaeacef")),f=E(n("fifhbjiec")),d=n("cicgeajfge"),p=n("ddjgcfjicj"),h=j(n("cajijabhgb")),m=n("bejbgaghc"),b=E(n("hhjiahbag")),g=E(n("dihehaccca")),v=n("chcadgfgad"),y=E(n("bjbedjfe")),_=n("bjcegba");function E(e){return e&&e.__esModule?e:{default:e}}function j(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var S={LOADING:0,SUCCESS:1,ERROR:2},w=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,u=Array(a),s=0;s<a;s++)u[s]=arguments[s];return n=r=O(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={state:S.LOADING,status:void 0,groupMetadata:void 0,subject:void 0},r.onViewGroup=function(e){var t=void 0;e?t=e:r.state.groupMetadata&&(t=r.state.groupMetadata.id),t&&i.default.openChatFromUnread(o.default.assertGet(t)),i.default.closeModal()},r.onJoinGroup=function(){(0,m.joinGroupViaInvite)(r.props.groupCode).then(function(e){i.default.openChatFromUnread(e).then(function(t){t&&i.default.focusChatTextInput(e)}),i.default.closeModal()}).checkpoint(r.props.rejectOnUnmount()).catch(h.Unmount,function(){}).catch(p.ServerStatusCodeError,function(e){r.setState({state:S.ERROR,status:e.status})})},r.onCancel=function(){i.default.closeModal()},O(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){var e=this;(0,_.queryGroupInviteInfo)(this.props.groupCode).checkpoint(this.props.rejectOnUnmount()).then(function(t){var n=t.status,r=t.subject,a=t.groupMetadata;t.inGroup?e.onViewGroup(a.id):e.setState({status:n,groupMetadata:a,subject:r,state:S.SUCCESS})}).catch(p.ServerStatusCodeError,function(t){e.setState({status:t.status,state:S.ERROR})}).catch(h.Unmount,function(){})}},{key:"render",value:function(){var e=this.props.groupCode,t=this.state,n=t.state,r=t.status,i=t.groupMetadata,p=t.subject,h={cancelText:l10n.t(513),onCancel:this.onCancel,onOK:void 0,okText:void 0},m=void 0,y=void 0;if(n===S.LOADING)m=a.createElement(d.LoadingWithText,{text:l10n.t(514)});else if(n===S.SUCCESS&&i){var _=i.participants,E=i.size||_.length,j=_.filter(function(e){return!!l.default.assertGet(e.id).name}),O=void 0,w=i.desc?a.createElement("div",{className:b.default.metadataDesc},i.desc):null;O=j.length?a.createElement("div",{className:b.default.participantList},a.createElement("div",{className:b.default.participantsTitle},l10n.t(525,{count:E,_plural:E})," ",""," ",l10n.t(515,{count:j.length,_plural:j.length})),a.createElement("div",{className:b.default.participantsContainer},j.map(function(e){return a.createElement("div",{key:e.id.toString(),className:b.default.participantWrapper},a.createElement(c.default,{id:e.id}),a.createElement(f.default,{className:b.default.participantText,text:e.contact.formattedName}))}))):a.createElement("div",{className:b.default.emptyContentContainer},a.createElement("span",{className:b.default.participantsText},l10n.t(525,{count:E,_plural:E})),a.createElement("span",{className:b.default.contactsText}," ",""," ",l10n.t(515,{count:j.length,_plural:j.length})));var P=`${u.default.GROUP_INVITE_URL}${e}`,M=l.default.gadd(i.owner).formattedName;m=a.createElement("div",null,a.createElement("div",{className:b.default.metadataContainer},a.createElement(g.default,{src:P,fallback:"default-group",size:82}),a.createElement("div",{className:b.default.metadataText},a.createElement(f.default,{className:b.default.metadataTitle,text:p}),a.createElement("span",{className:b.default.metadataSubtitle},l10n.t(516,{participant:M})),w)),O);var C=o.default.get(i.id),T=!!C&&!C.isReadOnly;h.onOK=T?this.onViewGroup:this.onJoinGroup,h.okText=T?l10n.t(537):l10n.t(520),y=v.FlexModalType}else{var A=void 0;switch(r){case 401:A=l10n.t(508);break;case 404:A=l10n.t(509);break;case 410:A=l10n.t(510);break;case 419:A=l10n.t(511);break;default:A=l10n.t(512)}h.cancelText=l10n.t(1287),m=a.createElement("div",null,A)}return a.createElement(s.default,{cancelText:h.cancelText,onCancel:h.onCancel,onOK:h.onOK,okText:h.okText,type:y},m)}}]),t}();w.displayName="GroupInviteModal",t.default=(0,y.default)(w)},djbecaeiae:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("dbdfbgehgj")),i=l(n("bbchdeehff")),u=l(n("biddiiafgd")),s=l(n("fifhbjiec"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,u=Array(a),s=0;s<a;s++)u[s]=arguments[s];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.onCancel=function(){i.default.closeModal()},r.onUnstar=function(){var e=r.props.chat,t=r.props.msgs;e&&e.pendingAction++,o.default.unstarAllMessages(t,e).finally(function(){e&&e.pendingAction--}),i.default.closeModal()},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){return a.createElement(u.default,{onOK:this.onUnstar,okText:l10n.t(1075),onCancel:this.onCancel},a.createElement("div",null,a.createElement(s.default,{text:l10n.t(1076)})))}}]),t}();f.displayName="UnstarAllPopup",t.default=f},djbfhebjhe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n("caejgeijci"));t.default=function(e){if(e){var t=void 0;if(e instanceof u.default?t=e.user:(0,i.isString)(e)&&(t=e.split("@")[0]),t)return a.default.numAndPunc(l(t))}return""};var a=s(n("fffdgbfji")),o=s(n("djaachhgag")),i=n("hjbbdjjdf"),u=s(n("jccfhaecf"));function s(e){return e&&e.__esModule?e:{default:e}}var l=(0,r.default)(function(e){return"Server"===e?e:(0,o.default)(e)})},djbgihfhif:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=d(n("fijafegab")),i=n("bgjddhffji"),u=n("bfajcggcdf"),s=d(n("bfbggcdbfb")),l=d(n("cgbfcjgjcf")),c=n("bheafeifce"),f=d(n("bfdcadbbif"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.onProductDetail=function(e){var t=r.props,n=t.onProductDetail,a=t.sessionId;t.entryPoint===s.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PROFILE&&(0,i.logProfileProductClick)((0,c.unproxy)(e),a),n(e,a)},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.entryPoint,n=e.catalog,r=e.sessionId;t===s.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PROFILE&&(0,i.logBusinessProfileCatalogView)(n.id.toString(),r)}},{key:"render",value:function(){var e=this,t=this.props,n=t.catalog,r=t.onProductCatalog,i=t.filterProductId,s=t.title,c=t.animation,d=t.sessionId,p=n.productCollection.getProductModels().slice(0,7).filter(function(e){return e.id.toString()!==i}).map(function(t,n){return a.createElement(l.default,{key:t.id.toString(),onClick:function(){return e.onProductDetail(t)},mediaData:t.imageCdnUrl.productImageModel.mediaData})}).slice(0,6);if(!p.length)return null;var h=a.createElement(f.default,{name:"chevron-right-alt",directional:!0});return a.createElement(o.default,{title:s||l10n.t(890),titleOnClick:r.bind(this,d),subtitle:h,theme:"padding",animation:c},a.createElement(u.Gallery,{productMedias:p,mediaCollection:n.productCollection}))}}]),t}();h.displayName="CatalogDrawerSection",t.default=h},djbhiedbef:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n("bcdejiigcg")),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n("ceffhbhahb")),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),s=c(n("dhajfeafhd")),l=c(n("cicjcfabii"));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),o(t,[{key:"render",value:function(){var e=this.props,t=e.overflow,n=e.flatListControllers,o=e.children,c=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["overflow","flatListControllers","children"]),f=(0,i.default)(s.default.container,{[s.default.noscroll]:"hidden"===t,[s.default.centerItem]:"center-content"===this.props.theme,[s.default.padding]:"padding"===this.props.theme});return n&&n.length?u.createElement(l.default,a({flatListControllers:n,className:f},(0,r.default)(c,["theme"])),o):u.createElement("div",a({className:f},c),o)}}]),t}();f.displayName="DrawerBody",t.default=f},djcchigfih:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=l(n("ccegbieicj")),u=l(n("ccabcdcjec")),s=l(n("bahefhdbbb"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.setDragAndDropRef=function(e){r.dragAndDropRef=e},r.onDragOver=function(e){r.dragAndDropRef&&r.dragAndDropRef.onDragOver(e)},r.onDragStart=function(e){r.dragAndDropRef&&r.dragAndDropRef.onDragStart(e)},r.onDragEnd=function(e){r.dragAndDropRef&&r.dragAndDropRef.onDragEnd(e)},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.onDrop,r=e.onDragChange,l=e.theme,c=(0,a.default)(s.default.drawer,{[s.default.white]:"invite"===l||"products"===l||"labels"===l||"settings"===l,[s.default.drawerCapture]:"capture"===l,[s.default.drawerEdit]:"edit"===l,[s.default.drawerMedia]:"media"===l,[s.default.drawerGallery]:"gallery"===l,"drawer-verification":"verification"===l});return o.createElement(i.default,{className:c,onDragOver:this.onDragOver,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd},n&&o.createElement(u.default,{ref:this.setDragAndDropRef,disableFromWithin:!0,onDragChange:r,onDrop:n}),t)}}]),t}();f.displayName="Drawer",t.default=f},djchfddccj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=n("dbajccegac"),o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.binary=new a(t)}return r(e,[{key:"readByte",value:function(){return this.binary.readUint8()}},{key:"readInt16",value:function(){return this.binary.readUint16()}},{key:"readInt20",value:function(){return((15&this.binary.readUint8())<<16)+(this.binary.readUint8()<<8)+this.binary.readUint8()}},{key:"readInt32",value:function(){return this.binary.readUint32()}},{key:"readString",value:function(e){return this.binary.readString(e)}},{key:"readBytes",value:function(e){return this.binary.readBuffer(e)}},{key:"debugInfo",value:function(){return`offset: ${this.binary._readIndex} byte: ${this.binary._buffer[this.binary._readIndex]}`}},{key:"debugInfoWithPadding",value:function(){var e=this.binary._buffer.slice(Math.max(0,this.binary._readIndex-20),this.binary._readIndex).toString(),t=this.binary._buffer.slice(this.binary._readIndex,Math.min(this.binary._buffer.length,this.binary._readIndex+20)).toString();return`offset: ${this.binary._readIndex} byte: ${this.binary._buffer[this.binary._readIndex]} previous 20 bytes: ${e}\n        following 20 bytes: ${t}\n        `}}]),e}();t.default=o},djcjgfjggc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=P(n("ddhijeejag")),i=n("bgiachiigg"),u=n("cicgeajfge"),s=P(n("cajijabhgb")),l=n("bgddggdhc"),c=n("ddajbaceej"),f=n("ccgdfaeibd"),d=w(n("hbabifghf")),p=w(n("bhfeffjbfg")),h=w(n("igbbahaj")),m=w(n("dhfbfehaef")),b=w(n("bfbggcdbfb")),g=w(n("bbgcdfeifh")),v=w(n("bjbedjfe")),y=w(n("dgdeceggdh")),_=P(n("ebggjhghhi")),E=w(n("bcddhhfhda")),j=w(n("ceddibdhdb")),O=w(n("chhcagejdh")),S=w(n("bjieiiccce"));function w(e){return e&&e.__esModule?e:{default:e}}function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var M=void 0;M="3o85xmWDYKgihhIKSA";var C="DLAQBEYLJJIM",T={giphy:b.default.GIF_SEARCH_PROVIDER.GIPHY,tenor:b.default.GIF_SEARCH_PROVIDER.TENOR},A={giphy:i.VIDEO_MESSAGE_ATTRIBUTION.GIPHY,tenor:i.VIDEO_MESSAGE_ATTRIBUTION.TENOR},N=new y.default(function(e){switch((0,f.gifProvider)()){case"giphy":return function(e){var t=e===h.default.TRENDING,n=void 0;if(t)n=S.default.request("https://api.giphy.com/v1/gifs/trending","GET",{api_key:M,limit:100,rating:"pg-13"},"json");else{var r=l10n.getLocale(),a=void 0;f.GIPHY_LOCALES.includes(r)&&(a=r),n=S.default.request("https://api.giphy.com/v1/gifs/search","GET",{q:e,api_key:M,limit:100,rating:"pg-13",lang:a},"json")}return n.catch(function(){return null}).then(function(e){return e&&e.status<300&&function(e,t){if(!e||!Array.isArray(e.data))return[];for(var n=e.data,r=[],a=0;a<n.length;a++){var o=n[a];if(o&&o.images){var i=o.images,u=i.downsized_small,s=i.preview_mp4,l=i.preview_webp,c=i.preview_gif;if(u){var d=u.mp4,p=parseInt(u.width,10),h=parseInt(u.height,10);d&&p&&h&&r.push(new f.GifInfo(r.length,d,u.size,s&&s.mp4||void 0,l&&l.url||c&&c.url||void 0,Math.round(p*f.TARGET_GIF_HEIGHT/h),f.GIPHY,t))}}}return r}(e.response,t)})}(e);case"tenor":return function(e){var t=e===h.default.TRENDING,n=l10n.lng().replace("-","_"),a=void 0;a=t?S.default.request("https://wa.tenor.co/v1/trending","GET",{key:C,limit:50,contentfilter:"high",locale:n},"json"):S.default.request("https://wa.tenor.co/v1/search","GET",{q:e,key:C,limit:50,contentfilter:"high",locale:n},"json");return a.catch(function(){return null}).then(function(e){return e&&e.status<300&&function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e||!Array.isArray(e.results))return[];for(var n=e.results,a=[],o=0;o<n.length;o++){var i=n[o];if(i&&i.media&&i.media[0]){var u=i.media[0],s=u.tinymp4,l=u.previewmp4,c=u.previewgif;if(s){var d=r(s.dims,2),p=d[0],h=d[1];a.push(new f.GifInfo(a.length,s.url,s.size,l&&l.url||void 0,c&&c.url||void 0,Math.round(p*f.TARGET_GIF_HEIGHT/h),f.TENOR,t))}}}return a}(e.response)})}(e);default:throw new Error(`Unrecognized provider ${(0,f.gifProvider)()}`)}},{maxCached:6,maxAge:36e4,shouldCache:function(e){return!(!e||!e.length)}}),k={UP:"UP",DOWN:"DOWN",LEFT:"LEFT",RIGHT:"RIGHT"},I=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._scrollTop=0,n._didSendGif=!1,n._onlineRestarter=null,n._pendingQuery=null,n.refGifs={},n.refGifsBySectionId={},n.setRefGif=function(e,t){var a=r(e,2),o=a[0],i=a[1];t?(n.refGifs[o]=t,n.refGifsBySectionId[i]=t):(delete n.refGifs[o],delete n.refGifsBySectionId[i])},n.setRefGifCache=new E.default(n.setRefGif),n.onSend=function(e){var t=T[e.attribution];new b.default.GifFromProviderSent({gifSearchProvider:t}).commit(),e.trending||"number"!=typeof e.rank||new b.default.GifSearchResultTapped({gifSearchProvider:t,rank:e.rank}).commit(),n._didSendGif=!0,n.props.onGif(e.url,A[e.attribution])},n.animateGif=function(){var e=n._animatingRow,t=n._scrollTop+f.GAP_SIZE;n._starredGifs&&(t-=n._starredGifs.getClientHeight()||0);var r=Math.round(t/(f.TARGET_GIF_HEIGHT+f.GAP_SIZE)),a=n.state.gifRows[r];if(a&&a.gifs.length&&a!==e){if(n._animatingRow=a,e)for(var o=0;o<e.gifs.length;o++)n.setGifAnimating(e.gifs[o].gifId,!1);for(var i=0;i<a.gifs.length;i++)n.setGifAnimating(a.gifs[i].gifId,!0)}[r+1,r-1].forEach(function(e){if(n.state.gifRows[e])for(var t=n.state.gifRows[e].gifs,r=0;r<t.length;r++)n.setGifAnimating(t[r].gifId,!1)})},n.searchForAndSetGifs=function(){var e=T[(0,f.gifProvider)()],t=n.props.searchText||n.props.selectedSectionId,r=N.getOrRun(t);r=r.then(),n._pendingQuery=r,r.checkpoint(n.props.rejectOnUnmount()).then(function(a){if(a&&0===a.length&&new b.default.GifSearchNoResults({gifSearchProvider:e}).commit(),r===n._pendingQuery&&(n._pendingQuery=null,a)){t||new b.default.GifTrendingViewed({gifSearchProvider:e}).commit();var o=n._containerDom&&n._containerDom.clientWidth||0;o-=2*f.GAP_SIZE,n._resetScroll=!0,n._animateTimer.debounce(0),n.setState({gifRows:R(a,o),width:o})}}).catch(s.Unmount,Promise.CancellationError,function(){}),setTimeout(function(){n.props.rejectOnUnmount().isPending()&&t===n.props.searchText&&new b.default.GifSearchPerformed({gifSearchProvider:e}).commit()},500)},n.onStarredGifsMount=function(e){n._starredGifs=e},n.onContainerMount=function(e){n._containerDom=e,null!=e&&e&&n._resetScroll&&(e.scrollTop=0)},n.initSelection=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n._starredGifs&&n._starredGifs.hasGifs()&&!e?n._starredGifs&&n._starredGifs.component&&n._starredGifs.component.initSelection():(n.selection=[0,0],n.focusGif())},n.getNewColPostion=function(e){var t=n.state.gifRows,r=[n.selection[0],n.selection[1],t[Math.min(n.selection[0],t.length-1)].gifs.length-1,t[Math.min(n.selection[0]+1,t.length-1)].gifs.length-1,t[Math.max(n.selection[0]-1,0)].gifs.length-1],a=r[0],o=r[3],i=r[4],u=r[1]/r[2];switch(e){case k.UP:var s=Math.floor(i*u);return[Math.max(a-1,0),s];case k.DOWN:return[a+1,Math.floor(o*u)]}return[0,0]},n.handleArrowKeys=function(e,t){var r=n.state.gifRows,a=[n.selection[0],n.selection[1]],o=a[0],i=a[1];switch(t){case k.UP:if(0===o)return;n.selection=n.getNewColPostion(k.UP);break;case k.DOWN:if(o===r.length-1)return;n.selection=n.getNewColPostion(k.DOWN);break;case k.LEFT:if(0===i&&0===o)return;n.selection=0===i?n.getNewSelection(o-1,r[o-1].gifs.length-1):n.getNewSelection(o,i-1);break;case k.RIGHT:r[o]?r[o].gifs.length===i+1?n.selection=n.getNewSelection(o+1,0):n.selection=n.getNewSelection(o,i+1):n.selection=[0,0]}n.stopEvent(e),n.focusGif()},n.stopEvent=function(e){e&&(e.preventDefault(),e.stopPropagation())},n.restoreFocus=function(){},n.focusGif=function(){var e=n.selection.join("_"),t=n.refGifsBySectionId[e];if(t){var r=(0,l.forbiddenAssertDOMNode)(t);(0,c.focus)(r),n.props.scrollGifIntoViewIfNeeded(r)}},n.handleUpArrow=function(e){n.handleArrowKeys(e,k.UP)},n.handleDownArrow=function(e){n.handleArrowKeys(e,k.DOWN)},n.handleLeftArrow=function(e){n.handleArrowKeys(e,k.LEFT)},n.handleRightArrow=function(e){n.handleArrowKeys(e,k.RIGHT)},n.handleEnter=function(e){n.stopEvent(e);var t=n.state.gifRows,r=[n.selection[0],n.selection[1],n.selection[2]],a=r[0],o=r[1];n.onSend(t[a].gifs[o])},n._scrollTop=0,n._animatingRow=null,n._containerDom=null,n._didSendGif=!1,n.state={gifRows:[],width:0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.searchText!==this.props.searchText&&this.scheduleQuery()}},{key:"shouldComponentUpdate",value:function(e,t){return e.onGif!==this.props.onGif||t.gifRows!==this.state.gifRows||e.selectedSectionId!==this.props.selectedSectionId}},{key:"UNSAFE_componentWillMount",value:function(){var e=this;this._searchTimer=new j.default(this.searchForAndSetGifs),this._animateTimer=new j.default(this.animateGif),this._onlineRestarter=Promise.loop(function(){return _.waitForBBEvent(g.default,"change:online",function(){return g.default.online}).then(function(){return e.scheduleQuery()})}).cancellable(),this._onlineRestarter.catch(Promise.CancellationError,function(){}),this.searchForAndSetGifs(),new b.default.GifSearchSessionStarted({gifSearchProvider:T[(0,f.gifProvider)()]}).commit()}},{key:"componentWillUnmount",value:function(){this._animateTimer.cancel(),this._searchTimer.cancel(),this._onlineRestarter&&this._onlineRestarter.cancel(),this._didSendGif||new b.default.GifSearchCancelled({gifSearchProvider:T[(0,f.gifProvider)()]}).commit()}},{key:"scheduleQuery",value:function(){this._searchTimer.debounceAndCap(200,2e3)}},{key:"animateOnScroll",value:function(e){this._scrollTop=e.scrollTop,this._animateTimer.debounce(200)}},{key:"setGifAnimating",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.refGifs[String(e)];n&&n.setShouldAnimate(t)}},{key:"getNewSelection",value:function(e,t){return[Math.max(0,e),Math.max(0,t)]}},{key:"render",value:function(){var e=this,t=this.state.gifRows,n={up:this.handleUpArrow,down:this.handleDownArrow,left:this.handleLeftArrow,right:this.handleRightArrow,enter:this.handleEnter},r=t.map(function(t,n){var r=t.gifs.map(function(t,r){return o.createElement(d.default,{key:t.gifId,ref:e.setRefGifCache.getRefSetter([`${t.gifId}`,`${n}_${r}`]),gif:t,onSend:e.onSend})}),a=null;return t.blankStr&&(a=o.createElement("div",{className:p.default.blank,style:{flexBasis:t.blankStr}})),o.createElement("div",{key:n,className:p.default.row},r,a)}),a=this.props.selectedSectionId!==h.default.FAVORITES&&(0===r.length?o.createElement("div",{className:p.default.noResults},this.props.searchText?o.createElement(u.SearchWithoutKeyword,null):o.createElement(u.Loading,null)):o.createElement(m.default,{className:p.default.section,handlers:n},r)),i=!this.props.searchText&&this.props.selectedSectionId===h.default.FAVORITES&&o.createElement(O.default,{onSend:this.onSend,ref:this.onStarredGifsMount});return o.createElement("div",{className:p.default.searchContainer,ref:this.onContainerMount},a,i)}}]),t}();function R(e,t){for(var n=[],r=.9*t,a=e,o=null,i=.05;i<1&&a.length;i+=.05){a.sort(function(e,t){var n=e.rank-t.rank;return Math.abs(n)>8?n:t.width-e.width});for(var u=(1+i)*t,s=[],l=[],c=0;c<a.length;c++){for(var d=a[c],p=!1,h=Math.min(u-d.width,r),m=0;!p&&m<s.length;m++)s[m]<h&&(s[m]+=d.width+f.GAP_SIZE,l[m].push(d),p=!0);p||(s.push(d.width),l.push([d]))}if(1===l.length){a=[];var b=t-s[0]-f.GAP_SIZE;o={gifs:l[0],blankStr:b>0?`${b}px`:void 0}}else{a=[];for(var g=0;g<l.length;g++)s[g]>r?n.push(l[g]):a.push.apply(a,l[g])}}n.forEach(function(e){return e.sort(function(e,t){return e.rank-t.rank})}),n.sort(function(e,t){return e[0].rank-t[0].rank});var v=n.map(function(e){return{gifs:e,blankStr:void 0}});return o&&v.push(o),v}I.displayName="GifSearch";t.Component=I;t.default=(0,v.default)(I)},djdgcejjgf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("cccehdaiaf"),i=(r=o)&&r.__esModule?r:{default:r};var u=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.openVoipWindow=function(){e.manager&&e.manager.openVoipWindow()},e.closeVoipWindow=function(){e.manager&&e.manager.closeVoipWindow()},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"register",value:function(e){this.manager=e}},{key:"unregister",value:function(){this.manager&&this.manager.closeVoipWindow(),this.manager=null}}]),t}();t.default=new u},djdhjggcbi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n("eaaagccfda"),o=(r=a)&&r.__esModule?r:{default:r};t.default=function(){return i};var i=window.innerHeight,u=(0,o.default)(function(e){i=window.innerHeight},500);window.addEventListener("resize",u)},djeajhjhb:function(e,t,n){"use strict";var r,a=n("chgaccicf"),o=(r=a)&&r.__esModule?r:{default:r};e.exports=(0,o.default)({SEARCH:void 0,INACTIVE:void 0,ENTER:void 0,TAB:void 0,DOWN:void 0,UP:void 0})},djebbfefcf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=s(n("ddfihebbjf")),u=s(n("cgchdicacf"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.state={isAnimated:r.props.startAnimation,isReady:!1},r._setImgRef=function(e){r._imgRef=e},r._setUrlProviderRef=function(e){r._urlProviderRef=e},r._setCanvasRef=function(e){r._canvasRef=e},r._onImageLoad=function(){if(!r.state.isReady){var e=r._canvasRef,t=r._imgRef;e&&t&&(e.width=t.naturalWidth/2,e.height=t.naturalHeight/2,e.getContext("2d").drawImage(t,0,0,e.width,e.height)),r.props.startAnimation&&(r._startAnimationCountDown(),r.props.mediaData.animatedAsNewMsg=!0),r.setState({isReady:!0})}},r._onMouseEnter=function(){null==r._timeoutID&&(r.setState({isAnimated:!0}),r._startAnimationCountDown())},r._renderImage=function(e){return o.createElement("img",{className:(0,a.default)(r.props.className,{[u.default.hide]:!r.state.isReady||!r.state.isAnimated}),draggable:"false",src:e,ref:r._setImgRef,onLoad:r._onImageLoad})},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"componentWillUnmount",value:function(){null!=this._timeoutID&&clearTimeout(this._timeoutID)}},{key:"_startAnimationCountDown",value:function(){var e=this;this._timeoutID=window.setTimeout(function(){e._urlProviderRef&&e._urlProviderRef.refreshBlob(),e.setState({isAnimated:!1}),e._timeoutID=null},this.props.mediaData.animationDuration)}},{key:"_createRenderableUrl",value:function(){return URL.createObjectURL(new Blob([this.props.mediaData.mediaBlob.formData()]))}},{key:"render",value:function(){return o.createElement("div",{className:this.props.className,onMouseEnter:this._onMouseEnter,onClick:this.props.onClick},o.createElement(i.default,{ref:this._setUrlProviderRef,mediaData:this.props.mediaData,placeholderRenderer:this.props.placeholderRenderer,downloadMedia:this.props.downloadMedia},this._renderImage),o.createElement("canvas",{className:(0,a.default)(this.props.className,{[u.default.hide]:!this.state.isReady||this.state.isAnimated}),draggable:"false",ref:this._setCanvasRef}))}}]),t}();c.displayName="ControlledAnimatedSticker",t.default=c},djeffaehji:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e,t){switch(e){case c.APICmd.GROUP_INVITE:u.default.closeStatusViewer();var n=t;return u.default.openModal(a.createElement(l.default,{groupCode:n.code})),!0;case c.APICmd.MSG_SEND:u.default.closeStatusViewer();var g=t,v=g.text,y=g.phone,_=g.conversionTuple,E=g.businessOwnerJid,j=g.productId;if(E&&j){var O=(new h.default).toString();(0,f.logProductDeepLinkOpen)(j,E,O),u.default.openDrawerRight(a.createElement(m.default,{chat:(0,d.default)(o.default.active()),productInfo:{productId:j,businessOwnerJid:E},refreshCarousel:!0,sessionId:O}),"slide-left")}else if(y){u.default.openModal(a.createElement(p.default,{phone:y,msgText:v,onSuccess:function(e){_&&s.default.add(r({},_,{id:e.id,timestamp:i.default.globalUnixTime()}),{merge:!0});v&&(e.urlText=!0);e.urlNumber=!0}}),{transition:"modal-flow"})}else u.default.openModal(a.createElement(b.default,{msgText:v,urlText:!0}),{transition:"modal-flow"});return!0;default:return!1}};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=g(n("dbdfbgehgj")),i=g(n("cfadcbbiie")),u=g(n("bbchdeehff")),s=g(n("ccbihadedf")),l=g(n("djahiefbec")),c=n("jgficfddf"),f=n("bgjddhffji"),d=g(n("cahfddcdga")),p=g(n("cigddfbici")),h=g(n("deabffecii")),m=g(n("cfegjiegcd")),b=g(n("cdeciahhed"));function g(e){return e&&e.__esModule?e:{default:e}}},djegeegcbf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n("jcfacighg")),a=p(n("caejgeijci")),o=p(n("ceffhbhahb")),i=p(n("cgeeeeddea")),u=p(n("jbgjefjeb")),s=p(n("cbcegahcfg")),l=p(n("dghhefgjhc")),c=n("bbicdddbdj"),f=p(n("cjcejcdhic")),d=p(n("cecdfacjga"));function p(e){return e&&e.__esModule?e:{default:e}}var h=l.default.EMOJI.BUCKET_SIZE,m="",b="",g="",v="",y="",_="",E={"":!0,"":!0,"":!0,"":!0,"":!0,"":!0,"":!0,"":!0,"":!0,"":!0,"":!0,"":!0,"":!0,"":!0,"":!0,"":!0},j=Math.floor(Math.sqrt(h)),O=null,S=null,w=null,P=null,M=void 0;function C(){return(0,i.default)(null!=M,"Attempt to use EmojiUtil before it's been configured"),M}var T={configure(e){M=e},emojiRegex:function(){return O||(O=N()),O.lastIndex=0,O},convertToTextWithoutSpecialEmojis:function(e){if(!P){var t=(0,s.default)(Object.keys(u.default));P=new RegExp("("+t+")","g")}return P.lastIndex=0,e.replace(P,function(e){return u.default[e]})},containsEmoji:(0,a.default)(function(e){return O||(O=N()),O.test(e)}),getMatchedEmojis:function(e){var t=e;if(t.length>50||t.includes(" "))return null;t=(0,d.default)(t);var n=function(){S||(e=A(),S=new RegExp("^("+e+")("+e+")?("+e+")?$"));var e;return S.lastIndex=0,S}().exec(t);return n?(0,r.default)(n).slice(1):null},getEmojiPath:(e,t)=>(0,f.default)(C().emojiType,e,t),normalizeEmoji:(0,a.default)(function(e){return O||(O=N()),e?e.replace(O,function(e,t){if(E[t])return"";var n=C().emojiMap[t];return C().emojiToUnicode[n]||""}):""}),getUnicodeFromEmoji:function(e){return C().emojiToUnicode[e]},getEmojiFromUnicode:function(e){return C().emojiMap[e]},isEmojiCached:function(e){var t=k(e);return C().emojiCached.get(t)},cacheEmoji:function(e){var t=k(e);C().emojiCached.set(t)},getEmojiListInCategory:function(e){return C().emojiCategory[e]},getCategoryString:function(e){var t=C().emojiIdToCategory[e];null==t&&(t=c.VARIATION_CATEGORY);return c.CATEGORY_ORDERING[t]},getClasses:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"small";return(0,o.default)(`b${function(e){var t=k(e);return`${Math.floor(t/h)}`}(e)}`,"small"===t?"emoji":"emojik",C().emojiType===c.EMOJI_TYPE.APPLE?"apple":"wa")},getStyle:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"small",n=function(e,t){var n=k(e),r=n%h,a=n>=C().lastBucketId?C().lastBucketCols:j,o=c.EMOJI_WIDTH[t],i=Math.floor(r/a);return{xpos:Math.floor(r%a)*o,ypos:i*o,width:o}}(e,t),r=n.xpos,a=n.ypos;return{backgroundPosition:`-${r}px -${a}px`}},skinToneEmojis:{},skinToneVariations:["","","","",""],variantToUnicode:function(e,t){var n=e.split(b);if(n.length>1)return`${n[0]}${t}${b}`;var r=e.split(m);if(r.length>1)return`${r[0]}${t}${m}`;var a=e.split(y);if(a.length>1)return`${g}${t}${a[1]}`;var o=e.split(_);if(o.length>1)return`${v}${t}${o[1]}`;return`${e}${t}`}};function A(){return w||(w=(0,s.default)(Object.keys(C().emojiMap).concat(Object.keys(E)))),w}function N(){var e=A();return new RegExp("("+e+")","g")}function k(e){return e-1}t.default=T},djfbibifah:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(e,t){var n=e.reduce(function(e,t){var n=t.hooks;return n?(Object.keys(n).forEach(function(r){e[r]||(e[r]=[]),e[r].push([t,n[r]])}),e):e},{});return Object.keys(n).reduce(function(e,a){return e[a]=function(e,t){return function(){for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];e.forEach(function(e){var n=r(e,2),o=n[0],i=n[1];return i.call.apply(i,[o].concat(a,[t]))})}}(n[a],t),e},{})}},djfhiceeje:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StarredMsgCollection=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.addStarredMsgs=function(e){m.add(e),e.forEach(function(e){e.chat.starredMsgs&&e.chat.starredMsgs.add(e)}),c.default.add(e)},t.removeStarredMsgs=b;var a=p(n("cgcgbfbffj")),o=p(n("baagejbchg")),i=p(n("bdiiahhjbe")),u=p(n("cbcbdjdah")),s=p(n("biecbbiiee")),l=p(n("cahfddcdga")),c=p(n("dfgeejdaib")),f=n("eaaehfdjdg"),d=p(f);function p(e){return e&&e.__esModule?e:{default:e}}var h=t.StarredMsgCollection=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.syncPromise=null,e.isSynced=!1,e.listenTo(d.default,"change:stream",function(){d.default.stream===f.STREAM.DISCONNECTED?e.isSynced=!1:d.default.stream===f.STREAM.CONNECTED&&e.delete()}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"process",value:function(e,t,n,r){r?this.delete():this.updateMsgs(e,t,n)}},{key:"sync",value:function(e){if(this.isSynced)return Promise.resolve();if(null!=this.syncPromise)return this.syncPromise;var t=this,n=void 0,r=this.last();return r&&(n=r.id),this.syncPromise=s.default.getStarred(e,o.default.PAGE_SIZE,n).then(function(e){e.length&&t.add(e,{silent:!0}),e.length<o.default.PAGE_SIZE&&(t.isSynced=!0)}).catch(function(e){i.default.error("starred msg sync error: ",e)()}).finally(function(){t.syncPromise=null,t.trigger("sync")}),this.trigger("sync"),(0,l.default)(this.syncPromise,"syncPromise can not be null")}},{key:"updateMsgs",value:function(e,t,n){var r=this,a=this.syncPromise||Promise.resolve();this.syncPromise=a.then(function(){return e?(t.length>0?s.default.incrementalStarredUpdate(t):Promise.resolve([])).then(function(e){var t=e.concat(n);r.isSynced&&(r.add(t,{silent:!0}),c.default.add(e)),t.forEach(function(e){e.chat.starredMsgs&&e.chat.starredMsgs.add(e)}),r.trigger("sync")}).catch(function(e){i.default.error("models:starred:update:error: ",e)()}):(b(t.concat(n).filter(function(e){return!e.star})),Promise.resolve())}).finally(function(){r.syncPromise=null})}},{key:"delete",value:function(){this.isSynced=!1,function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this)}}]),t}();h.model=u.default,h.comparator=function(e,t){return t.t-e.t};var m=void 0;function b(e){m.remove(e),e.forEach(function(e){e.chat.starredMsgs&&e.chat.starredMsgs.remove(e)})}m=new h,t.default=m},djfhifiigg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e||!(0,r.isString)(e))throw new Error("MsgKey fromString error: str is null or not a string");var t=e.split("_");t.length<3&&a.get().log(r.LogLevels.ERROR,"MsgKey error: cannot create MsgKey from "+e,!1);return{fromMe:"true"===t[0],remote:t[1],id:t[2],participant:t[4]?t[4]:void 0}};var r=n("hjbbdjjdf"),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("bhehfiebbd"))},djggfadejg:function(e,t){e.exports={container:"_3L6MW",isLinkMsg:"_3Lmfg",text:"_1tHfI"}},djgjhgjdcd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("ceddibdhdb"),i=(r=o)&&r.__esModule?r:{default:r};var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s.call(this),this.loggingCallback=t,this.timer=new i.default(this.ship),this._initSession(),this._initArray(Math.floor(Date.now()/1e3))}return a(e,[{key:"_initSession",value:function(){this.cumulativeBitsSet=0,this.sequenceId=-1,this.sessionId=Math.floor(2147483648*Math.random()).toString(36)}},{key:"_initArray",value:function(e){this.startTimeInSec=e,this.lastActiveInMS=1e3*this.startTimeInSec,this.bitmap=new Int32Array(2),this.bitmap[0]=1,this.bitmapLength=1,this.cumulativeBitsSet+=1,this.sequenceId+=1;this.timer.debounceAndCap(64e3,64e3)}},{key:"_doUpdate",value:function(e){var t=e-this.startTimeInSec;this.bitmap&&(t<0||t>=64)&&this.ship(),this.bitmap?(this.bitmap[t>>5]|=1<<(31&t),this.bitmapLength=t+1,this.cumulativeBitsSet+=1,this.lastActiveInMS=1e3*e):this._initArray(e)}},{key:"update",value:function(e){e>=this.lastActiveInMS&&e-this.lastActiveInMS<1e3||this._doUpdate(Math.floor(e/1e3))}},{key:"shipAndEndSession",value:function(e){this.ship(e),this._initSession()}}]),e}(),s=function(){var e=this;this.ship=function(t){var n=e.bitmap;if(n){var r=Date.now();r>e.lastActiveInMS&&(e.bitmapLength=Math.min(64,Math.ceil(r/1e3-e.startTimeInSec)));var a={sessionId:e.sessionId,startTime:e.startTimeInSec,bitmap:n,bitmapLen:e.bitmapLength,sessionSeq:e.sequenceId,sessionCum:e.cumulativeBitsSet};(t||e.loggingCallback)(a),e.timer.cancel(),e.bitmap=null}}};t.default=u},djhbejhbda:function(e,t,n){"use strict";var r={statusQueryThumbnail:function(e){return this.profilePicFindThumbFromPhone(e,void 0,!0)}};e.exports=r},djhbfghcdb:function(e,t){e.exports={label:"kmyjo",input:"_1PSHh"}},djhfffbdac:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HEIGHT=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=m(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=m(n("effbcehec")),u=n("ddajbaceej"),s=n("dhfbfehaef"),l=m(s),c=m(n("fffdgbfji")),f=m(n("bdhbdihbca")),d=n("eagfdbhhhh"),p=m(n("bfdcadbbif")),h=m(n("bcjcbbafcj"));function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.HEIGHT=56;var g=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={value:r.props.value||"",tabFocused:!!r.props.tabFocused},r._handleChange=function(e){var t=e.target.value;r.setState({value:t}),r.props.onChange&&r.props.onChange(t,e)},r._handleClearButtonClick=function(e){r.setState({value:""}),r.props.onChange&&r.props.onChange("",e)},r._handleDownKey=function(e){e.stopPropagation(),e.preventDefault(),r.props.onDownKey&&r.props.onDownKey(e)},r._handleEnterKey=function(e){e.preventDefault(),e.stopPropagation(),r.props.onEnterKey&&r.props.onEnterKey(e)},r._handleFocus=function(e){r.focus()},r._setRefInput=function(e){r._refInput=e},r._setRefInputContainer=function(e){r._refInputContainer=e},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"focus",value:function(e){this._refInput&&(this.hasFocus()||(e&&(0,s.shouldIndicateFocus)(),(0,u.focus)(this._refInput),e&&(0,s.indicateFocus)(this._refInputContainer,["#e0e1e2","#d9f3ff"])))}},{key:"hasFocus",value:function(){return!!document.activeElement&&this._refInput===document.activeElement}},{key:"render",value:function(){var e=null;return this.state.value&&!this.props.tabFocused&&(e=o.createElement("button",{className:f.default.cancelIcon,onClick:this._handleClearButtonClick},o.createElement(p.default,{name:"x-alt-small"}))),o.createElement(l.default,{handlers:{enter:this._handleEnterKey,down:this._handleDownKey},"data-tab":4,className:(0,a.default)(f.default.searchRow,{[f.default.ffFix]:h.default.isGecko,[f.default.rowShadow]:this.props.shadow}),key:"search-input",onFocus:this._handleFocus},o.createElement("label",{ref:this._setRefInputContainer,className:f.default.rowInput},o.createElement("div",{className:f.default.inputContainer},o.createElement("input",{"data-a8n":i.default.key("input-emoji-search"),ref:this._setRefInput,className:(0,a.default)(f.default.inputEmojiSearch,d.SELECTABLE_INPUT_CSS_CLASS),type:"text",dir:c.default.isRTL()?"rtl":"ltr",value:this.props.tabFocused?"":this.state.value,title:this.props.label,placeholder:this.props.label,onMouseDown:function(e){e.stopPropagation()},onChange:this._handleChange}),e)))}}],[{key:"getDerivedStateFromProps",value:function(e){return{value:e.value,tabFocused:e.tabFocused}}}]),t}();g.displayName="PanelSearchInput",t.default=g},djhhbaegjb:function(e,t){e.exports={positioningContainer:"_15EmS",resultsContainer:"_3312R",overlayContainer:"_2j-wI",mediaCaption:"f2pyv"}},djhiiadbhh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n("cgcgbfbffj")),a=o(n("efajhdaja"));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),t}();i.model=a.default,t.default=i},djibdcebeh:function(e,t){e.exports={action:"_2GB6m",container:"_3O0po",wrapper:"_25f0v",butterbar:"_2-Q3h",icon:"_1Tv0N",body:"_3K1Z_",controls:"_1cvvW",title:"_28Bny",text:"_2JIoO",notification:"_1sFYw",update:"_3Dr0Q",computer:"_2xikZ",phone:"_1puWZ",battery:"_2t3oV",actionText:"_11zMf",actionLink:"_1bLBY",chevron:"_3vCgA"}},djicgijbjb:function(e,t){e.exports={messageText:"_2HHbr",composeBoxQuotedMsg:"hJLQA"}},djicifaabb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=y(n("hhegggegb")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=y(n("ejegihaeh")),u=y(n("baagejbchg")),s=y(n("djcchigfih")),l=y(n("djbhiedbef")),c=n("dajffajabh"),f=y(c),d=y(n("bggeiidigb")),p=n("bgjddhffji"),h=y(n("deahbiefdi")),m=y(n("eadgjjifdb")),b=y(n("cijihedhb")),g=y(n("becfabjeeg")),v=y(n("ihfccfgdf"));function y(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,s=Array(o),l=0;l<o;l++)s[l]=arguments[l];return n=a=_(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.catalogFlatListController=new d.default,a.state={loadingMore:!1,loadedProducts:0,stopLoading:!1},a._handleScroll=function(e){a.state.loadingMore||e.scrollTop+u.default.SCROLL_FUDGE>e.scrollHeight-e.clientHeight&&a.loadMoreProduct()},a.handleScroll=(0,r.default)(a._handleScroll,100),a.loadMoreProduct=function(){var e=a.props.catalogId,t=a.state,n=t.stopLoading,r=t.loadedProducts;if(!n){var o=i.default.assertGet(e);if(o.afterCursor){var s=o.productCollection.getProductModels().length;a.setState({loadingMore:!0,loadedProducts:s}),i.default.update(e).then(function(e){a.setState({loadingMore:!1}),(Array.isArray(e)?e[0]:e).productCollection.getProductModels().length===r&&a.setState({stopLoading:!0}),s*u.default.PRODUCT_LIST_ITEM_HEIGHT<window.innerHeight&&a.loadMoreProduct()}).catch(function(e){a.setState({loadingMore:!1,stopLoading:!0})})}}},a.onScroll=function(e){a.handleScroll(e.currentTarget)},_(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.catalogId,n=e.sessionId;(0,p.logCatalogListView)(t.toString(),n),this.loadMoreProduct()}},{key:"render",value:function(){var e=this.props,t=e.catalogId,n=e.contact,r=e.sessionId,a=this.props.businessProfile,u=this.state.loadingMore?o.createElement("div",{className:m.default.searchSpinner},o.createElement(g.default,{stroke:6,size:24})):null,d=l10n.t(894),p=i.default.assertGet(t);return o.createElement(s.default,{theme:"products",onDrop:this.props.onBack},o.createElement(f.default,{title:d,type:c.DRAWER_HEADER_TYPE.SMALL,onBack:this.props.onBack}),o.createElement(l.default,{onScroll:this.onScroll,flatListControllers:[this.catalogFlatListController]},a?o.createElement("div",{className:m.default.header},o.createElement(b.default,{profilePicThumb:n.getProfilePicThumb(),contact:n,businessProfile:a})):null,o.createElement("div",{className:m.default.list},o.createElement(h.default,{onProductDetail:this.props.onProductDetail,flatListController:this.catalogFlatListController,catalog:p,sessionId:r}),u)))}}]),t}();E.CONCERNS={contact:["id"]},E.displayName="ProductListDrawer",t.default=(0,v.default)(E,E.CONCERNS)},djidacbicd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=d(n("bbchdeehff")),i=d(n("eceadcicaf")),u=d(n("cahfddcdga")),s=d(n("fbjjefaic")),l=d(n("bcjcbbafcj")),c=n("eaaehfdjdg"),f=d(c);function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.startCheckForSuccess=function(){r.checkIteration=0,r.checkForSuccessInterval=r.props.setInterval(r.checkForSuccess,250)},r.clearCheckForSuccess=function(){r.checkForSuccessInterval&&(r.props.clearInterval(r.checkForSuccessInterval),r.checkForSuccessInterval=0,r.checkIteration=0)},r.checkForSuccess=function(){if(f.default.state===c.STATE.CONNECTED){r.checkIteration++;var e=r.props.url;if(r.checkIteration>40)r.onPlayerError({target:{src:e,error:{code:window.MediaError.MEDIA_ERR_NETWORK}}});else{var t=(0,u.default)(r._audioElement),n=t.buffered;n&&n.length&&n.end(0)>0&&r.onPlaying({target:t})}}},r.onPlayerError=function(e){r.clearCheckForSuccess(),r.props.onError&&r.props.onError(e.target.src)},r.onOtherPlaying=function(e){e!==r&&(0,u.default)(r._audioElement).pause()},r.onPlaying=function(e){r.clearCheckForSuccess(),o.default.mediaPlaying(r),r.props.onPlay&&r.props.onPlay(e)},r._setRefAudio=function(e){r._audioElement=e},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){var e=this.props.listeners,t=(0,u.default)(this._audioElement);e.add(t,"error",this.onPlayerError,!0),e.add(t,"playing",this.onPlaying),e.add(o.default,"mediaPlaying",this.onOtherPlaying),(l.default.isGecko||l.default.isSafari)&&(this.props.autoPlay?(this.checkIteration=0,this.checkForSuccessInterval=this.props.setInterval(this.checkForSuccess,250)):this.props.autoPlay?this.startCheckForSuccess():e.add(t,"play",this.startCheckForSuccess))}},{key:"render",value:function(){return a.createElement("audio",{ref:this._setRefAudio,src:this.props.url,className:this.props.className,onClick:this.props.onClick,controls:this.props.controls,preload:this.props.preload,type:this.props.type,autoPlay:this.props.autoPlay},this.props.children)}}]),t}();h.displayName="AudioTag",t.default=(0,i.default)((0,s.default)(h))},djidhiidef:function(e,t){e.exports={text:"_12pGw",template:"_1K1bk",placeholderIn:"_2v02G",placeholderOut:"_3uHCS",spacer:"EopGb",icons1:"_3HIqo",icons2:"_2COY9",icons3:"_1sra5",icons4:"_3hYwe"}},djidjciehe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=n("eagfdbhhhh");function o(e){var t=e.href,n=e.children,o=e.selectable;return r.createElement(a.SelectableLink,{href:t,title:t,target:"_blank",rel:"noopener noreferrer",selectable:o},n)}o.displayName="Link",o.defaultProps={children:""},t.default=o},djiejaiah:function(e,t){e.exports={chatControls:"_2kYeZ",chatAvatar:"_1SwuT",chatHeader:"_3fs0K",chatBody:"_3V5x5",chatMain:"_1lpto",chatTitle:"_19vo_"}},djifeiaaea:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("bgiachiigg");var i=n("cgbdhdjdcf"),u={};u[o.EXTENDED_TEXT_MESSAGE_FONTTYPE.SERIF]={google:{families:["Roboto"]}},u[o.EXTENDED_TEXT_MESSAGE_FONTTYPE.SANS_SERIF]={google:{families:["Droid Serif"]}},u[o.EXTENDED_TEXT_MESSAGE_FONTTYPE.NORICAN_REGULAR]={google:{families:["Norican"]}},u[o.EXTENDED_TEXT_MESSAGE_FONTTYPE.BRYNDAN_WRITE]={custom:{families:["Bryndan-Write"]}},u[o.EXTENDED_TEXT_MESSAGE_FONTTYPE.OSWALD_HEAVY]={google:{families:["Oswald:bold"]}};var s={};s[o.EXTENDED_TEXT_MESSAGE_FONTTYPE.BRYNDAN_WRITE]=`@font-face {font-family:"Bryndan-Write"; src:url("${i}") format("truetype");}`;var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.loadedFonts={},this.loadingPromise={}}return a(e,[{key:"load",value:function(e){var t=this;if(this.loadedFonts[e])return Promise.resolve();if(this.loadingPromise[e])return this.loadingPromise[e];var n=u[e],a=s[e],o=(a?new Promise(function(e,t){var n=document.createElement("style");n.appendChild(document.createTextNode(a)),n.onload=e,n.onerror=t,document.head&&document.head.appendChild(n)}):Promise.resolve()).then(function(){return new Promise(function(a,o){var i=r({},n,{active:function(){t.loadedFonts[e]=!0,a()},inactive:function(){t.loadingPromise[e]=void 0,o("Failed to load font: "+e)}});WebFont.load(i)})});return this.loadingPromise[e]=o,o}}]),e}();t.default=new l},djigcbdaeh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=u(n("ccgchaejji")),i=u(n("bfdcadbbif"));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props.onClose?a.createElement("div",{className:o.default.closeBtn,role:"button",onClick:this.props.onClose},a.createElement(i.default,{name:"x"})):null;return a.createElement("div",{className:o.default.subheader},a.createElement("div",{className:o.default.main},this.props.children),e)}}]),t}();s.displayName="ConversationSubheader",t.default=s},djiibcjggg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=l(n("caghbagede")),u=l(n("bfdcadbbif")),s=l(n("didfdhbecg"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.onToggle=function(e){e&&e.stopPropagation(),r.props.onChange()},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){var e=void 0,t=void 0;this.props.checked?(t="checkbox-round-checked",e="checked"):(e="unchecked",t=this.props.hover?"checkbox-round-unchecked":"checkbox-round-passive");var n=(0,a.default)(i.default.roundIcon,{[i.default.unchecked]:!this.props.checked&&this.props.hover,[i.default.passive]:!this.props.checked&&!this.props.hover});return o.createElement(s.default,{className:i.default.container,transitionName:"pop"},o.createElement("div",{className:n,key:e,onClick:this.onToggle},o.createElement(u.default,{name:t})))}}]),t}();f.displayName="CheckBoxRound",t.default=f},djiifidhej:function(e,t,n){"use strict";var r=u(n("dbajccegac")),a=u(n("ccebfaijda")),o=u(n("bdiiahhjbe")),i=u(n("jccfhaecf"));function u(e){return e&&e.__esModule?e:{default:e}}e.exports=function(e){var t=void 0,n={},u=e.nibbleEncode;for(t=0;t<e.singleByte.length;t++)e.singleByte[t]&&(n[e.singleByte[t]]=t);for(t=0;t<e.doubleByte.length;t++)e.doubleByte[t]&&(n[e.doubleByte[t]]=t+a.default.SINGLE_BYTE_MAX);this.writeNode=function(e,t){if(t){if(3!==t.length)throw new Error("invalid node");var n=t[1]?2*Object.keys(t[1]).filter(function(e){return!!t[1][e]}).length:0;this.writeListStart(e,1+n+(t[2]?1:0)),this.writeString(e,t[0]),this.writeAttributes(e,t[1]),this.writeChildren(e,t[2])}},this.writeString=function(e,t,r){if("string"!=typeof t&&!(t instanceof i.default))throw o.default.error(`writer:writeString passed non-string/wid type: ${typeof t}`)(t),new Error("invalid string");if(t instanceof i.default)this.writeJid(e,t.user,t.server);else{var u=n.hasOwnProperty(t)?n[t]:void 0,s=void 0,l=void 0;if("c.us"!==t||r)if(void 0===u){var c=t.indexOf("@");if(c<1)this.writeStringRaw(e,t);else{var f=t.substring(0,c),d=t.substring(c+1);this.writeJid(e,f,d)}}else{if(u<a.default.SINGLE_BYTE_MAX)this.writeToken(e,u);else{var p=u-a.default.SINGLE_BYTE_MAX;switch(l=p%256,p>>8){case 0:s=a.default.DICTIONARY_0;break;case 1:s=a.default.DICTIONARY_1;break;case 2:s=a.default.DICTIONARY_2;break;case 3:s=a.default.DICTIONARY_3;break;default:throw new Error("double byte dictionary token out of range: "+t+" "+u)}}this.writeToken(e,s),this.writeToken(e,l)}else this.writeToken(e,n["s.whatsapp.net"])}},this.writeStringRaw=function(e,t){var n=r.default.numUtf8Bytes(t);if(n>=4294967296)throw new Error("string too large to encode (len = "+n+"): "+t);n>=1<<20?(e.pushByte(a.default.BINARY_32),e.pushInt32(n)):n>=256?(e.pushByte(a.default.BINARY_20),e.pushInt20(n)):(e.pushByte(a.default.BINARY_8),e.pushByte(n)),e.pushString(t)},this.writeJid=function(e,t,n){if(e.pushByte(a.default.JID_PAIR),t)try{this.writePackedBytes(e,t)}catch(n){o.default.warnVerbose(`writer:encode-fallback "${n.message}"`)(t),this.writeString(e,t)}else this.writeToken(e,a.default.LIST_EMPTY);this.writeString(e,n)},this.writeToken=function(e,t){if(t<245)e.pushByte(t);else if(t<=500)throw new Error("invalid token")},this.writeAttributes=function(e,t){if(t){for(var n in this.isAttr=!0,t)t[n]&&(this.writeString(e,n),this.writeString(e,t[n]));this.isAttr=!1}},this.writeChildren=function(e,t){var n=void 0;if(t)if("string"==typeof t)this.writeString(e,t,!0);else if(t instanceof ArrayBuffer){if((n=t.byteLength)>=4294967296)throw new Error("invalid children; too long (len = "+n);n>=1<<20?(e.pushByte(a.default.BINARY_32),e.pushInt32(n)):n>=256?(e.pushByte(a.default.BINARY_20),e.pushInt20(n)):(e.pushByte(a.default.BINARY_8),e.pushByte(n)),e.pushBytes(t)}else{if(!Array.isArray(t))throw new Error("invalid children");n=t.length,this.writeListStart(e,n);for(var r=0;r<n;r++)this.writeNode(e,t[r])}},this.writeListStart=function(e,t){0===t?e.pushByte(a.default.LIST_EMPTY):t<256?(e.pushByte(a.default.LIST_8),e.pushByte(t)):(e.pushByte(a.default.LIST_16),e.pushInt16(t))},this.writePackedBytes=function(e,t){try{this.writePackedBytesImpl(e,t,a.default.NIBBLE_8)}catch(n){o.default.warn(`writer:enc nib fail, try hex "${n.message}"`)(t),this.writePackedBytesImpl(e,t,a.default.HEX_8)}},this.writePackedBytesImpl=function(e,t,n){var o=r.default.numUtf8Bytes(t);if(o>a.default.PACKED_MAX)throw new Error("too many bytes to nibble-encode: len = "+o);var i=[],u=void 0,s=0;o%2>0&&(s=128);var l=s|Math.ceil(o/2);i.push(n),i.push(l);for(var c=Math.floor(o/2),f=0;f<c;f++)u=this.packBytePair(n,t[2*f],t[2*f+1]),i.push(u);s>0&&(u=this.packBytePair(n,t[o-1],"\0"),i.push(u));var d=new Uint8Array(i);e.pushUint8Array(d)},this.packBytePair=function(e,t,n){var r=void 0,o=void 0;switch(e){case a.default.NIBBLE_8:r=this.packNibble(t),o=this.packNibble(n);break;case a.default.HEX_8:r=this.packHex(t),o=this.packHex(n);break;default:throw new Error("invalid byte pack type: "+e)}return r<<4|o},this.packNibble=function(e){if(!u.hasOwnProperty(e))throw new Error("invalid byte to nibble-pack: "+e);return u[e]},this.packHex=function(e){switch(e){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"A":case"B":case"C":case"D":case"E":case"F":return parseInt(e,16);case"\0":return 15;default:throw new Error("packHex:invalid byte: "+e)}}}},djijgaefjc:function(e,t){e.exports={container:"C7Rx_",text:"_2wTpd",messageNewNumberButton:"P1xkW"}},djijjheei:function(e,t){e.exports={container:"_2EaHs"}},djjeigcdbe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=new RegExp("[A-Za-z-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]")},djjgggigcf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=y(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=y(n("cehjjfagii")),u=y(n("cadbaeefbb")),s=y(n("bbchdeehff")),l=y(n("baagejbchg")),c=y(n("fifhbjiec")),f=y(n("cieaeggjg")),d=n("bjhjaiccai"),p=y(n("deecfijhbf")),h=y(n("bcijadidjd")),m=y(n("bahgfcjcda")),b=y(n("dhefcajhhb")),g=y(n("ihfccfgdf")),v=y(n("cgfjebhhej"));function y(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._showContactsModal=function(){if(n.props.msg.vcardList){var e=n.props.msg.vcardList.map(function(e){return e.vcard});s.default.openModal(o.createElement(h.default,{vcardList:e}))}},n.state={loading:!0,vcardData:n._getVcardDisplayData(e.msg.vcardList)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"componentDidMount",value:function(){this._loadProfilePics()}},{key:"componentDidUpdate",value:function(e){e.msg.vcardList!==this.props.msg.vcardList&&(this.setState({loading:!0,vcardData:this._getVcardDisplayData(this.props.msg.vcardList)}),this._loadProfilePics())}},{key:"_getVcardDisplayData",value:function(e){return e.map(function(e){var t=e.displayName,n=e.vcard,r=v.default.parse(n);return{displayName:t,waids:v.default.vcardWAids(r),thumbnail:v.default.thumbnail(n)}})}},{key:"_loadProfilePics",value:function(){var e,t=this,n=(e=[]).concat.apply(e,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(this.state.vcardData.map(function(e){return e.waids}))).slice(0,10);Promise.map(n,function(e){return b.default.find(e)}).then(function(){t.setState({loading:!1,vcardData:t._sortVcardDisplayData()})})}},{key:"_sortVcardDisplayData",value:function(){var e=this;return this.state.vcardData.sort(function(t,n){var r=e._hasPic(t),a=e._hasPic(n);return r&&!a?-1:!r&&a?1:t.displayName<n.displayName?-1:t.displayName>n.displayName?1:0})}},{key:"_hasPic",value:function(e){return Boolean(v.default.thumbnailWAid(e.waids)||e.thumbnail)}},{key:"_renderProfilePics",value:function(e){for(var t=Math.min(e.length,3),n=[],r=0;r<t;r++){var a=e[r],i=a.waids,u=a.thumbnail,s=v.default.thumbnailWAid(i);this.state.loading||!s&&!u?n.push(o.createElement("div",{className:p.default.image,key:`default-pic-${r}`},o.createElement(m.default,{size:39,border:!0}))):n.push(o.createElement("div",{className:p.default.image,key:`profile-pic-${r}`},o.createElement(m.default,{waid:s,thumb:u,size:39,border:!0})))}return n}},{key:"render",value:function(){var e=this.props.msg,t=this.props.displayAuthor&&!e.isSentByMe&&e.isGroupMsg?o.createElement("div",{className:p.default.author},o.createElement(i.default,{msg:e,contact:e.senderObj})):null,n=this.state.vcardData,r=n.map(function(e){return e.displayName}),s=(0,d.getNameStringFromNames)(r),h=this._renderProfilePics(n),m=e.vcardList||e.chat.isTrusted(),b=this.props.quotedMsg?o.createElement("div",{className:p.default.quote},this.props.quotedMsg):null,g=(0,a.default)(p.default.bubble,{[p.default.hasAuthor]:t,[p.default.hasQuote]:b,[p.default.isPreview]:this.props.displayType===l.default.DISP_TYPE.MSG_INFO,[p.default.isGallery]:this.props.displayType===l.default.DISP_TYPE.STARRED_MSGS||this.props.displayType===l.default.DISP_TYPE.GALLERY});return o.createElement("div",{className:g},t,b,o.createElement("div",{className:p.default.vcard,role:m?"button":null,title:s,onClick:this._showContactsModal},o.createElement("div",{className:p.default.avatar},h),o.createElement("div",{className:p.default.body},o.createElement(c.default,{text:s,element:"div",className:p.default.name,dirMismatch:e.rtl!==l10n.isRTL(),direction:e.dir,wbr:15})),o.createElement("div",{className:p.default.meta},o.createElement(f.default,{msg:e}))),o.createElement(u.default,{items:[{label:l10n.t(755),onClick:this._showContactsModal}]}))}}]),t}();_.CONCERNS={msg:["rtl","dir","senderObj","vcardList","isSentByMe","isGroupMsg"]},_.displayName="MultiVcard",t.default=(0,g.default)(_,_.CONCERNS)},eaaihhcibf:function(e,t){e.exports={mediaPanelHeader:"cGLoy",mediaPanelTools:"_1GdY6",info:"_15eME"}},eabhibhged:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.sendStarMsgs=function(e,t,n){var r=void 0;r=o.default.supportsFeature(o.default.F.MD_BACKEND)?Promise.resolve():u.default.sendMessageStarred(e,t.map(function(e){return e.id}),n).then(function(e){if(200!==e.status)return Promise.reject(new a.ServerStatusCodeError(e.status))});return r.then(function(){return l(t,n)})},t.sendUnstarAll=function(e,t){var n=void 0;n=o.default.supportsFeature(o.default.F.MD_BACKEND)?Promise.resolve():u.default.sendUnstarAll(t).then(function(e){if(200!==e.status)return Promise.reject(new a.ServerStatusCodeError(e.status))});return n.then(function(){return l(e,!1)})};var a=n("ddjgcfjicj"),o=s(n("bjbdcigbdi")),i=s(n("bjdejebbgc")),u=s(n("bihdhbjih"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!o.default.supportsFeature(o.default.F.MODEL_STORAGE))return Promise.resolve();var n=e.map(function(e){var n=e.toJSON();return r({},n,{id:n.id.toString(),star:t})});return i.default.bulkCreateOrMerge(n)}},eacehgiidh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=E(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=E(n("cadbaeefbb")),u=E(n("jhcabjcaf")),s=E(n("bfjbdahdag")),l=E(n("bbchdeehff")),c=E(n("bjbdcigbdi")),f=E(n("dcebcbcdih")),d=E(n("fibdihid")),p=E(n("cjgafgfbff")),h=E(n("cfhehaefih")),m=E(n("cieaeggjg")),b=E(n("bahgfcjcda")),g=E(n("iiaihjfbi")),v=E(n("ihfccfgdf")),y=n("bheafeifce"),_=E(n("dbabefhajh"));function E(e){return e&&e.__esModule?e:{default:e}}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var O=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return n=r=j(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.onOpenInvite=function(){var e=r.props.msg;l.default.openModal(o.createElement(f.default,{msg:e}))},j(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.msg,n=e.displayAuthor,r=t.isGroupsV4InviteExpired,l=t.inviteGrpName;if(!c.default.supportsFeature(c.default.F.GROUPS_V_4_JOIN_PERMISSION))return o.createElement(p.default,{msg:(0,y.unproxy)(t),displayAuthor:n});var f=o.createElement(b.default,{size:49,thumb:this.props.msg.inviteGrpJpegThum}),v=t.comment?o.createElement("div",{className:d.default.caption},o.createElement(s.default,{msg:t,spacer:!0,trusted:t.isTrusted()})):null,E=r?null:o.createElement(i.default,{items:[{label:this.props.msg.isSentByMe?l10n.t(559):l10n.t(520),onClick:this.onOpenInvite}],theme:t.comment?void 0:"no-divider"}),j=!r||!v,O=j?o.createElement("div",{className:d.default.meta},o.createElement(m.default,{msg:t})):null,S=t.comment?l10n.t(557):o.createElement(g.default,{msg:t},l10n.t(557)),w=void 0;if(r){var P=v?l10n.t(553):o.createElement(g.default,{msg:t},l10n.t(553));w=o.createElement("div",{className:d.default.status},P)}return o.createElement(_.default,{msg:t,displayAuthor:n,hideMeta:j},o.createElement(u.default,{contact:t.senderObj,msg:t,className:(0,a.default)(d.default.container,{[d.default.expired]:r,[d.default.noCaption]:!v})},o.createElement("div",{className:d.default.linkPreview},o.createElement(h.default,{description:S,invite:!0,isSentByMe:t.isSentByMe,onClick:r?void 0:this.onOpenInvite,thumbnail:f,title:l,theme:r?"extended":void 0})),w,v,O),E)}}]),t}();O.CONCERNS={msg:["id","inviteCode","inviteCodeExp","inviteGrp","inviteGrpName","inviteGrpJpegThum","senderObj","comment","isSentByMe","isGroupMsg","isPSA","isGroupsV4InviteExpired"]},O.displayName="GroupsV4InviteMsg",t.default=(0,v.default)(O,O.CONCERNS)},eacifebjhe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("cbgabiccd"),i=(r=o)&&r.__esModule?r:{default:r};function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._i=0,r._prev=0,r._curr=0,u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"_next",value:function(){var e=void 0;return e=0===this._i?0:1===this._i?1:this._prev+this._curr,this._prev=this._curr,this._curr=e,this._i++,{done:!1,value:e}}}]),t}();t.default=s},eadgafjbag:function(e,t){e.exports={container:"_2avTY"}},eadgjjifdb:function(e,t){e.exports={header:"_36Ctd",list:"_33P-O",searchSpinner:"_2pRPd"}},eaecbgafff:function(e,t,n){"use strict";var r=i(n("digcccheca")),a=i(n("cbghhhdedg")),o=i(n("jhjgghei"));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,s=Array(i),l=0;l<i;l++)s[l]=arguments[l];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.handlers={onBeforeInput:a.default,onKeyDown:o.default},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),t}();e.exports=new s},eaehccahdc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("bcbahjefec")),i=s(n("dccdiajhdf")),u=s(n("cfegjiegcd"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.onProductClick=function(e,t){r.push(a.createElement(u.default,{refreshCarousel:!0,chat:r.props.msg.chat,product:e,sessionId:t,onEnd:r._pop}))},r._pop=function(){r.pop()},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"componentDidMount",value:function(){this.push(a.createElement(i.default,{msg:this.props.msg,onProductClick:this.onProductClick}))}}]),t}();t.default=c},eaejdgfgif:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n("dcaifjegcg"),o=(r=a)&&r.__esModule?r:{default:r};function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,u=Array(o),s=0;s<o;s++)u[s]=arguments[s];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.id=(0,a.prop)(),r.variant=(0,a.prop)(),i(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),t}();u.Proxy="emojiVariant",t.default=(0,a.defineModel)(u)},eaejieeafc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n("dcaifjegcg"),o=(r=a)&&r.__esModule?r:{default:r};function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,u=Array(o),s=0;s<o;s++)u[s]=arguments[s];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.id=(0,a.prop)(),r.parentType=(0,a.prop)(),r.parentId=(0,a.prop)(),r.labelId=(0,a.prop)(),i(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),t}();u.Proxy="labelItem",t.default=(0,a.defineModel)(u)},eafabiffad:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("dbhidcdghb")),i=l(n("ihfccfgdf")),u=l(n("bfdcadbbif")),s=l(n("eedjbihej"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props.msg,t=e.numTimesForwarded,n=e.isFrequentlyForwarded;if(t<=0||n)return null;var r=a.createElement(u.default,{name:"forwarded",display:"inline"}),i=l10n.t(467,{count:t,_plural:t});return a.createElement("div",{className:o.default.title},r,a.createElement(s.default,{theme:"title",className:o.default.text},i))}}]),t}();c.CONCERNS={msg:["numTimesForwarded","isFrequentlyForwarded"]},c.displayName="MsgInfoForwardCount",t.default=(0,i.default)(c,c.CONCERNS)},eafejccch:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendSetBlock=function(e,t){var n=void 0;n=a.default.supportsFeature(a.default.F.MD_BACKEND)?Promise.reject(new Error("Should not reach here")):i.default.sendSetBlock(e,[{jid:t}]).then(function(e){if(200!==e.status)throw new r.ServerStatusCodeError(e.status);var t=!(e._duplicate||200!==e.status);return t});return n.then(function(n){if(n&&a.default.supportsFeature(a.default.F.MODEL_STORAGE)){var r=e?o.Blocklist.create({id:t.toString()}):o.Blocklist.remove(t.toString());return r.then(function(){return n})}return n})};var r=n("ddjgcfjicj"),a=u(n("bjbdcigbdi")),o=n("cefcddgdgg"),i=u(n("bihdhbjih"));function u(e){return e&&e.__esModule?e:{default:e}}},eafjfadchb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("bbchdeehff")),i=l(n("biddiiafgd")),u=l(n("bhcegecbha")),s=l(n("fffdgbfji"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.onDownload=function(){o.default.closeModal(),u.default.initDownload(r.props.msg)},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){return a.createElement(i.default,{onCancel:function(){return o.default.closeModal()},onOK:this.onDownload,okText:s.default.t(1149),cancelText:s.default.t(1153),title:s.default.t(403)},s.default.t(402))}}]),t}();f.displayName="MediaUnsupportedModal",t.default=f},eahbabfhi:function(e,t){e.exports={sticky:"_1GhQD"}},eahbfdfee:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newMessageQueryEvent=function(e){return new i.default.WebcMessageQuery({webcResponseBytes:0,webcMessageCount:0,webcTextMessageCount:0,webcVideoMessageCount:0,webcPhotoMessageCount:0,webcAudioMessageCount:0,webcPttMessageCount:0,webcStickerMessageCount:0,webcDocumentMessageCount:0,webcOtherMessageCount:0,webcMessageQueryTrigger:e})},t.logMessageCounts=function(e,t){e.webcMessageCount+=t.length;for(var n=0,r=t[n];n<t.length;r=t[++n])switch(r.type){case a.MSG_TYPE.CHAT:case a.MSG_TYPE.LOCATION:case a.MSG_TYPE.PAYMENT:case a.MSG_TYPE.VCARD:case a.MSG_TYPE.CIPHERTEXT:case a.MSG_TYPE.MULTI_VCARD:case a.MSG_TYPE.REVOKED:case a.MSG_TYPE.OVERSIZED:e.webcTextMessageCount+=1;break;case a.MSG_TYPE.IMAGE:case a.MSG_TYPE.PRODUCT:e.webcPhotoMessageCount+=1;break;case a.MSG_TYPE.VIDEO:e.webcVideoMessageCount+=1;break;case a.MSG_TYPE.AUDIO:e.webcAudioMessageCount+=1;break;case a.MSG_TYPE.PTT:e.webcPttMessageCount+=1;break;case a.MSG_TYPE.STICKER:e.webcStickerMessageCount+=1;break;case a.MSG_TYPE.DOCUMENT:e.webcDocumentMessageCount+=1;break;default:e.webcOtherMessageCount+=1}};var r,a=n("baagejbchg"),o=n("bfbggcdbfb"),i=(r=o)&&r.__esModule?r:{default:r}},eahbjifecd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("baagejbchg")),i=l(n("baijejebfi")),u=l(n("bbjadhadbg")),s=l(n("ihfccfgdf"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,u=Array(o),s=0;s<o;s++)u[s]=arguments[s];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r._renderImage=function(e){return a.createElement("div",{style:{backgroundImage:`url(${e})`},className:i.default.preview})},r._renderPreview=function(){var e=r.props.mediaData;if(e.preview&&e.preview.url){var t=e.preview.url();if(t)return r._renderImage(t)}return null},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props.mediaData;return e.type===o.default.MSG_TYPE.IMAGE||e.type===o.default.MSG_TYPE.PRODUCT?a.createElement(u.default,{mediaData:e,placeholderRenderer:this._renderPreview},this._renderImage):this._renderPreview()}}]),t}();f.CONCERNS={mediaData:["filehash","type","preview","mediaStage"]},f.displayName="MediaMsgPreview",t.default=(0,s.default)(f,f.CONCERNS)},eahhieahd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=c(n("cfaiaibca")),i=c(n("dhfbfehaef")),u=c(n("fffdgbfji")),s=c(n("chcadgfgad")),l=c(n("cdaaeifjfh"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.onCancel=function(){(0,r.props.onPopupCancel)()},r.onReport=function(){r.props.onReport()},r.onTellUsMore=function(){r.props.onTellUsMore()},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=u.default.t(943),t=a.createElement("div",{key:"ReportProductChoicePopup-desc"},u.default.t(941)),n=a.createElement(o.default,{a8nText:"popup-controls-more",type:"plain",onClick:this.onTellUsMore,key:"ReportProductChoicePopup-moreBtn"},u.default.t(944)),r=a.createElement(o.default,{a8nText:"popup-controls-report",type:"plain",onClick:this.onReport,key:"ReportProductChoicePopup-reportBtn"},u.default.t(940)),c=a.createElement(o.default,{type:"plain",onClick:this.onCancel,key:0},u.default.t(1153)),f={escape:this.onCancel},d=a.createElement("div",{className:l.default.buttons},a.createElement("div",{className:l.default.button},n),a.createElement("div",{className:l.default.button},r),a.createElement("div",{className:l.default.button},c));return a.createElement(i.default,{handlers:f},a.createElement(s.default,{title:e,actions:d,children:t}))}}]),t}();d.displayName="ReportProductChoicePopup",t.default=d},eaibdijehg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryProduct=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;return(0,r.queryProduct)(e,t,n,a)},t.queryCatalog=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100;return(0,r.queryCatalog)(e,t,n,a,o)},t.reportProduct=function(e,t,n){return(0,r.reportProduct)(e,t,n)};var r=n("bhgfchijhg")},eaiefjeabj:function(e,t,n){"use strict";var r=i(n("ddfeabiaci")),a=i(n("bdiiahhjbe")),o=i(n("eaaehfdjdg"));function i(e){return e&&e.__esModule?e:{default:e}}var u=n("bbcaggdbc").WebMessageInfo,s=n("bgiachiigg").Message,l=n("ihiijcdag"),c={version:"15",M:{DEBUG_LOG:1,QUERY_RESUME:2,QUERY_RECEIPT:3,QUERY_MEDIA:4,QUERY_CHAT:5,QUERY_CONTACTS:6,QUERY_MESSAGES:7,PRESENCE:8,PRESENCE_SUBSCRIBE:9,GROUP:10,READ:11,CHAT:12,RECEIVED:13,PIC:14,STATUS:15,MESSAGE:16,QUERY_ACTIONS:17,BLOCK:18,QUERY_GROUP:19,QUERY_PREVIEW:20,QUERY_EMOJI:21,QUERY_MESSAGE_INFO:22,SPAM:23,QUERY_SEARCH:24,QUERY_IDENTITY:25,QUERY_URL:26,PROFILE:27,CONTACT:28,QUERY_VCARD:29,QUERY_STATUS:30,QUERY_STATUS_UPDATE:31,PRIVACY_STATUS:32,QUERY_LIVE_LOCATIONS:33,LIVE_LOCATION:34},parseMsgStubProto:function(e,t){var n=u.STUBTYPE;switch(e.messageStubType){case n.REVOKE:return t.type="revoked",t;case n.CIPHERTEXT:return t.type="ciphertext",t;case n.FUTUREPROOF:return t.subtype="phone",t;default:return this.parseMsgStubTemplate(e,t)}},parseMsgStubTemplate:function(e,t){var n=u.STUBTYPE;switch(t.type="notification_template",t.templateParams=Array.isArray(e.messageStubParameters)?e.messageStubParameters.map(this.decodeJid):void 0,e.messageStubType){case n.NON_VERIFIED_TRANSITION:t.subtype="non_verified_transition";break;case n.UNVERIFIED_TRANSITION:t.subtype="unverified_transition";break;case n.VERIFIED_TRANSITION:t.subtype="verified_transition";break;case n.VERIFIED_LOW_UNKNOWN:t.subtype="verified_low_unknown";break;case n.VERIFIED_HIGH:t.subtype="verified_high";break;case n.VERIFIED_INITIAL_UNKNOWN:t.subtype="verified_initial_unknown";break;case n.VERIFIED_INITIAL_LOW:t.subtype="verified_initial_low";break;case n.VERIFIED_INITIAL_HIGH:t.subtype="verified_initial_high";break;case n.VERIFIED_TRANSITION_ANY_TO_NONE:t.subtype="verified_transition_any_to_none";break;case n.VERIFIED_TRANSITION_ANY_TO_HIGH:t.subtype="verified_transition_any_to_high";break;case n.VERIFIED_TRANSITION_HIGH_TO_LOW:t.subtype="verified_transition_high_to_low";break;case n.VERIFIED_TRANSITION_HIGH_TO_UNKNOWN:t.subtype="verified_transition_high_to_unknown";break;case n.VERIFIED_TRANSITION_UNKNOWN_TO_LOW:t.subtype="verified_transition_unknown_to_low";break;case n.VERIFIED_TRANSITION_LOW_TO_UNKNOWN:t.subtype="verified_transition_low_to_unknown";break;case n.VERIFIED_TRANSITION_NONE_TO_LOW:t.subtype="verified_transition_none_to_low";break;case n.VERIFIED_TRANSITION_NONE_TO_UNKNOWN:t.subtype="verified_transition_none_to_unknown";break;default:t.templateParams=void 0}return t},subscribeLiveLocation:function(e,t){var n=this;return new Promise(function(r,o){var i=n.queryNode({type:"location",kind:"subscribe",jid:e,participant:t?"true":void 0},void 0);n.binSend("sendEphemeral",i,o,{onSend:n.binWrap(function(e){n.BinaryProtocol.read(e).then(function(e){var o=n.N.children(e),i={participants:[]};if(a.default.logColor("green","bin-recv: response,location",e)(),"response"===n.N.tag(e)&&"location"===n.N.attr("type",e)){var u=parseInt(n.N.attr("duration",e),10);if(i.duration=Number.isNaN(u)?void 0:u,!t||!Array.isArray(o))return t&&a.default.log("LiveLocation:response with no participants")(),void r(i);for(var l=o.length,c=0;c<l;c++){var f=o[c],d=n.N.attr("jid",f),p=parseInt(n.N.attr("expiration",f),10),h=parseInt(n.N.attr("elapsed",f),10)||0,m=n.N.children(f);if("participant"===n.N.tag(f)&&d){var b={id:d,expiration:Number.isNaN(p)?void 0:p,elapsed:h};if(m){var g=s.parse(m).liveLocationMessage;g&&n.parseLiveLocationMessageProto(b,g)}b.lat&&b.lng?a.default.log("LiveLocation:response with lat/lng")():a.default.log("LiveLocation:response without lat/lng")(),i.participants.push(b)}}r(i)}else r(i)}).catch(o)},r),onDrop:n.wrap(o)},{debugString:["query,location",e,t].join(),metricName:"QUERY_LIVE_LOCATIONS"})})},unsubscribeLiveLocation:function(e){var t=this;return new Promise(function(n,r){var a=t.actionNode("set",[["location",{type:"unsubscribe",jid:e},void 0]]);t.binSend("send",a,r,{clientCacheable:!0,onSend:t.wrap(n),onDrop:t.wrap(r)},{debugString:"action,location,unsubscribe,"+e,metricName:"LIVE_LOCATION"})})},queryActiveLiveLocation:function(e){var t=this;return new Promise(function(n,r){var o=t.queryNode({type:"location",kind:"participant",jid:e},void 0);t.binSend("sendEphemeral",o,r,{onSend:t.binWrap(function(e){t.BinaryProtocol.read(e).then(function(e){var r=t.N.children(e),o={participants:[]};if(a.default.logColor("green","bin-recv: response,location",e)(),"response"===t.N.tag(e)&&"location"===t.N.attr("type",e))if(Array.isArray(r)){for(var i=r.length,u=0;u<i;u++){var s=r[u],l=t.N.attr("jid",s),c=parseInt(t.N.attr("expiration",s),10);if("participant"===t.N.tag(s)&&l){var f={id:l,expiration:Number.isNaN(c)?void 0:c};o.participants.push(f)}}n(o)}else n(o);else n(o)}).catch(r)},n),onDrop:t.wrap(r)},{debugString:"query,location,participant,"+e,metricName:"QUERY_LIVE_LOCATIONS"})})},disableLiveLocation:function(e){var t=this;return new Promise(function(n,r){var a=t.actionNode("set",[["location",{type:"disable",jid:e},void 0]]);t.binSend("send",a,r,{clientCacheable:!0,onSend:t.wrap(n),onDrop:t.wrap(r)},{debugString:"action,location,disable,"+e,metricName:"LIVE_LOCATION"})})},parseLocation:function(e){if("location"===this.N.tag(e)){var t=this.N.attr("type",e),n=this.N.attr("jid",e),r=this.N.attr("author",e),o=parseInt(this.N.attr("elapsed",e),10)||0,i=parseInt(this.N.attr("id",e),10)||0,u=this.N.children(e),l={type:t};switch(t){case"update":if(l.jid=n,l.elapsed=o,u){var c=s.parse(u).liveLocationMessage;c&&this.parseLiveLocationMessageProto(l,c)}l.type="update",l.lat&&l.lng?a.default.log("LiveLocation:update with lat/lng")():a.default.log("LiveLocation:update without lat/lng")();break;case"disable":l.jid=r||n,l.chat=n,l.seq=i}this.pruneUndefinedProps(l);var f=["update"!==t&&"disable"!==t,!("update"!==t||n&&u),"disable"===t&&!n];return this.dropIfConditionMet(f,l)}},binSend:function(e,t,n,r,a){var i=this,u=r.epochIneligible?n:function(e){i.epochRecv(),n(e)};return delete r.epochIneligible,this.BinaryProtocol.write(t).then(function(n){a.debugObj||(a.debugObj=t),a.metric=i.M[a.metricName],a.ackRequest=!1,r.data=n,r.binaryOpts=a,o.default[e](r)}).catch(u)}};e.exports=(0,r.default)(c,l)},eaigijhjei:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n("ddfeabiaci")),a=c(n("bccgihhja")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cajijabhgb")),i=c(n("bjbdcigbdi")),u=c(n("djchfddccj")),s=c(n("bdiiahhjbe")),l=c(n("dajhhehjhc"));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e,t){if(Array.isArray(e)&&t)return e.concat(t)},d=function(e,t){if(e.Dictionary){var n={};(0,a.default)(n,t.Dictionary,e.Dictionary,f),e.Dictionary=n}return(0,r.default)(e,t)},p={OutputStream:l.default,Writer:n("djiifidhej"),InputStream:u.default,Reader:n("chaebfegeh"),Dictionary:n("dabcaghhah"),Crypto:n("ddcchcchag")},h=d({Dictionary:n("cbhhieidga")},p),m=d({Dictionary:n("dabidjgjaj")},h),b=d({Dictionary:n("bbijaajigb")},m),g=d({Dictionary:n("ceihfbbggi")},b),v=d({Dictionary:n("ddfgdjiacb")},g),y=d({Writer:n("bfidcjhfda"),Reader:n("cdjdachjig"),Dictionary:n("gjcabeieb")},v),_={"01":!0,"03":!0,"04":!0,"05":!0,"06":!0,v1:!0,v2:!0,v3:!0,v4:!0},E={v5:p,v6:h,v7:m,v8:b,v9:g,v10:v,v11:y};t.default=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r="number"==typeof t?`v${t}`:t;if(_[r])throw s.default.error(`binaryProtocol deprecated version: ${r}`)(),new o.DeprecatedProtocolVersion("bp_deprecated_version");var a=E[r];if(!a)throw s.default.error("binaryProtocol unknown version: "+r)(),new o.UpdateImmediately("bp_unknown_version");var u=a.OutputStream,l=new a.Writer(a.Dictionary),c=a.InputStream,f=new a.Reader(a.Dictionary),d=a.Crypto;this.Node=n("bcjjbcbjaa"),i.default.supportsFeature(i.default.F.MD_BACKEND)||(this.read=function(e){return d.decrypt(e).then(function(e){return f.readNode(new c(e))})}),this.write=function(e){return Promise.callSynchronously(function(){var t=new u;return l.writeNode(t,e),d.encrypt(t.toBuffer())})},this.dropAllBecauseLogout=function(){return d.dropAllBecauseLogout()}}},eaijjhejbf:function(e,t){e.exports={emojiSearch:"_2JTFh",searchBody:"h2Zsb",positioningContainer:"_3KUIv",overlayContainer:"_2mlOb",resultsContainer:"_IWON",mediaCaption:"aWTXv",emojiInput:"_1GTvX"}},eajcgecgjh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.findSuspiciousCharacters=function(e,t,n,r){var a=e.split("."),i=void 0,l=!1;if(a.forEach(function(e){if(l=!e.match(p)){if(i)return null;i=e}}),!i||l)return null;for(var c=[],m=!0,b=(0,o.toArray)(i).map(function(e){return(0,o.codePointAt)(e,0)}),g=0;g<b.length;g++){var v=b[g];if(!(m=m&&d(v))&&u.get(v)){if(c.length>=h)return null;c.push(v)}}if(m)return f(n)||f(t)?null:r.some(function(e){return function(e){return s.has(e)}(e)})?null:new Set(b);if(!c.length)return null;var y=c.filter(function(e){var a=u.get(e);return!(!a||a.hasRegion(n)||a.hasRegion(t))&&!r.some(function(e){return a.hasLanguage(e)})});return y.length?new Set(y):null};var a=n("dcaffhdbgi"),o=n("chhhffajfi");var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];this.languages=new Set(n),this.regions=new Set(n.map(function(e){return a.LANGUAGE_TO_REGIONS.get(e)||[]}).reduce(function(e,t){return e.concat(t)},[]))}return r(e,[{key:"hasLanguage",value:function(e){return this.languages.has(e)}},{key:"hasRegion",value:function(e){return this.regions.has(e)}}]),e}(),u=new Map([[237,new i(a.LANGUAGES.ASTURIAN,a.LANGUAGES.BAFIA,a.LANGUAGES.BASA_CAMEROON,a.LANGUAGES.CATALAN,a.LANGUAGES.CZECH,a.LANGUAGES.DUALA,a.LANGUAGES.DUTCH,a.LANGUAGES.EWE,a.LANGUAGES.EWONDO,a.LANGUAGES.FAROESE,a.LANGUAGES.FRENCH,a.LANGUAGES.GALICIAN,a.LANGUAGES.GREENLANDIC,a.LANGUAGES.HUNGARIAN,a.LANGUAGES.ICELANDIC,a.LANGUAGES.IRISH,a.LANGUAGES.JOLA_FONYI,a.LANGUAGES.KABUVERDIANU,a.LANGUAGES.KAKO,a.LANGUAGES.KWASIO,a.LANGUAGES.LAKOTA,a.LANGUAGES.LANGI,a.LANGUAGES.LINGALA,a.LANGUAGES.LUBA_KATANGA,a.LANGUAGES.MASAI,a.LANGUAGES.NGIEMBOON,a.LANGUAGES.NGOMBA,a.LANGUAGES.PORTUGUESE,a.LANGUAGES.QUECHUA,a.LANGUAGES.SENA,a.LANGUAGES.SLOVAK,a.LANGUAGES.SPANISH,a.LANGUAGES.TONGAN,a.LANGUAGES.VAI,a.LANGUAGES.VIETNAMESE,a.LANGUAGES.WALSER,a.LANGUAGES.WELSH,a.LANGUAGES.WESTERN_FRISIAN,a.LANGUAGES.YANGBEN,a.LANGUAGES.YORUBA)],[238,new i(a.LANGUAGES.AFRIKAANS,a.LANGUAGES.AGHEM,a.LANGUAGES.AKOOSE,a.LANGUAGES.BAFUT,a.LANGUAGES.BASA_CAMEROON,a.LANGUAGES.BEKWARRA,a.LANGUAGES.BETE_BENDI,a.LANGUAGES.DUTCH,a.LANGUAGES.EBIRA,a.LANGUAGES.EWONDO,a.LANGUAGES.FRENCH,a.LANGUAGES.FRIULIAN,a.LANGUAGES.GADSUP,a.LANGUAGES.GBARI,a.LANGUAGES.GREENLANDIC,a.LANGUAGES.HYAM,a.LANGUAGES.IVBIE_NORTH_OKPELA_ARHE,a.LANGUAGES.JUKUN_TAKUM,a.LANGUAGES.KAKO,a.LANGUAGES.KHOEKHOE,a.LANGUAGES.KOLSCH,a.LANGUAGES.KURDISH,a.LANGUAGES.KWASIO,a.LANGUAGES.LIMBUM,a.LANGUAGES.LINGALA,a.LANGUAGES.MADA_NIGERIA,a.LANGUAGES.MALAGASY,a.LANGUAGES.MASAI,a.LANGUAGES.MUMUYE,a.LANGUAGES.NGOMBA,a.LANGUAGES.NINZO,a.LANGUAGES.OBOLO,a.LANGUAGES.ROMANIAN,a.LANGUAGES.SANGO,a.LANGUAGES.SICILIAN,a.LANGUAGES.SRANAN_TONGO,a.LANGUAGES.TAROK,a.LANGUAGES.TURKISH,a.LANGUAGES.WALLOON,a.LANGUAGES.WELSH,a.LANGUAGES.YANGBEN,a.LANGUAGES.YELE)],[252,new i(a.LANGUAGES.ANGOR,a.LANGUAGES.ASTURIAN,a.LANGUAGES.AZERBAIJANI,a.LANGUAGES.BRETON,a.LANGUAGES.CATALAN,a.LANGUAGES.CORSICAN,a.LANGUAGES.CZECH,a.LANGUAGES.DUTCH,a.LANGUAGES.EDOLO,a.LANGUAGES.ESTONIAN,a.LANGUAGES.FRENCH,a.LANGUAGES.GALICIAN,a.LANGUAGES.GERMAN,a.LANGUAGES.GIZRRA,a.LANGUAGES.GODIE,a.LANGUAGES.HUNGARIAN,a.LANGUAGES.KAKI_AE,a.LANGUAGES.KIRE,a.LANGUAGES.KOLSCH,a.LANGUAGES.KUNIMAIPA,a.LANGUAGES.LOW_GERMAN,a.LANGUAGES.LUXEMBOURGISH,a.LANGUAGES.MAPUCHE,a.LANGUAGES.OCCITAN,a.LANGUAGES.SANGO,a.LANGUAGES.SLOVAK,a.LANGUAGES.SPANISH,a.LANGUAGES.SWISS_GERMAN,a.LANGUAGES.TORO_SO_DOGON,a.LANGUAGES.TURKISH,a.LANGUAGES.TURKMEN,a.LANGUAGES.VOLAPUK,a.LANGUAGES.WALLOON,a.LANGUAGES.WALSER,a.LANGUAGES.WESTERN_FRISIAN,a.LANGUAGES.YIL)],[267,new i(a.LANGUAGES.MALTESE)],[299,new i(a.LANGUAGES.AGHEM,a.LANGUAGES.AKOOSE,a.LANGUAGES.BAFUT,a.LANGUAGES.BASA_CAMEROON,a.LANGUAGES.BEKWARRA,a.LANGUAGES.BETE_BENDI,a.LANGUAGES.DENDI_BENIN,a.LANGUAGES.EBIRA,a.LANGUAGES.ERAVE,a.LANGUAGES.ETKYWAN,a.LANGUAGES.GOURMANCHEMA,a.LANGUAGES.HAWAIIAN,a.LANGUAGES.HYAM,a.LANGUAGES.IBANI,a.LANGUAGES.IDOMA,a.LANGUAGES.JUKUN_TAKUM,a.LANGUAGES.KUTEP,a.LANGUAGES.KWASIO,a.LANGUAGES.LATVIAN,a.LANGUAGES.MADA_NIGERIA,a.LANGUAGES.MAORI,a.LANGUAGES.MASAI,a.LANGUAGES.MBELIME,a.LANGUAGES.NINZO,a.LANGUAGES.PRUSSIAN,a.LANGUAGES.SCOTTISH_GAELIC,a.LANGUAGES.TONGAN,a.LANGUAGES.YALA,a.LANGUAGES.YANGBEN)],[305,new i(a.LANGUAGES.AZERBAIJANI,a.LANGUAGES.CRIMEAN_TATAR,a.LANGUAGES.TURKISH)],[316,new i(a.LANGUAGES.LATVIAN)],[322,new i(a.LANGUAGES.LOWER_SORBIAN,a.LANGUAGES.NAVAJO,a.LANGUAGES.POLISH,a.LANGUAGES.UPPER_SORBIAN)],[353,new i(a.LANGUAGES.BOSNIAN,a.LANGUAGES.CROATIAN,a.LANGUAGES.CZECH,a.LANGUAGES.DAZAGA,a.LANGUAGES.ESTONIAN,a.LANGUAGES.FINNISH,a.LANGUAGES.INARI_SAMI,a.LANGUAGES.KIRE,a.LANGUAGES.KOYRA_CHIINI,a.LANGUAGES.KOYRABORO_SENNI,a.LANGUAGES.KUNAMA,a.LANGUAGES.LAKOTA,a.LANGUAGES.LATVIAN,a.LANGUAGES.LITHUANIAN,a.LANGUAGES.LOWER_SORBIAN,a.LANGUAGES.NORTHERN_SAMI,a.LANGUAGES.NORTHERN_SOTHO,a.LANGUAGES.PRUSSIAN,a.LANGUAGES.SERBIAN,a.LANGUAGES.SERBO_CROATIAN,a.LANGUAGES.SKOLT_SAMI,a.LANGUAGES.SLOVAK,a.LANGUAGES.SLOVENIAN,a.LANGUAGES.TAMASHEQ,a.LANGUAGES.TASAWAQ,a.LANGUAGES.TEDAGA,a.LANGUAGES.UPPER_SORBIAN,a.LANGUAGES.WALSER,a.LANGUAGES.ZARMA)],[409,new i(a.LANGUAGES.CIBAK,a.LANGUAGES.GOEMAI,a.LANGUAGES.HAUSA,a.LANGUAGES.IK,a.LANGUAGES.KAREKARE,a.LANGUAGES.LAMANG,a.LANGUAGES.MBULA_BWAZZA,a.LANGUAGES.NGAS,a.LANGUAGES.NINZO,a.LANGUAGES.PERO,a.LANGUAGES.TAL,a.LANGUAGES.TANGALE,a.LANGUAGES.WAJA,a.LANGUAGES.WARJI)],[448,new i(a.LANGUAGES.KHOEKHOE)],[449,new i(a.LANGUAGES.KHOEKHOE)],[559,new i(a.LANGUAGES.LIVONIAN)],[593,new i(a.LANGUAGES.FEFE,a.LANGUAGES.HUN_SAARE,a.LANGUAGES.TAMASHEK)],[595,new i(a.LANGUAGES.ADAMAWA_FULFULDE,a.LANGUAGES.AGWAGWUNE,a.LANGUAGES.BAKA_CAMEROON,a.LANGUAGES.BALANTA_GANJA,a.LANGUAGES.BALI_NIGERIA,a.LANGUAGES.BASA_CAMEROON,a.LANGUAGES.BASSA,a.LANGUAGES.BOMU,a.LANGUAGES.BORGU_FULFULDE,a.LANGUAGES.BURAK,a.LANGUAGES.BURA_PABIR,a.LANGUAGES.CAKFEM_MUSHERE,a.LANGUAGES.CENTRAL_EASTERN_NIGER_FULFULDE,a.LANGUAGES.CIBAK,a.LANGUAGES.CISHINGINI,a.LANGUAGES.DABA,a.LANGUAGES.DAN,a.LANGUAGES.DGHWEDE,a.LANGUAGES.DOYAYO,a.LANGUAGES.DUALA,a.LANGUAGES.ENGENNI,a.LANGUAGES.FULAH,a.LANGUAGES.GBARI,a.LANGUAGES.GBAYA_CENTRAL_AFRICAN_REPUBLIC,a.LANGUAGES.GBAYA_MBODOMO,a.LANGUAGES.GOEMAI,a.LANGUAGES.GUDE,a.LANGUAGES.GUINEA_KPELLE,a.LANGUAGES.GWAK,a.LANGUAGES.HAUSA,a.LANGUAGES.HUBA,a.LANGUAGES.IK,a.LANGUAGES.KAKO,a.LANGUAGES.KAMWE,a.LANGUAGES.KARANG,a.LANGUAGES.KAREKARE,a.LANGUAGES.KPELLE,a.LANGUAGES.KWASIO,a.LANGUAGES.LAMANG,a.LANGUAGES.MAASINA_FULFULDE,a.LANGUAGES.MBO_CAMEROON,a.LANGUAGES.MBULA_BWAZZA,a.LANGUAGES.MOFU_GUDUR,a.LANGUAGES.MUMUYE,a.LANGUAGES.MUNDANG,a.LANGUAGES.MWAGHAVUL,a.LANGUAGES.NGAS,a.LANGUAGES.NIGERIAN_FULFULDE,a.LANGUAGES.NINZO,a.LANGUAGES.NORTHERN_DAGARA,a.LANGUAGES.PARKWA,a.LANGUAGES.PERO,a.LANGUAGES.PULAR,a.LANGUAGES.RON,a.LANGUAGES.SAAFI_SAAFI,a.LANGUAGES.SERER,a.LANGUAGES.SISSALA,a.LANGUAGES.SOKORO,a.LANGUAGES.TAL,a.LANGUAGES.TANGALE,a.LANGUAGES.TAROK,a.LANGUAGES.TERA,a.LANGUAGES.TIKAR,a.LANGUAGES.TSIKIMBA,a.LANGUAGES.TSISHINGINI,a.LANGUAGES.VAI,a.LANGUAGES.VUTE,a.LANGUAGES.WAJA,a.LANGUAGES.WARJI,a.LANGUAGES.WESTERN_NIGER_FULFULDE,a.LANGUAGES.ZULGO_GEMZEK)],[7693,new i(a.LANGUAGES.CENTRAL_ATLAS_TAMAZIGHT,a.LANGUAGES.KABYLE,a.LANGUAGES.KIRIKE,a.LANGUAGES.TACHELHIT,a.LANGUAGES.TAMASHEK,a.LANGUAGES.TAMASHEQ)],[7771,new i(a.LANGUAGES.CENTRAL_ATLAS_TAMAZIGHT,a.LANGUAGES.KABYLE,a.LANGUAGES.TACHELHIT)],[7789,new i(a.LANGUAGES.CENTRAL_ATLAS_TAMAZIGHT,a.LANGUAGES.KABYLE,a.LANGUAGES.TACHELHIT,a.LANGUAGES.TAMASHEK,a.LANGUAGES.TAMASHEQ)],[7817,new i],[7841,new i(a.LANGUAGES.IZI_EZAA_IKWO_MGBO,a.LANGUAGES.LOKAA,a.LANGUAGES.TAI_DAM,a.LANGUAGES.VIETNAMESE)],[7865,new i(a.LANGUAGES.AGWAGWUNE,a.LANGUAGES.BEROM,a.LANGUAGES.BINI,a.LANGUAGES.CROSS_RIVER_MBEMBE,a.LANGUAGES.DAZAGA,a.LANGUAGES.EBIRA,a.LANGUAGES.ENGENNI,a.LANGUAGES.GOKANA,a.LANGUAGES.IBANI,a.LANGUAGES.IKA,a.LANGUAGES.IKWERE,a.LANGUAGES.IZI_EZAA_IKWO_MGBO,a.LANGUAGES.KIRIKE,a.LANGUAGES.LOKAA,a.LANGUAGES.TAI_DAM,a.LANGUAGES.TANGALE,a.LANGUAGES.TEDAGA,a.LANGUAGES.VIETNAMESE,a.LANGUAGES.YORUBA)],[7883,new i(a.LANGUAGES.AVOKAYA,a.LANGUAGES.CROSS_RIVER_MBEMBE,a.LANGUAGES.EBIRA,a.LANGUAGES.ENGENNI,a.LANGUAGES.IBANI,a.LANGUAGES.IGBO,a.LANGUAGES.IGEDE,a.LANGUAGES.IKA,a.LANGUAGES.IKWERE,a.LANGUAGES.IZI_EZAA_IKWO_MGBO,a.LANGUAGES.KIRIKE,a.LANGUAGES.TAI_DAM,a.LANGUAGES.TANGALE,a.LANGUAGES.VIETNAMESE)]]),s=new Set([a.LANGUAGES.ABAZA,a.LANGUAGES.ABKHAZIAN,a.LANGUAGES.ADYGHE,a.LANGUAGES.AVARIC,a.LANGUAGES.AZERBAIJANI,a.LANGUAGES.BASHKIR,a.LANGUAGES.BELARUSIAN,a.LANGUAGES.BOSNIAN,a.LANGUAGES.BULGARIAN,a.LANGUAGES.BURIAT,a.LANGUAGES.CHECHEN,a.LANGUAGES.CHUKOT,a.LANGUAGES.CHURCH_SLAVIC,a.LANGUAGES.CHUVASH,a.LANGUAGES.CRIMEAN_TATAR,a.LANGUAGES.DARGWA,a.LANGUAGES.DUNGAN,a.LANGUAGES.ERZYA,a.LANGUAGES.EVENKI,a.LANGUAGES.GAGAUZ,a.LANGUAGES.INGUSH,a.LANGUAGES.KABARDIAN,a.LANGUAGES.KALMYK,a.LANGUAGES.KARACHAY_BALKAR,a.LANGUAGES.KARA_KALPAK,a.LANGUAGES.KAZAKH,a.LANGUAGES.KHAKAS,a.LANGUAGES.KHANTY,a.LANGUAGES.KIRGHIZ,a.LANGUAGES.KOMI,a.LANGUAGES.KOMI_PERMYAK,a.LANGUAGES.KORYAK,a.LANGUAGES.KUMYK,a.LANGUAGES.LAK,a.LANGUAGES.LEZGHIAN,a.LANGUAGES.MACEDONIAN,a.LANGUAGES.MANSI,a.LANGUAGES.MARI,a.LANGUAGES.MOKSHA,a.LANGUAGES.MONGOLIAN,a.LANGUAGES.MUSLIM_TAT,a.LANGUAGES.NANAI,a.LANGUAGES.NENETS,a.LANGUAGES.NOGAI,a.LANGUAGES.OSSETIAN,a.LANGUAGES.RUSSIAN,a.LANGUAGES.RUSYN,a.LANGUAGES.SERBIAN,a.LANGUAGES.SERBO_CROATIAN,a.LANGUAGES.SHOR,a.LANGUAGES.SOUTHERN_ALTAI,a.LANGUAGES.TABASSARAN,a.LANGUAGES.TAJIK,a.LANGUAGES.TATAR,a.LANGUAGES.TSAKHUR,a.LANGUAGES.TURKMEN,a.LANGUAGES.TUVINIAN,a.LANGUAGES.UDIHE,a.LANGUAGES.UDMURT,a.LANGUAGES.UKRAINIAN,a.LANGUAGES.UZBEK,a.LANGUAGES.WESTERN_MARI,a.LANGUAGES.YAKUT]),l=new Set([a.REGIONS.ARMENIA,a.REGIONS.AZERBAIJAN,a.REGIONS.BELARUS,a.REGIONS.BOSNIA,a.REGIONS.BULGARIA,a.REGIONS.GEORGIA,a.REGIONS.KAZAKHSTAN,a.REGIONS.KOSOVO,a.REGIONS.KYRGYZSTAN,a.REGIONS.MACEDONIA,a.REGIONS.MOLDOVA,a.REGIONS.MONGOLIA,a.REGIONS.MONTENEGRO,a.REGIONS.RUSSIA,a.REGIONS.SERBIA,a.REGIONS.TAJIKISTAN,a.REGIONS.TURKMENISTAN,a.REGIONS.UKRAINE,a.REGIONS.UZBEKISTAN]),c=new Set([1072,1074,1075,1077,1082,1084,1085,1086,1088,1089,1090,1091,1093,1096,1097,1100,1109,1110,1112,1121,1141,1199,1211,1231,1281,1307,1309,1319,42649]);function f(e){return l.has(e)}function d(e){return c.has(e)}var p=new RegExp("^[a-z0-9-]+$"),h=2},eajefhgiag:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findSuspiciousCharacters=function(e,t){if(!i.default.suspiciousLinks)return;if(t.equals(r.default.me))return;var n=r.default.me,u=(0,o.getRegion)(t.user),s=(0,o.getRegion)(n.user);if(!u||!s)return;var l=r.default.allLanguages;return a.findSuspiciousCharacters(e,u.toUpperCase(),s.toUpperCase(),l.map(function(e){return e.toLowerCase()}))};var r=u(n("bjigbaghc")),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("eajcgecgjh")),o=n("djaachhgag"),i=u(n("bfgbdiffgd"));function u(e){return e&&e.__esModule?e:{default:e}}},eajjbbihhc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("cbfidcgebe"),i=(r=o)&&r.__esModule?r:{default:r};function u(e){var t=e.mimeType,n=e.url;return a.createElement("div",{className:i.default.container,"data-animate-attach-media":!0},a.createElement("div",{className:i.default.media},a.createElement("audio",{controls:!0,type:t,src:n})))}u.displayName="AttachMediaTypeAudio"},ebaacddagf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=new MessageChannel,n=t.port1,u=t.port2;i.default.respondTo(n),r.default.init(),o.default.setConnectionManager(r.default),r.default.connectVia(n),e.postMessage((0,a.buildHandshakePayload)(u),[u])};var r=u(n("bhacdidjbh")),a=n("cifgeeeece"),o=u(n("cefaeicfec")),i=u(n("hgaedfgj"));function u(e){return e&&e.__esModule?e:{default:e}}},ebacfjjdeb:function(e,t){e.exports={metadataContainer:"ws2Cf",metadataText:"_2R0AT",metadataTitle:"_30aqP",metadataDesc:"_2oB8w",participantList:"Ni4TD",participantsTitle:"AgMOJ",participantsContainer:"Gwi7O",participantWrapper:"I_zKN",emptyContentContainer:"_111YX",participantsText:"VJRH_",contactsText:"_2DFcR",participantText:"_3mjJr",inviteExpiration:"_2CrtD",inviteExpirationIcon:"KYIjc"}},ebaiajghdj:function(e,t){e.exports={collapseMutedSec:"IxBBZ",collapseMutedSecText:"_7LZ4Z",mutedUnreadBadge:"_19lHu"}},ebbeeceebe:function(e,t){e.exports={container:"_28v7x",section:"kY7yF",action:"_2qxdj",shortcut:"u6ytL",key:"_1Y3mw",plus:"_3fN5l"}},ebbfdafeec:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=m(n("bbchdeehff")),i=n("bgddggdhc"),u=m(n("eceadcicaf")),s=n("bgjddhffji"),l=m(n("ieffcccfh")),c=m(n("bagahaffif")),f=m(n("cgbfcjgjcf")),d=n("bheafeifce"),p=m(n("bcifhbgija")),h=m(n("didfdhbecg"));function m(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));g.call(n),n.zoomIn=!0;var r=n.props,a=r.activeProductImage,o=r.productImageCollection;return n.state={activeImgIndex:o.toArray().indexOf(a),imgZoomed:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.listeners.add(window,"keydown",this.onKeyDown)}},{key:"componentDidMount",value:function(){this.zoomIn=!1,this.scrollToActive(),this.refThumbsContainer&&(0,p.default)(this.refThumbsContainer,{opacity:[1,0],translateY:["0%","100%"]},{duration:300,delay:100,easing:[.1,.82,.25,1]});var e=this.props,t=e.product,n=e.sessionId;(0,s.logFullImageView)((0,d.unproxy)(t),n)}},{key:"componentDidUpdate",value:function(e,t){var n=e.product,r=e.sessionId;t.activeImgIndex!==this.state.activeImgIndex&&(this.scrollToActive(!0),(0,s.logFullImageView)((0,d.unproxy)(n),r))}},{key:"render",value:function(){var e=this.getThumbs(),t=this.props,n=t.product,r=t.productImageCollection,o=r.length,i=this.state.activeImgIndex,u=i>0?this.onPrev:null,s=i+1<o?this.onNext:null;return a.createElement("div",{className:this.state.imgZoomed?"img-zoomed-in":null},a.createElement("div",{className:l.default.thumbsContainer,ref:this.setRefThumbsContainer},a.createElement("div",{className:l.default.scrollContainer,dir:"ltr"},a.createElement(h.default,{className:l.default.viewerThumbs,ref:this.setRefThumbs,transitionName:"thumb-scale"},e))),a.createElement(c.default,{mediaData:r.toArray()[this.state.activeImgIndex].mediaData,onBack:this.endFlow,onExitAnimation:this.willEndFlow,onNext:s,onPrev:u,onImgZoomIn:this.onImgZoomIn,getZoomNode:this.props.getZoomNode,zoomIn:this.zoomIn,product:n}))}}]),t}(),g=function(){var e=this;this.onKeyDown=function(t){37===t.keyCode?e.onPrev():39===t.keyCode&&e.onNext()},this.onNext=function(t){if(t&&t.stopPropagation(),!e.state.imgZoomed){var n=e.props.productImageCollection.length,r=(e.state.activeImgIndex+1)%n;e.onSelectThumb(r)}},this.onPrev=function(t){if(t&&t.stopPropagation(),!e.state.imgZoomed){var n=e.props.productImageCollection.length,r=e.state.activeImgIndex,a=r-1<0?n-1:(r-1)%n;e.onSelectThumb(a)}},this.onImgZoomIn=function(t){e.setState({imgZoomed:t})},this.endFlow=function(){o.default.closeModalMedia()},this.willEndFlow=function(){e.refThumbsContainer&&(0,p.default)(e.refThumbsContainer,{opacity:[0,1],translateY:["100%","0%"]},{duration:300,easing:[.1,.82,.25,1]})},this.onSelectThumb=function(t){if(t!==e.state.activeImgIndex){var n=e.props,r=n.product,a=n.sessionId;(0,s.logImageNavigate)((0,d.unproxy)(r),a)}e.setState({activeImgIndex:t})},this.scrollToActive=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=e.refThumbsContainer,r=(0,i.forbiddenFindDOMNode)(e.refThumbs),a=(0,i.forbiddenFindDOMNode)(e.refActiveThumb);if(n&&r&&a){var o=0;a instanceof HTMLElement&&(o=a.clientWidth/2-n.clientWidth/2),(0,p.default)(r,"stop");var u=0;t&&(u=300),(0,p.default)(a,"scroll",{duration:u,container:r,offset:o,axis:"x",easing:[.1,.82,.25,1]})}},this.setRefActiveThumb=function(t){return e.refActiveThumb=t},this.setRefThumbsContainer=function(t){return e.refThumbsContainer=t},this.setRefThumbs=function(t){return e.refThumbs=t},this.getThumbs=function(){var t=e.props.productImageCollection.toArray().map(function(t,n){var r=n===e.state.activeImgIndex;return a.createElement(f.default,{theme:"viewerFlow",active:r,ref:r?e.setRefActiveThumb:null,key:`product-image-${n}`,mediaData:t.mediaData,onClick:e.onSelectThumb.bind(e,n)})});return[a.createElement("div",{className:l.default.thumbPadding,key:"padding-left"}),t,a.createElement("div",{className:l.default.thumbPadding,key:"padding-right"})]}};b.displayName="ProductImageViewerFlow",t.default=(0,u.default)(b)},ebbghebbdh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("ebjaejiaba"),i=_(n("djcchigfih")),u=_(n("djbhiedbef")),s=n("dajffajabh"),l=_(s),c=_(n("fifhbjiec")),f=_(n("dhfbfehaef")),d=_(n("fffdgbfji")),p=n("chcadgfgad"),h=_(p),m=_(n("cdjhjdcbeg")),b=_(n("bfdcadbbif")),g=_(n("cgfjebhhej")),v=_(n("dehfhdefdi")),y=_(n("dggeggcjcd"));function _(e){return e&&e.__esModule?e:{default:e}}var E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.contactList,r=t.onSend,y=t.onBack,_=t.chat,E=void 0;switch(_.kind){case o.CHAT_KIND.CHAT:E=d.default.t(338,{chat:_.title(),count:d.default.n(n.length),_plural:n.length});break;case o.CHAT_KIND.GROUP:E=d.default.t(339,{chat:_.title(),count:d.default.n(n.length),_plural:n.length});break;case o.CHAT_KIND.BROADCAST:E=d.default.t(337,{chat:_.title(),count:d.default.n(n.length),_plural:n.length})}var j=E?a.createElement(c.default,{text:E,direction:"auto",titlify:!0,ellipsify:!0}):null;return a.createElement(h.default,{type:p.BoxModalType},a.createElement(i.default,null,a.createElement(l.default,{type:s.DRAWER_HEADER_TYPE.POPUP,onBack:y},j),a.createElement(u.default,null,a.createElement(f.default,null,a.createElement("div",{className:v.default.body},n.map(function(t,n){return e.renderVCard(g.default.fromContactModel(t),n.toString())})))),a.createElement("div",{className:v.default.btnContainer},a.createElement("div",{className:v.default.btnPosition},a.createElement(m.default,{large:!0,onClick:r},a.createElement(b.default,{name:"send-light",directional:!0}))))))}},{key:"renderVCard",value:function(e,t){var n=g.default.parse(e.vcard);return n?a.createElement("div",{key:t,className:v.default.vcardWrapper},a.createElement(y.default,{parsedVCard:n,thumbnail:g.default.thumbnail(e.vcard)})):null}}]),t}();E.displayName="VCardConfirmModal",t.default=E},ebbjbbjjg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PresenceCollection=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n("cgcgbfbffj")),o=s(n("igjghefdb")),i=n("cbgjbaaigi"),u=s(n("jccfhaecf"));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.PresenceCollection=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"_find",value:function(e){return!this.gadd(e).isUser||u.default.isServer(e)||u.default.isPSA(e)?Promise.resolve({id:e}):(0,i.subscribePresence)(e).then(function(){return{id:e}})}},{key:"clearAllPresence",value:function(){this.forEach(function(e){e.reset(),e.set({stale:!0,isSubscribed:!1})})}}]),t}();l.model=o.default,l.staleCollection=!0,t.default=new l},ebcagbhefg:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},o=n("cgcgbfbffj"),i=c(o),u=n("debjjaigad"),s=c(u),l=c(n("baagejbchg"));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,[{key:"initializeFromCache",value:function(e){var t=e||[];this.add([{id:u.DEFAULT_PREFERENCE,wallpaperColor:l.default.DEFAULT_CHAT_WALLPAPER,saveToCameraRoll:!0}].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t)),{merge:!0})}},{key:"get",value:function(e){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"get",this).call(this,e)||a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"get",this).call(this,u.DEFAULT_PREFERENCE)}},{key:"delete",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),this.add({id:u.DEFAULT_PREFERENCE,wallpaperColor:l.default.DEFAULT_CHAT_WALLPAPER,saveToCameraRoll:!0})}}]),t}();f.model=s.default,f.cachePolicy={id:"chat_preference",policy:o.CACHE_POLICY.LOAD,delay:1e3},e.exports=new f},ebcfjdcbhh:function(e,t,n){"use strict";var r=window.matchMedia("\nonly screen and (max-width: 1024px)\n"),a={column:r.matches?2:3};r.addListener(function(e){var t=e.matches?2:3;if(a.column!==t){a.column=t;var n=document.createEvent("Event");n.initEvent("columnChange",!0,!0),window.dispatchEvent(n)}}),e.exports=a},ebfbbaecji:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(/\//g,"_").replace(/\+/g,"-")}},ebffadhefa:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildInvocationPayload=function(e){var t=e.invocationId,n=e.method,r=e.args;return{__id:t,__command:u.INVOCATION_COMMAND,__method:n,__args:r}},t.unwrapInvocationPayload=function(e){if(null!=e&&e.__command===u.INVOCATION_COMMAND){(0,o.default)(e.__id,"Invocation ID missing");var t=(0,i.extractInvocationId)(e.__id);(0,o.default)(null!=t&&e.__method&&"string"==typeof e.__method&&e.__id&&e.__args&&Array.isArray(e.__args),"Malformed invocation message");var n=e,r=n.__method,a=n.__args;return{method:r,args:a,invocationId:t}}};var r,a=n("cgeeeeddea"),o=(r=a)&&r.__esModule?r:{default:r},i=n("dbcbifhbge"),u=n("cejbjjbged")},ebffbebefe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unstarAllMessages=function(e,t){return function e(t,n){var d=n?n.promises:p.default.Chat.promises;var h=n?n.id:void 0;if(d.sendUnstarAll)return d.sendUnstarAll;var m=d.sendUnstarAll=(0,s.sendUnstarAll)(t,h);var b=new a.ActionType(l10n.t(110));var g=m.then(function(){return new a.ActionType(l10n.t(108))}).catch(i.ServerStatusCodeError,function(e){if(e.statusCode>=400)return new a.ActionType(l10n.t(105))}).catch(function(r){return u.default.error("models:chat:sendUnstarAll dropped")(r),new a.ActionType(l10n.t(105),l10n.t(154),function(){return e(t,n)})});o.default.openToast(r.createElement(a.ActionToast,{id:(0,a.genId)(),initialAction:b,pendingAction:g}));return m.then(function(){t.forEach(function(e){e.set("star",!1)}),n?(0,c.removeStarredMsgs)(t):(f.default.reset(),l.default.reset(),p.default.Chat.forEach(function(e){e.starredMsgs&&e.starredMsgs.reset()}))}).finally(function(){d.sendUnstarAll=null})}(e,t?(0,d.unproxy)(t):t)};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=n("ccihhdchab"),o=h(n("bbchdeehff")),i=n("ddjgcfjicj"),u=h(n("bdiiahhjbe")),s=n("eabhibhged"),l=h(n("dfgeejdaib")),c=n("djfhiceeje"),f=h(c),d=n("bheafeifce"),p=h(n("bhggeigghg"));function h(e){return e&&e.__esModule?e:{default:e}}},ebgbahdcjg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)return!1;var t=window.getSelection();if(1!==t.rangeCount)return!1;var n=t.getRangeAt(0);if(!n.collapsed||0!==n.startOffset)return!1;var r=n.startContainer;if(e===r)return!0;if(!e.contains(r))return!1;var a=r;do{if(a.previousSibling)return!1;a=a.parentNode}while(a!==e);return!0}},ebgedhejjf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=(d(n("baagejbchg")),d(n("fifhbjiec"))),i=n("gaifbabbj"),u=d(n("geegjgjdg")),s=d(n("dbbbgjbbgf")),l=d(n("cieaeggjg")),c=d(n("bceghabha")),f=d(n("ihfccfgdf"));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props.msg,t=e.paymentNoteMsg&&e.paymentNoteMsg.body,n=!t,r=null,f=void 0;if(t){var d=(e.isTrusted()?i.Configuration.TrustedConversation:i.Configuration.UntrustedConversation)({mentions:e.mentionMap(),links:e.getLinks()});r=a.createElement("div",{className:c.default.caption},a.createElement(s.default,{msg:e},a.createElement(o.default,{text:t,selectable:!0,formatters:d,dirMismatch:e.rtl!==l10n.isRTL(),direction:e.dir})))}else f=a.createElement("div",{className:c.default.meta},a.createElement(l.default,{msg:e}));return a.createElement(u.default,{displayAuthor:this.props.displayAuthor,displayType:this.props.displayType,hasCaption:!!r,msg:e,quotedMsg:this.props.quotedMsg,hideMeta:n},this.props.paymentInfo,f,r)}}]),t}();p.CONCERNS={msg:["rtl","dir","isGroupMsg","isPSA","isSentByMe","senderObj","paymentNoteMsg"]},p.displayName="SendOrRequestPaymentMessage",t.default=(0,f.default)(p,p.CONCERNS)},ebgjhfacdb:function(e,t,n){"use strict";var r,a=n("chgaccicf"),o=(r=a)&&r.__esModule?r:{default:r};e.exports=(0,o.default)({FILTER:void 0,INACTIVE:void 0,ENTER:void 0,TAB:void 0,DOWN:void 0,UP:void 0,BACKSPACE:void 0})},ebhdjgicgg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=v(n("bcadhjihfb")),i=v(n("dffedieagi")),u=v(n("cehjjfagii")),s=v(n("bbchdeehff")),l=(v(n("baagejbchg")),v(n("bffjfbgbg"))),c=v(n("eiiicijcj")),f=v(n("eafjfadchb")),d=v(n("bfbggcdbfb")),p=n("caafgbfcba"),h=v(p),m=v(n("ihfccfgdf")),b=n("bheafeifce"),g=v(n("bfdcadbbif"));function v(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.showMediaMissing=function(){s.default.openModal(a.createElement(c.default,{msg:n.props.msg}))},n.downloadMedia=function(){n.props.msg.downloadMedia(!1,d.default.WEBC_RMR_REASON_CODE.MSG_RENDER)},n._forceDownloadMedia=function(){n.props.msg.downloadMedia(!0,d.default.WEBC_RMR_REASON_CODE.MSG_CLICK)},n.cancelDownload=function(){n.props.msg.cancelDownload()},n.cancelUpload=function(){n.props.msg.cancelUpload()},n.resumeUpload=function(){n.props.msg.resumeUpload()},n.resumeRemoteUpload=function(){n.props.msg.resumeRemoteUpload()},n.downloadUnsupportedToDesktop=function(e){e&&e.stopPropagation(),s.default.openModal(a.createElement(f.default,{msg:(0,b.unproxy)(n.props.msg)}))},n.handleTimeUpdate=function(e){n.setState({currentTime:e})},n.handlePlayingUpdate=function(e){n.setState({autoPlay:!1,playing:e})},n.state={currentTime:0,playing:!1,autoPlay:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.downloadMedia()}},{key:"render",value:function(){var e=this.props.msg,t=this.props.mediaData,n=void 0,r=this.state.playing?this.state.currentTime:t.duration;switch(t.mediaStage){case l.default.STAGE.RESOLVED:n=a.createElement(h.default,{mediaData:this.props.mediaData,downloadMedia:this.downloadMedia,duration:r,playing:this.state.playing,played:!0,autoPlay:!1,onPlayingUpdate:this.handlePlayingUpdate,onTimeUpdate:this.handleTimeUpdate,outgoingMsg:e.isSentByMe,displayType:this.props.displayType});break;case l.default.STAGE.NEED_POKE:n=a.createElement(p.AudioPlayerFrame,{icon:a.createElement(g.default,{name:"audio-download"}),outgoingMsg:e.isSentByMe,action:this._forceDownloadMedia});break;case l.default.STAGE.NEED_UPLOAD:n=a.createElement(p.AudioPlayerFrame,{icon:a.createElement(g.default,{name:"audio-upload"}),outgoingMsg:e.isSentByMe,action:this.resumeUpload});break;case l.default.STAGE.REMOTE_NEED_UPLOAD:n=a.createElement(p.AudioPlayerFrame,{icon:a.createElement(g.default,{name:"audio-upload"}),outgoingMsg:e.isSentByMe,action:this.resumeRemoteUpload});break;case l.default.STAGE.ERROR_MISSING:n=a.createElement(p.AudioPlayerFrame,{icon:a.createElement(g.default,{name:"audio-play",directional:!0}),outgoingMsg:e.isSentByMe,action:this.showMediaMissing});break;default:n=a.createElement(p.AudioPlayerFrame,{outgoingMsg:e.isSentByMe,spinner:!0})}var s=a.createElement("div",{className:o.default.icon},a.createElement(g.default,{name:"audio-file"})),c=this.props.displayAuthor&&!e.isSentByMe&&e.isGroupMsg?a.createElement(u.default,{msg:e,contact:e.senderObj}):null;return a.createElement(i.default,{msg:e,quotedMsg:this.props.quotedMsg,author:c,player:n,avatar:s,displayType:this.props.displayType})}}]),t}();y.CONCERNS={msg:["ack","isSentByMe","isGroupMsg","senderObj"],mediaData:["duration","type","mediaStage","renderableUrl"]},y.displayName="Audio",t.default=(0,m.default)(y,y.CONCERNS)},ebhfgcddae:function(e,t){e.exports={body:"_3yE2x",icon:"_3FWXq",wrapper:"_1KmPi",container:"_287WJ",focusBorder:"_27JTh",preview:"_2x9yi"}},ebibecaibi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=E(n("hhegggegb")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=_(n("ddhijeejag")),i=E(n("bbchdeehff")),u=E(n("baagejbchg")),s=_(n("cajijabhgb")),l=E(n("bjbdcigbdi")),c=E(n("eceadcicaf")),f=E(n("bdiiahhjbe")),d=E(n("bffjfbgbg")),p=(E(n("cifjfjfegc")),E(n("dcfaachegb"))),h=E(n("bdbdaahbdh")),m=E(n("iggbadgaj")),b=E(n("bfbggcdbfb")),g=E(n("cahfddcdga")),v=E(n("bjbedjfe")),y=E(n("bcifhbgija"));function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}var j=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onKeyDown=function(e){37===e.keyCode?n.onPrev():39===e.keyCode&&n.onNext()},n.onImageLoad=function(){var e=n.uiActionEvent;e&&(e.markUiActionT(),e.commit(),delete n.uiActionEvent)},n.onScroll=function(e){n.handleScroll(e.currentTarget,n.mediaMsgs,e.currentTarget.scrollLeft,n.props.listeners)},n.onNext=function(e){if(e&&e.stopPropagation(),!n.state.imgZoomed){var t=n.state.activeMsg,r=n.mediaMsgs.getAfter(t);r?n.onSelectThumb(r):n.mediaMsgs.hasMediaAfter&&(n._queryMediaAfter||(n._queryMediaAfter=n.mediaMsgs.queryMedia(t.chat,t,"after").checkpoint(n.props.rejectOnUnmount()).then(function(e){"number"==typeof e.length&&e.length>0&&n.state.activeMsg===t&&n.onNext()}).catch(s.Unmount,function(){}).catch(function(e){f.default.error("query media msgs error: ",e)()}).finally(function(){n._queryMediaAfter=null})))}},n.onPrev=function(e){if(e&&e.stopPropagation(),!n.state.imgZoomed){var t=n.state.activeMsg,r=n.mediaMsgs.getBefore(t);r?n.onSelectThumb(r):n.mediaMsgs.hasMediaBefore&&(n._queryMediaBefore||(n._queryMediaBefore=n.mediaMsgs.queryMedia(t.chat,t,"before").checkpoint(n.props.rejectOnUnmount()).then(function(e){"number"==typeof e.length&&e.length>0&&n.state.activeMsg===t&&n.onPrev()}).catch(s.Unmount,function(){}).catch(function(e){f.default.error("query media msgs error: ",e)()}).finally(function(){n._queryMediaBefore=null})))}},n.onImgZoomIn=function(e){n.setState({imgZoomed:e})},n.endFlow=function(){i.default.closeModalMedia()},n.willEndFlow=function(){var e=function(e){e&&(0,y.default)(e,{opacity:[0,1],translateY:["100%","0%"]},{duration:300,easing:[.1,.82,.25,1]})};l.default.supportsFeature(l.default.F.MEDIA_VIEWER_THUMB_FLAT_LIST)?e(n.refThumbFlatListWrapper):e(n.refThumbsContainer)},n.onSelectThumb=function(e){n.props.listeners.uiIdle(function(){n.mediaMsgs.loadMoreAroundIfNeeded(e)}),n.setState({activeMsg:e})},n.scrollToActive=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=n.refThumbsContainer,r=n.refThumbs,a=n.refActiveThumb;if(t&&r&&a){var o=0;a instanceof HTMLElement&&(o=a.clientWidth/2-t.clientWidth/2),(0,y.default)(r,"stop");var i=0;e&&(i=300),(0,y.default)(a,"scroll",{duration:i,container:r,offset:o,axis:"x",easing:[.1,.82,.25,1]})}},n.setRefActiveThumb=function(e){n.refActiveThumb=e},n.setRefThumbsContainer=function(e){n.refThumbsContainer=e},n.setThumbFlatListWrapper=function(e){n.refThumbFlatListWrapper=e},n.setRefThumbs=function(e){n.refThumbs=e},n.isActiveMsgInAlbum=function(){var e=n.props.highlightedMsgIds;if(!e)return!1;var t=n.state.activeMsg.id.toString();return e.has(t)},n.zoomIn=!0,n.prevScrollWidth=null;var a=n.props.msg;return n.mediaMsgs=a.chat.constructMediaMsgs(a),n.handleScroll=(0,r.default)(n._handleScroll.bind(n),100),a.type===u.default.MSG_TYPE.IMAGE&&(n.uiActionEvent=new b.default.UiAction({uiActionType:b.default.UI_ACTION_TYPE.IMAGE_OPEN,uiActionPreloaded:a.mediaData.mediaStage===d.default.STAGE.RESOLVED})),n.state={activeMsg:a,imgZoomed:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(window,"keydown",this.onKeyDown),this.zoomIn=!1;var t=function(e){e&&(0,y.default)(e,{opacity:[1,0],translateY:["0%","100%"]},{duration:300,delay:100,easing:[.1,.82,.25,1]})};l.default.supportsFeature(l.default.F.MEDIA_VIEWER_THUMB_FLAT_LIST)?t(this.refThumbFlatListWrapper):(this.addListeners.bind(this)(this.props.listeners,this.mediaMsgs,function(){return e.state.activeMsg},this.onSelectThumb,this.endFlow),this.props.listeners.add(this.mediaMsgs,"query_media_before",function(){var t=e.refThumbs;t&&(e.prevScrollWidth=t.scrollWidth,t instanceof HTMLElement&&e.forceUpdate())}),this.scrollToActive(),t(this.refThumbsContainer))}},{key:"addListeners",value:function(e,t,n,r,a){var o=this;e.uiIdle(function(){var e=n();t.loadMoreAroundIfNeeded(e)}),e.add(t,"remove reset",function(e,i,u){var s=n();if(t.includes(e)||s.id.toString()!==e.id.toString())o.forceUpdate();else{var l=u.index;0===t.length?a():t.length===l?r(t.at(l-1)):r(t.at(l))}}),e.add(t,"query_media_after")}},{key:"componentWillUnmount",value:function(){this.handleScroll.cancel()}},{key:"componentDidUpdate",value:function(e,t){if(!l.default.supportsFeature(l.default.F.MEDIA_VIEWER_THUMB_FLAT_LIST))if(t.activeMsg!==this.state.activeMsg)this.scrollToActive(!0);else{var n=this.refThumbs;if(!n||null==this.prevScrollWidth||0===this.prevScrollWidth)return;n instanceof HTMLElement&&(n.scrollLeft+=n.scrollWidth-this.prevScrollWidth),this.prevScrollWidth=null}}},{key:"_handleScroll",value:function(e,t,n,r){var a=this;if(0!==t.length&&null!=n){if(t.hasMediaBefore&&n<e.clientWidth){var o=(0,g.default)(t.head());r.uiIdle(function(){t.queryMedia(o.chat,o),a.forceUpdate()})}if(t.hasMediaAfter&&n+u.default.SCROLL_FUDGE>e.scrollWidth-2*e.clientWidth){var i=(0,g.default)(t.last());r.uiIdle(function(){t.queryMedia(i.chat,i,"after"),a.forceUpdate()})}}}},{key:"render",value:function(){var e=this.mediaMsgs.last(),t=this.mediaMsgs.hasMediaAfter||this.state.activeMsg!==e?this.onNext:null,n=this.mediaMsgs.head(),r=this.mediaMsgs.hasMediaBefore||this.state.activeMsg!==n?this.onPrev:null,a=l.default.supportsFeature(l.default.F.MEDIA_VIEWER_THUMB_FLAT_LIST)?o.createElement(h.default,{activeMsg:this.state.activeMsg,mediaMsgs:this.mediaMsgs,highlightedMsgIds:this.props.highlightedMsgIds,onSelectThumb:this.onSelectThumb,onSetActiveThumb:this.setRefActiveThumb,handleScroll:this._handleScroll,setThumbFlatListWrapper:this.setThumbFlatListWrapper,setRefThumbs:this.setRefThumbs,endFlow:this.endFlow,addListeners:this.addListeners}):o.createElement(m.default,{activeMsg:this.state.activeMsg,mediaMsgs:this.mediaMsgs,highlightedMsgIds:this.props.highlightedMsgIds,onSelectThumb:this.onSelectThumb,onSetActiveThumb:this.setRefActiveThumb,onScroll:this.onScroll,setRefThumbsContainer:this.setRefThumbsContainer,setRefThumbs:this.setRefThumbs});return o.createElement("div",{className:this.state.imgZoomed?"img-zoomed-in":null},a,o.createElement(p.default,{msg:this.state.activeMsg,mediaData:this.state.activeMsg.mediaData,onBack:this.endFlow,onExitAnimation:this.willEndFlow,onNext:t,onPrev:r,onImgZoomIn:this.onImgZoomIn,getZoomNode:this.props.getZoomNode,startTime:this.props.startTime,zoomIn:this.zoomIn,onImageLoad:this.uiActionEvent?this.onImageLoad:null,isMsgInAlbum:this.isActiveMsgInAlbum()}))}}]),t}();j.displayName="MediaViewerFlow",t.default=(0,v.default)((0,c.default)(j))},ebidfedahj:function(e,t,n){"use strict";e.exports={Action:"keyboard_action",Event:"keyboard_event",Events:{LOGGED_IN:"logged_in",LOGGED_OUT:"logged_out",ARCHIVE:"archived",MUTE:"muted",READ:"read",READ_ONLY:"read_only",CHAT_KIND:"chat_kind",ZOOM:"zoom",LAUNCH:"launch",BATCH_RENDER:"batch_render"}}},ebiheagbje:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function a(e,t,n){for(var r=e.format,a=[],o=function(e){var t=e,n=[];do{t.mutator&&n.push(t.mutator)}while(t.parent&&(t=t.parent));return n}(n),i=0;i<t.length;++i)(r||t[i][0].compatibility)&&(o.includes(t[i][0])||a.push(t[i]));return a}t.default=function(e,t,o){for(var i={children:[]},u=0,s=i,l=0,c=0;c<t.length;++c){for(var f=t[c],d=r(f,2),p=d[0],h=d[1];s.parent&&p>(l=s.match[2]);){if(u<=l&&s.children.push({type:"text",value:e.substring(u,l+1)}),u=s.match[3]+1,s.mutator.fragment){var m=s.parent.children;m.pop(),m.push.apply(m,s.children)}l!==s.match[3]&&s.parent.children.push({type:"delimiter",value:e.substring(l+1,u)}),s=s.parent}u<p&&s.children.push({type:"text",value:e.substring(u,p)});var b=r(o[f[4]],2),g=b[0],v=b[1],y=g.mutates;u=h,p!==h&&s.children.push({type:"delimiter",value:e.substring(p,h)});var _={children:[],match:f,mutator:g,opts:v,parent:s};if(y){var E=e.substring(f[1],f[2]+1),j=g.mutate(E,f[5]),O=a(g,o,_),S=n("dfgcaedggj")._parse,w=S(j,O);_.children=w.children,u=f[2]+1}s.children.push(_),s=_}do{if(s.match){var P=r(s.match,4),M=P[2],C=P[3];if(u<=M&&s.children.push({type:"text",value:e.substring(u,M+1)}),u=C+1,s.mutator.fragment){var T=s.parent.children;T.pop(),T.push.apply(T,s.children)}M!==C&&s.parent.children.push({type:"delimiter",value:e.substring(M+1,u)})}}while(s.parent&&(s=s.parent)&&s.parent);u!==e.length&&s.children.push({type:"text",value:e.substring(u)});return i}},ebijaadcje:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=c(n("baagejbchg")),u=c(n("bcdgdcghdi")),s=c(n("cbhhfeaigc")),l=c(n("bfdcadbbif"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={hover:!1},r._onMouseEnter=function(){r.setState({hover:!0})},r._onMouseLeave=function(){r.setState({hover:!1})},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"render",value:function(){var e=(0,a.default)(s.default.container,{[s.default.compact]:this.props.displayType===i.default.DISP_TYPE.MSG_INFO});return o.createElement("div",{className:e,onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave},this.state.hover?o.createElement(u.default,null,this.props.tooltip):null,o.createElement("div",{className:s.default.error,onClick:this.props.onClick,role:"button"},o.createElement(l.default,{name:"error"})))}}]),t}();d.displayName="FailIcon",t.default=d},ebjaejiaba:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CHAT_KIND=t.KIND=void 0;var r=ge(n("ddgaeajhag")),a=ge(n("eicihhaba")),o=ge(n("bhdddbafig")),i=ge(n("bgejacgfdg")),u=ge(n("bcdejiigcg")),s=ge(n("ddfeabiaci")),l=ge(n("begjbhhee")),c=ge(n("iidhbgeed")),f=ge(n("dbafiicfja")),d=ge(n("bebajedcaf")),p=ge(n("eaaagccfda")),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},b=be(n("ddhijeejag")),g=n("ccihhdchab"),v=ge(n("djheacfeif")),y=n("dcaifjegcg"),_=ge(n("bbehjhfdfe")),E=ge(n("bdiiibjcij")),j=ge(n("caedaejadb")),O=ge(n("diajeiidei")),S=ge(n("dbfjecijha")),w=ge(n("chbjajaddg")),P=ge(n("cfadcbbiie")),M=ge(n("bbchdeehff")),C=ge(n("baagejbchg")),T=ge(n("bjigbaghc")),A=ge(n("beecadabde")),N=ge(n("ccbihadedf")),k=n("ddjgcfjicj"),I=ge(n("cijheiibhg")),R=be(n("cajijabhgb")),L=ge(n("bjbdcigbdi")),D=ge(n("ecjehifjdd")),x=ge(n("bdiiahhjbe")),U=ge(n("edjgaiicj")),G=n("ddgbhifaji"),F=ge(n("bfbggcdbfb")),B=ge(n("cbcbdjdah")),$=ge(n("biecbbiiee")),V=n("eahbfdfee"),H=ge(n("cffajefeag")),W=n("ccbagdhfbb"),Y=ge(n("dagdiahdfi")),K=n("bcjidabgad"),q=ge(n("cahfddcdga")),z=n("icbibjcg"),Q=ge(n("dhefcajhhb")),J=be(n("ebggjhghhi")),Z=ge(n("cfejjfjhca")),X=n("bfabbhgjga"),ee=n("cgddafdgie"),te=n("dcbafbaejf"),ne=n("eabhibhged"),re=ge(n("bfgbdiffgd")),ae=n("djfhiceeje"),oe=ge(ae),ie=ge(n("bhggeigghg")),ue=ge(n("ccehadbeci")),se=ge(n("bgabgddgch")),le=n("bhjegffigh"),ce=n("dcjbdhhjge"),fe=ge(n("egjjcjcg")),de=ge(n("cgfjebhhej")),pe=ge(n("bihdhbjih")),he=ge(n("jccfhaecf")),me=ge(n("eaaehfdjdg"));function be(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function ge(e){return e&&e.__esModule?e:{default:e}}function ve(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ye=t.KIND={GROUP:"group",BROADCAST:"broadcast",CHAT:"chat"};t.CHAT_KIND=ye;var _e=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=ve(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.id=(0,y.prop)(),r.t=(0,y.prop)(),r.unreadCount=(0,y.prop)(0),r.archive=(0,y.prop)(),r.isReadOnly=(0,y.prop)(),r.isAnnounceGrpRestrict=(0,y.prop)(),r.modifyTag=(0,y.prop)(),r.muteExpiration=(0,y.prop)(0),r.name=(0,y.prop)(),r.notSpam=(0,y.prop)(),r.pin=(0,y.prop)(),r.labels=(0,y.prop)(),r.changeNumberOldJid=(0,y.prop)(),r.changeNumberNewJid=(0,y.prop)(),r.lastReceivedKey=(0,y.prop)(),r.ephemeralDuration=(0,y.prop)(),r.createdLocally=(0,y.session)(),r.pendingAction=(0,y.session)(),r.formattedTitle=(0,y.session)(),r.active=(0,y.session)(),r.pausedTimerId=(0,y.session)(),r.presenceResendTimerId=(0,y.session)(),r.recording=(0,y.session)(),r.typing=(0,y.session)(),r.colors=(0,y.session)(),r.composeContents=(0,y.session)(function(){return{}}),r.composeAttachMediaContents=(0,y.session)(),r.squelch=(0,y.session)(),r.pendingSeenCount=(0,y.session)(0),r.unreadMsgAnchor=(0,y.session)(),r.markedUnread=(0,y.session)(),r.trusted=(0,y.session)(),r.canSend=(0,y.session)(),r.promises=(0,y.session)(function(){return{}}),r.ftsCache=(0,y.session)(function(){return{}}),r.composeQuotedMsg=(0,y.session)(),r.composeQuotedMsgRemoteJid=(0,y.session)(),r.quotedMsgAdminGroupJid=(0,y.session)(),r.groupMetadata=(0,y.session)(),r.presence=(0,y.session)(),r.mute=(0,y.session)(),r.contact=(0,y.session)(),r.liveLocation=(0,y.session)(),r.liveLocationQueried=(0,y.session)(!1),r.ackedProps=(0,y.session)(function(){return{}}),r.mediaCount=(0,y.session)(0),r.linkCount=(0,y.session)(0),r.docCount=(0,y.session)(0),r.msgUnsyncedButtonReplyMsgs=(0,y.prop)(),r.vcardDismissed=(0,y.session)(!1),r.kind=(0,y.derived)(r._kind),r.isUser=(0,y.derived)(r._isUser),r.isPSA=(0,y.derived)(r._isPSA),r.isGroup=(0,y.derived)(r._isGroup),r.isBroadcast=(0,y.derived)(r._isBroadcast),r.canUnread=(0,y.derived)(r._canUnread),r.hasUnread=(0,y.derived)(r._hasUnread,["unreadCount"]),r.optimisticUnreadCount=(0,y.derived)(r._optimisticUnreadCount,["unreadCount","pendingSeenCount"]),r.shouldShowUnreadDivider=(0,y.derived)(r._shouldShowUnreadDivider,["unreadCount","unreadMsgAnchor"]),r.shouldAppearInList=(0,y.derived)(r._shouldAppearInList,["createdLocally","msgs","msgsLength"]),r.previewMessage=(0,y.derived)(r._previewMessage,["msgs","msgsChanged"]),r.showChangeNumberNotification=(0,y.derived)(r._showChangeNumberNotification,["changeNumberOldJid","changeNumberNewJid","id","isUser"]),r.shouldShowUnreadInTitle=(0,y.derived)(r._shouldShowUnreadInTitle,["isGroup","archive","unreadCount","muteExpiration"]),ve(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,ue.default),h(t,[{key:"initialize",value:function(){var e=this;m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this),this.addQueue=new D.default,this.sendQueue=new D.default,this._ephemeralMessagesToDelete=new Set,this._ephemeralMessageTimerIds=new Map,this._promises=null,this.msgs.msgLoadState.contextLoaded=!0,this.shouldAppearInList||(x.default.logVerbose(`Setting noEarlierMsgs on chat ${String(this.id)} to true because !chat.shouldAppearInList\n${(new Error).stack}`)(),this.msgs.msgLoadState.noEarlierMsgs=!0),this.addChild("presence",ie.default.Presence.gadd(this.id));var n=Y.default.get(this.id);if(n?this.addChild("mute",n):this.addChild("mute",Y.default.gadd({id:this.id,expiration:this.muteExpiration})),this.listenTo(this.mute,"change:expiration",this.updateMuteExpiration),this.addChild("contact",ie.default.Contact.gadd(this.id)),this.name&&!this.contact.name){var r={name:this.name};(0,ce.updateLocal)(this.contact.id,r).then(function(){e.contact.set(r)})}if(this.listenTo(this.contact,"change:name",this.updateTitle),this.listenTo(this.contact,"change:isContactBlocked",this.updateCanSend),this.isGroup&&(this.trusted=!0),this.isGroup||this.isBroadcast){var a=void 0;this.isBroadcast&&!ie.default.GroupMetadata.get(this.id)&&(a=!0),this.addChild("groupMetadata",ie.default.GroupMetadata.gadd(this.id)),this.listenTo(this.groupMetadata,"change:stale change:announce",this.updateIsAnnounceGrpRestrict),this.listenTo(this.groupMetadata.participants,"change:isAdmin add remove",this.updateIsAnnounceGrpRestrict),this.listenTo(this.groupMetadata,"change:trusted change:stale",this.isTrusted),this.listenTo(this.groupMetadata,"change:participants change:stale",this.updateReadOnly),this.listenTo(this.groupMetadata.participants,"change:contact.formattedShortName",this.updateTitle),this.updateReadOnly(),this.updateIsAnnounceGrpRestrict();var o=this.id;this.listenTo(this,"change:isReadOnly",function(){this.isTrusted(),this.updateCanSend(),Q.default.update(o).catch(k.WapDrop,function(){}),ie.default.GroupMetadata.update(o).catch(k.WapDrop,function(){})}),this.listenTo(this,"change:isAnnounceGrpRestrict",this.updateCanSend),a&&ie.default.GroupMetadata.update(o).catch(k.WapDrop,function(){})}else this.listenTo(this.presence,"change:isOnline",function(){return(0,z.presenceOnlineChanged)(e)}),this.listenTo(this.contact,"change:isMyContact",this.isTrusted);var i=this.getCollection();i.notSpam[this.id]&&!this.notSpam&&(0,te.sendNotSpam)(this).catch(function(){}),i.notSpam[this.id]=!!this.notSpam,this.notSpam||this.listenTo(this,"change:notSpam",this.onNotSpamChange),this.updateTitle(),this.isTrusted(),this.updateCanSend(),this.listenTo(this.msgs,"add",this.onNewMsg),this.listenTo(this.msgs,"update_sort_time",this.updateSortTime),this.listenTo(this.msgs,"bulk_add",this.addMediaMsgs),this.listenTo(this.msgs,"add remove change:ephemeralExpirationTimestamp",this._resetEphemeralMessageExpirationTimer),this.listenTo(this.msgs,"bulk_add",function(t){t.forEach(function(t){e._resetEphemeralMessageExpirationTimer(t)})}),this.listenTo(this,"change:msgs",this.resetMediaMsgs),this._saveAssignedColors=(0,p.default)(this.saveAssignedColors,1e3),this.listenTo(this,"change:active",this.onActiveUpdate),this.pendingAction=0,this.listenTo(this,"change:t change:modifyTag",this._clearFtsCache)}},{key:"_kind",value:function(){return he.default.isGroup(this.id)?ye.GROUP:he.default.isBroadcast(this.id)?ye.BROADCAST:he.default.isUser(this.id)?ye.CHAT:void x.default.log(`chat:unknown kind id:${this.id.toString()}`)()}},{key:"_isUser",value:function(){return he.default.isUser(this.id)}},{key:"_isPSA",value:function(){return he.default.isPSA(this.id)}},{key:"_isGroup",value:function(){return he.default.isGroup(this.id)}},{key:"_isBroadcast",value:function(){return he.default.isBroadcast(this.id)}},{key:"_canUnread",value:function(){return!this.isBroadcast}},{key:"_hasUnread",value:function(){return 0!==this.unreadCount}},{key:"_optimisticUnreadCount",value:function(){var e=this.unreadCount,t=this.pendingSeenCount;return-1===e?e:Math.max(0,e-t)}},{key:"_shouldShowUnreadDivider",value:function(){if(0===this.unreadCount)return!1;if(this.unreadMsgAnchor){var e=this.unreadMsgAnchor.msgChunk,t=e?e.getModelsArray():[];return this.unreadMsgAnchor!==t.find(function(e){return e.isUnreadType})}return!this.msgs.msgLoadState.noEarlierMsgs||this.msgs.filter(function(e){return e.isUnreadType}).length!==this.unreadCount}},{key:"_shouldAppearInList",value:function(){if(this._shouldAppearInListLatched)return!0;if(he.default.isStatusV3(this.id))return!1;var e=this.msgs.some(function(e){return!(e.type===C.default.MSG_TYPE.GROUPS_V4_INVITE&&e.from===T.default.me)&&e.type!==C.default.MSG_TYPE.E2E_NOTIFICATION&&e.type!==C.default.MSG_TYPE.CALL_LOG&&!e.isBizNotification&&"change_number"!==e.subtype});return this._shouldAppearInListLatched=!this.createdLocally||e,this._shouldAppearInListLatched}},{key:"_previewMessage",value:function(){for(var e=this.msgs.length-1;e>=0;e--){var t=this.msgs.at(e);if(t&&t.type!==C.default.MSG_TYPE.E2E_NOTIFICATION)return t}}},{key:"_showChangeNumberNotification",value:function(){if(!L.default.supportsFeature(L.default.F.CHANGE_NUMBER_V_2))return!1;var e=this.changeNumberOldJid,t=this.changeNumberNewJid,n=this.id;if(!this.isUser)return!1;if(!e&&!t)return!1;var r=t||n,a=ie.default.Contact.get(r);return!a||!a.isMyContact}},{key:"_shouldShowUnreadInTitle",value:function(){var e=!!this.muteExpiration;if(this.archive)return!1;if(this.unreadCount<=0)return!1;if(!this.isGroup)return!e;if(!e)return!0;if(!this.msgs||0===this.msgs.length)return!1;for(var t=!1,n=this.msgs,r=this.unreadCount,a=Math.max(0,n.length-r);a<n.length;a++){var o=this.msgs.at(a);if(o&&(o.isMentioned(T.default.me)||o.isQuoted(T.default.me))){var i=this.getCollection().get(o.sender);if(!i||!i.muteExpiration){t=!0;break}}}return t}},{key:"set",value:function(e,n,r){return"string"==typeof e?"muteExpiration"===e&&this.mute&&this.mute.setMute(n):e.hasOwnProperty("muteExpiration")&&this.mute&&this.mute.setMute(e.muteExpiration),m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"set",this).call(this,e,n,r)}},{key:"addPendingAction",value:function(e){var t=this;if(e.isPending()){var n=function(){t.decPending()};e.then(n,n),this.pendingAction++}}},{key:"decPending",value:function(){this.pendingAction>0?this.pendingAction--:(x.default.log("chat:onPendingActionUpdate pendingAction value is invalid")(),this.pendingAction=0)}},{key:"onActiveUpdate",value:function(){var e=this;this.isGroup&&this.active&&(this.squelch=-1),this.presence.chatActive=this.active,this.active||this._ephemeralMessagesToDelete.forEach(function(t){e._ephemeralMessagesToDelete.delete(t),t.delete({skipUpdatingSortTime:!0})})}},{key:"onPendingActionUpdate",value:function(){this.pendingAction<0&&(x.default.log("chat:onPendingActionUpdate pendingAction value is invalid")(),this.pendingAction=0)}},{key:"onNotSpamChange",value:function(){this.getCollection().notSpam[this.id]=this.notSpam,this.isTrusted(),this.notSpam&&this.stopListening(this,"change:notSpam")}},{key:"hasMaybeSentMsgToChat",value:function(){return this.getAllMsgs().some(function(e){return e.isSentByMe})}},{key:"isTrusted",value:function(){var e=!1;return this.isGroup?e=this.isReadOnly||this.notSpam||this.groupMetadata.isTrusted():this.isBroadcast?e=!0:this.isUser&&(e=this.notSpam||this.contact.isMyContact),!e&&this.hasMaybeSentMsgToChat()&&(e=!0),this.trusted=e}},{key:"updateMuteExpiration",value:function(){var e=this,t=Number(this.mute.expiration);(0,le.updateLocal)(this.id,{muteExpiration:t}).then(function(){return e.muteExpiration=t})}},{key:"updateTitle",value:function(){this.isBroadcast?this.formattedTitle=this.contact.name||this.groupMetadata.participants.map(function(e){return e.contact.formattedShortName}).join(", "):this.isUser?this.formattedTitle=this.contact.getFormattedUser()||"":this.isGroup&&(this.formattedTitle=this.contact.name)}},{key:"title",value:function(){return this.isGroup?this.formattedTitle||l10n.t(1069):this.formattedTitle}},{key:"updateCanSend",value:function(){return this.isReadOnly||this.isAnnounceGrpRestrict?this.canSend=!1:this.isUser?this.canSend=!(this.contact.isContactBlocked||this.isPSA):this.canSend=!0}},{key:"delete",value:function(){m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),this.getCollection().remove(this.id),this.cancelPendingPromises(),this.presence.delete(),this.liveLocation&&this.liveLocation.delete(),M.default.clearChat(this),this.groupMetadata&&this.groupMetadata.delete(),this.mediaMsgs&&this.mediaMsgs.delete(),this.linkMsgs&&this.linkMsgs.delete(),this.docMsgs&&this.docMsgs.delete();var e=this.starredMsgs;e&&(e.delete(),e.stopListening(),e.reset()),this.receivedVCardMsgs&&this.receivedVCardMsgs.delete(),fe.default.deleteComposeContents(this.id)}},{key:"isDirty",value:function(){return 0!==this.unreadCount}},{key:"resetMediaMsgs",value:function(){var e=this.mediaMsgs,t=this.linkMsgs,n=this.docMsgs;e&&(e.delete(),e.queryMedia(this)),t&&(t.delete(),t.queryLinks(this)),n&&(n.delete(),n.queryDocs(this))}},{key:"addMediaMsgs",value:function(e,t){if(e){var n=Array.isArray(e)?e:[e],r=[],a=[],o=[];n.forEach(function(e){e.isMedia&&r.push(e),e.isDoc&&o.push(e),e.linkPreview&&a.push(e)}),this.mediaMsgs&&r.length&&this.mediaMsgs.add(r,t),this.linkMsgs&&a.length&&this.linkMsgs.add(a,t),this.docMsgs&&o.length&&this.docMsgs.add(o,t)}}},{key:"onNewMsg",value:function(e){var t=this;if(e){var n=Promise.resolve();e.isSentByMe&&!this.notSpam&&(n=(0,le.updateLocal)(this.id,{notSpam:!0}).then(function(){return t.notSpam=!0})),"i"!==e.eventType&&n.then(function(){var n={};return n.t=e.t,t.promises.updateSortTime&&t.promises.updateSortTime.cancel(),t.updateMediasCountOnMsg(e),t.archive&&(n.archive=!1),t.promises.setArchive&&t.promises.setArchive.cancel(),e.isSentByMe?t.markedUnread=!1:((0,_.default)({id:t.id,participant:e.author,type:"paused"},!1),"a"!==e.eventType&&"d"!==e.eventType||(n.unreadCount=t.unreadCount+1||1)),(0,le.updateLocal)(t.id,n).then(function(){return n})}).then(function(n){e.isSentByMeFromWeb&&e.promises.sendPromise?t.setAndKeepPrevious(n,e.promises.sendPromise):t.set(n);var r=N.default.get(t.id);if(r&&(r.timestamp=P.default.globalUnixTime()),"gp2"!==e.type||"add"!==e.subtype&&"create"!==e.subtype||ie.default.GroupMetadata.trigger(`group_participant_change_${T.default.me.toString()}`,t.id),!e.isSentByMe){switch(e.eventType){case"d":case"a":"d"===e.eventType&&M.default.alertNewMsg(e),t.msgs.length<C.default.MSG_PRELOAD_THRESHOLD&&t.loadEarlierMsgs(void 0,F.default.WEBC_QUERY_TRIGGER_TYPE.NEW_MESSAGE_PREFETCH).catch(k.E404,function(){}).catch(function(e){x.default.log("chat:onNewMsg failed")(),x.default.log(e)()});break;case"s":if("gp2"===e.type&&"add"===e.subtype&&T.default.me.equals(e.recipients[0])&&!t.contact.name)return;M.default.alertNewMsg(e),ie.default.GroupMetadata.trigger(`group_participant_change_${T.default.me.toString()}`,t.id)}var a=e.mediaData;!a||"image"!==a.type&&"video"!==a.type||M.default.newMediaMsg(e)}})}}},{key:"canPin",value:function(){if(this.archive)return!1;var e=this.promises&&this.promises.setArchive;return(!e||!e.archive)&&L.default.supportsFeature(L.default.F.PIN)}},{key:"canArchive",value:function(){return!this.isBroadcast||L.default.supportsFeature(L.default.F.ARCHIVE_BROADCAST)}},{key:"sendDismissChangeNumber",value:function(){var e=this;if(this.promises.sendDismissChangeNumber)return this.promises.sendDismissChangeNumber;var t=pe.default.sendConversationDismissChangeNumber(this.id);this.promises.sendDismissChangeNumber=t;var n=new g.ActionType(l10n.t(23)),r=t.then(function(e){return 200===e.status?new g.ActionType(l10n.t(22)):e.status>=400?new g.ActionType(l10n.t(21)):void 0}).catch(function(t){return x.default.error("models:chat:sendDismissChangeNumber dropped")(t),new g.ActionType(l10n.t(21),l10n.t(154),e.sendDismissChangeNumber.bind(e))});return M.default.openToast(b.createElement(g.ActionToast,{id:(0,g.genId)(),initialAction:n,pendingAction:r})),t.then(function(t){if(200===t.status&&!t._duplicate)return(0,le.updateLocal)(e.id,{changeNumberNewJid:void 0,changeNumberOldJid:void 0}).then(function(){e.changeNumberOldJid=e.changeNumberNewJid=void 0})}).finally(function(){e.promises.sendDismissChangeNumber=null})}},{key:"setComposeContents",value:function(e){this.composeContents=e}},{key:"getSessionPersistedComposeContents",value:function(){return fe.default.getComposeContents(this.id)}},{key:"getComposeContents",value:function(){return(0,d.default)(this.composeContents)?this.getSessionPersistedComposeContents()||{}:this.composeContents}},{key:"setComposeAttachMediaContents",value:function(e){this.composeAttachMediaContents=e}},{key:"preload",value:function(){1===this.msgs.length&&this.loadEarlierMsgs().catch(k.E404,function(){}).catch(function(e){x.default.log("chat:preload failed")(),x.default.log(e)()})}},{key:"onEmptyMRM",value:function(){x.default.log("models:Chat:removeMsg 0 messages left, querying...")(),this.loadEarlierMsgs().catch(k.E404,function(){}).catch(function(e){x.default.log("chat:onEmptyMRM failed")(),x.default.log(e)()})}},{key:"loadEarlierMsgs",value:function(e,t){var n=this,r=e,a=null!=t?t:F.default.WEBC_QUERY_TRIGGER_TYPE.USER_SCROLL;if(r||(r=this.msgs),r.msgLoadState.noEarlierMsgs)return Promise.resolve();if(r.msgLoadState.isLoadingEarlierMsgs)return r.loadEarlierPromise;var o=r?r.head():null;return this._loadMsgs("before",r,a).then(function(e){var t=o?o.msgChunk:r;return t&&Array.isArray(e)&&e.length<C.default.PAGE_SIZE&&(t.msgLoadState.noEarlierMsgs=!0),t&&n.isMostRecentCMC(t)&&n.trigger("msgs:loadEarlier"),e})}},{key:"isMostRecentCMC",value:function(e){return this.msgs===e}},{key:"loadRecentMsgs",value:function(e){var t=e;return t||(t=this.msgs),this.isMostRecentCMC(t)?Promise.resolve():t.msgLoadState.isLoadingRecentMsgs?t.loadRecentPromise:this._loadMsgs("after",t,F.default.WEBC_QUERY_TRIGGER_TYPE.USER_SCROLL)}},{key:"_loadMsgs",value:function(e,t,n){var r=void 0,a={};(r="after"===e?t.last():t.head())?a=r.id.clone():a.remote=this.id,a.count=C.default.PAGE_SIZE,a.direction=e;var o=(0,V.newMessageQueryEvent)(n);return this._loadMsgsPromiseLoop(r,t,$.default.findQuery.bind($.default,a,{logOnSend:function(e){o.webcResponseBytes+=e.binarySize}}),e,o)}},{key:"_updateMsgLoadState",value:function(e,t,n){var r=e&&e.msgChunk&&e.msgChunk!==t;t.msgLoadState.contextLoaded=!0,e&&r&&((0,q.default)(e.msgChunk).msgLoadState.contextLoaded=!0),"after"===n?t.msgLoadState.isLoadingRecentMsgs=!1:"before"===n?t.msgLoadState.isLoadingEarlierMsgs=!1:"around"===n&&(t.msgLoadState.isLoadingAroundMsgs=!1)}},{key:"_loadMsgsPromiseLoop",value:function(e,t,n,r,a){var o=this,i=performance.now();"after"===r?(t.msgLoadState.isLoadingRecentMsgs=!0,a.webcMessageQueryType=F.default.WEBC_MESSAGE_QUERY_DIRECTION.LOAD_NEXT):"before"===r?(t.msgLoadState.isLoadingEarlierMsgs=!0,a.webcMessageQueryType=F.default.WEBC_MESSAGE_QUERY_DIRECTION.LOAD_PREV):"around"===r&&(t.msgLoadState.isLoadingAroundMsgs=!0,a.webcMessageQueryType=F.default.WEBC_MESSAGE_QUERY_DIRECTION.LOAD_AROUND),a.webcBrowserNetworkType=(0,K.getEffectiveNetworkType)(),a.webcChatType=this.getWebcChatType(),"number"==typeof this.initialIndex&&(a.webcChatPosition=this.initialIndex);var u=Promise.loop(function(u,s,l){var c=Promise.delay(se.default.expBackoff(l,12e4,1e3,.1));return("CONNECTED"===me.default.stream?Promise.resolve():J.waitForBBEvent(me.default,"change:stream",function(){return"CONNECTED"===me.default.stream})).then(function(){return o.regCancellablePromise(n()).then(function(n){a.webcQueryT=Math.ceil(performance.now()-i);var s=void 0;Array.isArray(n[0])?(s=n[0][0],n.forEach(function(e){return(0,V.logMessageCounts)(a,e)})):(s=n[0],(0,V.logMessageCounts)(a,n)),s&&(a.webcEarliestMessageT=s.t,s.msgChunk===o.msgs&&(a.webcEarliestMessageIndex=o.msgs.length-1)),(0,I.default)().then(function(e){e&&(a.webcBrowserStorageQuotaBytes=e.quota,a.webcBrowserStorageQuotaUsedBytes=e.usage)}).finally(function(){return a.commit()}),o._updateMsgLoadState(e,t,r),u(n)})}).catch(function(e){return!(e instanceof Promise.CancellationError)},function(n){return l>3||404===n?(o._updateMsgLoadState(e,t,r),x.default.error("chat:loadMsgs:error "+String(n))(),404===n?Promise.reject(new k.E404):Promise.reject(new R.GaveUpRetry(`Gave up msg fetch after ${l} tries`))):c})},0).catch(R.GaveUpRetry,function(e){return[]});return"after"===r?t.loadRecentPromise=u:"before"===r?t.loadEarlierPromise=u:"around"===r&&(t.loadAroundPromise=u),u}},{key:"getSearchContext",value:function(e,t){var n=this,r=null,a=void 0;e instanceof B.default?r=e:e instanceof H.default&&(a=e);var o=r?r.msgChunk:void 0,i=Math.trunc(C.default.PAGE_SIZE/3*2);if(!o||!o.msgLoadState.contextLoaded){o||(o=new S.default,this.msgChunks.push(o),r&&o.add(r));var u=r?r.id.clone():a.clone();u.count=i;var s=function(){if(r)return r.msgChunk;if(null!=a){var e=$.default.get(a);return e&&e.msgChunk?e.msgChunk:o}return o},l=(0,V.newMessageQueryEvent)(F.default.WEBC_QUERY_TRIGGER_TYPE.SEARCH_RESULT_CLICK);this._loadMsgsPromiseLoop(r,o,$.default.getContext.bind($.default,u,s,function(e){l.webcResponseBytes+=e.binarySize}),"around",l).then(function(e){var t=s();t&&o&&t!==o&&n.notifyMsgCollectionMerge(t,o,t);var u=e[0],l=a?$.default.get(a):r;l&&Array.isArray(u)&&u.length<i&&((0,q.default)(l.msgChunk).msgLoadState.noEarlierMsgs=!0,o&&l.msgChunk!==o&&(o.msgLoadState.noEarlierMsgs=!0))}).catch(function(){t&&(t.isQuotedMsgAvailable=!1)})}return{collection:o,msg:r,key:a,highlightMsg:!0}}},{key:"sendStarMsgs",value:function(e,t){var n=this;return this.promises.sendStarMsgs?this.promises.sendStarMsgs:this.promises.sendStarMsgs=(0,ne.sendStarMsgs)(this.id,e,t).then(function(){e.forEach(function(e){e.set("star",t)}),t?(0,ae.addStarredMsgs)(e):(0,ae.removeStarredMsgs)(e)}).finally(function(){n.promises.sendStarMsgs=null})}},{key:"sendRevokeMsgs",value:function(e,t){var n=this;return this.promises.sendRevokeMsgs?this.promises.sendRevokeMsgs:this.promises.sendRevokeMsgs=Promise.all(e.map(function(e){return(0,X.sendRevoke)(e,t)})).finally(function(){n.promises.sendRevokeMsgs=null})}},{key:"sendDeleteMsgs",value:function(e,t){var n=this;return this.promises.sendDeleteMsgs?this.promises.sendDeleteMsgs:this.promises.sendDeleteMsgs=pe.default.sendMessageDelete(this.id,(0,f.default)(e,function(e){return e.id}),t).then(function(t){var n=[];return 200===t.status?(e.forEach(function(e){e.delete()}),e.length):(t.status>=400&&(n=(0,c.default)(e,function(e){return-1===e.ack&&(e.delete(),!0)})),n.length)}).finally(function(){n.promises.sendDeleteMsgs=null})}},{key:"deleteMsgs",value:function(e,t){this.deleteMsgsBeforeMsgInclusive(void 0,!e,t)}},{key:"deleteMsgsOlderThan",value:function(e,t,n){var r=this.msgs,a=r.head();if(a&&!(a.t>=e))if((a=r.last())&&a.t<e)this.deleteMsgs(t,n);else{this.deleteMsgsPartial(function(r,a,o){return r&&(n&&!(0,W.msgMatchesType)(r,n)||r.star&&!t||r.t>=e||r.isPersistent)})}}},{key:"deleteMsgsBeforeMsgInclusive",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments[2],r=void 0;if(e){if(!this.msgs.get(e.id))return;r=this.msgs.indexOf(e)}else r=this.msgs.length;this.deleteMsgsPartial(function(e,a,o){return n&&!(0,W.msgMatchesType)(e,n)||e.msgChunk===this.msgs&&a>r||t&&e.star||e.isPersistent&&t},!0)}},{key:"deleteMsgsPartial",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.unreadCount;if(this.getAllCMCs().forEach(function(r){var a=r.filter(function(n,r,a){return!e.apply(t,[n,r,a])});r.remove(a,void 0,n),a.forEach(function(e){e.delete()})}),(0,l.default)(this.msgChunks).forEach(function(e){0===e.length&&t.removeMsgsCollection(e)}),this.msgs.length>0){var a=r>this.msgs.length?this.msgs.length:r;(0,le.updateLocal)(this.id,{unreadCount:a}).then(function(){t.unreadCount=a,t.msgs.msgLoadState.noEarlierMsgs=!0})}}},{key:"getFirstMsgWithStatus",value:function(){return this.msgs.getModelsArray().find(function(e){return!e.isNotification&&(e.isSentByMe||e.type===C.default.MSG_TYPE.PTT)})}},{key:"getLastReceivedMsg",value:function(){for(var e=this.msgs.length-1;e>=0;e--){var t=this.msgs.at(e);if(t&&(!t.local||t.ack>0))return t}}},{key:"getLastMsgKeyForAction",value:function(){var e=this.msgs.last(),t=void 0;return e&&(t=!this.lastReceivedKey||e.id.fromMe&&e.local&&0===e.ack?e.id:this.lastReceivedKey),t||void 0}},{key:"getLastTimestampMsg",value:function(){for(var e=this.msgs.length-1;e>=0;e--){var t=this.msgs.at(e);if(t&&"i"!==t.eventTypeFromMsgType())return t}}},{key:"getWebcChatType",value:function(){switch(this.kind){case ye.CHAT:return F.default.WEBC_CHAT_TYPE.INDIVIDUAL;case ye.GROUP:return F.default.WEBC_CHAT_TYPE.GROUP;case ye.BROADCAST:return F.default.WEBC_CHAT_TYPE.BROADCAST_LIST;default:throw new TypeError(`Invalid Chat.kind ${String(this.kind)}`)}}},{key:"_resetEphemeralMessageExpirationTimer",value:function(e){var t=this;if(re.default.ephemeralMessages){v.default.clearTimeout(this._ephemeralMessageTimerIds.get(e)),this._ephemeralMessageTimerIds.delete(e),this._ephemeralMessagesToDelete.delete(e);var n=e.ephemeralExpirationTimestamp;if(null!=n&&this.msgs.includes(e)){var r=function(){t._ephemeralMessageTimerIds.delete(e),t.active?t._ephemeralMessagesToDelete.add(e):e.delete({skipUpdatingSortTime:!0})};if(n<=P.default.globalUnixTime())r();else{var a=v.default.setGlobalTimeout(r,1e3*n);this._ephemeralMessageTimerIds.set(e,a)}}}}},{key:"sendContact",value:function(e,t){var n=t&&t.msgContextInfo(this.id),r=(0,s.default)({ack:0,body:de.default.fromContactModel(e).vcard,from:T.default.me,id:new H.default({from:T.default.me,to:this.id,id:(0,Z.default)(),participant:void 0,selfDir:"out"}),local:!0,self:"out",subtype:e.formattedName,t:P.default.globalUnixTime(),to:this.id,type:"vcard",isNewMsg:!0},n||{});(0,ee.addAndSendMsgToChat)(this,r)}},{key:"sendGroupInviteMessage",value:function(e,t,n,r,a,o){var i=(0,s.default)({ack:0,from:T.default.me,id:new H.default({from:T.default.me,to:this.id,id:(0,Z.default)(),participant:void 0,selfDir:"out"}),local:!0,self:"out",t:P.default.globalUnixTime(),to:this.id,type:"groups_v4_invite",isNewMsg:!0,inviteGrpJpegThum:o,inviteCode:n,inviteCodeExp:r,inviteGrp:e,inviteGrpName:t,comment:a},{});return(0,ee.addAndSendMsgToChat)(this,i)[1]}},{key:"sendContactList",value:function(e,t){var n=e.map(de.default.fromContactModel,de.default),r=t&&t.msgContextInfo(this.id),a=(0,s.default)({ack:0,from:T.default.me,id:new H.default({from:T.default.me,to:this.id,id:(0,Z.default)(),participant:void 0,selfDir:"out"}),local:!0,self:"out",t:P.default.globalUnixTime(),to:this.id,type:"multi_vcard",vcardList:n,isNewMsg:!0},r||{});(0,ee.addAndSendMsgToChat)(this,a)}},{key:"forwardMessages",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.id,a=this.contact;if(a.isUser&&a.isBlocked())return Promise.reject(new A.default("Forwarded to contact is blocked",a));var o=[];return Promise.each(e,function(e){if(e.isMMS)return(0,G.forwardMediaMsg)(e,t,n);var a=e.quotedMsg&&e.quotedMsg.type===C.default.MSG_TYPE.PRODUCT?e.toJSON():(0,u.default)(e.toJSON(),["quotedMsg","quotedParticipant","quotedRemoteJid","quotedStanzaID","footer","buttons","caption","broadcast"]),o=new H.default({from:T.default.me,to:r,id:(0,Z.default)(),participant:void 0,selfDir:"out"});Object.assign(a,{id:o,from:T.default.me,t:P.default.globalUnixTime(),to:r,ack:0,participant:void 0,local:!0,self:"out",isNewMsg:!0,star:!1,isForwarded:e.isForwarded||!e.isSentByMe,forwardingScore:e.getForwardingScoreWhenForwarded(),multicast:n}),(0,ee.addAndSendMsgToChat)(t,a)}).then(function(){return o})}},{key:"updateReadOnly",value:function(){var e=this,t=Promise.resolve();if(this.isGroup&&!this.groupMetadata.stale){var n;n=!this.groupMetadata.participants.get(T.default.me),t=(0,le.updateLocal)(this.id,{isReadOnly:n}).then(function(){return e.isReadOnly=n})}t.then(function(){e.isBroadcast&&e.updateTitle()})}},{key:"updateIsAnnounceGrpRestrict",value:function(){var e=this;if(this.isGroup&&!this.groupMetadata.stale){var t=this.groupMetadata.participants.get(T.default.me),n=t&&!t.isAdmin&&this.groupMetadata.announce;(0,le.updateLocal)(this.id,{isAnnounceGrpRestrict:n}).then(function(){return e.isAnnounceGrpRestrict=n})}}},{key:"sortMsgs",value:function(e){var t=e.map(function(e){var t=(0,q.default)(e.msgChunk);return{msg:e,chunkT:(0,q.default)(t.at(0)).t,index:t.indexOf(e)}});return(0,i.default)(t,["chunkT","index"]).map(function(e){return e.msg})}},{key:"_updateAssignedColor",value:function(){if(this.colors){var e=this.groupMetadata.participants,t=this.colors,n=(0,o.default)(Object.keys(t),e.map(function(e){return e.id.toString()}).map(U.default));n.forEach(function(e){delete t[e]}),n.length&&this._saveAssignedColors()}}},{key:"loadAssignedColors",value:function(){return this.groupMetadata&&this.listenTo(this.groupMetadata.participants,"remove reset",this._updateAssignedColor),fe.default.getGroupParticipantAssignedColor(this.id)||{}}},{key:"saveAssignedColors",value:function(){var e=this.colors;e&&fe.default.setGroupParticipantAssignedColor(this.id,e)}},{key:"assignedColor",value:function(e){var t=this.colors||(this.colors=this.loadAssignedColors()),n=void 0,r=(0,U.default)(e.toString());if(n=t[r])return n;var o={};(0,a.default)(t,function(e,t){o[e]?o[e].push(t):o[e]=[t]});for(var i=Number.POSITIVE_INFINITY,u=1;u<C.default.NUM_COLORS;u++){if(!o[u]){n=u;break}o[u].length<i&&(i=o[u].length,n=u)}return t[r]=n,this._saveAssignedColors(),n}},{key:"unstarAll",value:function(){var e=this.getAllMsgs();e.forEach(function(e){e&&(e.star=!1)}),(0,ae.removeStarredMsgs)(e)}},{key:"constructMediaMsgs",value:function(e){if(!e)return this.getMediaMsgs();var t=void 0;return this.getMediaMsgs().includes(e)||e.msgChunk===this.msgs?(t=this.getMediaMsgs()).hasMediaAfter=!1:t=new O.default,t.includes(e)||(e.msgChunk?t.add(e.msgChunk.filter(function(e){return e.isMedia})):t.add(e)),t}},{key:"fts",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments[2];if(1===n){var a=this.ftsCache[e];if(a)return a;var o=$.default.search(e,n,r,this.id);this.ftsCache[e]=o;var i=function(){t.ftsCache[e]=null};return setTimeout(i,3e5),o.catch(i),o}return $.default.search(e,n,r,this.id)}},{key:"_clearFtsCache",value:function(){this.ftsCache={}}},{key:"updateSortTime",value:function(){var e=this;this.promises.updateSortTime||(this.promises.updateSortTime=this.regCancellablePromise(Promise.delay(0)).then(function(){var t=e.getLastTimestampMsg();return t?(e.t=t.t,Promise.resolve()):e.msgs.msgLoadState.noEarlierMsgs?Promise.resolve():e.pendingMsgs?Promise.resolve():e.loadEarlierMsgs()}).then(function(t){if(t){var n=e.getLastTimestampMsg();e.t=n?n.t:void 0}}).catch(function(){}).finally(function(){e.promises.updateSortTime=void 0}))}},{key:"removeFromCollection",value:function(e){e.star&&(0,ae.removeStarredMsgs)([e]),e.isMedia&&this.mediaMsgs?this.mediaMsgs.remove(e):e.getLinks().length&&this.linkMsgs?this.linkMsgs.remove(e):e.isDoc&&this.docMsgs&&this.docMsgs.remove(e),this.updateMediasCountOnMsg(e,!0)}},{key:"getMediaMsgs",value:function(){return this.mediaMsgs||(this.mediaMsgs=new O.default),this.mediaMsgs}},{key:"getLinkMsgs",value:function(){return this.linkMsgs||(this.linkMsgs=new j.default),this.linkMsgs}},{key:"getDocMsgs",value:function(){return this.docMsgs||(this.docMsgs=new E.default),this.docMsgs}},{key:"getReceivedVCardMsgs",value:function(){return this.contact.isMyContact||!this.contact.isUser?null:(this.receivedVCardMsgs||(this.receivedVCardMsgs=new w.default,this.receivedVCardMsgs.parent=this),this.receivedVCardMsgs)}},{key:"dismissVCard",value:function(){this.vcardDismissed=!0}},{key:"updateMediasCountOnMsg",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(L.default.supportsFeature(L.default.F.MEDIAS_COUNT)){var n=t?-1:1;e.isMedia&&(this.mediaCount+=n);var r=e.getLinks().length;if(r){var a=n*r;this.linkCount+=a}e.isDoc&&(this.docCount+=n)}}},{key:"resetMediasCount",value:function(e){L.default.supportsFeature(L.default.F.MEDIAS_COUNT)&&(null!=e.mediaCount&&(this.mediaCount=e.mediaCount),null!=e.linkCount&&(this.linkCount=e.linkCount),null!=e.docCount&&(this.docCount=e.docCount))}},{key:"getStarredMsgs",value:function(){var e=this,t=this.starredMsgs;return t||(this.starredMsgs=t=new ae.StarredMsgCollection,this.starredMsgs.add(oe.default.filter(function(t){return t.chat===e}))),t}},{key:"setAndKeepPrevious",value:function(e,t){var n=this,r=Object.keys(e);r.forEach(function(e){e in n.ackedProps||(n.ackedProps[e]=n[e])}),t.finally(function(){r.forEach(function(e){delete n.ackedProps[e]})}),this.set(e)}},{key:"getAckedPhoneProps",value:function(){return{wid:this.id,mute:this.mute.expiration,active:this.active,isReadOnly:this.isReadOnly,modifyTag:this.modifyTag,unreadCount:this.unreadCount,changeNumberOldJid:this.changeNumberOldJid,changeNumberNewJid:this.changeNumberNewJid,archive:"archive"in this.ackedProps?this.ackedProps.archive:this.archive,notSpam:"notSpam"in this.ackedProps?this.ackedProps.notSpam:this.notSpam,pin:"pin"in this.ackedProps?this.ackedProps.pin:this.pin}}},{key:"regCancellablePromise",value:function(e){var t=this;return this._promises||(this._promises=[]),this._promises.push(e),e.cancellable().finally(function(){t._promises=(0,r.default)(t._promises,e),t._promises&&0===t._promises.length&&(t._promises=null)})}},{key:"cancelPendingPromises",value:function(){this._promises&&this._promises.length>0&&(this._promises.forEach(function(e){e.cancel()}),this._promises=null)}},{key:"matchFilter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!!(0,d.default)(e)||(e.label?this.labels&&this.labels.includes(e.label):e.kind===C.default.SMB_SEARCH_FILTERS.UNREAD?!!this.hasUnread:e.kind===this.kind)}},{key:"getEphemeralSetting",value:function(){return this.isGroup?this.groupMetadata.ephemeralDuration:this.ephemeralDuration}},{key:"isEphemeralSettingOn",value:function(){var e=this.getEphemeralSetting();return null!=e&&0!==e}},{key:"getCollection",value:function(){return n("dbdfbgehgj").default}}]),t}();_e.Proxy="chat",_e.idClass=he.default,t.default=(0,y.defineModel)(_e)},ecabefjaea:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(e,t){var n=e.reduce(function(e,t){var n=t.handlers;return n?(Object.keys(n).forEach(function(r){e[r]||(e[r]=[]);var a=n[r];null!=a&&e[r].push([t,a])}),e):e},{});return Object.keys(n).reduce(function(e,a){var o=n[a];return e[a]=function(e,t){return function(n){e.some(function(e){var a=r(e,2),o=a[0],i=a[1],u=i.call(o,n,t);return!!n.defaultPrevented||!0===u&&(n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation(),!0)})}}(o,t),e},{})}},ecahagbbfh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=g(n("ddhijeejag")),o=b(n("efjajjbaf")),i=b(n("cfghbhcedd")),u=b(n("bbchdeehff")),s=g(n("cajijabhgb")),l=n("ffchhcfdj"),c=b(l),f=g(n("dcecgegjfc")),d=n("bhfdfhefca"),p=b(n("bjbedjfe")),h=n("bheafeifce"),m=b(n("bfdcadbbif"));function b(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._handleClick=function(e){r._checkForDrawerMid(e)},r._handleDropdownCaptureClick=function(){r._openCaptureFlow()},v(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"_checkForDrawerMid",value:function(e){u.default.existsDrawerMid(function(t){t&&e.preventDefault()})}},{key:"_openCaptureFlow",value:function(){var e=this,t=this.props.chat,n=f.start("camera");Promise.race([n,this.props.rejectOnUnmount()]).checkpoint(this.props.rejectOnUnmount()).then(function(n){n&&u.default.openDrawerMid(a.createElement(i.default,{chat:(0,h.unproxy)(t),stream:n}),"slide-up",e.context.uim,{noFocus:!0})}).catch(s.Unmount,function(){n.then(function(e){return f.stop(e)}).catch(function(){})}).catch(s.GUM.NotAllowedError,function(){u.default.openModal(a.createElement(c.default,{messaging:l.Messaging.CAMERA_FAIL,type:c.default.TYPE.GUIDE_UNBLOCK}))}).catch(s.GUM.GUMError,function(){u.default.openModal(a.createElement(c.default,{messaging:l.Messaging.CAMERA_MISSING,type:c.default.TYPE.GUIDE_NONE}))})}},{key:"render",value:function(){return a.createElement(d.MenuBarItem,{a8nText:"conversation-clip",icon:a.createElement(m.default,{name:"clip"}),title:l10n.t(703),transitionName:"menu",onClick:this._handleClick},a.createElement(o.default,{chat:this.props.chat,onCaptureClick:this._handleDropdownCaptureClick,getComposeContents:this.props.getComposeContents,onMenuComplete:this.props.onMenuComplete}))}}]),t}();y.displayName="AttachMenuBarItem",t.default=(0,p.default)(y)},ecbacgcajj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.auth,n=e.directPath,s=e.encFilehash,l=e.hostname,c=e.type;return n&&t?function(e){var t=e.auth,n=e.directPath,r=e.encFilehash,o=e.hostname,s=e.query,l=new URL(n,`https://${o}`);if(l.hostname!==o)throw a.default.assert(!1,"malicious directPath",`url.hostname: ${l.hostname}, hostname: ${o}, directPath: ${n}`)(),new Error("malicious directPath");var c=l.searchParams||new u.default(l.search);return c.set("auth",t),c.set("hash",(0,i.default)(r)),Object.keys(s).forEach(function(e){var t=s[e];c.set(e,t)}),`https://${l.host}${l.pathname}?${c.toString()}`}({auth:t,encFilehash:s,hostname:l,directPath:n,query:{[o.MMS_URL_MEDIA_TYPE_SEARCH_PARAM]:c,[o.IS_MMS_URL_SEARCH_PARAM]:""}}):(0,r.default)({hostname:l,type:c,encFilehash:s,query:{[o.IS_MMS_URL_SEARCH_PARAM]:""}})};var r=s(n("hefjgabce")),a=s(n("bdiiahhjbe")),o=n("biddahcajc"),i=s(n("ebfbbaecji")),u=s(n("ddfjdghbjb"));function s(e){return e&&e.__esModule?e:{default:e}}},ecbafeecfe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=i(n("bcdafjgefj")),o=i(n("dhhhjaejje"));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),t}();function l(e){return e.reduce(function(e,t,n){var a=`jsx-child-${n}`;return void 0===t?e:[].concat(u(e),"string"==typeof t?[t]:[r.cloneElement(t,{key:a})])},[])}s.onText=a.default,s.onDelimiter=function(e){},s.onRoot=function(e){return l(e)},s.onMutator=function(e,t,n,r){return e.jsx(l(t),n,r)},t.default=s},ecbgeejjjh:function(e,t){e.exports={fullWidthShade:"_1_XHS",stripHeightShade:"_1y_mQ",lowerShade:"_3ieM9",upperShade:"_3Asgg",fullHeightShade:"_5yx6d",roundedCorners:"_3nuhn"}},ecbjchafdg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=p(n("dieejegcge")),u=p(n("bbchdeehff")),s=p(n("baagejbchg")),l=p(n("biddiiafgd")),c=p(n("ebbeeceebe")),f=n("ddjfcdfihc"),d=p(n("bcjcbbafcj"));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=[[l10n.t(833),(0,f.getWebKey)(i.default.OPEN_NEW_CHAT)],[l10n.t(834),(0,f.getWebKey)(i.default.OPEN_NEW_GROUP)],[l10n.t(835),(0,f.getWebKey)(i.default.OPEN_PROFILE)],[l10n.t(700),(0,f.getWebKey)(i.default.OPEN_SETTINGS)],[l10n.t(797),(0,f.getWebKey)(i.default.SEARCH)],[l10n.t(808),(0,f.getWebKey)(i.default.SEARCH_IN_CHAT)],[l10n.t(765),(0,f.getWebKey)(i.default.TOGGLE_ARCHIVE)],[l10n.t(832),(0,f.getWebKey)(i.default.TOGGLE_MUTE)],[l10n.t(775),(0,f.getWebKey)(i.default.TOGGLE_UNREAD)],[l10n.t(769),(0,f.getWebKey)(i.default.DELETE_OR_EXIT_CHAT)],[l10n.t(806),(0,f.getWebKey)(i.default.GO_TO_NEXT_CHAT)],[l10n.t(807),(0,f.getWebKey)(i.default.GO_TO_PREV_CHAT)]],b=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.onClose=function(){u.default.closeModal()},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){var e=m.map(function(e){var t=r(e,2),n=t[0],a=t[1];if(a){var i=void 0;return i=-1===a.indexOf("Shift+")?o.createElement("span",{className:c.default.key},a):o.createElement(o.Fragment,null,o.createElement("span",{className:c.default.key},"Shift"),o.createElement("span",{className:c.default.plus},"+"),o.createElement("span",{className:c.default.key},a.substr("Shift+".length))),o.createElement("div",{key:`shortcut-${a}`,className:c.default.section},o.createElement("div",{className:c.default.action},n),o.createElement("div",{className:c.default.shortcut},o.createElement("span",{className:c.default.key},d.default.os===s.default.OS_TYPE.MAC?"Cmd":"Alt"),o.createElement("span",{className:c.default.plus},"+"),o.createElement("span",{className:c.default.key},"Ctrl"),o.createElement("span",{className:c.default.plus},"+"),i))}});return o.createElement(l.default,{onOK:this.onClose,okText:l10n.t(1287),title:l10n.t(616)},o.createElement("div",{className:c.default.container},e))}}]),t}();b.displayName="KeyboardShortcutsPopup",t.default=b},eccjbdjafd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseInput=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=M(n("ceffhbhahb")),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),s=M(n("effbcehec")),l=M(n("digcccheca")),c=M(n("daffbcegjj")),f=M(n("ecabefjaea")),d=M(n("djfbibifah")),p=M(n("caeigadddg")),h=M(n("ihhfhbadh")),m=M(n("ebgbahdcjg")),b=M(n("dcjhajfghf")),g=M(n("ddajbaceej")),v=M(n("debfbiicee")),y=M(n("dhfbfehaef")),_=M(n("fffdgbfji")),E=M(n("fchcjedjf")),j=n("eagfdbhhhh"),O=M(n("ddeihcgfbg")),S=M(n("babbeaeffj")),w=M(n("ceeggdegaf")),P=n("chhhffajfi");function M(e){return e&&e.__esModule?e:{default:e}}function C(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k=13,I=t.BaseInput=function(e){function t(){var e,n,r;T(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=A(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),R.call(r),A(r,n)}return N(t,u.Component),o(t,[{key:"serialize",value:function(e){var t=e||this.state.value;return this.plugins.reduce(function(e,t){var n=a(e,2),r=n[0],o=n[1];return t.serialize?t.serialize(r,o):[r,o]},[t,{}])}},{key:"replaceSelection",value:function(e){if(!this.props.readOnly){var t=this.refInput;this._hasFocus(t)||(g.default.focus(t),this.selection&&this.restoreSelection(this.selection));var n=this.trimToFit(e);if(n.length){this.props.multiline||(n=n.replace(/\r?\n/g,""));var r,a,o,i,u=window.getSelection().getRangeAt(0);r=u,a=this.refInput,o=r.startOffset,i=r.startContainer,0===o&&i!==a&&i&&i.previousSibling&&"\n"===i.previousSibling.textContent.slice(-1)&&(n=`\n${n}`),u.deleteContents();var s=t||{},l=s.scrollTop,c=s.scrollHeight;if(document.execCommand("insertHTML",!1,(0,w.default)(n,this.plugins)),this.onSelect(),t){var f=t.scrollHeight;if(f<=t.clientHeight)return;t.scrollTop=(l||0)+(f-c)}}}}},{key:"restoreSelection",value:function(e){var t=this.refInput;if(t){var n=e.anchorIndex,r=e.focusIndex,a=e.anchorOffset,o=e.focusOffset,i=t.childNodes,u=-1===n?t:i[n],s=-1===r?t:i[r];if(u&&s)try{if(u===s&&a>o){var l=[o,a];a=l[0],o=l[1]}var c=document.createRange();c.setStart(u,a),c.setEnd(s,o);var f=window.getSelection();f.removeAllRanges(),f.addRange(c);try{var d=document.createRange();d.setStart(s,o),d.setEnd(s,o);var p=d.getBoundingClientRect(),h=p.bottom,m=p.top,b=this.refInput&&this.refInput.getBoundingClientRect()||{},g=b.bottom,v=b.top;if(m>=v&&h<=g)return;this.refInput&&(this.refInput.scrollTop+=h<v?m-v:h-g)}catch(e){}}catch(e){this.focus(!0)}}}},{key:"getSelection",value:function(){var e=this.refInput;if(!e||document.activeElement!==e)return null;for(var t=window.getSelection(),n=t.anchorNode,r=t.anchorOffset,a=t.focusNode,o=t.focusOffset,i=e.childNodes,u=-1,s=-1,l=0,c=void 0;(u<0||s<0)&&(c=i[l++]);)n===c&&(u=l-1),a===c&&(s=l-1);return{anchorIndex:u,anchorOffset:r,focusIndex:s,focusOffset:o}}},{key:"trimToFit",value:function(e){var t=this.props.maxLength;if(!t)return e;var n=t+this.selectionLength-this.length;return n<=0?"":(0,P.substring)(String(e),0,n)}},{key:"cursorAtEnd",value:function(){return!(!this.state.focused||""!==this.state.value)||(0,h.default)(this.refInput)}},{key:"cursorAtStart",value:function(){return!(!this.state.focused||""!==this.state.value)||(0,m.default)(this.refInput)}},{key:"isFocused",value:function(){return this.state.focused}},{key:"render",value:function(){var e=this.props.placeholder,t=this.state,n=t.value,a=t.direction,o=n.length?"hidden":"visible",l=(0,i.default)(E.default.input,{[E.default.compose]:"compose"===this.props.theme,[E.default.default]:"default"===this.props.theme||"media-caption"===this.props.theme,[E.default.large]:"large"===this.props.theme,[E.default.media]:"media-caption"===this.props.theme,[E.default.invite]:"v4-invite-caption"===this.props.theme,[E.default.small]:"small"===this.props.theme,[E.default.status]:"status-reply"===this.props.theme});return u.createElement(y.default,{className:l,handlers:this.hotKeyMap,onRef:this.setRefContainer},u.createElement("div",{"data-a8n":s.default.key("pluggable-input-placeholder"),className:E.default.placeholder,ref:this.setRefPlaceholder,style:{visibility:o}},e),u.createElement("div",r({},this.handlerMap,{"data-a8n":s.default.key("pluggable-input-body"),className:(0,i.default)(E.default.body,j.SELECTABLE_INPUT_CSS_CLASS),contentEditable:!this.props.readOnly,dangerouslySetInnerHTML:{__html:(0,w.default)(n,this.plugins)},"data-tab":this.props.readOnly?null:1,dir:a,ref:this.setRefInput,spellCheck:this.props.spellCheck})))}},{key:"value",get:function(){return this.state.value}},{key:"selectionLength",get:function(){if(this.props.readOnly)return 0;this._hasFocus(this.refInput)||g.default.focus(this.refInput);var e=window.getSelection();return e.rangeCount?(0,P.numCodepoints)((0,O.default)(e.getRangeAt(0).cloneContents(),this.plugins)):0}},{key:"length",get:function(){return(0,P.numCodepoints)(this.state.value)}},{key:"isComposing",get:function(){return this.__isComposing}}]),t}(),R=function(){var e=this;this.__changeDueToReset=!1,this.__isMounted=!0,this.__isComposing=!1,this.containerRef=null,this.selection=this.props.initialSelection,this.state={direction:D(this.props.initialValue||""),focused:!1,value:this.props.initialValue||""},this.trigger=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e.hookMap[t];r&&r.apply(void 0,C(n))},this.serializeNode=function(t){return(0,O.default)(t,e.plugins)},this.serializeTextBeforeCursor=function(){return(0,S.default)(e.refInput||document.createElement("span"),window.getSelection())},this._hasFocus=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.refInput;if(!t)return!1;var n=document.activeElement;return!!n&&(n===t||t.contains(n))},this.forceFocus=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!e.props.readOnly&&e.__isMounted){var n=e.refInput;if(n){var r=e._hasFocus(n);if(!r||t)if(r||g.default.focus(n),!t&&e.selection)e.restoreSelection(e.selection);else{var a=window.getSelection();a&&a.rangeCount&&(a.selectAllChildren(n),a.collapseToEnd())}}}},this.focus=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];setTimeout(function(){e.forceFocus(t)},0)},this.reset=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e.__changeDueToReset=!0,e.selection=null,e._setValue(t)},this._setValue=function(t){if(t!==e.state.value){var n=t||"";e.setState({value:n,direction:D(n)},function(){e.trigger(v.default.CHANGE,[n]),e.props.onChange&&e.props.onChange(n)})}},this.onSelect=function(){e.selection=e.getSelection(),e.props.onSelect&&e.props.onSelect(e.selection)},this.shouldComponentUpdate=function(t,n){var r=n.value,a=n.focused,o=n.direction;if(a!==e.state.focused&&e.containerRef&&(a?e.containerRef.classList.add("focused"):e.containerRef.classList.remove("focused")),o!==e.state.direction&&e.refInput&&e.refInput.setAttribute("dir",o),e.__changeDueToReset){e.__changeDueToReset=!1;var i=(0,w.default)(r,e.plugins);e.refInput&&(e.refInput.innerHTML=i)}var u=!r.length&&!!e.state.value.length,s=!!r.length&&!e.state.value.length;if(!s&&!u)return!1;var l=s?"hidden":"visible";return e.refPlaceholder&&e.refPlaceholder.setAttribute("style",`visibility: ${l}`),!1},this.UNSAFE_componentWillReceiveProps=function(t){var n,r,a;(n=e.props,r=t,a={},["readOnly"].forEach(function(e){return a[e]=n[e]!==r[e]}),a).readOnly&&e.refInput&&e.refInput.setAttribute("contentEditable",String(!t.readOnly))},this.componentWillUnmount=function(){e.__isMounted=!1,e.refInput&&(e.refInput.restoreFocus=null)},this.onInput=function(t){var n=null,r=e.refInput;r&&(n=(0,O.default)(r,e.plugins));var a="\n"===n?"":n||"",o=e.props.maxLength;if(o>0&&(0,P.numCodepoints)(a)>o){var i=e.selection;return r&&(r.innerHTML=(0,w.default)(e.state.value,e.plugins)),void(i&&e.restoreSelection(i))}e.trigger(v.default.INPUT),e._setValue(a)},this.onPaste=function(t){t.preventDefault(),t.stopPropagation();var n=new b.default(t.clipboardData),r=e.props,a=r.onFiles,o=r.onTextPaste;n.hasFiles()&&a&&a(n)||n.hasText()&&n.getText(e.props.textPasteMimePriority).then(function(t){if(t&&(!o||!o(t))){if(e.length-e.selectionLength+(0,P.numCodepoints)(t)>e.props.maxLength){var n=e.props.onMaxPasteExceeded;return n&&n()}e.replaceSelection(t)}})},this.onBeforeInput=function(t){if(e.props.readOnly)return!0;var n=e.props.maxLength;if(!n)return!1;var r=t.data.charCodeAt(0);if(8===r||127===r)return!1;var a=n+e.selectionLength-e.length;return(0,P.numCodepoints)(t.data)>a},this.onKeyDown=function(t){return!(!e.props.onKeyDown||!e.props.onKeyDown(t))||t.which===k&&((!e.props.multiline||!function(e){return e.which===k&&(e.getModifierState("Shift")||e.getModifierState("Alt")||e.getModifierState("Control"))}(t))&&(e.props.onEnter&&e.props.onEnter(t),!0))},this.componentDidMount=function(){e.refInput&&(e.refInput.restoreFocus=e.focus),e.trigger(v.default.MOUNT)},this.onBlur=function(t){e.setState({focused:!1}),e.props.onBlur&&e.props.onBlur(t)},this.onFocus=function(t){e.setState({focused:!0}),e.props.onFocus&&e.props.onFocus(t)},this.onCompositionStart=function(t){return!(e.__isComposing=!0)},this.onCompositionEnd=function(){return e.__isComposing=!1},this.setRefContainer=function(t){e.containerRef=t},this.setRefPlaceholder=function(t){e.refPlaceholder=t},this.setRefInput=function(t){e.refInput=t}};I.displayName="BaseInput",t.default=function(e){return function(t){function n(){var t,r,a,o,i,u;T(this,n);for(var s=arguments.length,c=Array(s),h=0;h<s;h++)c[h]=arguments[h];return r=a=A(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(c))),a.plugins=[].concat(C(e.map(function(e){return e instanceof l.default&&e.initialize(a),e})),[(u=a,{handlers:(o=u,i=L,i.reduce(function(e,t){return Array.isArray(t)?e[t[0]]=o[t[1]]:e[t]=o[t],e},{}))})]),a.handlerMap=(0,f.default)(a.plugins,a),a.hookMap=(0,d.default)(a.plugins,a),a.hotKeyMap=(0,p.default)(a.plugins,a),A(a,r)}return N(n,I),n}()};var L=["onBeforeInput","onBlur","onCompositionEnd","onCompositionStart","onFocus","onInput","onKeyDown","onPaste","onSelect"];function D(e){return c.default.dir(e)||_.default.LR("ltr","rtl")}},eccjgeceej:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryBusinessProfile=function(e){var t=void 0;t=r.default.supportsFeature(r.default.F.MD_BACKEND)?Promise.reject(new Error("Should not reach here")):a.default.queryBusinessProfile(e);return t};var r=o(n("bjbdcigbdi")),a=o(n("bihdhbjih"));function o(e){return e&&e.__esModule?e:{default:e}}},eccjjjfhdj:function(e,t){e.exports={container:"r7sRK"}},ecdffdifib:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.default,n=null,r=function(r){return null!=n&&t(n.params,r)?n.params=r:n={params:r,result:e.call(this,r)},n.result};return r.clear=function(){n=null},r};var r,a=n("cdbddjfbcd"),o=(r=a)&&r.__esModule?r:{default:r}},ecdfgaagba:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("ddjdjjicid");Object.defineProperty(t,"addMessagesToHistory",{enumerable:!0,get:function(){return r.addMessagesToHistory}}),Object.defineProperty(t,"appendMessage",{enumerable:!0,get:function(){return r.appendMessage}}),Object.defineProperty(t,"storeMessages",{enumerable:!0,get:function(){return r.storeMessages}});var a=n("caijdjeaba");Object.defineProperty(t,"getMsgByMsgKey",{enumerable:!0,get:function(){return a.getMsgByMsgKey}}),Object.defineProperty(t,"getBefore",{enumerable:!0,get:function(){return a.getBefore}});var o=n("digfibghde");Object.defineProperty(t,"removeMessagesFromHistory",{enumerable:!0,get:function(){return o.removeMessagesFromHistory}})},ecdifdiid:function(e,t){e.exports={container:"_1HpUW",gridContainer:"_3a12b",lastColumn:"_3W3rd",shrinkUp:"_1J9DT","container-animateShrinkUp":"_5vpXV",containerAnimateShrinkUp:"_5vpXV",numberText:"_1Lq_-"}},ecdjdjeihf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("dbhbjbfadb");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}})},eceejifaac:function(e,t){e.exports={mentionsResult:"_1Yz8K",selected:"XSeqj",resultImage:"_3xRlR",mediaCaption:"_1oocP",textContact:"_1B_hp",textPushname:"_3SW-z"}},ecejfgiega:function(e,t){e.exports={prefixHash:"4742377b4ae743abd4f117e58c6c829b"}},ecfbchagde:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.hasText=function(){return le};var a=ae(n("ceffhbhahb")),o=re(n("ddhijeejag")),i=n("bgiachiigg"),u=ae(n("effbcehec")),s=ae(n("dcggjjdeaj")),l=ae(n("bgfcjjddjf")),c=n("cebdcdcgja"),f=ae(n("bbchdeehff")),d=n("dacicgjcai"),p=ae(n("bjdjbcefcc")),h=ae(n("baagejbchg")),m=ae(n("biddiiafgd")),b=ae(n("bjigbaghc")),g=ae(n("cbedjffdai")),v=ae(n("ccegbieicj")),y=n("ddjgcfjicj"),_=re(n("cajijabhgb")),E=n("cgffhfegce"),j=n("bgddggdhc"),O=ae(n("bjbdcigbdi")),S=n("dhfbfehaef"),w=ae(S),P=ae(n("dgjacfgggf")),M=ae(n("cfdejhjab")),C=ae(n("ifeefbdg")),T=ae(n("cfhehaefih")),A=re(n("dbcedfihd")),N=ae(n("eceadcicaf")),k=ae(n("bdiiahhjbe")),I=n("bfbggcdbfb"),R=n("dehacgjjde"),L=ae(R),D=ae(n("cchefegdjj")),x=ae(n("dgcbhjfhad")),U=n("icbibjcg"),G=ae(n("ddcbhjdfdg")),F=ae(n("jjbcbhhjh")),B=ae(n("hichbacjh")),$=n("biiiheaiih"),V=ae(n("bfifafibjc")),H=n("dbbhhgjjbg"),W=ae(n("ceddibdhdb")),Y=ae(n("cbcgbajadc")),K=ae(n("ihfccfgdf")),q=n("bheafeifce"),z=ae(n("bfdcadbbif")),Q=ae(n("fbjjefaic")),J=n("bfjajhbdf"),Z=ae(J),X=ae(n("caffijjhc")),ee=ae(n("edbaidcaf")),te=ae(n("bbegbfcgh")),ne=ae(n("bjieiiccce"));function re(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function ae(e){return e&&e.__esModule?e:{default:e}}function oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ue(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var se=/^https?:\/\/media\.giphy\.com\/media\/([a-zA-Z0-9]+)/,le=!1;var ce=parseInt(M.default["-overlay-border-left"].replace(/px$/,""),10),fe=function(e){function t(e){oe(this,t);var n=ie(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));de.call(n);var r=e.chat.getComposeContents();return n.text=r.text||"",n.selection=r.selection,n.preview=n.omittedURL=r.omittedURL,n.saveComposeContentDebounced=n.props.debounce(n.saveComposeContent,200),n.state={hasText:!!n.text,recording:!1,linkPreview:null,selectedPanelId:null,textsize:g.default.get().textsize,width:null},n}return ue(t,o.PureComponent),r(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.listeners,n=e.chat;if(this.props.listeners.add(l.default,"add remove reset"),O.default.supportsFeature(O.default.F.INDEX_RECEIVED_VCARD)){var r=n.getReceivedVCardMsgs();r&&t.add(r,"add remove reset")}this.height=(0,j.forbiddenAssertDOMNode)(this.refComposeBlock).clientHeight,this.scanForLinksTimer.debounceAndCap(50,50)}},{key:"componentWillUnmount",value:function(){this.scanForLinksTimer.cancel(),this.restoreFocusTimer.cancel(),this.saveComposeContent(),this.removeEmojisFromTouchBar()}},{key:"_setSelectedPanelId",value:function(e){var t=null==this.state.selectedPanelId&&null!=e;this.setState({selectedPanelId:e,width:t&&null!=this.refComposeBlock?this.refComposeBlock.offsetWidth-ce:this.state.width})}},{key:"render",value:function(){return o.createElement(X.default,{displayName:"ComposeBox",ref:this.setRefContainer,state:X.default.State.PASSIVE,requestFocus:this.restoreFocus},o.createElement(w.default,{component:"footer",handlers:{pagedown:this.onPageUpDown,pageup:this.onPageUpDown},className:M.default.footer,onMouseDown:this.preventBlur,onContextMenu:this.preventBlur},o.createElement(v.default,{className:(0,a.default)(M.default.blockCompose,be(this.state.textsize)),onRef:this.setRefComposeBlock},o.createElement("div",{style:{willChange:"width"},className:M.default.childPadding},o.createElement(D.default,{selectedPanelId:this.state.selectedPanelId,onChange:this.handlePanelChange})),o.createElement(w.default,{ref:this.setRefInputHotkey,className:(0,a.default)(M.default.inputContainer,{[M.default.disabled]:this.state.recording}),handlers:{tab:this.handleTab,"shift+tab":this.handleTab},onFocus:this.onInputFocus,onBlur:this.onInputBlur},o.createElement(p.default,{placeholder:l10n.t(1063),readOnly:this.state.recording,ref:this.setRefInput,initialValue:this.text,initialSelection:this.selection,spellCheck:!0,multiline:!0,maxLength:h.default.MAX_TXT_MSG_SIZE,onMaxPasteExceeded:this.onMaxPasteExceeded,onEnter:this.onEnter,onFiles:this.onFiles,onTextPaste:this.onTextPaste,onChange:this.onChange,onSelect:this.onSelectionChange,textPasteMimePriority:[c.APP_TEXT_MIMETYPE,"text/plain"],theme:"compose"})),o.createElement("div",{className:M.default.childPadding},this.renderSendButton())),this.renderPopupPanel(),o.createElement(p.default.EmojiSuggestions,{chat:(0,q.unproxy)(this.props.chat)}),o.createElement(he,{key:this.props.chat.id.toString(),parent:this,chatId:this.props.chat.id}),o.createElement(p.default.Suggestions,{chat:(0,q.unproxy)(this.props.chat)}),b.default.isSMB&&O.default.supportsFeature(O.default.F.QUICK_REPLIES_QUERY)&&o.createElement(p.default.QuickRepliesSuggestions,{chat:(0,q.unproxy)(this.props.chat)})))}}]),t}();fe.CONCERNS={chat:["id","trusted","composeContents","composeQuotedMsg","isPSA","shouldAppearInList","presence","contact","composeAttachMediaContents","quotedMsgAdminGroupJid","receivedVCardMsgs","vcardDismissed","composeQuotedMsgRemoteJid"]};var de=function(){var e=this;this.height=0,this.pendingLinkPreviewPromises=[],this.pasteTriggeredOnChange=!1,this._wasCleared=!1,this.dismissVCardPanel=function(){(0,q.unproxy)(e.props.chat).dismissVCard()},this.saveComposeContent=function(){e.props.chat.setComposeContents({text:e.text,selection:e.selection,omittedURL:e.omittedURL})},this.onTextSizeChange=function(t){e.setState({textsize:t})},this.pasteEmojiInput=function(t){if(" "===t&&!e.hasText())return f.default.scrollMessages();e.refInput&&(e.refInput.focus(!0),e.refInput&&e.refInput.replaceSelection(t))},this.handleRoutedPaste=function(t){e.refInput&&(e.refInput.focus(!0),e.refInput&&e.refInput.onPaste(t))},this.onMaxPasteExceeded=function(){f.default.openModal(o.createElement(m.default,{title:l10n.t(724),onOK:function(){f.default.closeModal()},okText:l10n.t(1287)},l10n.t(723)))},this.restoreFocus=function(){e.refInput&&e.refInput.focus()},this.clearLinkPreview=function(){e.preview=null,e.omitLinkPreview()},this.cancelPendingLinkPreviews=function(){e.pendingLinkPreviewPromises.forEach(function(e){return e.cancel()}),e.pendingLinkPreviewPromises=[]},this.omitLinkPreview=function(){!0!==(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&e.state.linkPreview&&(e.omittedURL=e.preview,e.setState({linkPreview:null}))},this.omitQuotedPreview=function(){!0!==(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&(e.props.chat.composeQuotedMsg=null)},this.omitQuotedMsgAdminGroupNamePreview=function(){!0!==(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&(e.props.chat.quotedMsgAdminGroupJid=null)},this._findFirstWebLink=function(){var t=(0,d.removeCodeBlocks)(e.text);return A.findLinks(t,!0)[0]},this.scanForLinksTimer=new W.default(function(){if(e.state.hasText){var t=e._findFirstWebLink();if(t){var n=t.url;if(!e.preview||e.preview!==n){e.preview=n,e.omittedURL=null;var r=(0,C.default)(n).cancellable().tap(function(t){t&&e.preview&&e.preview===t.url&&t.data&&(t.data.title||t.data.description)&&e.setState({linkPreview:t})});e.pendingLinkPreviewPromises.push(r),r.catch(_.Unmount,y.WapDrop,Promise.CancellationError,function(){})}}else e.clearLinkPreview()}else e.clearLinkPreview()}),this.onInputFocus=function(){e.indicateFocus(),e.addEmojisToTouchBar()},this.onInputBlur=function(t){e.removeEmojisFromTouchBar()},this.indicateFocus=function(){var t=e.refContainer;t&&t.activate(),(0,S.indicateFocus)(e.refInputHotkey,["#FFFFFF","#D9F3FF"],void 0,{borderColor:["#FFFFFF","#CBE4EF"]}),e.refInput&&e.refInput.focus(!1)},this.addEmojisToTouchBar=function(){},this.removeEmojisFromTouchBar=function(){},this.onPageUpDown=function(t){e.props.onPageUpDown&&(t.stopPropagation(),e.props.onPageUpDown(t),t.persist(),e.restoreFocusTimer.debounce(0))},this.restoreFocusTimer=new W.default(function(){e.refInput&&e.refInput.focus(!1)}),this.handleEmoji=function(t){e.refInput&&e.refInput.replaceSelection(t)},this.handleGif=function(t,n,r){var a=ne.default.get(t,ne.default.RESP_TYPE.BLOB,{Accept:"video/mp4"}).then(function(e){if(200!==e.status)throw k.default.error(`failed loading gif (status: ${e.status})`)(),new _.MediaFileFailedLoad;var t=e.response;return P.default.generateVideoThumbAndDuration(t,h.default.IMG_THUMB_MAX_EDGE).then(function(e){var a=e.thumb,o=e.duration,i={width:a.fullWidth,height:a.fullHeight};return{file:t,filename:n,mimetype:t.type,isGif:!0,gifAttribution:r,fullPreview:window.URL.createObjectURL(t),fullPreviewSize:i,preview:ee.default.parseDataURL(a.url).data,duration:o}})});return e.saveComposeContentDebounced.flush(),f.default.attachMediaDrawer({chat:e.props.chat,files:[a],initCaption:e.getCurrentComposeContent(),fileOrigin:I.MEDIA_PICKER_ORIGIN_TYPE.CHAT_GIF_INAPP,onComplete:function(t,n){e.updateTextAfterMediaDrawerClose(t,!!n),t&&e.closeEmojiPanel()}}),a.catch(function(){}),a},this.setRefPanels=function(t){e.refPanels=t},this.handlePanelsDisplayCache=function(t){e.panelsDisplayCache=t},this.handlePanelsGif=function(t,n){e.handleGif(t,t,n)},this.handlePanelsSticker=function(t){t.sendToChat((0,q.unproxy)(e.props.chat))},this.handlePanelsFocusRelease=function(){(0,S.shouldIndicateFocus)(),e.restoreFocus()},this.openEmojiPanel=function(){e._setSelectedPanelId(R.PANELS.EMOJI)},this.closeEmojiPanel=function(){e._setSelectedPanelId(null),e.restoreFocus()},this.onPTTRecState=function(t){e.setState({recording:t})},this.preventBlur=function(t){var n=t.target,r=(0,j.forbiddenAssertDOMNode)(e.refInput),a=(0,j.forbiddenAssertDOMNode)(e.refContainer);do{if(n===r)return}while(n!==a&&n instanceof HTMLElement&&(n=n.parentNode));me(t),e.refInput&&e.refInput.focus(!1)},this.onChange=function(t){var n=(0,j.forbiddenAssertDOMNode)(e.refComposeBlock).clientHeight,r=n-e.height;r&&e.props.onComposeHeightChange({input:r},!1),e.height=n;var a=e.hasText();e.text=t||"",""===t&&(e._wasCleared=!0);var o=e.hasText();o!==a&&e.setState({hasText:o}),o?(e.props.chat.presence.subscribe().catch(y.WapDrop,function(){}),(0,U.markComposing)(e.props.chat)):(0,U.markPaused)(e.props.chat);var i=e._findFirstWebLink();(!i&&e.preview||i&&i.url!==e.preview)&&e.clearLinkPreview(),e.pasteTriggeredOnChange?e.scanForLinksTimer.onOrBefore(1):e.scanForLinksTimer.debounce(700),e.pasteTriggeredOnChange=!1,e.saveComposeContentDebounced()},this.renderSendButton=function(){var t=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&window.AudioContext;if(e.state.hasText||!t)return o.createElement("button",{"data-a8n":u.default.key("compose-btn-send"),className:M.default.btnSend,onClick:e.onSendText,disabled:!e.hasText},o.createElement(z.default,{name:"send",directional:!0}));var n=e.props.chat;return o.createElement(G.default,{key:"ptt",chat:n,onRecState:e.onPTTRecState})},this.renderPopupPanel=function(){var t=void 0;if(e.state.linkPreview){var n=e.state.linkPreview.data,r=n.title,a=n.canonicalUrl,i=n.description,u=n.thumbnail;t=o.createElement(X.default,{displayName:"ComposeBoxLinkPreview",escapable:!0,requestDismiss:e.omitLinkPreview},o.createElement(x.default,{onOmit:e.omitLinkPreview},o.createElement(T.default,{title:r,compose:!0,canonicalUrl:a,description:i,thumbnailJpeg:u})))}var c=e.props.chat.composeQuotedMsg,f=e.props.chat.quotedMsgAdminGroupJid,d=e.props.chat.composeQuotedMsgRemoteJid,p=void 0;c?p=o.createElement(X.default,{displayName:"ComposeBoxQuotedMsg",escapable:!0,requestFocus:e.restoreFocus,requestDismiss:e.omitQuotedPreview},o.createElement(x.default,{onOmit:e.omitQuotedPreview},o.createElement(F.default,{msg:c,composeQuotedMsgRemoteJid:d,theme:"composeBox",key:c.id.toString(),chat:c.chat}))):f&&(p=o.createElement(X.default,{displayName:"QuotedMsgAdminGroupName",escapable:!0,requestFocus:e.restoreFocus,requestDismiss:e.omitQuotedPreview},o.createElement(x.default,{onOmit:e.omitQuotedMsgAdminGroupNamePreview},o.createElement(B.default,{isComposePreview:!0,quotedGroupJid:f,key:f.toString()}))));var h=(0,q.unproxy)(e.props.chat),m=!h.isPSA&&h.shouldAppearInList&&h.msgs&&h.msgs.length>0,b=null;if(m){var g=l.default.get(h.id),v=h.getReceivedVCardMsgs(),y=!g&&v&&v.length&&!h.vcardDismissed;null!=y&&0!==y&&(b=o.createElement(te.default,{chat:h,dismissVCardPanel:e.dismissVCardPanel}))}var _=null;!h.trusted&&m&&null==b&&(_=o.createElement(Y.default,{chat:h,contact:h.contact}));var E=null;return e.state.selectedPanelId&&null!=e.state.width&&(E=o.createElement(V.default,{onResize:e._handleResize},o.createElement(L.default,{displayCache:e.panelsDisplayCache,width:e.state.width,onDisplayCache:e.handlePanelsDisplayCache,onEmoji:e.handleEmoji,onFocusRelease:e.handlePanelsFocusRelease,onGif:e.handlePanelsGif,onPanelChange:e.handlePanelChange,onSticker:e.handlePanelsSticker,requestDismiss:e.closeEmojiPanel,ref:e.setRefPanels,selectedPanelId:e.state.selectedPanelId}))),o.createElement("div",{className:M.default.positioningContainer},o.createElement("div",{className:M.default.overlayContainer},o.createElement(s.default,{onHeightChange:e.onHeightChange},_,b,E,p,t)))},this.onHeightChange=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.props.onComposeHeightChange({overlay:t},n)},this.onFiles=function(t){var n=t.getFiles().filter(function(e){var t=(0,E.typeFromMimetype)(e.type);return"image"===t||"video"===t});if(t.hasType("text/html")){var r=t.getData("text/html");if(r){if(r.includes("<meta name=ProgId content=PowerPoint.Slide>"))return!1;var a=r.includes("urn:schemas-microsoft-com:office"),o=r.includes("urn:schemas-microsoft-com:office:excel");if(a&&!o)return!1}}if(n.length)return e.saveComposeContentDebounced.flush(),f.default.attachMediaDrawer({chat:e.props.chat,files:n,fileOrigin:I.MEDIA_PICKER_ORIGIN_TYPE.PASTE,initCaption:e.getCurrentComposeContent(),onComplete:e.updateTextAfterMediaDrawerClose}),!0},this.updateTextAfterMediaDrawerClose=function(t,n){t&&n&&e.refInput&&e.refInput.reset()},this.getCurrentComposeContent=function(){return e.props.chat.getComposeContents()},this.onTextPaste=function(t){var n=se.exec(t);if(n){var r=`https://media.giphy.com/media/${n[1]}/200w.mp4`;return e.handleGif(r,t,i.VIDEO_MESSAGE_ATTRIBUTION.GIPHY).catch(function(n){f.default.closeDrawerMid(),e.refInput&&(e.refInput.focus(!0),e.refInput&&e.refInput.replaceSelection(t)),f.default.openToast(o.createElement(Z.default,{msg:l10n.t(682),id:(0,J.genId)()}))}),!0}return e.pasteTriggeredOnChange=!0,!1},this.onSelectionChange=function(t){e.selection=t},this.hasText=function(){return le=e.text.trim().length>0},this.onEnter=function(t){t&&t.repeat||e.onSendText()},this.onSendText=function(){(0,$.reconnect)();var t=e.refInput,n=e.props.chat;if(t){var r=t.serialize(),a=[r[0].trim(),r[1]],o=a[0],i=a[1];if(o.length){e.cancelPendingLinkPreviews();var u=n.composeQuotedMsg,s=n.quotedMsgAdminGroupJid,l=e.state.linkPreview&&e.state.linkPreview.data,c=i.mentionedJidList||[],f=e._wasCleared;e._setSelectedPanelId(null),e.setState({hasText:!1,linkPreview:null},function(){if(f){var t=(0,q.unproxy)(n);t.urlText&&(t.urlText=void 0)}(0,H.sendTextMsgToChat)(n,o,{linkPreview:l,quotedMsg:u,mentionedJidList:c,quotedMsgAdminGroupJid:s}),e._wasCleared=!1}),n.composeQuotedMsg=null,n.quotedMsgAdminGroupJid=null,n.composeQuotedMsgRemoteJid=null,n.setComposeContents({}),t.reset(),e.text="",e.hasText()}}},this.handlePanelChange=function(t){e._setSelectedPanelId(t)},this.handleTab=function(t){e.state.selectedPanelId&&(e.refPanels&&e.refPanels.restoreFocus(!0),me(t))},this.setRefContainer=function(t){e.refContainer=t},this.setRefComposeBlock=function(t){e.refComposeBlock=t},this.setRefInputHotkey=function(t){e.refInputHotkey=t},this.setRefInput=function(t){e.refInput=t},this._handleResize=function(t){var n=t.width;e.state.width!==n&&e.setState({width:n})}};fe.displayName="ComposeBox",t.default=(0,Q.default)((0,N.default)((0,K.default)(fe,fe.CONCERNS)));var pe=function(e){function t(){var e,n,r;oe(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=ie(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.restoreFocus=function(){r.props.parent.restoreFocus()},r.pasteEmojiInput=function(e){r.props.parent.pasteEmojiInput(e)},r.handleRoutedPaste=function(e){r.props.parent.handleRoutedPaste(e)},r.onSendText=function(){r.props.parent.onSendText()},r.onTextSizeChange=function(e){r.props.parent.onTextSizeChange(e)},ie(r,n)}return ue(t,o.PureComponent),r(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props,t=e.chatId,n=e.listeners;n.add(f.default,`focus_chat_text_input_${t.toString()}`,this.restoreFocus),n.add(f.default,`paste_chat_text_input_${t.toString()}`,this.pasteEmojiInput),n.add(f.default,`send_paste_to_compose_${t.toString()}`,this.handleRoutedPaste),n.add(f.default,`enter_chat_text_input_${t.toString()}`,this.onSendText),n.add(f.default,"focus_chat_text_input",this.restoreFocus),n.add(f.default,"textsize_change",this.onTextSizeChange)}},{key:"render",value:function(){return null}}]),t}();pe.displayName="ComposeBoxCmd";var he=(0,N.default)(pe);function me(e){e&&(e.preventDefault(),e.stopPropagation())}function be(e){for(var t=h.default.TEXTSIZE_CLASS_MAP,n=0;n<t.length;n++)if(t[n].scale===e)return t[n].classname}},ecfbhafded:function(e,t){e.exports={"-width-picture-bubble-inner":"330px",widthPictureBubbleInner:"330px","-padding-picture-bubble":"3px",paddingPictureBubble:"3px",bubble:"_2iEEP",vendor:"_2AMkE",meta:"_3hsuL",hasCaption:"_3pGIB",author:"_13lcO",forwarded:"_1o9Eg",forwardedIndicator:"_1T9rN",hasAuthor:"_1p_x4",quote:"_7RgFD",thumb:"_3KBs6",caption:"_2PQ0u",isPSA:"KfOVJ",isPsa:"KfOVJ",thumbVideo:"_16iRL",thumbImage:"_3zi7t",isGallery:"_2ye2k",isInfo:"_3PBoC"}},ecffadehg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.markExited=function(e){if(o.default.supportsFeature(o.default.F.MODEL_STORAGE))return r.default.merge(e.toString(),{isReadOnly:!0});return Promise.resolve()},t.sendExitGroup=function(e){var t=void 0;if(o.default.supportsFeature(o.default.F.MD_BACKEND))return Promise.reject(new Error("sendExitGroup: not supported when not build with MD_BACKEND"));t=i.default.leaveGroup(e).then(function(e){return 200!==e.status?Promise.reject(new a.ServerStatusCodeError(e.status)):{_duplicate:e._duplicate}});return t};var r=u(n("begbbgieee")),a=n("ddjgcfjicj"),o=u(n("bjbdcigbdi")),i=u(n("bihdhbjih"));function u(e){return e&&e.__esModule?e:{default:e}}},ecfgejfiia:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n("gcfidijgh")),a=p(n("eaaagccfda")),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),s=p(n("bbchdeehff")),l=p(n("baagejbchg")),c=p(n("eceadcicaf")),f=p(n("egjjcjcg")),d=p(n("dbdjchfgia"));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=(0,a.default)(function(e){f.default.setVideoVolumeSetting(e)},500),v=(0,a.default)(function(e){f.default.setVideoMutedSetting(e)},500),y={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5},_={width:"100%",height:"100%",playerVars:{cc_load_policy:1,iv_load_policy:3,controls:0,playsinline:1,rel:0,modestbranding:0,autoplay:0}},E=function(e){function t(){var e,n,r;h(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.updateInterval=null,r.player=void 0,r.currentTime=0,r.videoLoadedFraction=0,r.getPlayerState=function(){return r.player?r.player.getPlayerState():void 0},r.setStartTime=function(){r.player&&"number"==typeof r.props.startTime&&r.player.seekTo(r.props.startTime,!0)},r.onOtherPlaying=function(e){e!==r&&r.player&&r.player.pauseVideo()},r.onReady=function(e){r.player=e.target;var t=r.player,n=f.default.getVideoVolumeSettings(),a=void 0,o=void 0;n&&("number"==typeof n.volume&&(a=n.volume),"boolean"==typeof n.muted&&(o=n.muted));var i=t.getDuration(),u=null!=a?a:.01*t.getVolume(),s=null!=o?o:t.isMuted(),l=t.getIframe().getBoundingClientRect(),c=l.width,d=l.height;r.videoTagMetadata={duration:i,volume:u,muted:s,videoWidth:c,videoHeight:d},r.props.onLoadedMetadata(r.videoTagMetadata),r.currentTime=t.getCurrentTime(),r.updateInterval=setInterval(r.update,250),null!=r.props.startTime&&r.setStartTime(),null!=a&&r.setVolume(a),null!=o&&r.setMuted(o)},r.update=function(){var e=r.player;if(e){var t=e.getCurrentTime();t!==r.currentTime&&(r.currentTime=t,r.props.onTimeUpdate(t));var n=e.getVideoLoadedFraction();if(n!==r.videoLoadedFraction){r.videoLoadedFraction=n;var a=r.videoTagMetadata?r.videoTagMetadata.duration*n:0;r.props.onProgress([[0,a]])}var i=r.videoTagMetadata;if(i){var u=.01*e.getVolume(),s=e.isMuted();u===i.volume&&s===i.muted||(r.videoTagMetadata=o({},i,{volume:u,muted:s}),r.props.onVolumeChange({volume:u,muted:s}))}}},r.onPlay=function(e){s.default.mediaPlaying(r),r.props.onPlaying()},r.onPause=function(e){r.props.onPause()},r.onEnd=function(e){r.props.onEnded();var t=r.player;t&&(t.playVideo(),t.pauseVideo())},r.onError=function(e){r.props.onError()},r.onStateChange=function(e){e.target.getPlayerState()!==y.PLAYING&&r.props.onPause()},r.play=function(){r.player&&r.player.playVideo()},r.pause=function(){r.player&&r.player.pauseVideo()},r.getPaused=function(){return!r.player||r.getPlayerState()!==y.PLAYING},r.getCurrentTime=function(){return r.player?r.player.getCurrentTime():0},r.setCurrentTime=function(e){r.player&&r.player.seekTo(e,!0)},r.getDuration=function(){return r.player?r.player.getDuration():0},r.getVolume=function(){return r.player?.01*r.player.getVolume():0},r.setVolume=function(e){r.player&&(r.player.setVolume(100*e),g(e))},r.getMuted=function(){return!!r.player&&r.player.isMuted()},r.setMuted=function(e){var t=r.player;t&&(e?t.mute():t.unMute(),v(e))},m(r,n)}return b(t,u.PureComponent),i(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(s.default,"mediaPlaying",this.onOtherPlaying),this.props.listeners.add(s.default,"pttRecording",this.pause)}},{key:"componentWillUnmount",value:function(){this.updateInterval&&clearInterval(this.updateInterval)}},{key:"componentDidUpdate",value:function(e){e.startTime!==this.props.startTime&&this.setStartTime()}},{key:"render",value:function(){var e=(0,r.default)({},_,{playerVars:{autoplay:this.props.autoPlay?1:0,widget_referrer:l.default.WHATSAPP_ORIGIN,origin:window.location.origin}});return u.createElement(d.default,{videoId:this.props.youtubeVideoId,opts:e,onReady:this.onReady,onPlay:this.onPlay,onPause:this.onPause,onEnd:this.onEnd,onError:this.onError,onStateChange:this.onStateChange})}}]),t}();E.displayName="YoutubeVideoTag";var j=(0,c.default)(E),O=function(e){function t(){var e,n,r;h(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.play=function(){r.getComponent().play()},r.pause=function(){r.getComponent().pause()},r.getPaused=function(){return r.getComponent().getPaused()},r.getCurrentTime=function(){return r.getComponent().getCurrentTime()},r.setCurrentTime=function(e){r.getComponent().setCurrentTime(e)},r.getDuration=function(){return r.getComponent().getDuration()},r.getVolume=function(){return r.getComponent().getVolume()},r.setVolume=function(e){r.getComponent().setVolume(e)},r.getMuted=function(){return r.getComponent().getMuted()},r.setMuted=function(e){r.getComponent().setMuted(e)},m(r,n)}return b(t,j),t}();t.default=O},ecgeiijacj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=i(n("effbcehec")),o=i(n("cbiciaafaf"));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.children;return r.createElement("div",{"data-a8n":a.default.key("tooltip"),className:o.default.tooltip},t)};u.displayName="Tooltip",t.default=u},ecgfaicjah:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=u(n("bifahbdaeg")),i=u(n("ihfccfgdf"));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props.msg;return a.createElement(o.default,{msg:e,chat:e.chat,author:this.props.contact.formattedShortName,searchText:this.props.searchText,onClick:this.props.onClick,active:this.props.active,key:e.id.toString()})}}]),t}();s.CONCERNS={msg:["id","chat"],contact:["formattedShortName"]},s.displayName="MessageWithAuthorClass",t.default=(0,i.default)(s,s.CONCERNS)},ecgfheibgg:function(e,t){e.exports={wrapper:"_3cNlM",icon:"_3C_ON",verifiedText:"_36_SM",divider:"_3F9pD"}},echbdbadad:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=h(n("effbcehec")),i=n("ebjaejiaba"),u=h(n("dacdidjdfi")),s=h(n("dhcejciehh")),l=h(n("bbchdeehff")),c=h(n("biddiiafgd")),f=h(n("fifhbjiec")),d=h(n("bjbdcigbdi")),p=n("cjciachhej");function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={keepStarred:!0},r.onCancel=function(){l.default.closeModal()},r.onClear=function(){var e=r.props.chat;e.pendingAction++,(0,p.sendClear)(e,d.default.supportsFeature(d.default.F.CHAT_CLEAR_STARRED)&&r.state.keepStarred).finally(function(){e.pendingAction--}),l.default.closeModal()},r.onToggleStarred=function(){r.setState({keepStarred:!r.state.keepStarred})},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"getText",value:function(){var e=this.props.chat;switch(e.kind){case i.CHAT_KIND.GROUP:return l10n.t(310,{name:e.title()});case i.CHAT_KIND.CHAT:return l10n.t(309,{name:e.title()});case i.CHAT_KIND.BROADCAST:return l10n.t(308);default:return""}}},{key:"render",value:function(){var e=void 0;return d.default.supportsFeature(d.default.F.CHAT_CLEAR_STARRED)&&(e=a.createElement("div",{className:s.default.section,onClick:this.onToggleStarred},a.createElement("div",{"data-a8n":o.default.key("menu-icon-clear-chat"),className:s.default.control},a.createElement(u.default,{onChange:this.onToggleStarred,checked:this.state.keepStarred})),a.createElement("div",{className:s.default.label},l10n.t(615)))),a.createElement(c.default,{onOK:this.onClear,okText:l10n.t(305),onCancel:this.onCancel},a.createElement("div",null,a.createElement(f.default,{text:this.getText()}),e))}}]),t}();b.displayName="ClearChatPopup",t.default=b},ecibddhig:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Pending=l,t.PendingCancel=c,t.Download=function(e){var t=e.filesize,n=void 0===t?0:t,i=e.onClick;return n>0?a.createElement("div",{className:o.default.controls},a.createElement("button",{className:(0,r.default)(o.default.btnMeta,o.default.cursorPointer),onClick:i},a.createElement(u.default,{name:"media-download",className:o.default.iconMeta}),a.createElement("span",null,l10n.filesize(n)))):a.createElement("div",{className:o.default.controls},a.createElement("button",{className:(0,r.default)(o.default.button,o.default.cursorPointer),onClick:i},a.createElement(u.default,{name:"media-download"})))},t.Upload=function(e){var t=e.filesize,n=void 0===t?0:t;return n>0?a.createElement("div",{className:o.default.controls},a.createElement("button",{className:(0,r.default)(o.default.btnMeta,o.default.cursorPointer)},a.createElement(u.default,{name:"media-upload",className:o.default.iconMeta}),a.createElement("span",null,l10n.filesize(n)))):a.createElement("div",{className:o.default.controls},a.createElement("div",{className:o.default.button},a.createElement(u.default,{name:"media-upload"})))},t.Play=f,t.GifIcon=d;var r=s(n("ceffhbhahb")),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("daeidjcaja")),i=s(n("becfabjeeg")),u=s(n("bfdcadbbif"));function s(e){return e&&e.__esModule?e:{default:e}}function l(){return a.createElement("div",{className:o.default.controls},a.createElement("div",{className:(0,r.default)(o.default.icon,o.default.cursorPointer)},a.createElement("div",{className:o.default.spinner},a.createElement(i.default,{size:50,stroke:3,color:"white"})),a.createElement("div",{className:o.default.cancel},a.createElement(u.default,{name:"media-disabled"}))))}function c(){return a.createElement("div",{className:o.default.controls},a.createElement("div",{className:(0,r.default)(o.default.icon,o.default.cursorPointer)},a.createElement("div",{className:o.default.spinner},a.createElement(i.default,{size:50,stroke:3,color:"white"})),a.createElement("div",{className:o.default.cancel},a.createElement(u.default,{name:"media-cancel"}))))}function f(){return a.createElement("div",{className:o.default.controls},a.createElement("div",{className:o.default.button},a.createElement(u.default,{name:"media-play",className:o.default.play})))}function d(e){var t=e.onClick;return a.createElement("div",{className:o.default.controls,onClick:t},a.createElement("div",{className:o.default.button},a.createElement(u.default,{name:"media-gif"})))}l.displayName="Pending",c.displayName="PendingCancel",f.displayName="Play",d.displayName="GifIcon"},ecidgeifdi:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=i(n("bjbdcigbdi")),o=i(n("bdiiahhjbe"));function i(e){return e&&e.__esModule?e:{default:e}}var u={queryStickerPacks:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return new Promise(function(r,i){var u={type:a.default.isThirdPartyStickersEnabled()?"sticker_pack_v2":"sticker_pack",page:t.toString(),count:n.toString()},s=e.queryNode(u,void 0);e.binSend("sendEphemeral",s,i,{onSend:e.binWrap(function(t){e.BinaryProtocol.read(t).then(function(t){var n={};if(o.default.logColor("green","bin-recv: response,sticker_pack",t)(),"response"===e.N.tag(t)&&"sticker_pack"===e.N.attr("type",t)){var a=parseInt(e.N.attr("code",t),10)||200;n.status=a,n.data=[],n.checksum=e.N.attr("checksum",t);var i=e.N.attr("count",t);n.count=null==i?null:parseInt(i);var u=e.N.children(t);if(Array.isArray(u))for(var s=0;s<u.length;s++){var l=e.parseStickerPack(u[s]);l&&n.data.push(l)}}r(n)}).catch(i)},r),onDrop:e.wrap(i)},{debugString:"query,sticker_pack",metricName:"QUERY_STICKER_PACKS"})})},queryStickersInStickerPack:function(e){return this.queryStickers({id:e})},queryStickers:function(e){var t=this;return new Promise(function(n,a){var i=r({type:"sticker"},e),u=t.queryNode(i,void 0);t.binSend("sendEphemeral",u,a,{onSend:t.binWrap(function(e){t.BinaryProtocol.read(e).then(function(e){var r={};if(o.default.logColor("green","bin-recv: response,sticker",e)(),"response"===t.N.tag(e)&&"sticker"===t.N.attr("type",e)){var a=parseInt(t.N.attr("code",e),10)||200;r.status=a,r.data=[];var i=t.N.children(e);if(Array.isArray(i))for(var u=0;u<i.length;u++){var s=t.parseSticker(i[u]);s&&r.data.push(s)}}n(r)}).catch(a)},n),onDrop:t.wrap(a)},{debugString:`query,sticker,${e.id}`,metricName:"QUERY_STICKERS"})})},parseSticker:function(e){if("sticker"===this.N.tag(e)){var t={url:this.N.attr("url",e),directPath:this.N.attr("direct_path",e),mediaKey:this.N.attr("media_key",e),filehash:this.N.attr("filehash",e),encFilehash:this.N.attr("enc_filehash",e),mimetype:this.N.attr("mimetype",e),width:parseInt(this.N.attr("width",e)||125,10),height:parseInt(this.N.attr("height",e)||125,10),size:parseInt(this.N.attr("size",e)||0,10)||null};return t.filehash?t:void 0}},parseStickerPack:function(e){if("sticker_pack"===this.N.tag(e)){var t={id:this.N.attr("id",e),name:this.N.attr("name",e),url:this.N.attr("url",e),directPath:this.N.attr("direct_path",e),mediaKey:this.N.attr("media_key",e),filehash:this.N.attr("filehash",e),encFilehash:this.N.attr("enc_filehash",e),mimetype:this.N.attr("mimetype",e)};return t.id?t:void 0}},parseStickerPackUpdate:function(e){if("sticker_pack"===this.N.tag(e)){var t=this.N.attr("type",e),n={type:t},r=[!t];return this.dropIfConditionMet(r,n)}}};e.exports=u},ecidjifge:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag"));e.exports=function(e,t){var n,i;return i=n=function(n){function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,o.Component),a(i,[{key:"render",value:function(){return o.createElement(e,r({},this.props,t))}}]),i}(),n.displayName=`Wrapper(${e.displayName||e.name})`,i}},eciicfcjdi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("dcaifjegcg"),o=s(a),i=s(n("cjcghajbag")),u=s(n("jccfhaecf"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.id=(0,a.prop)(),r.afterCursor=(0,a.prop)(),r.index=(0,a.prop)(),r.fetchedFromServer=(0,a.session)(),r._products=(0,a.session)(),r._msgs=(0,a.session)(),l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"initialize",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this),this.productCollection=new i.default,this.msgProductCollection=new i.default,this.listenTo(this,"change:_products",this.triggerProductUpdate),this.listenTo(this,"change:_msgs",this.triggerMsgUpdate),this.triggerProductUpdate(),this.triggerMsgUpdate()}},{key:"triggerProductUpdate",value:function(){this._products&&this.productCollection.add(this._products,{merge:!0}),this._products=void 0}},{key:"triggerMsgUpdate",value:function(){this._msgs&&this.msgProductCollection.add(this._msgs,{merge:!0}),this._msgs=void 0}},{key:"markProductCollectionOld",value:function(){this.productCollection.forEach(function(e){return e.markOld()})}},{key:"getCollection",value:function(){return n("ejegihaeh").default}}]),t}();c.Proxy="catalog",c.idClass=u.default,t.default=(0,a.defineModel)(c)},ecjegjabde:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Object.keys(e).reduce(function(t,n){var r=e[n];return null!=r&&(t[n]=e[n]),t},{})}},edgfejedb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.handleVideoStreamingRequest=function(e){var t=e.action,r=e.message;switch(t){case i.default.REQUEST_STREAMING_INFO:return function(e){var t=c.default.get(e);return t?(0,s.videoStreamingInfo)(t):null}(r.key);case i.default.EXP_BACKOFF:var a=n("bgabgddgch");return a.expDelaySec(r.generation,60).then(function(){return f.default.waitIfOffline({signal:(new o.default).signal})});case i.default.REQUEST_RMR:return function(e){var t=c.default.get(e.key);return t?t.downloadMedia(!0,l.default.WEBC_RMR_REASON_CODE.VIDEO_STREAMING).then(function(){return Promise.reject("downloaded media instead of streaming")}):null}(r);case i.default.SEND_STREAMING_CHUNK:var u=r.msgKey,d=c.default.get(u);if(!d)return void delete h[u.toString()];var m=void 0;h.hasOwnProperty(u)?m=h[u.toString()]:h[u.toString()]=m=new p(d.size),m.push(r.data),m.isComplete()&&((0,s.manuallySetMedia)(d,m.serialize(),l.default.WEBC_RMR_REASON_CODE.VIDEO_STREAMING),delete h[u.toString()]);break;default:return Promise.reject("Invalid Video Streaming Action")}};var o=d(n("cgeedcdffb")),i=d(n("bbaibbdgdj")),u=d(n("bdiiahhjbe")),s=n("ddgbhifaji"),l=d(n("bfbggcdbfb")),c=d(n("biecbbiiee")),f=d(n("bbgcdfeifh"));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ranges=[],this.buffer=[],this.size=t,t||u.default.error(`video buffer falsy size: ${t}`)()}return a(e,[{key:"push",value:function(e){this.buffer.push(e),this.add(e.start,e.end)}},{key:"add",value:function(e,t){for(var n=e,a=this.ranges,o=0;o<a.length;o++){var i=r(a[o],2),u=i[0],s=i[1];if(!(n>s+1)){if(t+1<u)return a.splice(o,0,[n,t]);for(;o+1<a.length;){var l=r(a[o+1],2),c=l[0],f=l[1];if(t+1<c)break;n=Math.min(n,u),a.splice(o,1),u=c,s=f}return void(a[o]=[Math.min(n,u),Math.max(t,s)])}}return a.push([n,t])}},{key:"isComplete",value:function(){var e=this.ranges,t=this.size;return!!t&&(1===e.length&&0===e[0][0]&&e[0][1]===t-1)}},{key:"serialize",value:function(){for(var e=new Uint8Array(this.size),t=this.buffer,n=0;n<t.length;n++){var r=t[n],a=r.start,o=r.buffer;e.set(new Uint8Array(o),a)}return e}}]),e}();var h={}},edjfhjcce:function(e,t){e.exports={container:"_7YAGC"}},eecehffbj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SKIN_TONE_VARIATIONS=void 0;var r,a=n("djegeegcbf"),o=(r=a)&&r.__esModule?r:{default:r};t.SKIN_TONE_VARIATIONS=[""].concat(o.default.skinToneVariations)},eedjbihej:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.theme?o.default[e.theme]:null,n=e.color?o.default[e.color]:null,i=(0,a.default)(t,n,e.className);return e.block?r.createElement("div",{className:i},e.children):r.createElement("span",{className:i},e.children)};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=i(n("ceffhbhahb")),o=i(n("dbahdjadcb"));function i(e){return e&&e.__esModule?e:{default:e}}},eeghcebdh:function(e,t){e.exports={bubble:"_1YfLQ",productInfo:"_2_fsu",author:"_1y-BH",title:"_1ypng",subtitle:"_38osG",thumb:"Il57F",productContainer:"dfwro",productCta:"_3k2jA"}},eehjjeabe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("dbaedajgf");Object.defineProperty(t,"BoldFirstWord",{enumerable:!0,get:function(){return b(r).default}});var a=n("bfifighhia");Object.defineProperty(t,"Bold",{enumerable:!0,get:function(){return b(a).default}});var o=n("dacicgjcai");Object.defineProperty(t,"Code",{enumerable:!0,get:function(){return b(o).default}});var i=n("idgifdccc");Object.defineProperty(t,"Emoji",{enumerable:!0,get:function(){return b(i).default}});var u=n("beagfhhiea");Object.defineProperty(t,"Emoticon",{enumerable:!0,get:function(){return b(u).default}});var s=n("bedcejaea");Object.defineProperty(t,"Highlight",{enumerable:!0,get:function(){return b(s).default}});var l=n("dbbfeecced");Object.defineProperty(t,"Intern",{enumerable:!0,get:function(){return b(l).default}});var c=n("dfehedcfdb");Object.defineProperty(t,"Italic",{enumerable:!0,get:function(){return b(c).default}});var f=n("bbeifbebhh");Object.defineProperty(t,"Link",{enumerable:!0,get:function(){return b(f).default}});var d=n("cbhbjajgac");Object.defineProperty(t,"Mention",{enumerable:!0,get:function(){return b(d).default}});var p=n("ccfjghjbdi");Object.defineProperty(t,"RawMention",{enumerable:!0,get:function(){return b(p).default}});var h=n("dfaebdhdda");Object.defineProperty(t,"Strikethrough",{enumerable:!0,get:function(){return b(h).default}});var m=n("bbacdcchfi");function b(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"TextMention",{enumerable:!0,get:function(){return b(m).default}})},efajhdaja:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("dcaifjegcg"),a=i(r),o=i(n("cffajefeag"));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=a=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.id=(0,r.prop)(),a.unsyncedButtonReplies=(0,r.prop)(),u(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),t}();s.Proxy="msgButtonReplyMsg",s.idClass=o.default,t.default=(0,r.defineModel)(s)},efgfgjab:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=u(n("bebjeaagc")),i=u(n("jccfhaecf"));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={isBusy:o.default.isBusy()},r.onIdle=function(){r.setState({isBusy:!1})},s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.props.waitIdle&&(this.idleTaskId=o.default.enqueue(this.onIdle))}},{key:"componentDidUpdate",value:function(e){if(!i.default.equals(e.id,this.props.id)||!this.props.waitIdle){this.state.isBusy&&o.default.dequeue(this.idleTaskId);var t=o.default.isBusy();t&&this.props.waitIdle&&(this.idleTaskId=o.default.enqueue(this.onIdle)),this.setState({isBusy:t})}}},{key:"componentWillUnmount",value:function(){this.props.waitIdle&&o.default.dequeue(this.idleTaskId)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.onComplex,r=e.waitIdle;return this.state.isBusy&&r?a.createElement(a.Fragment,null,t):n()}}]),t}();l.displayName="IdleComponent",t.default=l},efgideggi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatusV3MsgNotFound=t.StatusV3LoadingError=t.InvalidStatusV3Iterator=void 0;var r=c(n("dbahhcabjf")),a=c(n("cfjdfebffb")),o=c(n("dbafiicfja")),i=c(n("iffjgahba")),u=c(n("bdiiahhjbe")),s=c(n("bgcdajbhif")),l=c(n("bgabgddgch"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=t.InvalidStatusV3Iterator=function(e){function t(){return f(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,(0,i.default)("InvalidStatusV3Iterator")),t}(),m=t.StatusV3LoadingError=function(e){function t(){return f(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,(0,i.default)("StatusV3LoadingError")),t}(),b=t.StatusV3MsgNotFound=function(e){function t(){return f(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,(0,i.default)("StatusV3MsgNotFound")),t}(),g=function(){var e=this;this.printInfo=function(){e.statuses.forEach(function(e){u.default.log(`Total count: ${e.totalCount}, unread count: ${e.unreadCount}, msgs length: ${e.msgs.length}`)()})},this.getFirstUnread=function(t,n,r){var a=e.statuses.findIndex(function(e){return e.statusV3===t});if(-1!==a){var o=e.statuses[a],i=o.readMsgKeys,s=void 0;return r?(s=o.msgs?o.msgs.findIndex(function(e){return r&&e.id.toString()===r.toString()}):-1)>=0?Promise.resolve({msgIdx:s,statusIdx:a}):Promise.reject(new h):-1===(s=o.msgs?o.msgs.findIndex(function(e){return!i.includes(e.id.toString())}):-1)&&t.msgs.msgLoadState.noEarlierMsgs?(s=n?0:o.msgs.length-1,Promise.resolve({msgIdx:s,statusIdx:a})):-1!==s?Promise.resolve({msgIdx:s,statusIdx:a}):0===o.unreadCount&&n&&o.msgs.length>0?Promise.resolve({msgIdx:0,statusIdx:a}):e.fetchMore(t).then(function(){return e.getFirstUnread(t,n,r)}).catch(function(e){return u.default.error(`error while getting first unread status: ${String(e)}`)(),Promise.reject(new h)})}return Promise.reject(new h)},this.hasNext=function(t){var n=e.statuses[t.statusIdx];return t.msgIdx+1<n.totalCount||t.statusIdx+1<e.statuses.length},this.getNext=function(t){var n=e.statuses[t.statusIdx],r=n.statusV3;if(t.msgIdx+1<n.totalCount&&t.msgIdx+1<n.msgs.length)return Promise.resolve({msgIdx:t.msgIdx+1,statusIdx:t.statusIdx});if(t.msgIdx+1<n.totalCount)return r.msgs.msgLoadState.noEarlierMsgs?(u.default.error(`Loaded ${n.msgs.length} messages with total count ${n.totalCount}, but noEarlierMsgs set`)(),Promise.reject(new h)):e.fetchMore(r).then(function(){return e.getNext(t)}).catch(function(n){if(u.default.error(`error while loading more status msgs: ${String(n)}`)(),t.statusIdx+1<e.statuses.length){var r=e.statuses[t.statusIdx+1].statusV3;return e.getFirstUnread(r,!0)}return Promise.reject(new h)});if(t.statusIdx+1<e.statuses.length){var a=e.statuses[t.statusIdx+1].statusV3;return e.getFirstUnread(a,!0)}return Promise.reject(new h)},this.hasPrev=function(e){return e.msgIdx>0||e.statusIdx>0},this.getPrev=function(t){if(t.msgIdx>0)return Promise.resolve({msgIdx:t.msgIdx-1,statusIdx:t.statusIdx});if(t.statusIdx>0){var n=e.statuses[t.statusIdx-1].statusV3;return e.getFirstUnread(n,!1)}return Promise.reject(new h)},this.statusAt=function(t,n){var r=e.statuses[t.statusIdx],a=r.statusV3;return n<r.msgs.length?Promise.resolve({msgIdx:n,statusIdx:t.statusIdx}):a.msgs.msgLoadState.noEarlierMsgs?Promise.reject(new h):e.fetchMore(a).then(function(){return e.statusAt(t,n)}).catch(function(e){return u.default.error(`error while loading more status msgs: ${String(e)}`)(),Promise.reject(new h)})},this.fetchMore=function(t){return Promise.loop(function(n,i,u){var s=Promise.delay(l.default.expBackoff(u,12e4,1e3,.1));return t.loadMore().then(function(){var i=e.statuses.findIndex(function(e){return e.statusV3===t});if(-1!==i){var l=e.statuses[i],c=l.totalCount,f=l.unreadCount,d=t.msgs.getModelsArray().slice(0,c),p=c-f,h=d.slice(0,p),m=(0,o.default)(h,function(e){return e.id.toString()});l.msgs=d,l.readMsgKeys=(0,a.default)((0,r.default)(l.readMsgKeys,m)),n(!0)}else{if(!(u>=4))return s;n(!1)}}).catch(function(e){if(!(u>=4))return s;n(!1)})}).then(function(e){if(!e)throw new m})}};t.default=function e(t,n){if(f(this,e),g.call(this),n){var r=t.msgs.getModelsArray().find(function(e){return n&&e.id.toString()===n.toString()});if(!r)throw new b;this.statuses=[{statusV3:t,totalCount:1,unreadCount:0,msgs:[r],readMsgKeys:[r.id.toString()]}]}else if(t.unreadCount>0&&!t.contact.isMe&&!t.contact.statusMute){var a=s.default.getUnexpired(!0),i=[];a.forEach(function(e){if(!e.contact.statusMute){var t=e.msgs.getModelsArray(),n=e.totalCount-e.unreadCount,r=t.slice(0,n),a=(0,o.default)(r,function(e){return e.id.toString()});i.push({statusV3:e,totalCount:e.totalCount,unreadCount:e.unreadCount,msgs:t,readMsgKeys:a})}}),this.statuses=i}else{var u=t.msgs.getModelsArray(),l=t.totalCount-t.unreadCount,c=u.slice(0,l),d=(0,o.default)(c,function(e){return e.id.toString()}),p=[{statusV3:t,totalCount:t.totalCount,unreadCount:t.unreadCount,msgs:u,readMsgKeys:d}];this.statuses=p}this.printInfo()}},efhjefegg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=_(n("dbdfbgehgj")),i=_(n("beijddaacj")),u=_(n("bbchdeehff")),s=_(n("dhigahgdjb")),l=n("cicgeajfge"),c=n("bbhhbdicgc"),f=_(c),d=_(n("dgjddffcfg")),p=_(n("bjbdcigbdi")),h=n("dhfbfehaef"),m=_(h),b=_(n("fffdgbfji")),g=_(n("cbgeijgefb")),v=n("bfjajhbdf"),y=_(v);function _(e){return e&&e.__esModule?e:{default:e}}function E(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var O={SEC_FREQUENT_CONTACTS:"SEC_FREQUENT_CONTACTS",SEC_CHATS:"SEC_CHATS",SEC_CONTACTS:"SEC_CONTACTS"},S={ROW_FREQUENT_CONTACTS:"ROW_FREQUENT_CONTACTS",ROW_CHATS:"ROW_CHATS",ROW_CONTACTS:"ROW_CONTACTS"},w=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,s=Array(o),l=0;l<o;l++)s[l]=arguments[l];return n=r=j(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.setSearch=function(e){r.search=e},r.setList=function(e){r.list=e},r.state={filteredData:r.calculateFilteredData(r.props.searchText)},r.renderItem=function(e){switch(e.type){case O.SEC_FREQUENT_CONTACTS:return a.createElement(g.default,{header:b.default.t(1196)});case O.SEC_CHATS:return a.createElement(g.default,{header:b.default.t(1342)});case O.SEC_CONTACTS:return a.createElement(g.default,{header:b.default.t(1288)});case S.ROW_FREQUENT_CONTACTS:case S.ROW_CHATS:case S.ROW_CONTACTS:var t=e.data,n=!1,o=void 0;return r.props.hasFrequentlyForwarded&&t.groupMetadata&&t.groupMetadata.noFrequentlyForwarded&&(n=!0,o=b.default.t(468)),a.createElement(i.default,{key:t.id.toString(),chat:t,active:r.props.activeChat,selections:r.props.selectedChats,onSelect:r.handleSelect,disabled:n,customSecondaryText:o});default:throw new c.UnknownDataError(e)}},r.handleSelect=function(e,t,n){var o=r.props,i=o.selectedChats,s=o.maxChats,l=o.activeChat,c=o.onSelectionChanged,f=o.hasFrequentlyForwarded;if(t&&"number"==typeof s&&i.getSelected().length>=s){var d=f?b.default.t(463,{count:s,_plural:s}):b.default.t(462,{count:s,_plural:s});u.default.openToast(a.createElement(y.default,{id:(0,v.genId)(),msg:d}))}else i.setVal(e,t,n),l.setVal(e,n),c&&c(e,t)},r.onCancelSelection=function(){r.props.selectedChats.unsetAll()},r.onFocusList=function(e){e.preventDefault(),e.stopPropagation(),(0,h.shouldIndicateFocus)(),r.props.activeChat.setFirst(!0),r.list&&r.list.scrollIntoViewIfNeeded(r.props.activeChat.index)},r.onNext=function(e){e.preventDefault(),e.stopPropagation(),r.props.activeChat.setNext(!0),r.list&&r.list.scrollIntoViewIfNeeded(r.props.activeChat.index)},r.onPrev=function(e){e.stopPropagation(),e.preventDefault(),r.props.activeChat.prev()>-1?(r.props.activeChat.setPrev(!0),r.list&&r.list.scrollIntoViewIfNeeded(r.props.activeChat.index)):r.props.onLeaveList&&(r.props.onLeaveList(e),r.props.activeChat.unset())},j(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){var e=this;this.props.activeChat.init(this.flattenData(this.state.filteredData)),this.props.getInitialItems&&this.props.getInitialItems().forEach(function(t){return e.props.selectedChats.setVal(t,!0)})}},{key:"componentDidUpdate",value:function(e){if(this.props.searchText!==e.searchText){var t=this.calculateFilteredData(this.props.searchText);this.setState({filteredData:t}),this.props.activeChat.init(this.flattenData(t))}}},{key:"calculateFrequentContacts",value:function(e){var t=this.props,n=t.msgType,r=t.excludeChat;return e||!p.default.supportsFeature(p.default.F.FREQUENT_CONTACTS)?[]:s.default.frequentContacts(n,r)}},{key:"calculateFilteredChats",value:function(e){var t=e;if(t){t=b.default.accentFold(t);var n=d.default.numberSearch(t);return o.default.filter(function(e){return e.canSend&&e.shouldAppearInList&&e.contact.searchMatch(t,n)})}return o.default.filter(function(e){return e.canSend&&e.shouldAppearInList})}},{key:"calculateFilteredContacts",value:function(e){var t=e,n=s.default.getFilteredContacts();if(!t)return n;t=b.default.accentFold(e);var r=d.default.numberSearch(t);return n.filter(function(e){return e.searchMatch(t,r)})}},{key:"calculateFilteredData",value:function(e){var t={};return{frequentContacts:this.calculateFrequentContacts(e).map(function(e){var n=e.isGroup||e.isBroadcast?o.default.get(e.id):e;return n&&(t[n.id]=!0),n}).filter(Boolean),chats:this.calculateFilteredChats(e).map(function(e){var n=e.isGroup||e.isBroadcast?e:e.contact;return t[n.id]?null:(t[n.id]=!0,n)}).filter(Boolean),contacts:this.calculateFilteredContacts(e).map(function(e){return t[e.id]?null:e}).filter(Boolean)}}},{key:"flattenData",value:function(e){var t=e.frequentContacts,n=e.chats,r=e.contacts;return t.concat(n,r)}},{key:"isEmpty",value:function(){var e=this.state.filteredData,t=e.frequentContacts,n=e.chats,r=e.contacts;return!t.length&&!n.length&&!r.length}},{key:"getData",value:function(){var e=[],t=this.state.filteredData,n=t.frequentContacts,r=t.chats,a=t.contacts;return n.length&&(e.push({itemKey:O.SEC_FREQUENT_CONTACTS,type:O.SEC_FREQUENT_CONTACTS}),e.push.apply(e,E(n.map(function(e){return{itemKey:e.id.toString(),type:S.ROW_FREQUENT_CONTACTS,data:e}})))),r.length&&(e.push({itemKey:O.SEC_CHATS,type:O.SEC_CHATS}),e.push.apply(e,E(r.map(function(e){return{itemKey:e.id.toString(),type:S.ROW_CHATS,data:e}})))),a.length&&(e.push({itemKey:O.SEC_CONTACTS,type:O.SEC_CONTACTS}),e.push.apply(e,E(a.map(function(e){return{itemKey:e.id.toString(),type:S.ROW_CONTACTS,data:e}})))),e}},{key:"toggleFirst",value:function(e){var t=this.state.filteredData,n=t.frequentContacts,r=t.chats,a=t.contacts,o=void 0;if(n.length)o=n[0];else if(r.length)o=r[0];else{if(!a.length)return;o=a[0]}var i=!this.props.selectedChats.isSelected(o);this.handleSelect(o,i,e)}},{key:"getList",value:function(){return this.isEmpty()?null:a.createElement(f.default,{ref:this.setList,flatListController:this.props.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:this.getData(),renderItem:this.renderItem})}},{key:"render",value:function(){var e=this.getList();null==e&&(e=this.props.searchText?a.createElement(l.Search,null):a.createElement(l.ListChats,null));var t={down:this.onNext,up:this.onPrev};return a.createElement(m.default,{handlers:t},e)}}]),t}();w.displayName="MultiSelectChatList",t.default=w},efjajjbaf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=w(n("ddhijeejag")),o=S(n("decebhabae")),i=S(n("cfigdibdj")),u=S(n("bbchdeehff")),s=S(n("baagejbchg")),l=S(n("biddiiafgd")),c=S(n("dbgdaechch")),f=S(n("bhhdeihhhf")),d=S(n("fifhbjiec")),p=w(n("cajijabhgb")),h=n("cgffhfegce"),m=S(n("cieccfhhib")),b=S(n("bjbdcigbdi")),g=S(n("jheedhagg")),v=S(n("cieaaiahhf")),y=n("bfbggcdbfb"),_=S(n("behbjhhbg")),E=S(n("bfgbdiffgd")),j=S(n("bfdcadbbif")),O=S(n("ecgeiijacj"));function S(e){return e&&e.__esModule?e:{default:e}}function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var M=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,s=Array(o),c=0;c<o;c++)s[c]=arguments[c];return n=r=P(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.setDocPicker=function(e){return r.docPicker=e},r.setMediaPicker=function(e){return r.mediaPicker=e},r.onDocumentPick=function(e){if(e){e.stopPropagation();var t=null==e.target.files?[]:Array.from(e.target.files);if(r.dismiss(),t.length){var n=t.map(function(e){return{file:e,type:h.FILETYPE.DOCUMENT}});r.canSendDocument()?u.default.attachMediaDrawer({chat:r.props.chat,files:n,fileOrigin:y.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY}):r.showCantSendDocument()}}else r.dismiss()},r.onMediaPick=function(e){if(e){e.stopPropagation();var t=null==e.target.files?[]:Array.from(e.target.files);r.dismiss(),t.length&&u.default.attachMediaDrawer({chat:r.props.chat,files:t,fileOrigin:y.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY,initCaption:r.props.getComposeContents&&r.props.getComposeContents(),onComplete:function(e,t){r.props.onMenuComplete&&r.props.onMenuComplete(e,t)}})}else r.dismiss()},r.onMediaClick=function(e){if(e.preventDefault(),r.mediaPicker)return r.mediaPicker.open(),!1},r.onDocumentClick=function(e){if(e.preventDefault(),r.canSendDocument()&&r.docPicker)return r.docPicker.open(),!1;r.showCantSendDocument()},r.onContactClick=function(e){e.preventDefault(),u.default.openModal(a.createElement(i.default,{chat:r.props.chat}))},r.showCantSendDocument=function(e){var t=void 0;if(e instanceof p.InvalidMediaFileType)t=l10n.t(269);else if(e instanceof v.default)t=l10n.t(710,{maxSize:l10n.filesize(E.default.media)});else{var n=r.props.chat;t=n.isUser?l10n.t(267,{contact:n.title()}):l10n.t(268,{group:n.title()})}u.default.openModal(a.createElement(l.default,{key:"doc_cant_send",onOK:function(){return u.default.closeModal()}},a.createElement(d.default,{text:t})))},P(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"canSendDocument",value:function(){return b.default.supportsFeature(b.default.F.ENC_DOC)}},{key:"dismiss",value:function(){var e=this.props.uim;e&&e.uie.requestDismiss()}},{key:"renderAttachDocDropdownItem",value:function(){return b.default.supportsFeature(b.default.F.ENC_DOC)?a.createElement(f.default,{type:"icon",tooltip:a.createElement(O.default,null,l10n.t(187)),a8n:"mi-attach-document",action:this.onDocumentClick},a.createElement("button",{className:o.default.iconsItem,"data-animate-menu-icons-item":!0},a.createElement(j.default,{name:"document"}),a.createElement(m.default,{ref:this.setDocPicker,mimes:_.default.DOC_MIMES,onChange:this.onDocumentPick}))):null}},{key:"render",value:function(){return a.createElement("div",{className:o.default.attachMenuContainer},a.createElement(c.default,{type:"menu",key:"AttachMenuDropdown"},a.createElement(f.default,{type:"icon",tooltip:a.createElement(O.default,null,l10n.t(190)),a8n:"mi-attach-media",action:this.onMediaClick},a.createElement("button",{className:o.default.iconsItem,"data-animate-menu-icons-item":!0},a.createElement(j.default,{name:"image"}),a.createElement(m.default,{ref:this.setMediaPicker,mimes:[s.default.IMAGE_MIMES,s.default.VIDEO_MIMES].join(","),onChange:this.onMediaPick}))),a.createElement(f.default,{type:"icon",tooltip:a.createElement(O.default,null,l10n.t(185)),a8n:"mi-attach-camera",action:this.props.onCaptureClick,disabled:!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)},a.createElement("button",{className:o.default.iconsItem,"data-animate-menu-icons-item":!0},a.createElement(j.default,{name:"camera"}))),this.renderAttachDocDropdownItem(),a.createElement(f.default,{type:"icon",tooltip:a.createElement(O.default,null,l10n.t(191)),a8n:"mi-attach-contact",action:this.onContactClick},a.createElement("button",{className:o.default.iconsItem,"data-animate-menu-icons-item":!0},a.createElement(j.default,{name:"contact"})))))}}]),t}();M.displayName="AttachMenuDropdown",t.default=(0,g.default)(M)},egfffcbhi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=h(n("bbchdeehff")),i=h(n("baagejbchg")),u=h(n("dhigahgdjb")),s=h(n("fffdgbfji")),l=h(n("eceadcicaf")),c=n("bhfdfhefca"),f=h(n("bgcdajbhif")),d=h(n("cdebbfjhbf")),p=h(n("bfdcadbbif"));function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));b.call(e);var n=f.default.getUnexpired(!0).some(function(e){return e.unreadCount>0&&!e.contact.statusMute});return e.state={hasUnread:n},e.lastViewerTimestamps={},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(f.default,"add remove change:unreadCount change:t",this.onUnreadChange),this.props.listeners.add(u.default,i.default.COLLECTION_HAS_SYNCED,this.onUnreadChange)}},{key:"render",value:function(){var e=this.state.hasUnread?a.createElement(p.default,{name:"status-v3-unread",directional:!0}):a.createElement(p.default,{name:"status-v3"});return a.createElement(c.MenuBarItem,{a8nText:"menu-bar-status",icon:e,title:s.default.t(1267),onClick:this.onStatus})}}]),t}();m.CONCERNS={statusV3:["unreadCount"]};var b=function(){var e=this;this.onUnreadChange=function(){var t=f.default.getUnexpired(!0).some(function(t){var n=e.lastViewerTimestamps[t.id.toString()],r=!n||t.t>n;return!t.contact.statusMute&&t.unreadCount>0&&r});t!==e.state.hasUnread&&e.setState({hasUnread:t})},this.updateViewerTimestamps=function(){f.default.getUnexpired(!0).forEach(function(t){e.lastViewerTimestamps[t.id.toString()]=t.t})},this.onFlowEnd=function(){e.updateViewerTimestamps(),e.setState({hasUnread:!1})},this.onStatus=function(t){t.preventDefault(),o.default.openModalMedia(a.createElement(d.default,{onFlowEnd:e.onFlowEnd,removeTopDrawer:!1}),{transition:"status-v3-modal"})}};m.displayName="StatusV3MenuBarItem",t.default=(0,l.default)(m)},egibbfjcd:function(e,t){e.exports={action:"_3gGZl"}},ehaaiddhe:function(e,t){e.exports={addLabelBtContainer:"_2kvFV"}},ehfgacedb:function(e,t,n){"use strict";var r=y(n("ddfeabiaci")),a=y(n("dbafiicfja")),o=y(n("begjbhhee")),i=y(n("gcfidijgh")),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=y(n("dgdjiicfdg")),l=y(n("hgjcbccfg")),c=y(n("bjigbaghc")),f=y(n("bdiiahhjbe")),d=n("bffjfbgbg"),p=y(n("cffajefeag")),h=y(n("djafcfdghc")),m=n("hjbbdjjdf"),b=y(n("edbaidcaf")),g=y(n("jccfhaecf")),v=y(n("eaaehfdjdg"));function y(e){return e&&e.__esModule?e:{default:e}}var _=n("cbebjghfgg"),E={version:"09",BinaryProtocol:null,N:null,M:{DEBUG_LOG:1,QUERY_RESUME:2,QUERY_RECEIPT:3,QUERY_MEDIA:4,QUERY_CHAT:5,QUERY_CONTACTS:6,QUERY_MESSAGES:7,PRESENCE:8,PRESENCE_SUBSCRIBE:9,GROUP:10,READ:11,CHAT:12,RECEIVED:13,PIC:14,STATUS:15,MESSAGE:16,QUERY_ACTIONS:17,BLOCK:18,QUERY_GROUP:19,QUERY_PREVIEW:20,QUERY_EMOJI:21,QUERY_MESSAGE_INFO:22,SPAM:23,QUERY_SEARCH:24,QUERY_IDENTITY:25,QUERY_URL:26,PROFILE:27,CONTACT:28},addContact:function(e){var t=this;return new Promise(function(n,r){var a=t.actionNode("set",[["contacts",{type:"add"},e]]);t.binSend("send",a,r,{clientCacheable:!0,onSend:t.binWrap(n,n),onDrop:t.wrap(r)},{debugString:"action,contact,add",metricName:"CONTACT",ackRequest:!0})})},addParticipants:function(e,t){return this.setGroupParticipants("add",e,t)},changeSubject:function(e,t){var n=this;return new Promise(function(r,a){var o=v.default.tag(),i=n.wrap(r);i.tag=o;var u=["group",{id:o,jid:e,type:"subject",author:c.default.me,subject:t},void 0],l=n.actionNode("set",[u]);n.binSend("send",l,a,{clientCacheable:!0,onSend:i,onDrop:n.wrap(a)},{debugString:"action,group,subject",metricName:"GROUP",ackRequest:!1,expires:(0,s.default)().unix()})})},chatFindQuery:function(e,t){var n=this;return new Promise(function(r,a){var o={type:"chat"};"boolean"==typeof e&&e?o.kind="retry":"string"==typeof e&&(o.jid=e);var i=n.queryNode(o,void 0);n.binSend("sendEphemeral",i,a,{onSend:n.binWrap(function(e){n.BinaryProtocol.read(e).then(function(e){var t=[],a=n.N.children(e);if("response"===n.N.tag(e)&&"chat"===n.N.attr("type",e))if("true"===n.N.attr("duplicate",e))t="preempted";else if(Array.isArray(a)){var o=void 0,i=a.length;for(o=0;o<i;o++){var u=n.parseChat(a[o]);u&&t.push(u)}}r(t)}).catch(a)},r),logOnSend:t,onDrop:n.wrap(a)},{debugString:["query","chat",e].join(),metricName:"QUERY_CHAT",ackRequest:!1})})},contactFindQuery:function(e,t){var n=this;return new Promise(function(r,a){var o=n.queryNode({type:"contacts",kind:e?"retry":void 0},void 0);n.binSend("send",o,a,{onSend:n.binWrap(function(e){n.BinaryProtocol.read(e).then(function(e){var t=[],a=n.N.children(e);if("response"===n.N.tag(e)&&"contacts"===n.N.attr("type",e))if("true"===n.N.attr("duplicate",e))t="preempted";else if(Array.isArray(a)){var o=void 0,i=a.length;for(o=0;o<i;o++){var u=n.parseContact(a[o]);u&&t.push(u)}}r({checksum:n.N.attr("checksum",e),data:t})}).catch(a)},r),logOnSend:t,onDrop:n.wrap(a)},{debugString:"query,contacts, "+String(e),metricName:"QUERY_CONTACTS",ackRequest:!1})})},createGroup:function(e,t){var n=this;return new Promise(function(r,a){var o=v.default.tag(),i=n.wrap(r);i.tag=o;var u=t.map(function(e){return["participant",{jid:e},void 0]});f.default.log("create group tag",o)();var l=["group",{id:o,type:"create",author:c.default.me,subject:e},u],d=n.actionNode("set",[l]);n.binSend("send",d,a,{clientCacheable:!0,onSend:i,onDrop:n.wrap(a)},{debugString:"action,group,create",metricName:"GROUP",ackRequest:!1,expires:(0,s.default)().unix()})})},deletePicture:function(e){var t=this;return new Promise(function(n,r){var a=v.default.tag(),o=t.wrap(n);o.tag=a;var i=["picture",{id:a,jid:e,type:"delete"},void 0],u=t.actionNode("set",[i]);t.binSend("send",u,r,{clientCacheable:!0,onSend:o,onDrop:t.wrap(r)},{debugString:"action,delete_pic,"+e,metricName:"PIC",ackRequest:!1,expires:(0,s.default)().unix()})})},groupMetadataFindFromPhone:function(e){var t=this;return new Promise(function(n,r){var a=t.queryNode({type:"group",jid:e},[]);t.binSend("sendEphemeral",a,r,{onSend:t.binWrap(function(a){t.BinaryProtocol.read(a).then(function(r){if("response"===t.N.tag(r)&&"group"===t.N.attr("type",r)){var a=t.N.children(r),o=a&&a[0];if(o)if("missing"!==t.N.attr("type")){var i=[],u=void 0,s=t.N.children(o);Array.isArray(s)&&s.forEach(function(e){switch(t.N.tag(e)){case"participant":i.push({id:t.N.attr("jid",e),isAdmin:"admin"===t.N.attr("type",e)});break;case"description":u=t.N.dataStr(e)}}),n({status:"ok",data:{id:e,owner:t.N.attr("creator",o),creation:parseInt(t.N.attr("create",o),10)||void 0,participants:i,desc:u}})}else n({status:"missing"});else n({status:"error",info:"bad format: no group node"})}else n({status:"error",info:"bad format: response incorrect"})}).catch(r)},n),onDrop:t.wrap(r)},{debugString:"query,group,"+e,metricName:"QUERY_GROUP",ackRequest:!1})})},leaveGroup:function(e){var t=this;return new Promise(function(n,r){var a=v.default.tag(),o=t.wrap(n);o.tag=a;var i=["group",{id:a,jid:e,type:"leave",author:c.default.me},void 0],u=t.actionNode("set",[i]);t.binSend("send",u,r,{clientCacheable:!0,onSend:o,onDrop:t.wrap(r)},{debugString:"action,group,delete",metricName:"GROUP",ackRequest:!1,expires:(0,s.default)().unix()})})},msgCreateRecord:function(e,t){var n=this;return new Promise(function(r,a){var o=e.id.id,s=void 0,c=void 0;if("chat"===e.type){var d=[["body",void 0,e.body]];"url"===e.subtype&&d.push(["media",{type:"url",title:e.title,description:e.description,"canonical-url":e.canonicalUrl,"matched-text":e.matchedText,preview:e.richPreviewType,encoding:"raw"},e.thumbnail?l.default.decode(e.thumbnail):void 0]),c=Promise.resolve(["message",{type:"text",to:e.to,id:e.id.id,t:e.t.toString()},d])}else if("location"===e.type)s=e.body?l.default.decode(e.body):void 0,c=Promise.resolve(["message",{type:"media",to:e.to,id:e.id.id,t:e.t.toString()},[["media",{type:"location",latitude:e.lat||void 0,longitude:e.lng||void 0,name:e.loc&&e.clientUrl?e.loc:void 0,url:e.loc&&e.clientUrl?e.clientUrl:void 0,encoding:e.body?"raw":void 0},s]]]);else if("vcard"===e.type){var p=["vcard",{name:e.subtype},e.body];c=Promise.resolve(["message",{type:"media",to:e.to,id:e.id.id,t:e.t.toString()},[["media",{type:"vcard"},[p]]]])}else{var h=e.mediaKey;s=e.body?l.default.decode(e.body):void 0;var m="ptt"===e.type?"audio":e.type,b={};c=(t&&!h?n.sendMedia(e.avparams):Promise.resolve((0,i.default)({status:200,type:m},e.avparams))).then(function(t){if(200===t.status)return Promise.resolve(["message",u({type:"media",to:e.to,id:e.id.id,t:e.t.toString()},b),[["media",{encoding:e.body?"raw":void 0,origin:"ptt"===e.type?"live":void 0,seconds:"ptt"===e.type&&e.duration?e.duration.toString():void 0,type:t.type,mimetype:e.mimetype||t.mimetype||void 0,size:e.size?e.size.toString():void 0,filehash:t.filehash,url:t.url,duration:t.duration?t.duration.toString():void 0,vcodec:t.vcodec||void 0,width:t.width?t.width.toString():void 0,height:t.height?t.height.toString():void 0,fps:t.fps?t.fps.toString():void 0,vbitrate:t.vbitrate?t.vbitrate.toString():void 0,acodec:t.acodec||void 0,asampfreq:t.asampfreq?t.asampfreq.toString():void 0,asampfmt:t.asampfmt||void 0,abitrate:t.abitrate?t.abitrate.toString():void 0,caption:"video"!==e.type&&"image"!==e.type&&"document"!==e.type||!e.caption?void 0:e.caption,page_count:"number"!=typeof e.pageCount||isNaN(e.pageCount)?void 0:e.pageCount.toString(),media_key:h,filename:t.filename},s]]]);var n=`wap:msgCreateRecord:sendMedia error ${t.status}`;return f.default.error(n)(),Promise.reject(n)}).catch(function(){return f.default.error("wap:msgCreateRecord:sendMedia dropped")(),Promise.reject("wap:msgCreateRecord:sendMedia dropped")})}c.then(function(t){var i=n.actionNode("relay",[t]),u=n.wrap(r);u.tag=o,u.meta={type:"message",key:e.id},n.binSend("send",i,a,{onSend:u,onDrop:n.wrap(a)},{debugString:["action","message",e.type,e.subtype].join(),metricName:"MESSAGE",ackRequest:!1})}).catch(function(){f.default.error("wap:msgCreateRecord mPromise error")(),a("wap:msgCreateRecord mPromise error")})})},msgFindQuery:function(e,t,n,r){var a=this,o=e;return new Promise(function(e,i){var u=void 0,s="";switch(o){case"after":t.id||(o="before");case"before":u={type:"message",kind:o,jid:t.remote,count:t.count.toString(),index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},s=[t.toString(),t.count].join();break;case"search":u={type:"search",search:t.searchTerm,page:t.page.toString(),count:t.count.toString(),canceled:t.tagToCancel},s=["search",t.page,t.count].join();break;case"star":u={type:"star",chat:t.chat,count:t.count.toString(),jid:t.remote,index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},s="starred";break;case"media":u={type:"media_message",count:t.count.toString(),kind:t.direction,jid:t.remote,index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},s="media"}var l=a.queryNode(u,void 0);a.binSend("sendEphemeral",l,i,{onSend:a.binWrap(function(t){a.BinaryProtocol.read(t).then(function(t){var n=[],r=a.N.children(t);if(f.default.logColor("green","bin-recv: response,msg",t)(),"response"===a.N.tag(t)&&("message"===a.N.attr("type",t)||"star"===a.N.attr("type",t)||"search"===a.N.attr("type",t)||"media_message"===a.N.attr("type",t))){if(Array.isArray(r)){var i=void 0,u=r.length;for(i=0;i<u;i++){var s=a.parseMsg(r[i],"response");s&&n.push(s)}}"search"===a.N.attr("type",t)?n={eof:"true"===a.N.attr("last",t),messages:n}:"media"===o&&(n={messages:n})}e(n)}).catch(i)},e),onDrop:a.wrap(i),logOnSend:n,onTag:r,tagToCancel:t.tagToCancel},{debugString:"query,message,"+s,metricName:"search"===o?"QUERY_SEARCH":"QUERY_MESSAGES",ackRequest:!1})})},parseAck:function(e){if("received"===this.N.tag(e)){var t=this.N.attr("type",e),n=this.N.attr("id",e),r=this.N.attr("to",e),a=void 0;switch(t){case"message":a=2;break;case"read":a=3;break;case"played":a=4;break;case"error":a=-1;break;case"pending":default:a=0}var o={cmd:"ack",id:n,ack:a,from:c.default.me,to:r},i=[!n,!r,"message"!==t&&"read"!==t&&"played"!==t&&"error"!==t&&"pending"!==t];return this.dropIfConditionMet(i,o)}f.default.assert(!1,"wap-unexpected-tag",`expected tag: received, received tag: ${this.N.tag(e)}, tag id: ${this.N.attr("id",e)}`)()},parseBattery:function(e){if("battery"===this.N.tag(e)){var t=Math.min(parseInt(this.N.attr("value",e),10)||-1,100),n=this.N.attr("live",e),r={battery:t<0?void 0:t,plugged:n?"true"===n:void 0},a=[t<0&&!n];return this.dropIfConditionMet(a,r)}f.default.assert(!1,"wap-unexpected-tag",`expected tag: battery, received tag: ${this.N.tag(e)}, tag id: ${this.N.attr("id",e)}`)()},parseBCUpdate:function(e){if("broadcast"===this.N.tag(e)&&"modify"===this.N.attr("type",e)){var t=this.N.attr("jid",e),n=this.N.children(e),r=[];if(Array.isArray(n)){var a=n.length,o=void 0,i=void 0,u=void 0;for(o=0;o<a;o++)i=n[o],u=this.N.attr("jid",i),"recipient"===this.N.tag(i)&&u&&g.default.isUser(u)&&r.push({id:u})}var s={id:t,participants:r},l=[!t,!g.default.isBroadcast(t),0===r.length];return this.dropIfConditionMet(l,s)}f.default.assert(!1,"wap-unexpected-tag",`expected tag: broadcast, received tag: ${this.N.tag(e)}, tag id: ${this.N.attr("id",e)}`)()},parseChat:function(e){if("chat"===this.N.tag(e)){var t=this.N.attr("kind",e),n=this.N.attr("type",e),r=this.N.attr("jid",e),a=parseInt(this.N.attr("t",e),10)||void 0,o=parseInt(this.N.attr("mute",e),10),i=parseInt(this.N.attr("before",e),10)||void 0,u="true"===this.N.attr("archive",e),s="true"===this.N.attr("read_only",e),l=parseInt(this.N.attr("modify_tag",e),10)||void 0,c=this.N.attr("name",e)||void 0,d=this.safeParseInt(e,"count"),p="true"===this.N.attr("message",e),h="true"===this.N.attr("star",e),m="false"===this.N.attr("spam",e),b=parseInt(this.N.attr("pin",e),10)||0,v=this.N.attr("old_jid",e),y=this.N.attr("new_jid",e),_=parseInt(this.N.attr("ephemeral",e))||void 0;switch(t){case"text":case"image":case"video":case"gif":case"audio":case"ptt":case"document":case"location":case"vcard":case"url":case"sticker":break;default:t=void 0}"ahead"===n&&(n="clear");var E=this.N.children(e),j=void 0,O=void 0;if(Array.isArray(E)){j=[],O=[];var S=void 0,w=void 0,P=E.length;for(S=0;S<P;S++)if(w=E[S],"item"===this.N.tag(w)){var M=this.N.attr("index",w);M&&j.push([M,"true"===this.N.attr("owner",w),this.N.attr("participant",w)])}else if("label"===this.N.tag(w)){var C=this.N.attr("id",w);C&&O.push(C)}else{var T=this.parseMsgMessage(w,"response");T&&j.push(T)}}var A={id:r,t:a,type:n,kind:t,keys:j,before:i,archive:u,isReadOnly:s,unreadCount:d,muteExpiration:isNaN(o)?void 0:o,modifyTag:l,name:c,pendingMsgs:p,star:h,notSpam:m,pin:b,changeNumberOldJid:v,changeNumberNewJid:y,ephemeralDuration:g.default.isUser(r)?_:void 0,labels:O};this.pruneUndefinedProps(A);var N=[n&&"delete"!==n&&"clear"!==n&&"archive"!==n&&"unarchive"!==n&&"mute"!==n&&"star"!==n&&"unstar"!==n&&"spam"!==n&&"modify_tag"!==n&&"pin"!==n&&"modify"!==n,!n&&!r,u&&n&&"clear"!==n,"clear"!==n&&i&&i>0,"clear"!==n&&"star"!==n&&"unstar"!==n&&j&&j.length>0];return this.dropIfConditionMet(N,A)}f.default.assert(!1,"wap-unexpected-tag",`expected tag: chat, received tag: ${this.N.tag(e)}, tag id: ${this.N.attr("id",e)}`)()},parseMsg:function(e,t){switch(this.N.tag(e)){case"message":return this.parseMsgMessage(e,t);case"groups_v2":return this.parseMsgGp2(e);case"broadcast":return this.parseMsgBroadcast(e);case"notification":return this.parseMsgNotification(e);case"call_log":return this.parseMsgCallLog(e);case"security":return this.parseMsgSecurity(e);default:return void f.default.assert(!1,"wap-unknown-tag",`received tag: ${this.N.tag(e)}, tag id: ${this.N.attr("id",e)}`)()}},parseMsgBroadcast:function(e){if("broadcast"===this.N.tag(e)){var t=this.N.attr("type",e),n=this.N.attr("id",e),r=parseInt(this.N.attr("t",e),10)||0,a=this.N.attr("jid",e),o="true"===this.N.attr("owner",e),i=this.N.attr("participant",e),u=void 0,s=void 0;switch(t){case"create":u=""+(parseInt(this.N.attr("count",e),10)||0);break;case"add":case"remove":(s=this.N.child("participant",e))&&(u=this.N.attr("jid",s))}var l=void 0;try{l=new p.default({fromMe:o,remote:a,id:n,participant:i})}catch(e){return void f.default.error("drop: cannot create MsgKey: "+e.stack)()}var d={id:l,t:r,participant:i,type:"broadcast_notification",subtype:t,from:o?c.default.me:a,to:o?a:c.default.me,body:u||void 0},h=[!n,!r,!a,!g.default.isBroadcast(a),"create"!==t&&"add"!==t&&"remove"!==t,("add"===t||"remove"===t)&&!g.default.isWid(u)];return this.dropIfConditionMet(h,d)}f.default.assert(!1,"wap-unexpected-tag",`expected tag: broadcast, received tag: ${this.N.tag(e)}, tag id: ${this.N.attr("id",e)}`)()},parseMsgCallLog:function(e){if("call_log"===this.N.tag(e)){var t=parseInt(this.N.attr("t",e),10)||0,n=this.N.attr("id",e),r=this.N.attr("jid",e),a="true"===this.N.attr("owner",e),o=this.N.attr("participant",e),i=this.N.attr("type",e);i;var u=void 0;try{u=new p.default({fromMe:a,remote:r,id:n,participant:o})}catch(e){return void f.default.error("drop: cannot create MsgKey: "+e.stack)()}var s={id:u,t:t,participant:o,type:"call_log",subtype:i,from:a?c.default.me:r,to:a?r:c.default.me},l=[!n,!t,!r,"miss"!==i];return this.dropIfConditionMet(l,s)}},parseMsgGp2:function(e){if("groups_v2"===this.N.tag(e)){var t=parseInt(this.N.attr("t",e),10)||0,n=this.N.attr("id",e),r=this.N.attr("jid",e),a="invis"===this.N.attr("web",e),o="true"===this.N.attr("owner",e),i=this.N.attr("type",e),u=this.N.attr("author",e),s=this.N.children(e),l=this.N.attr("participant",e),d=[],h=void 0;switch(i){case"create":case"subject":h=this.N.attr("subject",e);break;case"picture":h=this.N.attr("picture",e)}if(Array.isArray(s)){var m=void 0,b=s.length;for(m=0;m<b;m++){var v=s[m],y=this.N.attr("jid",v);"participant"===this.N.tag(v)&&y&&d.push(y)}}var _=void 0;try{_=new p.default({fromMe:o,remote:r,id:n,participant:l})}catch(e){return void f.default.error("drop: cannot create MsgKey: "+e.stack)()}var E={t:t,id:_,from:o?c.default.me:r,to:o?r:c.default.me,author:u,participant:l,body:h?h.toString():void 0,type:"gp2",subtype:i,invis:a,recipients:d},j=[!n,!t,"subject"!==i&&"add"!==i&&"invite"!==i&&"remove"!==i&&"leave"!==i&&"picture"!==i&&"modify"!==i&&"create"!==i&&"delete"!==i&&"promote"!==i&&"demote"!==i&&"revoke_invite"!==i,"subject"===i&&!h,("add"===i||"invite"===i||"remove"===i||"leave"===i||"promote"===i||"demote"===i||"modify"===i)&&0===d.length,!r,!g.default.isGroup(r)];return this.dropIfConditionMet(j,E)}f.default.assert(!1,"wap-unexpected-tag",`expected tag: groups_v2, received tag: ${this.N.tag(e)}, tag id: ${this.N.attr("id",e)}`)()},parseMsgMessage:function(e,t){if("message"===this.N.tag(e)){var n=void 0;c.default.me.equals(this.N.attr("from",e))&&!this.N.attr("to",e)?n="in":c.default.me.equals(this.N.attr("to",e))&&!this.N.attr("from",e)&&(n="out");var r=this.N.attr("id",e),a=parseInt(this.N.attr("t",e),10)||0,o=this.N.attr("to",e)||c.default.me,u=this.N.attr("from",e)||c.default.me,s=g.default.isBroadcast(u),l=this.N.attr("participant",e),h=s?l:u,b=s?void 0:l,v=!s&&(this.N.child("broadcast",e)&&c.default.me.equals(u)),y="invis"===this.N.attr("web",e),_=this.N.attr("notify",e)||"",E=parseInt(this.N.attr("status",e))||0,j=[],O=this.N.child("broadcast",e),S="true"===this.N.attr("star",e),w=void 0;if("broadcast"!==o){var P=void 0;try{P=new p.default({from:h,to:o,id:r,participant:l,selfDir:n})}catch(e){return void f.default.error("drop: cannot create MsgKey: "+e.stack)()}switch(t){case"fresh":w=1;break;default:w=E>=-1&&E<=4?E:1}if(Array.isArray(O)){var M=void 0,C=O.length;for(M=0;M<C;M++){var T=O[M],A=this.N.attr("jid",T);"to"===this.N.tag(T)&&A&&j.push(A)}}var N=void 0,k=[],I=this.N.attr("type",e);switch(I){case"ciphertext":case"unknown":N={id:P,type:I,t:a,notifyName:_,from:h,to:o,self:n,author:b,participant:l,invis:y,ack:w,broadcast:v,recipients:j,star:S},k=[!r,!a,!h,!o];break;case"text":N={id:P,body:this.N.dataStr(this.N.child("body",e))||"",type:"chat",t:a,notifyName:_,from:h,to:o,self:n,author:b,participant:l,invis:y,ack:w,broadcast:v,recipients:j,star:S};var R=this.N.child("media",e);R&&"url"===this.N.attr("type",R)&&(0,i.default)(N,{subtype:"url",title:this.N.attr("title",R),description:this.N.attr("description",R),canonicalUrl:this.N.attr("canonical-url",R),matchedText:this.N.attr("matched-text",R),thumbnail:this.thumbFromMediaXml(R),richPreviewType:this.N.attr("preview",R),doNotPlayInline:"true"===this.N.attr("do-not-play-inline",R)}),k=[!r,!a,!h,!o];break;case"media":var L=this.N.child("media",e),D=this.N.attr("type",L),x=this.N.attr("media_key",L),U=this.N.attr("mimetype",L),G=void 0,F=void 0,B=void 0,$=void 0,V=void 0;if("retry"===this.N.attr("reason",L))return;switch(D){case"image":case"video":case"document":var H=parseInt(this.N.attr("page_count",L),10)||0,W=(0,d.cleanIncomingFilename)(this.N.attr("filename",L));V=(0,d.cleanIncomingFilename)(this.N.attr("caption",L)),G=this.thumbFromMediaXml(L),F=this.N.attr("url",L),F=(0,m.isString)(F)&&F.indexOf("/u/")>0?void 0:F,B=this.N.attr("filehash",L),$=parseInt(this.N.attr("size",L),10)||0,N={id:P,body:G,type:D,t:a,notifyName:_,from:h,to:o,self:n,author:b,participant:l,invis:y,ack:w,clientUrl:F,duration:this.N.attr("seconds",L),broadcast:v,recipients:j,filehash:B,size:$,caption:V,mediaKey:x,star:S,pageCount:H,mimetype:U,filename:W},k=[!r,!a,!h,!o];break;case"location":var Y=this.N.attr("latitude",L),K=this.N.attr("longitude",L),q=this.N.attr("name",L);N={id:P,body:G=this.thumbFromMediaXml(L),type:D,t:a,notifyName:_,from:h,to:o,self:n,author:b,participant:l,invis:y,ack:w,clientUrl:F=this.N.attr("url",L),loc:q,lat:Y,lng:K,broadcast:v,recipients:j,star:S},k=[!r,!a,!h,!o,!Y||!K];break;case"audio":var z="live"===this.N.attr("origin",L)?"ptt":D;F=this.N.attr("url",L),F=(0,m.isString)(F)&&F.indexOf("/u/")>0?void 0:F,B=this.N.attr("filehash",L),$=parseInt(this.N.attr("size",L),10)||0,N={id:P,type:z,t:a,notifyName:_,from:h,to:o,self:n,author:b,participant:l,invis:y,ack:w,clientUrl:F,duration:this.N.attr("seconds",L),broadcast:v,recipients:j,filehash:B,size:$,star:S,mediaKey:x,mimetype:U},k=[!r,!a,!h,!o];break;case"vcard":var Q=this.N.child("vcard",L),J=this.N.dataStr(Q),Z=this.N.attr("name",Q);N={id:P,body:J,type:D,subtype:Z,t:a,notifyName:_,from:h,to:o,self:n,author:b,participant:l,invis:y,ack:w,broadcast:v,recipients:j,star:S},k=[!r,!a,!h,!o,!J,!Z];break;default:f.default.error("wap:parseMsgMessage unknown media type: "+this.N.toString(e),e)()}break;default:f.default.error("wap:parseMsgMessage unknown message type: "+this.N.toString(e),e)()}return this.dropIfConditionMet(k,N)}}else f.default.assert(!1,"wap-unexpected-tag",`expected tag: message, received tag: ${this.N.tag(e)}, tag id: ${this.N.attr("id",e)}`)()},parseMsgNotification:function(e){if("notification"===this.N.tag(e)){var t=this.N.attr("id",e),n=parseInt(this.N.attr("t",e),10)||0,r=this.N.attr("jid",e),a=this.N.attr("participant",e),o="invis"===this.N.attr("web",e),i=this.N.dataStr(e),u="true"===this.N.attr("owner",e),s=void 0;try{s=new p.default({fromMe:u,remote:r,id:t,participant:a})}catch(e){return void f.default.error("drop: cannot create MsgKey: "+e.stack)()}var l={id:s,type:"notification",t:n,invis:o,from:u?c.default.me:r,to:u?r:c.default.me,participant:a,body:i},d=[!t,!n,!r];return this.dropIfConditionMet(d,l)}f.default.assert(!1,"wap-unexpected-tag",`expected tag: notification, received tag: ${this.N.tag(e)}, tag id: ${this.N.attr("id",e)}`)()},parseMsgSecurity:function(e){if("security"===this.N.tag(e)){var t=parseInt(this.N.attr("t",e),10)||0,n=this.N.attr("id",e),r=this.N.attr("jid",e),a="true"===this.N.attr("owner",e),o=this.N.attr("participant",e),i=this.N.attr("type",e),u=void 0;switch(i){case"identity":var s=this.N.child("participant",e);s&&(u=this.N.attr("jid",s))}var l=void 0;try{l=new p.default({fromMe:a,remote:r,id:n,participant:o})}catch(e){return void f.default.error("drop: cannot create MsgKey: "+e.stack)()}var d={id:l,t:t,participant:o,type:"e2e_notification",subtype:i,from:a?c.default.me:r,to:a?r:c.default.me,body:u},h=[!n,!t,!r,"identity"!==i&&"encrypt"!==i,"identity"===i&&!u];return this.dropIfConditionMet(h,d)}},parseCmd:function(e){switch(this.N.tag(e)){case"read":var t=this.N.attr("jid",e),n={type:"false"===this.N.attr("type",e)?"unread":"read",jid:t},r=[!t];return this.dropIfConditionMet(r,n);case"identity":var a=this.parseIdentity(e);return a?(a.type="identity",a):void 0;default:return}},parseContact:function(e){if("user"===this.N.tag(e)){var t=this.N.attr("jid",e),n=this.N.attr("name",e),r=this.N.attr("short",e)||void 0,a=this.N.attr("type",e)||"in",o={id:t,name:n,type:a,shortName:r},i=[!t,"in"!==a&&"out"!==a&&!!a];return this.dropIfConditionMet(i,o)}f.default.assert(!1,"wap-unexpected-tag",`expected tag: user, received tag: ${this.N.tag(e)}, tag id: ${this.N.attr("id",e)}`)()},parseIdentity:function(e){var t=this.N.child("raw",e),n=this.N.child("text",e);if(t&&n&&this.N.children(t)instanceof ArrayBuffer&&this.N.dataStr(n))return{jid:this.N.attr("jid",e),binary:this.N.children(t),string:this.N.dataStr(n)}},profilePicFindThumbFromPhone:function(e,t,n){var r=this;return new Promise(function(a,o){var i={type:"preview",jid:e};t&&t.tag&&t.raw&&(i.id=t.tag),n&&(i.kind="status");var u=r.queryNode(i,[]);r.binSend("sendEphemeral",u,o,{onSend:r.binWrap(function(n){r.BinaryProtocol.read(n).then(function(n){"response"===r.N.tag(n)&&"preview"===r.N.attr("type",n)||o("Not response or preview");var i=r.N.children(n),u=i&&i[0];if(u||o("Missing preview node"),"missing"===r.N.attr("type",u))a({id:e,tag:void 0,raw:void 0});else{var s=r.N.attr("id",u),c=void 0;if(t&&s===t.tag&&t.raw)c=t.raw;else{var f=r.N.children(u);c=f?l.default.encode(f):void 0}a({id:e,tag:s,raw:c})}}).catch(o)},a),onDrop:r.wrap(o)},{debugString:"query,thumb,"+e,metricName:"QUERY_PREVIEW",ackRequest:!1})})},promoteParticipants:function(e,t){return this.setGroupParticipants("promote",e,t)},queryIdentity:function(e){var t=this;return new Promise(function(n,r){var a=t.queryNode({type:"identity",jid:e},void 0);t.binSend("sendEphemeral",a,r,{onSend:t.binWrap(function(e){t.BinaryProtocol.read(e).then(function(e){var r=void 0;f.default.logColor("green","bin-recv: response,identity",e)(),"response"===t.N.tag(e)&&"identity"===t.N.attr("type",e)&&(r=t.parseIdentity(e)),n(r)}).catch(r)},n),onDrop:t.wrap(r)},{debugString:`query,identity,${e}`,metricName:"QUERY_IDENTITY",ackRequest:!1})})},queryLinkPreview:function(e){var t=this;return new Promise(function(n,r){var a=t.queryNode({type:"url",url:e},void 0);t.binSend("sendEphemeral",a,r,{onSend:t.binWrap(function(e){t.BinaryProtocol.read(e).then(function(e){var r=void 0;if(f.default.logColor("green","bin-recv: response,url",e)(),"response"===t.N.tag(e)&&"url"===t.N.attr("type",e)){var a=t.N.children(e);r={title:t.N.attr("title",e),description:t.N.attr("description",e),canonicalUrl:t.N.attr("canonical-url",e),matchedText:t.N.attr("matched-text",e),preview:t.N.attr("preview",e),thumbnail:a?l.default.encode(a):void 0,doNotPlayInline:"true"===t.N.attr("do-not-play-inline",e)}}n(r)}).catch(r)},n),onDrop:t.wrap(r)},{debugString:"query,url",metricName:"QUERY_URL",ackRequest:!1})})},queryMsgInfo:function(e){var t=this,n=function(e){var n=void 0,r=void 0,a=[];if(Array.isArray(e)){n=e.length;for(var o=0;o<n;o++)r=e[o],"item"===t.N.tag(r)&&t.N.attr("jid",r)&&t.N.attr("t",r)&&a.push({id:t.N.attr("jid",r),t:parseInt(t.N.attr("t",r),10)||0})}return a};return new Promise(function(r,a){var o=t.queryNode({type:"message_info",index:e.id,jid:e.remote},void 0);t.binSend("sendEphemeral",o,a,{onSend:t.binWrap(function(e){t.BinaryProtocol.read(e).then(function(e){var a={played:[],playedRemaining:0,read:[],readRemaining:0,delivery:[],deliveryRemaining:0};if(f.default.logColor("green","bin-recv: response,msg,info",e)(),"response"===t.N.tag(e)&&"message_info"===t.N.attr("type",e)){var o=t.N.child("played",e),i=t.N.child("read",e),u=t.N.child("delivery",e),s=t.N.children(o),l=t.N.children(i),c=t.N.children(u),d=parseInt(t.N.attr("count",e),10)||0;a.played=n(s),a.read=n(l),a.delivery=n(c);var p=d-a.played.length,h=d-a.played.length-a.read.length,m=d-a.played.length-a.read.length-a.delivery.length;a.playedRemaining=p<0?0:p,a.readRemaining=h<0?0:h,a.deliveryRemaining=m<0?0:m}r(a)}).catch(a)},r),onDrop:t.wrap(a)},{debugString:["query,msg,info",e.id,e.remote,e.fromMe].join(),metricName:"QUERY_MESSAGE_INFO",ackRequest:!1})})},queryReceivedActions:function(e){var t=this;return new Promise(function(n,r){var a=e.map(function(e){return["item",{id:e},void 0]}),o=t.queryNode({type:"action"},a);t.binSend("sendEphemeral",o,r,{onSend:t.binWrap(function(e){t.BinaryProtocol.read(e).then(function(e){var r=[],a=t.N.children(e);if(f.default.logColor("green","bin-recv: response,actions",e)(),"response"===t.N.tag(e)&&"action"===t.N.attr("type",e))if(Array.isArray(a)){var o=void 0,i=a.length;for(o=0;o<i;o++){var u=a[o],s=t.N.attr("id",u),l=parseInt(t.N.attr("code",u),10)||0;"item"===t.N.tag(u)&&s&&0!==l&&r.push({id:s,code:l})}}else"true"===t.N.attr("replaced",e)&&(r="replaced");n(r)}).catch(r)},n),onDrop:t.wrap(r),serverCacheable:!0},{debugString:"query,actions",metricName:"QUERY_ACTIONS",ackRequest:!1})})},recentEmojiQuery:function(e){var t=this;return new Promise(function(n,r){var a=Array.isArray(e)?e.map(function(e){return["item",{code:e.id,value:e.weight.toString()},void 0]}):void 0,o=t.queryNode({type:"emoji"},a);t.binSend("sendEphemeral",o,r,{onSend:t.binWrap(function(e){t.BinaryProtocol.read(e).then(function(e){var r=[],a=t.N.children(e);if(f.default.logColor("green","bin-recv: response,emoji",e)(),"response"===t.N.tag(e)&&"emoji"===t.N.attr("type",e)&&Array.isArray(a)){var o=void 0,i=a.length;for(o=0;o<i;o++){var u=a[o],s=t.N.attr("code",u),l=parseFloat(t.N.attr("value",u))||0;"item"===t.N.tag(u)&&s&&l&&!isNaN(l)&&r.push({id:s,weight:l})}}n(r)}).catch(r)},n),onDrop:t.wrap(r)},{debugString:"query,emoji",metricName:"QUERY_EMOJI",ackRequest:!1})})},removeParticipants:function(e,t){return this.setGroupParticipants("remove",e,t)},requestMediaReupload:function(e){var t=this;return new Promise(function(n,r){var a=e.id,o=t.queryNode({type:"media",index:a.id,jid:a.remote,owner:a.fromMe.toString(),participant:a.participant},void 0);t.binSend("sendEphemeral",o,r,{onSend:t.binWrap(function(e){t.BinaryProtocol.read(e).then(function(e){var r=void 0;if(f.default.logColor("green","bin-recv: response,media",e)(),"response"===t.N.tag(e)&&"media"===t.N.attr("type",e)){var a=parseInt(t.N.attr("code",e))||400,o=t.N.attr("url",e);a>=500&&502!==a?(f.default.error("wap:requestMediaReupload:error "+a)(),r={status:a}):200===a&&o?r={status:200,url:o,mediaKey:t.N.attr("media_key",e)}:200!==a||o?(f.default.error("wap:requestMediaReupload:error "+a)(),r={status:a}):r={status:400}}else f.default.error("wap:requestMediaReupload:malformed")(),r={status:400};n(r)}).catch(r)},n),onDrop:t.wrap(r)},{debugString:"query,media",metricName:"QUERY_MEDIA",ackRequest:!1})})},resyncMessages:function(e){var t=this;return new h.default(function(n,r){var a=e.map(function(e){var t={jid:e.wid,index:e.id,owner:e.fromMe,participant:e.participant,archive:(!!e.archive).toString(),spam:(!e.notSpam).toString(),old_jid:e.changeNumberOldJid,new_jid:e.changeNumberNewJid};return e.mute&&(t.mute=e.mute.toString()),g.default.isUser(e.wid)&&e.ephemeralDuration&&(t.ephemeral=e.ephemeralDuration.toString()),e.active&&(t.active="true"),g.default.isGroup(e.wid)&&(t.read_only=(!!e.isReadOnly).toString()),e.modifyTag&&(t.modify_tag=e.modifyTag.toString()),e.unreadCount&&(t.count=e.unreadCount.toString()),e.pin&&(t.pin=e.pin.toString()),["last",t,void 0]}),o=t.queryNode({type:"resume"},a);t.binSend("sendEphemeral",o,r,{onSend:t.binWrap(function(e){t.BinaryProtocol.read(e).then(function(e){var r=[],a=t.N.children(e);if(f.default.logColor("green","bin-recv: response,resume",e)(),"response"===t.N.tag(e)&&"resume"===t.N.attr("type",e)&&Array.isArray(a)){var o=void 0,i=a.length;for(o=0;o<i;o++){var u=t.parseChat(a[o]);u&&r.push(u)}}n({checksum:t.N.attr("checksum",e),statusChecksum:t.N.attr("status",e),labelsChecksum:t.N.attr("label",e),quickRepliesChecksum:t.N.attr("quick_reply",e),stickerPackChecksum:t.N.attr("sticker_pack",e),recentStickersChecksum:t.N.attr("recent_stickers",e),data:r})}).catch(r)},n),onDrop:t.wrap(r),serverCacheable:!0},{debugString:"query,resume",metricName:"QUERY_RESUME",ackRequest:!1})})},resyncReceipts:function(e){var t=this;return new Promise(function(n,r){var a=e.map(function(e){return["last",{jid:e.remote,index:e.id,owner:e.fromMe.toString(),participant:e.participant,t:e.t.toString(),pay_t:e.payT&&e.payT.toString()},void 0]}),o=t.queryNode({type:"receipt"},a);t.binSend("sendEphemeral",o,r,{onSend:t.binWrap(function(e){t.BinaryProtocol.read(e).then(function(e){var r=[],a=t.N.children(e);if(f.default.logColor("green","bin-recv: response,receipt",e)(),"response"===t.N.tag(e)&&"receipt"===t.N.attr("type",e)&&Array.isArray(a)){var o=void 0,i=void 0,u=void 0,s=a.length;for(o=0;o<s;o++){i=a[o],u=t.N.children(i);var l=t.N.attr("jid",i),c=t.N.attr("t",i),d=t.N.attr("pay_t",i);if("receipt"===t.N.tag(i)&&l&&(c||d)&&Array.isArray(u)){var p=void 0,h=[],m=[],b=u.length;for(p=0;p<b;p++){var g=u[p];if("item"===t.N.tag(g)){var v=t.N.attr("index",g),y="true"===t.N.attr("owner",g),_=parseInt(t.N.attr("status",g),10)||0,E=t.N.attr("participant",g);v&&0!==_&&_<=4&&h.push([v,y,E,_])}else if("message"===t.N.tag(g)){var j=t.parseMsgMessage(g);j&&m.push(j)}}h.length>0&&r.push({id:l,t:c&&parseInt(c,10),payT:d&&parseInt(d,10),acks:h,msgs:m})}}}n(r)}).catch(r)},n),onDrop:t.wrap(r),serverCacheable:!0},{debugString:"query,receipt",metricName:"QUERY_RECEIPT",ackRequest:!1})})},sendChatstateUpdate:function(e,t){var n=this;if(["composing","paused","recording"].includes(e))return new Promise(function(r,a){var o=r,i=n.actionNode("set",[["presence",{type:e,to:t},void 0]],!0);n.binSend("sendEphemeralIgnore",i,a,{onSend:o,onDrop:a,epochIneligible:!0},{debugString:"action,chatstate,"+e,metricName:"PRESENCE",skipOffline:!0,ackRequest:!1})})},sendConversationArchive:function(e,t,n){return this.sendConversationOpWithKey(t?"archive":"unarchive",e,n)},sendConversationClear:function(e,t,n){return this.sendConversationOpWithKey("clear",e,t,n)},sendConversationDelete:function(e,t){return this.sendConversationOpWithKey("delete",e,t)},sendConversationMute:function(e,t,n){var r=this;return new Promise(function(a,o){var i=t?t.toString():void 0,u=n?n.toString():void 0,s=r.actionNode("set",[["chat",{type:"mute",mute:i,previous:u,jid:e},void 0]]);r.binSend("send",s,o,{clientCacheable:!0,onSend:r.wrap(a),onDrop:r.wrap(o)},{debugString:"action,chat,"+e+", "+(i?"mute,"+i:"unmute"),metricName:"CHAT",ackRequest:!0})})},sendConversationNotSpam:function(e){return this.sendConversationOpWithKey("spam",e,void 0,!1)},sendConversationOpWithKey:function(e,t,n,r){var a=this;return new Promise(function(o,i){var u=void 0,s=void 0;switch(e){case"clear":u=(!!r).toString();break;case"spam":s=(!!r).toString()}var l=a.actionNode("set",[["chat",{type:e,jid:t,index:n?n.id:void 0,owner:n?n.fromMe.toString():void 0,participant:n?n.participant:void 0,star:void 0!==u?u:void 0,spam:void 0!==s?s:void 0},void 0]]);a.binSend("send",l,i,{clientCacheable:!0,onSend:a.wrap(o),onDrop:a.wrap(i)},{debugString:"action,chat,"+[e,n,r].join(),metricName:"CHAT",ackRequest:!0})})},sendConversationSeen:function(e,t,n){var r=this;return new Promise(function(a,o){var i=r.actionNode("set",[["read",{jid:e,index:t?t.id:void 0,owner:t?t.fromMe.toString():void 0,participant:t?t.participant:void 0,count:n&&t?n.toString():void 0},void 0]]);r.binSend("send",i,o,{clientCacheable:!0,onSend:r.wrap(a),onDrop:r.wrap(o)},{debugString:"action,chat,read,"+JSON.stringify(t)+","+n,metricName:"READ",ackRequest:!0})})},sendConversationUnseen:function(e,t){return this.sendConversationSeen(e,t,-2)},sendMedia:function(e){var t=this;return new Promise(function(n,r){var a=(0,o.default)(e);v.default.send({data:["query","sendMedia",a.url],onSend:t.wrap02(function(e){n((0,i.default)(a,e))}),onDrop:r})})},sendMessageDelete:function(e,t,n){var r=this;return new Promise(function(a,o){var i=t.map(function(e){return["item",{index:e.id,owner:e.fromMe.toString(),participant:e.participant},void 0]}),u=r.actionNode("set",[["chat",{type:"clear",jid:e,media:n.toString()},i]]);r.binSend("send",u,o,{clientCacheable:!0,onSend:r.wrap(a),onDrop:r.wrap(o)},{debugString:"action,msgs,delete,"+[e,n,t.length].join(),metricName:"CHAT",ackRequest:!0})})},sendMessagePlayed:function(e){var t=this;return new Promise(function(n,r){var a=t.wrap(n),o=t.actionNode("set",[["received",{type:"played",index:e.id,from:e.remote,participant:e.participant},void 0]]);t.binSend("send",o,r,{onSend:a,onDrop:t.wrap(r)},{debugString:"action,played,"+e.toString(),metricName:"RECEIVED",ackRequest:!0})})},sendMessageStarred:function(e,t,n){var r=this;return new Promise(function(a,o){var i=t.map(function(e){return["item",{index:e.id,owner:e.fromMe.toString(),participant:e.participant},void 0]}),u=r.actionNode("set",[["chat",{type:n?"star":"unstar",jid:e},i]]);r.binSend("send",u,o,{clientCacheable:!0,onSend:r.wrap(a),onDrop:r.wrap(o)},{debugString:"action,msgs,star,"+[e,n,t.length].join(),metrics:"CHAT",ackRequest:!0})})},sendPresenceUpdate:function(e){var t=this;if(["available","unavailable"].includes(e))return new Promise(function(n,r){var a="available"===e,o=t.actionNode("set",[["presence",{type:e},void 0]],!a),i=a?"sendEphemeral":"sendEphemeralIgnore";t.binSend(i,o,r,{onSend:a?t.wrap(n):n,onDrop:a?t.wrap(r):n,epochIneligible:!a},{debugString:"action,presence,"+e,metricName:"PRESENCE",available:"available"===e,ackRequest:a})})},sendSetBlock:function(e,t){var n=this;return new Promise(function(r,o){var i=t.map(function(e){return["user",{jid:e.jid},void 0]}),u=["block",{type:e?"add":"remove"},i],l=n.actionNode("set",[u]);n.binSend("send",l,o,{clientCacheable:!0,onSend:n.wrap(r),onDrop:n.wrap(o)},{debugString:"action,block,"+e+","+(0,a.default)(t,"jid").join(","),metricName:"BLOCK",ackRequest:!1,expires:(0,s.default)().unix()})})},sendSetPicture:function(e,t,n){var r=this;return new Promise(function(a,o){var i=b.default.parseDataURL(t).data,u=b.default.parseDataURL(n).data,c=l.default.decode(i),f=l.default.decode(u),d=v.default.tag(),p=r.wrap(a);p.tag=d;var h=["picture",{id:d,jid:e,type:"set"},[["image",void 0,f],["preview",void 0,c]]],m=r.actionNode("set",[h]);r.binSend("send",m,o,{clientCacheable:!0,onSend:p,onDrop:r.wrap(o)},{debugString:"action,set_pic,"+e,metricName:"PIC",ackRequest:!1,expires:(0,s.default)().unix()})})},sendSetStatus:function(e){var t=this;return new Promise(function(n,r){var a=t.wrap(n),o=t.actionNode("set",[["status",void 0,e]]);t.binSend("send",o,r,{clientCacheable:!0,onSend:a,onDrop:t.wrap(r)},{debugString:"action,status,set",metricName:"STATUS",ackRequest:!1,expires:(0,s.default)().unix()})})},sendSpamReport:function(e){var t=this;return new Promise(function(n,r){var a=t.actionNode("set",[["spam",{jid:e},void 0]]);t.binSend("send",a,r,{onSend:t.wrap(n),onDrop:t.wrap(r)},{debugString:"action,spam,"+e,metricName:"SPAM",ackRequest:!1,expires:(0,s.default)().unix()})})},sendUnstarAll:function(e){var t=this;return new Promise(function(n,r){var a=t.actionNode("set",[["chat",{type:"unstar",jid:e||void 0},void 0]]);t.binSend("send",a,r,{clientCacheable:!0,onSend:t.binWrap(n,n),onDrop:t.wrap(r)},{debugString:"action,unstar,all,"+e,metrics:"CHAT",ackRequest:!0,expires:(0,s.default)().unix()})})},setGroupParticipants:function(e,t,n){var r=this;return new Promise(function(a,o){var i=v.default.tag(),u=r.wrap(a),l=n.map(function(e){return["participant",{jid:e},void 0]}),f=["group",{id:i,jid:t,type:e,author:c.default.me},l],d=r.actionNode("set",[f]);r.binSend("send",d,o,{tag:i,clientCacheable:!0,onSend:u,onDrop:r.wrap(o)},{debugString:["action,group,participant",e,t].concat(n).join(),metricName:"GROUP",ackRequest:!1,expires:(0,s.default)().unix()})})},setPushname:function(e){var t=this;return new Promise(function(n,r){var a=t.actionNode("set",[["profile",{name:e},void 0]]);t.binSend("send",a,r,{onSend:t.binWrap(n,n),onDrop:t.wrap(r)},{debugString:"action,pushname",metricName:"PROFILE",ackRequest:!1})})}};e.exports=(0,r.default)(E,_)},ehjcaiibe:function(e,t){e.exports={"-total-search-height":"62px",totalSearchHeight:"62px","-scrollbar-width":"6px",scrollbarWidth:"6px","-windows-scrollbar-width":"8px",windowsScrollbarWidth:"8px","-section-bottom-margin":"12px",sectionBottomMargin:"12px","-title-height":"27px",titleHeight:"27px",container:"_1mJO-",title:"_2lKjK"}},eifaagjjg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediaEntryList=t.MediaEntry=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=d(n("hgjcbccfg")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cajijabhgb")),i=d(n("ecbacgcajj")),u=d(n("bdiiahhjbe")),s=d(n("ecdjdjeihf")),l=d(n("cadedacjj")),c=d(n("ibdgibccg")),f=d(n("dfjfejdjjh"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var h={PROBABLY_ON_SERVER:"PROBABLY_ON_SERVER",PROBABLY_OFF_SERVER:"PROBABLY_OFF_SERVER",UNKNOWN:"UNKNOWN"},m=t.MediaEntry=function(){function e(t,n,r,a,o,i,u,s){p(this,e),this.useBackupUrl=!1,this._uploadHashPromise=null,this.mmsUrl=t,this.mediaKey=n,this.mediaKeyTimestamp=r,this.uploadHash=a,this.serverStatus=h.UNKNOWN,this.sidecar=i,this.directPath=u,this.firstFrameSidecar=s,this.type=o}return r(e,[{key:"getUploadHash",value:function(){var e=this;if(this._uploadHashPromise)return this._uploadHashPromise;if(this.uploadHash)return this._uploadHashPromise=Promise.resolve(this.uploadHash);var t=f.default.headRetry(this.mmsUrl).then(function(t){if(200!==t.status)throw e.serverStatus=h.PROBABLY_OFF_SERVER,new o.MediaNeedsReupload;var n=t.getResponseHeader("X-WA-Metadata"),r=/\bfilehash=([A-Za-z0-9+\/]+=?=?)(?:;|$)/.exec(n||"");if(r)return e.serverStatus=h.PROBABLY_ON_SERVER,e.uploadHash=r[1];throw u.default.assert(!1,"wa-metadata-header-missing",`HEAD ${e.mmsUrl} got ${t.status} (header=${n})`)(),e.serverStatus=h.PROBABLY_OFF_SERVER,new o.MediaNeedsReupload});return t.catch(function(){e._uploadHashPromise=null}),this._uploadHashPromise=t}},{key:"url",value:function(e){var t=this,n=e||{},r=n.useFallback,a=n.forceHashUrl,o=this.uploadHash;if(!o)throw new Error("encFilehash is required");return s.default.getHostsInfo({operation:l.default.DOWNLOAD,encFilehash:o,type:this.type}).then(function(e){var n=e.auth,u=e.selectedHost,s=e.fallbackHost,l=r&&s?s:u;return(0,i.default)({auth:n,directPath:a?null:t.directPath,encFilehash:o,hostname:l.hostname,type:t.type})})}},{key:"markWhetherOnServer",value:function(e){this.serverStatus=e?h.PROBABLY_ON_SERVER:h.PROBABLY_OFF_SERVER}}]),e}();t.MediaEntryList=function(){function e(){p(this,e),this.entries=[]}return r(e,[{key:"_findEntry",value:function(e){return this.entries.find(function(t){return t.mmsUrl===e})}},{key:"_updateEntry",value:function(e,t,n,r,o,i,s,l){n&&!a.default.equal(n,e.mediaKey)&&u.default.assert(!1,"media-fault: mismatched decryption key")(),r&&(u.default.assert(!e.uploadHash||a.default.equal(e.uploadHash,r),"media-fault: same entry has multiple upload hashes")(),e.uploadHash=r),i&&(e.sidecar=i),l&&(e.firstFrameSidecar=l),!s&&e.directPath&&(e.directPath=null)}},{key:"updateEntry",value:function(e,t,n,r,a,o,i){var u=this._findEntry(e);if(u)return this._updateEntry(u,e,t,n,r,a,o,i),u}},{key:"addEntry",value:function(e,t,n,r,a,o,i,u){var s=this.entries,l=this._findEntry(e);if(l)return this._updateEntry(l,e,t,r,a,o,i,u),l;if(!t)return null;var c=new m(e,t,n,r,a,o,i,u);return s.push(c),c}},{key:"knowsUrl",value:function(e){return!!this.getEntryFromUrl(e)}},{key:"getEntryFromUrl",value:function(e){for(var t=this.entries,n=0;n<t.length;n++)if(t[n].mmsUrl===e)return t[n];return null}},{key:"getUploadEntry",value:function(){return b(this),this.entries.find(function(e){return(0,c.default)(e.mediaKeyTimestamp)})||null}},{key:"getDownloadEntry",value:function(){b(this);var e=this.entries[0];return e&&e.serverStatus!==h.PROBABLY_OFF_SERVER?e:null}}]),e}();function b(e){e.entries.sort(function(e,t){var n=g(t)-g(e);return 0===n?t.mediaKeyTimestamp-e.mediaKeyTimestamp:n})}function g(e){var t=0;switch(e.serverStatus){case h.PROBABLY_ON_SERVER:t+=200;break;case h.PROBABLY_OFF_SERVER:break;case h.UNKNOWN:t+=100}return e.uploadHash?t+=20:e._uploadHashPromise&&(t+=10),t}},eigdejjai:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MsgInfoCollection=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=d(n("cgcgbfbffj")),o=d(n("bdhgicebce")),i=n("cjggfjjegd"),u=n("fcaefbfaf"),s=d(n("cffajefeag")),l=d(n("bhggeigghg")),c=n("eaaehfdjdg"),f=d(c);function d(e){return e&&e.__esModule?e:{default:e}}var p=t.MsgInfoCollection=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"_initializeStaleCollection",value:function(){var e=this;this.listenTo(f.default,"change:stream",function(){f.default.stream===c.STREAM.DISCONNECTED&&e.forEach(function(e){e.settled||e.set("stale",!0)})})}},{key:"_find",value:function(e){var t=l.default.Msg.get(e);return t?t.isSentByMe?(0,i.sendQueryMsgInfo)(t):Promise.reject("message not sent by me"):Promise.reject(`No message found for id: ${e}`)}},{key:"updateInfo",value:function(e,t,n,r,a,o){var i=new s.default({from:t,to:n,id:e,participant:a}),l=new s.default({from:t,to:n,id:e}),c=this.get(i)||this.get(l);if(c)return(0,u.updateMsgInfo)(c,r,a,o)}}]),t}();p.model=o.default,p.staleCollection=!0,t.default=new p},eighdgacb:function(e,t){e.exports={revoked:"pST37",last:"_1Wn_k"}},eihchghee:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendCreateGroup=function(e,t,n,i,u,s){var l=void 0;if(a.default.supportsFeature(a.default.F.MD_BACKEND))return Promise.reject(new Error("queryGroupInvite: not supported when not build with MD_BACKEND"));l=o.default.createGroup(e,t,n,i,u,s).then(function(e){return 200===e.status?e:Promise.reject(new r.ServerStatusCodeError(e.status))});return l};var r=n("ddjgcfjicj"),a=i(n("bjbdcigbdi")),o=i(n("bihdhbjih"));function i(e){return e&&e.__esModule?e:{default:e}}},eihefeaje:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParticipantsList=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("bjdfbiahbi")),i=l(n("eceadcicaf")),u=l(n("ceddibdhdb")),s=l(n("ihfccfgdf"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p="sort remove reset add",h=function(e){function t(e){c(this,t);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onParticipantsUpdate=function(){n.recalculateParticipantsTimer.debounce(100)},n.recalculateParticipantsTimer=new u.default(function(){n.setState({participants:g(n.props.groupMetadata.participants)})});var r=e.listeners,a=e.groupMetadata.participants;return n.state={participants:g(a)},r.add(a,p,n.onParticipantsUpdate),n}return d(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.ensureParticipantsSorted()}},{key:"componentDidUpdate",value:function(e){this.ensureParticipantsSorted();var t=e.groupMetadata.participants,n=this.props.groupMetadata.participants;if(n!==t){var r=this.props.listeners;r.remove(t,p,this.onParticipantsUpdate),r.add(n,p,this.onParticipantsUpdate),this.recalculateParticipantsTimer.cancel(),this.setState({participants:g(n)})}}},{key:"componentWillUnmount",value:function(){this.recalculateParticipantsTimer.cancel()}},{key:"ensureParticipantsSorted",value:function(){this.props.groupMetadata.participants.ensureSorted()}},{key:"render",value:function(){var e=this.props.overridingText||this.state.participants.join(l10n.t(421))||this.props.placeholder;return e?a.createElement(o.default,{text:e,location:this.props.location}):null}}]),t}();h.CONCERNS={groupMetadata:["participants"]},h.displayName="ParticipantsListClass";var m=t.ParticipantsList=(0,i.default)((0,s.default)(h,h.CONCERNS)),b=function(e){function t(){return c(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.presence.withholdDisplay?e.placeholder:e.presence.getFormattedString();return a.createElement(m,{groupMetadata:e.groupMetadata,overridingText:t,placeholder:e.placeholder,location:e.location})}}]),t}();function g(e){return e.map(function(e){return e.contact.formattedShortNameWithNonBreakingSpaces})}b.CONCERNS={chatstate:["id","type","deny","t"],groupMetadata:["announce","participants"],presence:["forceDisplay","withholdDisplay"]},b.displayName="GroupSubtitle",t.default=(0,s.default)(b,b.CONCERNS)},eiiicijcj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=f(n("bbchdeehff")),i=f(n("baagejbchg")),u=f(n("biddiiafgd")),s=f(n("fffdgbfji")),l=f(n("bdiiahhjbe")),c=f(n("ihfccfgdf"));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props.msg.type,t=void 0,n=void 0;switch(e){case i.default.MSG_TYPE.VIDEO:this.props.msg.isGif?(t=s.default.t(736),n=s.default.t(735)):(t=s.default.t(746),n=s.default.t(745));break;case i.default.MSG_TYPE.AUDIO:t=s.default.t(730),n=s.default.t(729);break;case i.default.MSG_TYPE.IMAGE:t=s.default.t(741),n=s.default.t(740);break;case i.default.MSG_TYPE.DOCUMENT:t=s.default.t(733),n=s.default.t(732);break;case i.default.MSG_TYPE.STICKER:t=s.default.t(743),n=s.default.t(742);break;default:t=s.default.t(738),l.default.assert(!1,"MediaMissingModal: unexpected message type",`type: ${e}`)()}return a.createElement(u.default,{title:t,onOK:function(){o.default.closeModal()},okText:s.default.t(1287)},n)}}]),t}();d.CONCERNS={msg:["type","isGif"]},d.displayName="MediaMissingModal",t.default=(0,c.default)(d,d.CONCERNS)},ejdjhbacj:function(e,t){e.exports={container:"_3qPa0",section:"_2vOyW",sectionWide:"_2RCUQ",control:"_3231I",label:"lz4Mo",disabled:"_26EsD",select:"Fzl83"}},ejeehdija:function(e,t){e.exports={container:"MCTeI",body:"_3BYwr",imageContainer:"BIM-V",lazyLoadRetry:"_2Zvyc",defaultIcon:"_3tZTj"}},ejegihaeh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CatalogCollection=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},o=c(n("cgcgbfbffj")),i=c(n("eciicfcjdi")),u=n("eaibdijehg"),s=n("hjbbdjjdf"),l=n("dcbdjheea");function c(e){return e&&e.__esModule?e:{default:e}}var f=t.CatalogCollection=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"addMsgAsproduct",value:function(e){var n=e.businessOwnerJid&&(0,l.createWid)(e.businessOwnerJid);if(n){var r=this.get(n),o=r&&e.productId&&r.msgProductCollection.get(e.productId),i=r&&e.productId&&r.productCollection.get(e.productId);if(!(i&&i.t&&i.t>=e.t||o&&o.fetchedFromServer)){var u={id:e.productId,url:e.url,name:e.title,description:e.description,imageCdnUrl:{rawUrl:e.mediaData.renderableUrl},catalogWid:n,reviewStatus:"",currency:e.currencyCode,priceAmount1000:e.priceAmount1000,retailerId:e.retailerId,productMsgMediaData:e.mediaData,imageCount:null!=e.productImageCount&&0!==e.productImageCount?e.productImageCount:1,fetchedFromServer:!1,t:e.t};return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,{id:n,afterCursor:void 0,_msgs:[u],stale:!0,fetchedFromServer:!!i},{merge:!0})}}}},{key:"_queryProduct",value:function(e,n){var r=this;return(0,u.queryProduct)(e,n).then(function(n){if(!n.data)return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",r).call(r,{id:e,afterCursor:void 0});var o=n.data;if(!o.image_cdn_urls||o.image_cdn_urls[0].value.includes("https://static.whatsapp.net"))return Promise.reject(new Error(`CatalogCollection:findProduct:_queryProduct ${o.image_cdn_urls?"Product image contains static image":"Could not find image_cdn_urls for product"}`));var i=[{id:o.id,url:o.url,name:o.name,description:o.description,additionalImageCdnUrl:o.additional_image_cdn_urls.map(function(e){return{rawUrl:e[1].value}}),imageCdnUrl:{rawUrl:o.image_cdn_urls[1].value},catalogWid:e,reviewStatus:o.capability_to_review_status.length&&o.capability_to_review_status[0].value,currency:o.currency,priceAmount1000:null==o.price?null:10*o.price,retailerId:o.retailer_id,productMsgMediaData:null,imageCount:o.additional_image_cdn_urls.length+1,fetchedFromServer:!0,t:Date.now()/1e3}];return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",r).call(r,{id:e,afterCursor:void 0,_products:i,_msgs:i},{merge:!0})})}},{key:"findProduct",value:function(e,t){return t?this._queryProduct(e,t):Promise.reject(new Error(`CatalogCollection:findProduct Received productId type ${void 0===t?"undefined":"null"}`))}},{key:"_queryCatalog",value:function(e,t,n){var r=e?e.index:0;return(0,u.queryCatalog)(t,n,10).then(function(e){if(!e.data.length)return{id:t,afterCursor:void 0};var n=[];return e.data.forEach(function(e,a){e.image_cdn_urls&&!e.image_cdn_urls[0].value.includes("https://static.whatsapp.net")&&n.push({id:e.id,url:e.url,name:e.name,description:e.description,additionalImageCdnUrl:e.additional_image_cdn_urls.map(function(e){return{rawUrl:e[1].value}}),imageCdnUrl:{rawUrl:e.image_cdn_urls[1].value},catalogWid:t,reviewStatus:e.capability_to_review_status.length?e.capability_to_review_status[0].value:null,currency:e.currency,priceAmount1000:null==e.price?null:10*e.price,retailerId:e.retailer_id,productMsgMediaData:null,imageCount:e.additional_image_cdn_urls.length+1,fetchedFromServer:!0,t:Date.now()/1e3,old:!1,index:r+a})}),{id:t,afterCursor:e.paging.cursors.after,_products:n,fetchedFromServer:!0,index:r+n.length}})}},{key:"_findQuery",value:function(e){var t=this.get(e),n=t&&!t.stale?t.afterCursor:void 0;return this._queryCatalog(t,e,n)}},{key:"_find",value:function(e){return this._findQuery(e)}},{key:"findCarouselCatalog",value:function(e){var n=this,r=this.get(e),o=(0,s.isString)(e)?(0,l.createWid)(e):e;return r&&r.set({index:0}),this._queryCatalog(r,o,void 0).then(function(e){return r&&r.markProductCollectionOld(),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",n).call(n,e,{merge:!0})})}}]),t}();f.model=i.default,f.staleCollection=!0,t.default=new f},ejeidfcga:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("dbgdaechch"),i=s(o),u=s(n("ddchcbhaia"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.chat,n=e.onSelectMessages;return a.createElement(i.default,{type:"dropdown_menu",key:"BroadcastMenuDropdown",flipOnRTL:!0,dirX:o.DirX.LEFT},u.default.broadcast(t,n))}}]),t}();l.displayName="BroadcastMenuDropdown",t.default=l},ejiicdbii:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BusinessProfileCollection=void 0;var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=p(n("cgcgbfbffj")),i=n("defecifdhg"),u=p(i),s=n("bfgacchdii"),l=n("bechdajic"),c=p(n("ejegihaeh")),f=p(n("dhigahgdjb")),d=p(n("bdiiahhjbe"));function p(e){return e&&e.__esModule?e:{default:e}}var h=t.BusinessProfileCollection=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),a(t,[{key:"parseBusinessHours",value:function(e){var t=e.config,n={};return t.forEach(function(e){var t=e.day_of_week,r=e.mode;if(r===l.BUSINESS_HOUR_MODES.SPECIFIC_HOURS){var a=e.open_time,o=e.close_time;n[t]||(n[t]={mode:r,hours:[]}),null!=a&&null!=o&&n[t].hours&&n[t].hours.push([a,o])}else n[t]={mode:r}}),{config:n}}},{key:"_find",value:function(e){var t=this,n=this.gadd(e);return(0,s.queryBusinessProfile)([{wid:n.id,tag:n.tag}]).then(function(n){if(!Array.isArray(n))return d.default.error("Received invalid business profile response")(n),null;if(0===n.length)return d.default.info(`Store:BusinessProfile:find No businessProfile found for ${String(e)}`)(),{id:e};var r=n[0],a={id:r.wid,tag:r.tag},o=r.profile;if(o){var u=o.business_hours,s=o.catalog_status,l=o.structured_address;u&&(o.business_hours=void 0,o.businessHours=t.parseBusinessHours(u)),s&&"catalog_exists"===s&&(o.catalog_status=void 0,o.catalogStatus=s,c.default.findCarouselCatalog(e).then(function(t){var n=Array.isArray(t)?t[0]:t;f.default.assertGet(e).businessCatalog=n}).catch(function(e){return d.default.warn("Store:BusinessProfile:missing catalog")(e)})),l&&(o.structured_address=void 0,o.structuredAddress={streetAddress:l.street_address,cityId:l.city_id,localizedCityName:l.localized_city_name,zipCode:l.zip_code}),Object.assign(a,i.DEFAULTS,o)}return a})}},{key:"onResume",value:function(){var e=this;this.filter(function(e){return e.stale&&e.hasObservers()}).map(function(t){return e.find(t.id)})}},{key:"handle",value:function(e){var t=r(e,1)[0];t&&null!=t.tag||d.default.error("Store:BusinessProfile:handle Received invalid update from server")(t);var n=this.gadd(t.wid);t.tag!==n.tag&&n.markStale()}}]),t}();h.model=u.default,h.staleCollection=!0,t.default=new h},fabajdgab:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.getImageWidthHeight=function(e){return L(function(t){t(e);var n=void 0;return new Promise(function(t,r){(n=new Image).onload=t,n.onabort=function(){r(new Error("getImageWidthHeight onabort"))},n.onerror=function(){r(new Error("getImageWidthHeight onerror"))},n.src=e.url()}).then(function(){return{width:n.naturalWidth,height:n.naturalHeight}})})},t.getImageWidthHeightNoOpaque=A,t.opaqueDataToArrayBuffer=function(e){return L(function(t){t(e);var n=e._blob;if(n)return N(n);var r=e._b64;return o.default.decode(r)})},t.decodeWebpToRGBANoOpaque=k,t.parseWebpNoOpaque=I,t.videoWidthHeightDuration=R,t.processRawImage=function(e){var t=e.forceToBlob();return p.default.rotateAndResize(t,S.default.imageMaxEdge,p.default.BLOB|p.default.CANVAS).then(function(e){var t=e.width,n=e.height,r=e.images,a=r.blob,o=r.canvas;return p.default.rotateAndResize(o,i.default.IMG_THUMB_MAX_EDGE,p.default.DATA_URL).then(function(e){var r=e.images.dataUrl;return{blob:a,width:t,height:n,preview:w.default.parseDataURL(r).data}})})},t.processRawAudioVideo=function(e,t,n,a,o,u){var s=e.forceToBlob();return m.default.checkAndRepair(s,!!a).then(function(e){if(!e)return h.default.error(`processRawAudioVideo bad video file ${s.type}`)(s),Promise.reject(new c.InvalidMediaFileType);var u=e.type,l=e.file,d=a||e.isGif;switch((0,f.typeFromMimetype)(u)){case f.FILETYPE.VIDEO:if(t)return h.default.assert(!1,"media-fault: ptt became video")(),Promise.reject(new c.InvalidMediaFileType);var m={type:v.OUTWARD_TYPES.VIDEO,mediaBlob:l,mimetype:u,isGif:d,gifAttribution:d?o||0:void 0};return n&&null!=n.duration&&null!=n.fullHeight&&0!==n.fullHeight&&null!=n.fullWidth&&0!==n.fullWidth&&n.preview?Promise.resolve(r({},m,{fullWidth:n.fullWidth,fullHeight:n.fullHeight,preview:n.preview,duration:n.duration.toString()})):p.default.generateVideoThumbAndDuration(l,i.default.IMG_THUMB_MAX_EDGE).then(function(e){var t=e.thumb,n=e.duration;return r({},m,{fullWidth:t.fullWidth,fullHeight:t.fullHeight,preview:w.default.parseDataURL(t.url).data,duration:n.toString()})});case f.FILETYPE.AUDIO:return(n&&null!=n.duration?Promise.resolve(n.duration):(0,f.getAudioDuration)(l)).then(function(e){return{type:t?v.OUTWARD_TYPES.PTT:v.OUTWARD_TYPES.AUDIO,mediaBlob:l,mimetype:u,duration:e.toString()}});default:throw h.default.assert(!1,"media-fault: audio/video became other")(),new Error(`audio/video became ${u}`)}})},t.processRawDocument=function(e,t){var n=e.forceToBlob(),r=n.type,o=n.name||t||void 0;o=(0,b.cleanFilename)(o);var i=void 0;if(r){if("*"!==_.default.DOC_MIMES&&!_.default.DOC_MIMES.includes(r))return Promise.reject(new c.InvalidMediaFileType(`disallowed mimetype ${r}`));i=Promise.resolve(r)}else i=N(n).then(function(e){var t=(0,a.default)(new Uint8Array(e,0,Math.min(262,e.byteLength)));if(t&&t.mime){var r=_.default.isAllowedDocumentMimetype(t.mime,o,!0);if(r)return r}else if(o){var i=(0,f.getMimeTypeForFilepath)(o);if(i)return i}return Promise.reject(new c.InvalidMediaFileType(`type: ${String(n.type)} name: ${String(o)}`))});return i.then(function(e){return l.enrich(n,e).then(function(t){return{type:v.OUTWARD_TYPES.DOCUMENT,mediaBlob:n,mimetype:e,filename:o||void 0,documentPreview:t,preview:t&&w.default.parseDataURL(t.thumbUrl).data,pageCount:t&&t.pdfPages}})})},t.fetchMedia=function(e){return O.getResponseIfOnline(e,"GET",null,M.default.RESP_TYPE.ARRAY_BUFFER).then(function(e){return e?Promise.resolve({result:e.response,status:e.status}):Promise.resolve(null)})},t.canPlayOgg=function(){return!!g.default.canPlayOgg},t.gatherAndSetMetadata=function(e,t){t.retain();var n=Promise.resolve().then(function(){t.autoreleaseWhenPromiseCompletes(n);var r,a,o=void 0;switch(e.type){case v.TYPE.VIDEO:o=R(t).then(function(e){return{mediaBlob:t,renderableUrl:t.url(),fullWidth:e.width,fullHeight:e.height,duration:void 0!==e.duration?`${Math.ceil(e.duration)}`:void 0,durationFloat:e.duration}});break;case v.TYPE.AUDIO:o=(r=t,L(function(e){return e(r),g.default.transcode(r.forceToBlob(),a).then(function(e){return E.default.createFromData(e,e.type)}).then(function(t){return e(t),t.autorelease(),t})})).then(function(e){return e.retain(),e.autoreleaseWhenPromiseCompletes(n),{mediaBlob:e,renderableUrl:e.url()}});break;default:e.type!==v.TYPE.IMAGE&&e.type!==v.TYPE.STICKER||h.default.assert(!1,"Entering gatherAndSetMetadata (with OpaqueData) unexpectedly",`object type: ${e.type||""}`)(),o=Promise.resolve({mediaBlob:t,renderableUrl:t.url()})}return o.catch(c.MediaUnsupportedError,function(){e.consolidate({mediaBlob:t,renderableUrl:t.url()})}),o}).then(function(t){e.consolidate(t)});return n},t.gatherAndSetMetadataNoOpaque=function(e,t){return Promise.resolve().then(function(){switch(e.type){case v.TYPE.IMAGE:return null!=e.contentInfo.fullHeight&&null!=e.contentInfo.fullWidth&&e.size===t.size?null:A(t).then(function(e){return{fullWidth:e.width,fullHeight:e.height,size:t.size}});case v.TYPE.STICKER:return(0,s.default)().then(function(e){return e?Promise.props({widthHeight:A(t),webpData:I(t)}).then(function(e){return{fullWidth:e.widthHeight.width,fullHeight:e.widthHeight.height,animationDuration:e.webpData.animationDuration,firstFrameLength:e.webpData.firstFrameLength,isAnimated:e.webpData.animationDuration>0,size:t.size}}):I(t).then(function(e){var n=e.animationDuration,r=e.firstFrameLength;return n>0?{animationDuration:n,firstFrameLength:r,isAnimated:!0,size:t.size}:k(t).then(function(e){return{animationDuration:n,rgbaBuffer:e.rgbaBuffer,rgbaWidth:e.width,rgbaHeight:e.height,size:t.size}})})});case v.TYPE.AUDIO:default:return{}}}).catch(c.MediaUnsupportedError,function(t){throw e.consolidate({}),t}).then(function(t){null!=t&&e.consolidate(t)})},t.shouldUseMediaCache=function(e){return e===y.default.STICKER||e===y.default.IMAGE||e===y.default.PRODUCT||e===y.default.PTT||e===y.default.AUDIO},t.shouldUseLruMediaStore=function(e){return d.default.supportsFeature(d.default.F.LRU_MEDIA_STORE)&&(e===y.default.STICKER||e===y.default.IMAGE)&&P.default.getRememberMe()};var a=T(n("ddeicfhhch")),o=T(n("hgjcbccfg")),i=T(n("baagejbchg")),u=T(n("bffbhdadij")),s=T(n("dcaiaeaebb")),l=C(n("dhgbabghaf")),c=C(n("cajijabhgb")),f=n("cgffhfegce"),d=T(n("bjbdcigbdi")),p=T(n("dgjacfgggf")),h=T(n("bdiiahhjbe")),m=T(n("jahgaeib")),b=n("bffjfbgbg"),g=T(n("baffhfhhda")),v=n("daichdjff"),y=T(n("gbjefdbgb")),_=T(n("behbjhhbg")),E=T(n("beeieigghj")),j=T(n("dbjchhfjhj")),O=C(n("ebggjhghhi")),S=T(n("bfgbdiffgd")),w=T(n("edbaidcaf")),P=T(n("egjjcjcg")),M=T(n("bjieiiccce"));function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e){return e&&e.__esModule?e:{default:e}}function A(e){return new Promise(function(t,n){var r=new Image,a=window.URL.createObjectURL(e);r.onload=function(){var e={width:r.naturalWidth,height:r.naturalHeight};window.URL.revokeObjectURL(a),t(e)},r.onabort=function(){window.URL.revokeObjectURL(a),n(new Error("getImageWidthHeight onabort"))},r.onerror=function(){window.URL.revokeObjectURL(a),n(new Error("getImageWidthHeight onerror"))},r.src=a})}function N(e){return(0,f.blobToArrayBuffer)(e).catch(function(e){throw h.default.error(`MediaUtils error: ${e}`)(e),e})}function k(e){return N(e).then(function(e){return(0,u.default)(e)})}function I(e){return N(e).then(j.default)}function R(e){return L(function(t){return t(e),g.default.videoWidthHeightDuration(e.forceToBlob())})}function L(e){var t=[];return Promise.callSynchronously(e,null,function(e){e.retain(),t.push(e)}).finally(function(){for(var e=0;e<t.length;e++)t[e].autorelease()})}},fabjefgai:function(e,t){e.exports={icon:"_1ZMSM",archived:"_2WwbV"}},faeabghda:function(e,t){e.exports={container:"jkZx4"}},faeabjacf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,u,c,f){var d=e.msg,p=e.date,h=e.unread,m=e.album,b=[],g=0,v=void 0;for(g=0;!v&&g<t.length;g++)v=t[g];g--;var y=!1,_=!1,E=v?(0,o.default)(v):0,j=0,O=g;for(;v;){_||b.push(p(v,j++)),v===u&&h&&b.push(h(c));for(var S=void 0,w=g+1;!S&&w<t.length;w++)S=t[w];var P=void 0,M=void 0,C=void 0,T=[],A=!1,N=void 0,k=!1,I=null;if(i.default.supportsFeature(i.default.F.GROUPED_STICKERS)&&v.isValidGroupedSticker&&!s(v,f)){T.push(v),k=v===n,I=0;var R=t[O=g+1];R&&R.isValidGroupedSticker&&(0,r.canBeGroupedAsAlbum)(v,R)&&R!==u&&!s(R,f)&&(T.push(R),S=t[O+1],A=!0,N=!0,R===n&&(k=!0,I=1))}if(i.default.supportsFeature(i.default.F.ALBUMS)&&v.isValidAlbumAsset&&!s(v,f)){T.push(v);var L=v,D=void 0;for(k=v===n,O=g;O<t.length-1&&T.length<a.default.ALBUM_MAX_SIZE&&(L=t[O],(D=t[O+1])&&D.isValidAlbumAsset&&(0,r.canBeGroupedAsAlbum)(L,D)&&D!==u&&!s(D,f));O++)T.push(D),D===n&&(k=!0);T.length>=a.default.ALBUM_MIN_SIZE&&(A=!0,N=!1,S=t[O+1])}if(S?(C=(0,o.default)(S),P=(M=C===E)&&(0,r.canBeGroupedWithNext)(v,S)&&S!==u):(P=!1,M=!1,C=0),A){var x=void 0;x=N?T.reduce(function(e,t){return`${e}-${t.id.toString()}`},"grouped-sticker-"):l(T),b.push(m(T,x,y,P,k,I)),v=t[g=O+1],y=P,_=M,E=C}else b.push(d(v,v===n,y,P)),g++,y=P,_=M,E=C,v=S}return b};var r=n("dejbbcaghh"),a=u(n("baagejbchg")),o=u(n("cdagfedaaf")),i=u(n("bjbdcigbdi"));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return null==t||e.t>t.t}function l(e){var t=e.length;return`album-${e[0]?e[0].id.toString():""}-${e[t-1]?e[t-1].id.toString():""}-${t}`}},faeadiehh:function(e,t){e.exports={hasText:"_2U4vq",noText:"_30g2M",quote:"bXSaQ",hasAuthor:"_2VXAV",forwarded:"_3ZlHZ"}},fagbfehid:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StickerPackCollection=t.PAGE_FETCH_STATE=t.PAGE_SIZE=void 0;var r=f(n("dfacahcafg")),a=f(n("ccjgiajgj")),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=f(n("cgcgbfbffj")),s=f(n("bdiiahhjbe")),l=f(n("cdaedfafjc")),c=f(n("bihdhbjih"));function f(e){return e&&e.__esModule?e:{default:e}}var d=t.PAGE_SIZE=9,p=t.PAGE_FETCH_STATE={PENDING:"PENDING",SUCCESS:"SUCCESS",ERROR:"ERROR"},h=t.StickerPackCollection=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.checksum=null,e._pageFetchPromises={},e.pageFetchStates={},e._handleChecksumChange=function(t){Object.keys(e.pageFetchStates).forEach(function(t){return e._resetFetchPageStateAndPromise(parseInt(t,10))}),e._resetRangeWithPlaceholders(0,e.length),e.fetchAt(0,!1,!0)},e.listenTo(e,"change:checksum",e._handleChecksumChange),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),i(t,[{key:"createPlaceholder",value:function(e){return t.createPlaceholder(e)}},{key:"fetchAt",value:function(e,t,n){this._fetchPageWithIndex(e,Boolean(t),Boolean(n))}},{key:"hasFetchedData",value:function(){var e=this;return Object.keys(this.pageFetchStates).some(function(t){return e.pageFetchStates[parseInt(t,10)]===p.SUCCESS})}},{key:"isFetchingData",value:function(){var e=this;return Object.keys(this.pageFetchStates).some(function(t){return e.pageFetchStates[parseInt(t,10)]===p.PENDING})}},{key:"pageWithIndex",value:function(e){return t.pageWithIndex(e)}},{key:"reset",value:function(){var e=this;return this.setChecksum(null,{silent:!0}),Object.keys(this.pageFetchStates).forEach(function(t){return e._resetFetchPageStateAndPromise(parseInt(t,10))}),function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"reset",this).call(this)}},{key:"sync",value:function(e){this.setChecksum(e)}},{key:"setChecksum",value:function(e,t){return this.checksum!==e&&(this.checksum=e,t&&t.silent||this.trigger("change:checksum",e),!0)}},{key:"_fetchPageWithIndex",value:function(e,t,n){var r=this.pageWithIndex(e);return this._fetchPage(r,t,n)}},{key:"_fetchPage",value:function(e,t,n){var r=this,a=this.pageFetchStates[e],o=void 0;if(t&&a!==p.PENDING&&(o=this._pageFetchPromises[e])&&(o.cancel(),delete this._pageFetchPromises[e]),o=this._pageFetchPromises[e])return o;var i=this.length;return this._insertPagePlaceholders(e),this._setFetchPageState(e,p.PENDING),this._pageFetchPromises[e]=c.default.queryStickerPacks(e,d).cancellable().then(function(t){var a=r._parseStickerPacksRes(e,t),o=n||r.setChecksum(t.checksum,{silent:!0}),u=(e-1)*d,s=(e+0)*d;r._resetRange(u,s,a),o&&(r._resetRangeWithPlaceholders(0,u),r._resetRangeWithPlaceholders(Math.min(u+a.length,s),t.count));var l=r.length;i!==l&&r.trigger("change:length",l),r._setFetchPageState(e,p.SUCCESS)}).catch(function(t){if(t instanceof Promise.CancellationError)return s.default.log("StickerPack page fetch promise cancelled: "+e)(),void r._unsetFetchPageStateAndPromise(e);r._setFetchPageState(e,p.ERROR)}),this._pageFetchPromises[e]}},{key:"_insertPagePlaceholders",value:function(e){var t=e-1;this._resetRangeWithPlaceholders(t*d,(t+1)*d)}},{key:"_parseStickerPacksRes",value:function(e,t){if(200!==t.status||!t.data)throw new Error("sticker packs query error");return t.data.map(function(t,n){return o({},(0,a.default)(t,["id","mimetype","name","url","mediaKey","filehash","directPath"]),{uploadhash:t.encFilehash,page:e,index:(e-1)*d+n})})}},{key:"_resetRangeWithPlaceholders",value:function(e,n){this._resetRange(e,n,(0,r.default)(n-e,function(n){return t.createPlaceholder(e+n)}))}},{key:"_resetRange",value:function(e,t,n){var r=this;this._forEachInRange(e,t,function(t,a){var o=n[a-e];if(t)if(o)t.id===o.id?(r.remove(t,{silent:!0}),r.add(o)):(r.remove(t),r.add(o));else for(var i=t;i;)r.remove(i),i=r.at(a);else o&&r.add(o)})}},{key:"_forEachInRange",value:function(e,t,n){for(var r=e;r<t;r++){n(this.at(r),r)}}},{key:"_resetFetchPageStateAndPromise",value:function(e){e in this.pageFetchStates&&(this.pageFetchStates[e]===p.PENDING?this._pageFetchPromises[e].cancel():this._unsetFetchPageStateAndPromise(e))}},{key:"_setFetchPageState",value:function(e,t){this.pageFetchStates[e]!==t&&(this.pageFetchStates[e]=t,this.trigger("change:pageFetchStates",e,t))}},{key:"_unsetFetchPageState",value:function(e){e in this.pageFetchStates&&(delete this.pageFetchStates[e],this.trigger("change:pageFetchStates",e))}},{key:"_unsetFetchPageStateAndPromise",value:function(e){delete this._pageFetchPromises[e],this._unsetFetchPageState(e)}}]),t}();h.model=l.default,h.comparator=function(e,t){return e.index<t.index?-1:e.index>t.index?1:0},h.createPlaceholder=function(e){return l.default.createPlaceholder({index:e,page:this.pageWithIndex(e)})},h.pageWithIndex=function(e){return Math.floor(e/d)+1},t.default=new h},fahgabfbb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=n("eagfdbhhhh");function o(e){var t=e.children,n=e.selectable;return r.createElement(a.SelectableCode,{selectable:n,appTextTemplate:"```${appText}```"},t)}o.displayName="Code",o.defaultProps={children:""},t.default=o},fbdhjahjj:function(e,t){e.exports={animation:"_3XqhJ","play-ltr":"_1GxgH",playLtr:"_1GxgH","play-rtl":"bB2Q8",playRtl:"bB2Q8",version:"_357v7"}},fcaefbfaf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateMsgInfo=function(e,t,n,r){a.default.supportsFeature(a.default.F.MD_BACKEND);return function(e,t,n,r){var a=e.id;if(!i.default.isUser(a.remote)){if(t!==s.RECEIVED){var o=e.delivery.get(n);o&&e.delivery.remove(o)}if(t!==s.READ){var u=e.read.get(n);u&&e.read.remove(u)}if(t!==s.PLAYED){var l=e.played.get(n);l&&e.played.remove(l)}}t===s.PLAYED?(e.played.get(n)||(e.playedRemaining-=1),e.played.add({id:n,t:r})):t===s.READ?(e.delivery.get(n)||(e.readRemaining-=1),e.read.add({id:n,t:r})):t===s.RECEIVED&&(e.delivery.get(n)||(e.deliveryRemaining-=1),e.delivery.add({id:n,t:r}))}((0,o.unproxy)(e),t,n,r)};var r=u(n("baagejbchg")),a=u(n("bjbdcigbdi")),o=n("bheafeifce"),i=u(n("jccfhaecf"));function u(e){return e&&e.__esModule?e:{default:e}}var s=r.default.ACK},fccahhfch:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=j(n("iabebjcej")),i=j(n("dbdfbgehgj")),u=j(n("bbchdeehff")),s=j(n("baagejbchg")),l=j(n("biddiiafgd")),c=j(n("dhigahgdjb")),f=j(n("diegbjcafg")),d=j(n("fifhbjiec")),p=n("bidfjbaebi"),h=j(n("dgjddffcfg")),m=j(n("bhcdbgbbad")),b=j(n("gbgcehdj")),g=j(n("ihfccfgdf")),v=n("bheafeifce"),y=j(n("bfdcadbbif")),_=j(n("jccfhaecf")),E=j(n("djbfhebjhe"));function j(e){return e&&e.__esModule?e:{default:e}}var O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props.msg,t=void 0,n=void 0,r=void 0,g=void 0;switch(e.type){case s.default.MSG_TYPE.NOTIFICATION:n=e.body;break;case s.default.MSG_TYPE.GP2:case s.default.MSG_TYPE.GROUP_NOTIFICATION:return a.createElement(m.default,{msg:e,clickable:!0});case s.default.MSG_TYPE.BROADCAST_NOTIFICATION:return a.createElement(o.default,{msg:e,clickable:!0});case s.default.MSG_TYPE.E2E_NOTIFICATION:n=h.default.formatE2ENotification((0,v.unproxy)(e));var j=e.subtype,O=e.body,S=e.id.remote;g=function(){!function(e,t,n){u.default.openModal(a.createElement(f.default,{e2eSubtype:e,jid:t,chatId:n}))}(j,O,S)},t=a.createElement("div",{className:b.default.iconE2E},a.createElement(y.default,{name:"lock-small"}));break;case s.default.MSG_TYPE.CALL_LOG:t="miss_video"===e.subtype||"miss_group_video"===e.subtype?a.createElement(y.default,{name:"miss_video"}):a.createElement(y.default,{name:"miss"}),t=a.createElement("div",{className:b.default.icon},t),n=h.default.formatCallLog((0,v.unproxy)(e),!0);break;case s.default.MSG_TYPE.NOTIFICATION_TEMPLATE:if("change_number"===e.subtype){var w=e.templateParams[0],P=e.templateParams[1],M=c.default.get(w),C=M&&M.isMyContact?M.formattedName:(0,E.default)(w),T=_.default.equals(e.chat.id,w);n=T?l10n.t(277,{name:C}):l10n.t(275,{name:C}),T&&(g=function(){return function(e){var t=i.default.gadd(e);u.default.openChatFromUnread(t).then(function(e){e&&u.default.focusChatTextInput(t)})}(P)})}else if(n=h.default.formatNotificationTemplateText((0,v.unproxy)(e)),r=h.default.formatNotificationTemplateOnClickText((0,v.unproxy)(e))){var A=h.default.notificationTemplateFAQ(e.subtype);g=function(){!function(e,t){var n;n=a.createElement("a",{target:"_blank",href:"#",onClick:function(e){e.preventDefault(),u.default.closeModal("none"),setTimeout(function(){return(0,p.openExternalLink)(t)},10)}},l10n.t(622));var r=a.createElement(l.default,{onOK:function(){return u.default.closeModal()},okText:l10n.t(1287)},e,"  ",n);u.default.openModal(r)}(r,A)}}}var N=a.createElement("span",null,t,a.createElement(d.default,{direction:l10n.isRTL()?"rtl":"ltr",text:n}));return g?a.createElement("div",{role:"button",onClick:g},N):a.createElement("span",null,N)}}]),t}();O.CONCERNS={contact:["isEnterprise","verifiedLevel","verifiedName"],msg:["id","body","chat","type","subtype","templateParams"]},O.displayName="Notification",t.default=(0,g.default)(O,O.CONCERNS)},fcedgihic:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n("cccehdaiaf")),i=u(n("bdiiahhjbe"));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n.parent&&(r.parent=n.parent);var a=r.constructor,o=a.model,i=a.comparator;if(!o)throw new Error("Collection initialized without model!");return r.modelClass=o,i&&(r._comparator=i),r._reset(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),a(t,[{key:"add",value:function(e,t){var n=void 0;return n=Array.isArray(e)?e.slice():e?[e]:[],this.set(n,r({merge:!1,add:!0,remove:!1},t))}},{key:"set",value:function(e,t){if(!e)return i.default.error("collection:set called with no models")(),[];for(var n=r({add:!0,remove:!0,merge:!0},t),a=void 0,o=void 0,u=void 0,s=void 0,l=this._comparator&&!1!==n.sort,c=[],f=[],d={},p=n.add,h=n.merge,m=n.remove,b=null!=n.at?n.at:void 0,g=!(l||!p||!m)&&[],v=0,y=e.length;v<y;v++)if(s=e[v],this.isModel(s)&&(o=s),a=s.id){if(u=this.get(a))m&&(d[u.id.toString()]=!0),h&&(s=o&&s===o?o.attributes:s,u.set(s,n)),e[v]=u;else if(p){if(!(o=e[v]=this._prepareModel(s,n)))continue;c.push(o),this._addReference(o)}(o=u||o)&&(!g||o.id&&d[o.id.toString()]||g.push(o),d[o.id.toString()]=!0)}else i.default.error("collection:set model has no id")();if(m){for(var _=0,E=this.length;_<E;_++)d[(o=this._models[_]).id.toString()]||f.push(o);f.length&&this.remove(f,n)}var j,O=void 0;if(c.length||g&&g.length)if(l&&(O=!0),"number"==typeof b)(j=this._models).splice.apply(j,[b,0].concat(c));else for(var S=g||c,w=0,P=S.length;w<P;w++)this._models.push(S[w]);if(O&&this.sort({silent:!0}),!n.silent){for(var M=0,C=c.length;M<C;M++)(o=c[M]).trigger?o.trigger("add",o,this,n):this.trigger("add",o,this,n);(O||g&&g.length)&&this.trigger("sort",this,n)}return e}},{key:"remove",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=void 0,r=void 0,a=void 0,o=void 0,i=Array.isArray(e)?e.slice():[e],u=[],s=0,l=i.length;s<l;s++)(o=i[s])&&(a=o instanceof this.modelClass?o.id:o,(n=u[s]=this.get(a))&&(this._deIndex(n),r=this._models.indexOf(n),this._models.splice(r,1),t.silent||(t.index=r,n.trigger?n.trigger("remove",n,this,t):this.trigger("remove",n,this,t)),this._removeReference(n)));return u}},{key:"reset",value:function(){for(var e=0,t=this._models.length;e<t;e++)this._removeReference(this._models[e]);this._reset(),this.trigger("reset",this)}},{key:"sort",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this._comparator)throw new Error("Cannot sort without comparator");return this._models.sort(this._comparator.bind(this)),e.silent||this.trigger("sort",this,e),this}},{key:"replaceId",value:function(e,t){var n=this.get(e);n&&(this._removeFromIndex(e),n.set({id:t}),this._addIndex(n))}},{key:"get",value:function(e){return this._index[e]}},{key:"assertGet",value:function(e){var t=this._index[e];return t||i.default.assert(!1,"Collection:assertGet no result")(),t}},{key:"at",value:function(e){return this._models[e]}},{key:"serialize",value:function(){return this.map(function(e){return e.toJSON()})}},{key:"toJSON",value:function(){return this.serialize()}},{key:"isModel",value:function(e){return e instanceof this.modelClass}},{key:"includes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 0===t?e instanceof this.modelClass&&null!=this.get(e.id):this._models.includes(e,t)}},{key:"indexOf",value:function(e,t){return this._models.indexOf(e,t)}},{key:"lastIndexOf",value:function(e,t){return this._models.lastIndexOf(e,t)}},{key:"every",value:function(e){return this._models.every(e)}},{key:"some",value:function(e){return this._models.some(e)}},{key:"forEach",value:function(e){this._models.forEach(e)}},{key:"map",value:function(e){return this._models.map(e)}},{key:"filter",value:function(e){return this._models.filter(e)}},{key:"reduce",value:function(e,t){return this._models.reduce(e,t)}},{key:"slice",value:function(e,t){return this._models.slice(e,t)}},{key:"where",value:function(e){return this.filter(function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})}},{key:"head",value:function(){return this._models[0]}},{key:"last",value:function(){return this._models[this._models.length-1]}},{key:"toArray",value:function(){return this._models.slice()}},{key:"getModelsArray",value:function(){return this._models}},{key:"_reset",value:function(){this._models=[],this._index={}}},{key:"_prepareModel",value:function(e,t){if(this.isModel(e))return e.collection||(e.collection=this),e;var n=r({},t,{collection:this});try{return new this.modelClass(e,n)}catch(e){return void i.default.error("collection:_prepareModel exception: ",e.stack)()}}},{key:"_addReference",value:function(e){this._addIndex(e),e.collection||(e.collection=this),e.on&&e.on("all",this._onModelEvent,this)}},{key:"_removeReference",value:function(e){this===e.collection&&delete e.collection,this._deIndex(e),e.off&&e.off("all",this._onModelEvent,this)}},{key:"_addIndex",value:function(e){this._index[e.id]=e}},{key:"_deIndex",value:function(e){delete this._index[e.id]}},{key:"_removeFromIndex",value:function(e){this.get(e)&&delete this._index[e]}},{key:"_onModelEvent",value:function(e,t,n,r){var a=e.indexOf(":"),o=-1===a?e:e.slice(0,a);("add"!==o&&"remove"!==o||n===this)&&("destroy"===o&&this.remove(t,r),this.trigger.apply(this,arguments))}},{key:"length",get:function(){return this._models.length}},{key:"isCollection",get:function(){return!0}},{key:"models",get:function(){return this._models}}]),t}();t.default=s},fcfchiagj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("dcaifjegcg"),o=b(a),i=b(n("baagejbchg")),u=b(n("bjigbaghc")),s=b(n("dhigahgdjb")),l=n("ddjgcfjicj"),c=b(n("bjbdcigbdi")),f=b(n("bdiiahhjbe")),d=b(n("dfhgffbdig")),p=b(n("dhhbbaegif")),h=b(n("bihdhbjih")),m=b(n("jccfhaecf"));function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.participants=(0,a.collection)(d.default),r.pendingParticipants=(0,a.collection)(p.default),r.id=(0,a.prop)(),r.creation=(0,a.prop)(),r.owner=(0,a.prop)(),r.desc=(0,a.prop)(),r.descId=(0,a.prop)(),r.descTime=(0,a.prop)(),r.descOwner=(0,a.prop)(),r.restrict=(0,a.prop)(),r.announce=(0,a.prop)(),r.noFrequentlyForwarded=(0,a.prop)(),r.ephemeralDuration=(0,a.prop)(),r.size=(0,a.prop)(),r.stale=(0,a.session)(!0),r.trusted=(0,a.session)(!0),r.inviteCode=(0,a.session)(),r.groupInviteCodePromise=(0,a.session)(),r.revokeGroupInvitePromise=(0,a.session)(),r.revokeGroupV4AddInvitePromise=(0,a.session)(),r.groupInviteLink=(0,a.derived)(r._groupInviteLink,["inviteCode"]),g(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"_groupInviteLink",value:function(){return this.inviteCode?`${i.default.GROUP_INVITE_LINK_URL}${this.inviteCode}`:null}},{key:"delete",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),this.getCollection().remove(this.id),this.participants.delete()}},{key:"canSetSubject",value:function(){return!!this.participants.iAmMember()&&(!!this.participants.iAmAdmin()||(!c.default.supportsFeature(c.default.F.GROUPS_V_3)||!0!==this.restrict))}},{key:"canSetDescription",value:function(){return!!c.default.supportsFeature(c.default.F.GROUPS_V_3)&&!(!this.participants.iAmMember()||!this.participants.iAmAdmin()&&this.restrict)}},{key:"canSetGroupProperty",value:function(){return!!c.default.supportsFeature(c.default.F.GROUPS_V_3)&&!!this.participants.iAmAdmin()}},{key:"initialize",value:function(){o.default.prototype.initialize.call(this),this.listenTo(this.participants,"change:isAdmin change:isSuperAdmin change:contact.isMyContact sort remove reset",this.isTrusted),this.listenTo(this.participants,"add remove reset",this.triggerParticipantsChange),this.listenTo(this,"change:owner",this.isTrusted),this.isTrusted()}},{key:"triggerParticipantsChange",value:function(){this.trigger("change:participants")}},{key:"isTrusted",value:function(){if(this.stale)return this.trusted;if(!this.owner)return this.trusted=!1;if(m.default.equals(this.owner,u.default.me))return this.trusted=!0;var e=s.default.get(this.owner);if(e&&e.isMyContact)return this.trusted=!0;for(var t=this.participants.toArray(),n=0,r=t.length;n<r;++n){var a=t[n];if(a.isAdmin&&(!m.default.equals(a.id,u.default.me)&&a.contact.isMyContact))return this.trusted=!0}return this.trusted=!1}},{key:"revokeGroupV4AddInvite",value:function(e){var t=this;if(this.revokeGroupV4AddInvitePromise)return this.revokeGroupV4AddInvitePromise;var n=this.id.toString(),r=u.default.me.toString(),a=this.pendingParticipants;return this.revokeGroupV4AddInvitePromise=h.default.revokeGroupV4Invite(e,n,r).then(function(t){return t.status>=200&&t.status<300&&a.remove(e),t.status}).catch(function(e){f.default.error("models:groupMetadata:participantCollection:revokeGroupV4AddInvite failed")(e)}).finally(function(){t.revokeGroupV4AddInvitePromise=null})}},{key:"queryGroupV4PendingInvite",value:function(){var e=this,t=u.default.me.toString(),n=this.id.toString();return h.default.findGroupPendingInvitesFromPhone(t,n).then(function(t){e.collection&&e.collection.add({id:e.id,pendingParticipants:t.participants},{merge:!0})}).catch(l.WapDrop,function(){})}},{key:"getCollection",value:function(){return n("djaadchjch")}}]),t}();v.Proxy="groupMetadata",v.idClass=m.default,t.default=(0,a.defineModel)(v)},fchcjedjf:function(e,t){e.exports={input:"_3FeAD",placeholder:"wjdTm",body:"_3u328",default:"_2YgjU",compose:"_1PRhq",large:"_3jJ43",status:"_2nW8k",media:"_1pSqv",invite:"_2uNpC",small:"_3HUPQ"}},fciifhbdb:function(e,t){e.exports={pane:"_1_keJ",selectable:"_2AqZl",empty:"_3-kxx",incoming:"_3KRbU",ffFix:"_3sLGI",unread:"_1KNhm"}},fdacbigid:function(e,t){e.exports={icon:"_12oog",success:"_2M6IA",failed:"_2r4oW",waiting:"_3w6Ie",processing:"_3Nk46",iconSymbol:"_1kHkF",IDR:"jRxbn",idr:"jRxbn",compact:"_2CmmA"}},fdcfhecbj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=i(n("ceffhbhahb")),o=i(n("cjjjgbhjif"));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){return r.createElement("div",{className:(0,a.default)(o.default.icon,{[o.default.transparent]:e.theme&&"transparent"===e.theme})},e.children)}u.displayName="RoundIcon"},fdghiidhc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("cgijjjgici");Object.defineProperty(t,"AbortError",{enumerable:!0,get:function(){return s(r).default}});var a=n("cdadhagibj");Object.defineProperty(t,"HttpInvalidResponseError",{enumerable:!0,get:function(){return s(a).default}});var o=n("cddgaecgia");Object.defineProperty(t,"HttpNetworkError",{enumerable:!0,get:function(){return s(o).default}});var i=n("iiegbbgja");Object.defineProperty(t,"HttpStatusCodeError",{enumerable:!0,get:function(){return s(i).default}});var u=n("bciccjdabc");function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"HttpTimedOutError",{enumerable:!0,get:function(){return s(u).default}})},fdhajffgc:function(e,t,n){e.exports=function(){return new Worker(n.p+"opus.e06560b40e7d25668bb8.js")}},feacbgeaf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=function(e){return(0,i.default)(e,{[u.default.AUDIO]:function(){return"WhatsApp Audio Keys"},[u.default.DOCUMENT]:function(){return"WhatsApp Document Keys"},[u.default.GIF]:function(){return"WhatsApp Video Keys"},[u.default.IMAGE]:function(){return"WhatsApp Image Keys"},[u.default.PPIC]:function(){throw new Error("Cannot create media keys for profile pics")},[u.default.PRODUCT]:function(){return"WhatsApp Image Keys"},[u.default.PTT]:function(){return"WhatsApp Audio Keys"},[u.default.STICKER]:function(){return"WhatsApp Image Keys"},[u.default.VIDEO]:function(){return"WhatsApp Video Keys"},[u.default.TEMPLATE]:function(){return"WhatsApp Template Keys"}})}(e);if(!t||!n)throw new r.MediaEncryptionError(`createKeys fail: !!mediakey: ${!!t} info: ${n} type: ${e}`);return o.default.extractAndExpand(a.default.decode(t),n,112).then(function(e){if(!e||e.byteLength<112)throw new r.MediaEncryptionError("computeMediaKeys: hkdf error");return{iv:e.slice(0,16),encKey:e.slice(16,48),macKey:e.slice(48,80),refKey:e.slice(80,112)}})};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cajijabhgb")),a=s(n("hgjcbccfg")),o=s(n("bbccjbfjfe")),i=s(n("cgabfhdfbj")),u=s(n("gbjefdbgb"));function s(e){return e&&e.__esModule?e:{default:e}}},febicjijd:function(e,t){e.exports={panelContainer:"_3LFRS"}},fehbggfdh:function(e,t){e.exports={textInput:"_7w-84",labelText:"_1wt6r",hideFloatingLabel:"_3vTVM",float:"_2orhV",spacer:"_3Xs1j",noPlaceholder:"_-3Ijj",wrapper:"_3hnO5",locked:"_3K9Sw",textError:"oCQ29",errorText:"_3q759",textActive:"_3Hgym",iconMainContainer:"_2xHOS",iconsEditContainer:"_3F9q9",invite:"_1N6NG",emojiBtn:"_2asZk",charCounter:"_3Yulp",iconMain:"_30prC",iconSpinner:"_3CfRk",infoStrip:"_3YmEG",inputLarge:"_2daOi",active:"_5UNoc",emptyValPlaceholder:"_1be_K",more:"_3THW4",emojiText:"_5KVVe",groupInfoName:"_1jo6p",small:"liawM"}},ffchhcfdj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Messaging=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=m(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=m(n("cfaiaibca")),u=m(n("bbchdeehff")),s=m(n("baagejbchg")),l=m(n("biddiiafgd")),c=m(n("daiaacfgce")),f=m(n("djhbegbdaf")),d=m(n("chcadgfgad")),p=m(n("bfdcadbbif")),h=m(n("bcjcbbafcj"));function m(e){return e&&e.__esModule?e:{default:e}}t.Messaging={NOTIFICATIONS:"NOTIFICATIONS",CAMERA_FAIL:"CAMERA_FAIL",CAMERA_MISSING:"CAMERA_MISSING",MIC_FAIL:"MIC_FAIL",MIC_MISSING:"MIC_MISSING",CAMERA:"CAMERA",MIC:"MIC"};var b={GUIDE_ALLOW:"guide-allow",GUIDE_UNBLOCK:"guide-unblock",GUIDE_NONE:"guide-none"},g={CHROME_MEDIA_ERROR:"chrome_media_error",FIREFOX_LOCK:"firefox_lock",OPERA_MEDIA:"opera_media"},v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.onCancel,r=e.onConfirm,u=e.messaging,f=o.createElement(_,{messaging:u});if(t===b.GUIDE_ALLOW){var m=void 0;switch(h.default.browser){case s.default.BROWSER_TYPE.CHROME:case s.default.BROWSER_TYPE.FIREFOX:m=c.default.topLeft;break;case s.default.BROWSER_TYPE.EDGE:m=c.default.bottomCenter;break;default:m=c.default.topCenter}return o.createElement(d.default,{type:"guide"},o.createElement("div",{className:(0,a.default)(c.default.containerAllow,m)},o.createElement("div",{className:c.default.icon},o.createElement(p.default,{name:"back-light"})),o.createElement("div",{className:c.default.title},o.createElement(y,{messaging:u})),o.createElement("div",{className:c.default.description},f),o.createElement("div",{className:c.default.controls},o.createElement(i.default,{onClick:r,type:"primary"},l10n.t(862)))))}return o.createElement(l.default,{title:o.createElement(y,{messaging:u}),onOK:r,okText:l10n.t(862),onCancel:n,cancelText:n?l10n.t(622):void 0},o.createElement("div",{className:c.default.description},f))}}]),t}();function y(e){var t=e.messaging;switch(t){case"NOTIFICATIONS":return o.createElement(f.default,{id:585});case"CAMERA_FAIL":return o.createElement(f.default,{id:571});case"CAMERA_MISSING":return o.createElement(f.default,{id:570});case"MIC_MISSING":return o.createElement(f.default,{id:580});case"CAMERA":return o.createElement(f.default,{id:571});case"MIC_FAIL":case"MIC":return o.createElement(f.default,{id:581});default:throw new Error(`Invalid messaging: ${t}`)}}function _(e){var t=e.messaging,n=h.default.browser,r={[g.CHROME_MEDIA_ERROR]:o.createElement("span",{className:"chrome-media-icon"}),[g.FIREFOX_LOCK]:o.createElement("span",{className:"firefox-lock-icon"}),[g.OPERA_MEDIA]:o.createElement("span",{className:"opera-media-icon"})};switch(t){case"NOTIFICATIONS":return"edge"===n?o.createElement(f.default,{id:583,params:r}):"firefox"===n?o.createElement(f.default,{id:584,params:r}):o.createElement(f.default,{id:582,params:r});case"CAMERA_FAIL":return"edge"===n?o.createElement(f.default,{id:565,params:r}):"firefox"===n?o.createElement(f.default,{id:566,params:r}):"safari"===n?o.createElement(f.default,{id:568,params:r}):"opera"===n?o.createElement(f.default,{id:567,params:r}):o.createElement(f.default,{id:564,params:r});case"CAMERA_MISSING":return o.createElement(f.default,{id:569,params:r});case"MIC_FAIL":return"edge"===n?o.createElement(f.default,{id:575,params:r}):"firefox"===n?o.createElement(f.default,{id:576,params:r}):"safari"===n?o.createElement(f.default,{id:578,params:r}):"opera"===n?o.createElement(f.default,{id:577,params:r}):o.createElement(f.default,{id:574,params:r});case"MIC_MISSING":return o.createElement(f.default,{id:579,params:r});case"CAMERA":return"edge"===n?o.createElement(f.default,{id:563,params:r}):o.createElement(f.default,{id:562,params:r});case"MIC":return"edge"===n?o.createElement(f.default,{id:573,params:r}):o.createElement(f.default,{id:572,params:r});default:throw new Error(`Invalid messaging type: ${t}`)}}v.TYPE=b,v.defaultProps={type:b.GUIDE_NONE,onConfirm:function(){return u.default.closeModal()}},v.displayName="GuidePopup",t.default=v},ffebdchi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("dgijhbdidg");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}})},ffgjgcghi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatusV3GifController=t.StatusV3CountdownController=void 0;var r=l(n("bebajedcaf")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.setupStatusV3Controller=function(e,t){if(e){if(e.type===u.default.TYPE.IMAGE){var n=f;return(0,r.default)(t.caption)||(n+=d*Math.min(t.caption.length/150,1)),new m(n)}return e.type===u.default.TYPE.VIDEO?t.isGif?new v:new s.default:new m(p)}if(t.type===o.default.MSG_TYPE.CHAT){var a=h+60*Math.min(t.body.length,1e3);return new m(a)}return new m(p)};var o=l(n("baagejbchg")),i=l(n("bdiiahhjbe")),u=l(n("bffjfbgbg")),s=l(n("deijdcaadj"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=4500,d=2e3,p=3e3,h=2e3,m=t.StatusV3CountdownController=function(){function e(t){var n=this;c(this,e),this.addListeners=function(e,t,r){n._onStart=e,n._onPause=t,n._onEnded=r},this.removeListeners=function(){n._onStart=void 0,n._onPause=void 0,n._onEnded=void 0},this.play=function(){if(n._timer)i.default.info("Duplicate timer start")();else{n._timer=setTimeout(n._onTimeup,n._timeout),n._start=(new Date).getTime();var e=n._onStart;e&&e(n._timeout,n._duration)}},this.stop=function(){if(n._timer){clearTimeout(n._timer),n._timer=null;var e=(new Date).getTime();n._timeout-=e-n._start;var t=n._onPause;t&&t()}else i.default.info("Timer stop called on stopped timer")()},this.resume=function(){n.play()},this.pause=function(){n.stop()},this._onTimeup=function(){var e=n._onEnded;e&&e()},this._duration=t,this._timeout=this._duration,this._start=0}return a(e,[{key:"duration",get:function(){return this._duration}}]),e}(),b=6e3,g=3,v=t.StatusV3GifController=function(){function e(){var t=this;c(this,e),this.removeListeners=function(){t._onStart=void 0,t._onPause=void 0,t._onEnded=void 0,t._videoController.removeListeners(),t._countdownController.removeListeners()},this.setVideo=function(e,n){t._video=e,null!=n&&(t._duration=n),t._videoController.setVideo(e)},this._onVideoStartHandler=function(){var e=t._onStart,n=t._video.duration||t._duration,r=Math.max(g*n*1e3,b);e&&e(r-1e3*n*t._playCounter-1e3*t._video.currentTime,r)},this._onVideoPauseHandler=function(){var e=t._onPause;e&&e()},this._onVideoEndedHandler=function(){t._playCounter++;var e=t._onEnded;t._playCounter===g&&(t._videoEnded=!0,t._timerEnded&&e&&e()),t._video.currentTime=0,t._videoEnded&&t._timerEnded||setTimeout(function(){t._videoController.play()},0)},this._onTimerEndedHandler=function(){var e=t._onEnded;t._timerEnded=!0,e&&t._videoEnded&&e()},this.play=function(){t._videoController.play(),t._countdownController.play()},this.stop=function(){t._videoController.stop(),t._countdownController.stop()},this.resume=function(){t._videoController.resume(),t._countdownController.resume()},this.pause=function(){t._videoController.pause(),t._countdownController.pause()},this._playCounter=0,this._timerEnded=!1,this._videoEnded=!1,this._videoController=new s.default,this._countdownController=new m(b),this._videoController.addListeners(this._onVideoStartHandler,this._onVideoPauseHandler,this._onVideoEndedHandler),this._countdownController.addListeners(void 0,void 0,this._onTimerEndedHandler)}return a(e,[{key:"addListeners",value:function(e,t,n){this._onStart=e,this._onPause=t,this._onEnded=n}},{key:"duration",get:function(){return Math.max(g*(this._video.duration||this._duration)*1e3,b)}}]),e}()},ffhghhcgf:function(e,t){e.exports={bubble:"_2Zgm-",hasAuthor:"_7U2w9",forwardedIndicator:"_1EYt6",hasQuote:"nINd1",meta:"J26d7",bubbleOut:"_2R63d",bubbleIn:"_2g0bm",body:"_1-4qJ",player:"wJW7M",avatar:"TMd-Z",status:"_3l9hL",author:"_11ZKc",isForwarded:"qJm9j",quote:"_1PNK0",isGallery:"asmex"}},ffhhggjcj:function(e,t){e.exports={container:"_3Durm",preview:"Q5IMh",caption:"_2_Q45",img:"_1lU4-"}},fgeddfbg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MMSThrottleError=t.MMSForbiddenError=t.MMSUnauthorizedError=t.MediaInvalidError=t.MediaTooLargeError=t.MediaNotFoundError=t.HttpStatusCodeError=t.HttpInvalidResponseError=t.HttpNetworkError=t.AbortError=t.NoMediaHostsError=void 0;var r=n("beifdajhid");Object.defineProperty(t,"NoMediaHostsError",{enumerable:!0,get:function(){return r.NoMediaHostsError}});var a=n("fdghiidhc");function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"AbortError",{enumerable:!0,get:function(){return a.AbortError}}),Object.defineProperty(t,"HttpNetworkError",{enumerable:!0,get:function(){return a.HttpNetworkError}}),Object.defineProperty(t,"HttpInvalidResponseError",{enumerable:!0,get:function(){return a.HttpInvalidResponseError}}),Object.defineProperty(t,"HttpStatusCodeError",{enumerable:!0,get:function(){return a.HttpStatusCodeError}});t.MediaNotFoundError=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,404,e,n));return r.name="MediaNotFoundError",r}return u(t,a.HttpStatusCodeError),t}(),t.MediaTooLargeError=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,413,e,n));return r.name="MediaTooLargeError",r}return u(t,a.HttpStatusCodeError),t}(),t.MediaInvalidError=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,415,e,n));return r.name="MediaInvalidError",r}return u(t,a.HttpStatusCodeError),t}(),t.MMSUnauthorizedError=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,401,e,n));return r.name="MMSUnauthorizedError",r}return u(t,a.HttpStatusCodeError),t}(),t.MMSForbiddenError=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,403,e,n));return r.name="MMSForbiddenError",r}return u(t,a.HttpStatusCodeError),t}(),t.MMSThrottleError=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,507,e,n));return r.name="MMSThrottleError",r}return u(t,a.HttpStatusCodeError),t}()},fgiejiccg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildResponsePayload=function(e,t){return{__id:e,__command:u.RESPONSE_COMMAND,__result:t}},t.unwrapResponsePayload=function(e){if(null!=e&&e.__command===u.RESPONSE_COMMAND){(0,o.default)(null!=e.__id,"Invocation ID missing");var t=(0,i.extractInvocationId)(e.__id);(0,o.default)(null!=t&&e.hasOwnProperty("__result"),"Malformed response message");var n=e,r=n.__result;return{result:r,invocationId:t}}};var r,a=n("cgeeeeddea"),o=(r=a)&&r.__esModule?r:{default:r},i=n("dbcbifhbge"),u=n("cejbjjbged")},fhdffdech:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.fullPreview,n=e.fullPreviewSize,s=e.pdfPages,l=e.mimeType,c=e.filename;if(t&&n&&null!=s&&s>0){var f=l10n.t(188,{count:s,_plural:s});return r.createElement("div",{className:o.default.container,"data-js-attach-preview":!0},r.createElement("div",{className:o.default.preview},r.createElement(u.default,{type:i.FIT_TYPE.SCALE_DOWN,size:n},r.createElement("img",{src:t,className:o.default.img}))),r.createElement("div",{className:o.default.caption},f))}return r.createElement(a.default,{mimeType:l,filename:c})};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=s(n("becegcbegb")),o=s(n("ffhhggjcj")),i=n("dgfecega"),u=s(i);function s(e){return e&&e.__esModule?e:{default:e}}},fibdihid:function(e,t){e.exports={container:"_1ikwU",status:"YDD6v",caption:"_3IJiH",linkPreview:"BWe1v",expired:"_3D6Pq",noCaption:"_2tpON",meta:"_1SFZJ"}},fidbefhib:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=y(n("bffbahfgga")),i=y(n("bbchdeehff")),u=y(n("baagejbchg")),s=y(n("biddiiafgd")),l=y(n("dhfbfehaef")),c=y(n("fffdgbfji")),f=n("bbjjjbicfb"),d=n("bijffg"),p=y(d),h=n("bddhdheedf"),m=n("icghcjegh"),b=y(n("bfbggcdbfb")),g=y(n("becfabjeeg")),v=y(n("hfhhcchgj"));function y(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.labelModel=null,n.onOk=function(){(0,h.logLabelOperationEvent)(b.default.LABEL_OPERATIONS.CLICK_POSITIVE,1,n.props.onAddLabel?b.default.LABEL_TARGETS.ADD_LABEL_DIALOG:b.default.LABEL_TARGETS.EDIT_LABEL_DIALOG);var e=n.state,t=e.labelName,r=e.labelColor;if(!e.labelNameError){var a=t&&t.trim(),o=n.validateLabelName(a||"");o.passed?(n.props.labelId&&n.props.onUpdateLabel?n.props.onUpdateLabel({id:n.props.labelId,color:r,name:t},d.LABEL_PROPERTIES.NAME):n.props.onAddLabel&&n.props.onAddLabel(t||"",r),n.props.onCancel?n.props.onCancel():i.default.closeModal()):n.setState({labelNameError:o.error})}},n.onCancel=function(){(0,h.logLabelOperationEvent)(b.default.LABEL_OPERATIONS.CLICK_NEGATIVE,1,n.props.onAddLabel?b.default.LABEL_TARGETS.ADD_LABEL_DIALOG:b.default.LABEL_TARGETS.EDIT_LABEL_DIALOG),n.props.onCancel?n.props.onCancel():i.default.closeModal()},n.onLabelNameChange=function(e){var t=n.validateLabelName(e);n.setState({labelName:e,labelNameError:t.passed?void 0:t.error})},n.validateLabelName=function(e){var t=!0,r=null;return e&&""!==e.trim()||(t=!1),n.labelModel&&n.labelModel.name===e||0===p.default.where({name:e}).length||(t=!1,r=c.default.t(169)),{passed:t,error:r}},n.stopPropagation=function(e){e.stopPropagation()},n.props.labelId&&(n.labelModel=p.default.assertGet(n.props.labelId)),n.state={labelColor:n.labelModel&&n.labelModel.color||void 0,labelName:n.labelModel&&n.labelModel.name||"",labelNameError:void 0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){var e=this;this.props.onAddLabel?(p.default.getNewLabelColor().then(function(t){e.setState({labelColor:t||u.default.DEFAULT_SMB__NEW_LABEL_COLOR})}),(0,h.logLabelOperationEvent)(b.default.LABEL_OPERATIONS.VIEW,1,b.default.LABEL_TARGETS.ADD_LABEL_DIALOG)):this.props.onUpdateLabel&&(0,h.logLabelOperationEvent)(b.default.LABEL_OPERATIONS.VIEW,1,b.default.LABEL_TARGETS.EDIT_LABEL_DIALOG)}},{key:"render",value:function(){var e={enter:this.stopPropagation},t=!this.validateLabelName(this.state.labelName.trim()).passed;return a.createElement(s.default,{title:this.props.onUpdateLabel?c.default.t(407):c.default.t(173),okText:c.default.t(1287),onOK:this.onOk,okDisabled:t,onCancel:this.onCancel},a.createElement("div",{className:o.default.inputContainer},a.createElement("div",{className:o.default.label},this.state.labelColor?(0,m.renderLabelSvg)((0,f.intColorToHex)(this.state.labelColor)):a.createElement(g.default,{stroke:5,size:20})),a.createElement("div",{className:o.default.input},a.createElement(l.default,{handlers:e},a.createElement(v.default,{hideFloatingLabel:!0,showRemaining:!0,supportsEmoji:!0,value:this.state.labelName,error:this.state.labelNameError,maxLength:u.default.SMB_LABELS.MAX_LABEL_LENGTH,onChange:this.onLabelNameChange,placeholder:c.default.t(172)})))))}}]),t}();_.displayName="AddOrEditLabelPopup",t.default=_},fifhbjiec:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMOJI_SIZE=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=_(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=_(n("daffbcegjj")),u=_(n("bbchdeehff")),s=_(n("djegeegcbf")),l=_(n("bhcdgaheib")),c=n("bgddggdhc"),f=_(n("daabecicc")),d=n("gaifbabbj"),p=_(n("eceadcicaf")),h=_(n("cahfddcdga")),m=_(n("cecdfacjga")),b=_(n("eagfdbhhhh")),g=n("cdejbeiiha"),v=_(n("fbjjefaic")),y=_(n("bcjcbbafcj"));function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var S=t.EMOJI_SIZE={SMALL:"SMALL",LARGE:"LARGE"},w=4096,P=12,M=function(e){function t(){var e,n,r;E(this,t);for(var p=arguments.length,v=Array(p),_=0;_<p;_++)v[_]=arguments[_];return n=r=j(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(v))),r.state={text:(0,m.default)(r.props.text||""),ellipsified:null},r.registeredListener=!1,r.registerResizeListener=function(){r.registeredListener||(r.registeredListener=!0,r.props.listeners.add(window,"resize",r.recompute),r.props.listeners.add(u.default,"resize",r.recompute))},r.unregisterResizeListener=function(){r.registeredListener&&(r.registeredListener=!1,r.props.listeners.remove(window,"resize",r.recompute),r.props.listeners.remove(u.default,"resize",r.recompute))},r.containsEmoji=function(){return s.default.containsEmoji((r.state.text||"").substring(0,w))},r.recompute=r.props.debounce(function(){r.setState({ellipsified:null},r.ellipsify)},10),r.ellipsifyCheck=function(){return r.containsEmoji()&&r.ellipsify()},r.ellipsify=function(){var e=(0,c.forbiddenFindDOMNode)(r);if(e){var t=(0,h.default)(e.parentNode),n=e.querySelectorAll("img");if(n.length){var a=e.clientWidth;e.style.overflow="visible";var o=e.clientWidth!==a;if(e.style.overflow="hidden",o){var i=Boolean(l10n.isRTL())===Boolean(r.props.dirMismatch),u=n[function(e,t,n){var r=0;for(;r<e.length;){var a=e[r];if(n&&a.offsetLeft+a.clientWidth>=t)break;if(!n&&a.offsetLeft<=t)break;r++}return r}(n,i?t.clientWidth-function(e,t){for(var n=0,r=e.childNodes,a=0;a<r.length;a++){var o=r[a];if(o===t)break;n+=o.clientWidth}return n}(t,e)-P:P,i)];r.setState({ellipsified:A(e,u)})}}}},r.buildBidiModel=function(e){return e.reduce(function(e,t){if("string"==typeof t){var n=t.split(/(\r?\n|\r)/g).map(function(e,t){return{dir:i.default.dir(e),content:e}});return e.concat(n)}return e.push({content:t}),e},[])},r.explodeOutputByLines=function(e){for(var t=r.props.direction,n=[],a=r.buildBidiModel(e),i=[],u=null,s=function(e){var r=null==u||null==t||u===t,a=r?null:u,s=!r||"rtl"===u!==l10n.isRTL()?l.default.dirMismatch:null;n.push(o.createElement("span",{key:e,dir:a,className:s},i))},c=0;c<a.length;c++){var f=a[c];u!==f.dir&&null!=u&&void 0!==f.dir&&(s(c),i=[]),void 0!==f.dir&&(u=f.dir),i.push(f.content)}return s(a.length),n},r.UNSAFE_componentWillMount=function(){!y.default.supportsEmojiEllipsification&&r.props.ellipsify&&r.containsEmoji()&&r.registerResizeListener()},r.componentDidMount=function(){!y.default.supportsEmojiEllipsification&&r.props.ellipsify&&r.ellipsifyCheck()},r.UNSAFE_componentWillReceiveProps=function(e){var t=e.text,n=(0,m.default)(t||"");r.setState({text:n});var a=r.props.ellipsify;if(!y.default.supportsEmojiEllipsification&&a&&n!==r.state.text){var o=(n||"").substring(0,w);s.default.containsEmoji(o)?(r.recompute(),r.registerResizeListener()):(r.setState({ellipsified:null}),r.unregisterResizeListener())}},r.render=function(){if(!r.state.text)return null;var e=r.props,t=e.onClick,n=e.ellipsify,i=e.dirMismatch,u=e.inferLinesDirection,s=e.inlineblock,c=e.direction,p=e.textLimit,h=r.state.ellipsified?r.state.ellipsified:r.state.text,m="inherit"===c?null:c||"auto",v=!!r.props.selectable,y=r.props.formatters||d.Configuration.EmojiOnly({selectable:v}),_=p||1/0;n&&h.length>w&&_>w&&(_=w);var E=i&&!u,j=(0,a.default)(r.props.className,{[l.default.ellipsify]:!!n,[l.default.inlineblock]:!!s,[l.default.clickable]:!!t,[l.default.dirMismatch]:E}),O=(0,f.default)(h,y,g.JSXSerializer,void 0,_),S=r.props.inferLinesDirection?r.explodeOutputByLines(O):O;return o.createElement(b.default,{className:j,dir:m,element:r.props.element,onClick:t,selectable:v,title:r.props.titlify?r.state.text:void 0,noInvisibleSpace:r.props.noInvisibleSpace},S,r.state.ellipsified||h.length>_?"":null)},j(r,n)}return O(t,o.PureComponent),r(t,[{key:"getWidth",value:function(){var e=(0,c.forbiddenFindDOMNode)(this);return e?e.getBoundingClientRect().width:0}}]),t}();M.defaultProps={element:"span",emojiSize:S.SMALL,textLimit:1/0};var C=(0,p.default)((0,v.default)(M)),T=function(e){function t(){return E(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O(t,C),r(t,[{key:"getWidth",value:function(){return function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).getWidth()}}]),t}();function A(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{found:!1};if(e===t)return n.found=!0,"";if(e instanceof HTMLImageElement)return e.alt;if(e.nodeType===Node.TEXT_NODE)return e.nodeValue;for(var r=function(e){switch(e.tagName){case"CODE":return"```";case"STRONG":return"*";case"EM":return"_";case"DEL":return"~";default:return""}}(e),a="",o=0;o<e.childNodes.length&&(a+=A(e.childNodes[o],t,n),!n.found);)o++;return r?`${r}${a}${r}`:a}t.default=T},fijafegab:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=c(n("effbcehec")),u=c(n("bfjegcdcag")),s=c(n("bhifaggjcb")),l=c(n("eedjbihej"));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.title,r=e.subtitle,c=e.titleOnClick,f=e.a8nText,d=e["data-list-scroll-offset"],p=e.theme,h=e.animation,m=p?u.default[p]:null,b=(0,a.default)(u.default.container,{[u.default.animate]:h},m),g=void 0;return n&&(g=o.createElement("div",{className:u.default.title,"data-a8n":i.default.key(f),role:c?"button":null,onClick:c},o.createElement(s.default,{side:r,ellipsify:!0},o.createElement(l.default,{theme:"section-title"},n)))),o.createElement("div",{className:b,"data-list-scroll-offset":d},g,t)}}]),t}();f.defaultProps={animation:!0},f.displayName="DrawerSection",t.default=f},fjeagagdf:function(e,t,n){"use strict";var r=g(n("bebajedcaf")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=g(n("ejiicdbii")),u=g(n("ebcagbhefg")),s=g(n("bbchdeehff")),l=g(n("baagejbchg")),c=g(n("dabbjcaadh")),f=n("ddjgcfjicj"),d=g(n("dbbijbhaai")),p=g(n("eceadcicaf")),h=g(n("biecbbiiee")),m=g(n("dcdiaahjj")),b=g(n("fbjjefaic"));function g(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.msgCollectionChanged=function(t,n,r,a){var o=e.state.msgCollection;o!==t&&o!==n||e.setState({msgCollection:r,focusCtx:a&&(a.msg||a.collection)?a:e.state.focusCtx})},e.windowGainedFocus=function(){m.default.markAvailable();var t=e.state.chat;t&&t.isUser&&t.presence.subscribe().catch(f.WapDrop,function(){})},e.windowLostFocus=function(){m.default.markUnavailable(l.default.SEND_UNAVAILABLE_WAIT)},e.handleClearChat=function(t){e.state.chat===t&&e.setState({chat:void 0,msgCollection:void 0,focusCtx:void 0})},e._handleOpenChatId=0,e.handleOpenChat=function(t,n,r){s.default.updateChatlistSelection(t);var a=e.openedChatInfo,o={};e.openedChatInfo=o;var i=n?n.collection:t.msgs;e._handleOpenChatId++;var u=e._handleOpenChatId,l=function(){return u===e._handleOpenChatId},c=!1,f=function(){l()&&(c=!0,r(e.newChatScrollInfo(a,n)))},d=n&&n.msg&&n.msg.id||n&&n.key;e.setState({chat:t,msgCollection:i,focusCtx:n,notifyChatRendered:function(e){!c&&l()&&(d?e.some(function(e){return e.id.equals(d)})&&f():f())},updateOpenedChatInfo:function(e){Object.assign(o,e)}})},e.newChatScrollInfo=function(e,t){var n=t?t.msg||h.default.get(t.key):void 0;if(t&&n&&e){var a=e.chat,o=e.renderedMsgsInfo,i=e.visibleMsgOrder;if(a&&o&&i&&!(0,r.default)(o)&&!(0,r.default)(i)){var u=o[i[0].toString()],s=Object.keys(o).find(function(e){return e===n.id.toString()}),l=s?o[s]:null;if(l)return{wasVisible:!0,offset:l.offset};if(a===n.chat)return u&&n.t<u.t?{wasVisible:!1,alignAt:"top"}:{wasVisible:!1,alignAt:"bottom"}}}return{wasVisible:!1,alignAt:"center"}},e.state={chat:void 0,msgCollection:void 0,focusCtx:void 0},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(s.default,"open_chat",this.handleOpenChat),this.props.listeners.add(s.default,"clear_chat",this.handleClearChat),this.props.listeners.add(window,"focus",this.windowGainedFocus),this.props.listeners.add(window,"blur",this.windowLostFocus)}},{key:"shouldComponentUpdate",value:function(e,t){return t!==this.state||e.animate!==this.props.animate}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.chat,r=t.chat;if(n&&r!==n){if(this.props.listeners.add(n,"change:cmc:merge",this.msgCollectionChanged),r&&this.props.listeners.remove(r,"change:cmc:merge"),!n.contact.isBusiness)return;var a=i.default.get(n.id);a&&!a.stale||i.default.find(n.id)}}},{key:"render",value:function(){var e=this.state,t=e.chat,n=e.msgCollection,r=e.focusCtx;return t&&n?o.createElement(c.default,{chat:t,groupMetadata:t.groupMetadata,chatPreference:u.default.assertGet("defaultPreference"),focusCtx:r,msgCollection:n,notifyChatRendered:this.state.notifyChatRendered||function(){},updateOpenedChatInfo:this.state.updateOpenedChatInfo||function(){},key:t.id.toString()}):o.createElement(d.default,{animate:this.props.animate})}}]),t}();v.displayName="Conversation",e.exports=(0,p.default)((0,b.default)(v))},gabccaieg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n("cgcgbfbffj")),o=s(n("bjigbaghc")),i=s(n("ccicaaeiaa")),u=s(n("bjgdagjjci"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.listenTo(e,"change:disabled",function(t){t.disabled&&e.removeParticipant(t)}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"delete",value:function(){var e=this;this.forEach(function(t){return e.removeParticipant(t)})}},{key:"validLocations",value:function(){return this.filter(function(e){return e.valid})}},{key:"removeParticipant",value:function(e){this.remove(e),e.delete()}}]),t}();l.model=u.default,l.comparator=function(e,t){return e.contact.id.equals(o.default.me)?-1:t.contact.id.equals(o.default.me)?1:(0,i.default)(e.contact,t.contact)},t.default=l},gaifbabbj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Configuration=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cehdgbej"));t.Configuration=r},gajigdged:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FooterType=void 0;var r=g(n("dbafiicfja")),a=g(n("bhdefefjjb")),o=g(n("bhdddbafig")),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=g(n("ceffhbhahb")),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),l=g(n("ebjaejiaba")),c=g(n("dgjdeicghc")),f=g(n("fifhbjiec")),d=g(n("fffdgbfji")),p=g(n("eceadcicaf")),h=g(n("cdjhjdcbeg")),m=g(n("bfdcadbbif")),b=g(n("didfdhbecg"));function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=t.FooterType={MANAGE_ADMINS:"MANAGE_ADMINS"},j=function(e){function t(){var e,n,r;v(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleForwardClick=function(){r.forwardIsEnabled&&(r.forwardIsEnabled=!1,r.props.onForward())},y(r,n)}return _(t,s.Component),i(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.listeners.add(this.props.selections,"all"),this.firstRenderActive=this.props.startActive||!1,this.forwardIsEnabled=!0}},{key:"render",value:function(){var e=void 0,t=this.props.type,n=t===E.MANAGE_ADMINS?s.createElement(m.default,{name:"checkmark-light"}):s.createElement(m.default,{directional:!0,name:"send-light"});return this.props.selections.getSelected().length>0?e=s.createElement("div",{className:(0,u.default)(c.default.controlsSummary,{[c.default.adminSetting]:t===E.MANAGE_ADMINS})},t!==E.MANAGE_ADMINS&&s.createElement(O,{chats:this.props.selections.getSelected()}),s.createElement("div",{"data-animate-btn":!0,className:this.firstRenderActive?c.default.btnActive:c.default.btnAction},s.createElement(h.default,{large:!0,onClick:this.handleForwardClick},n))):this.firstRenderActive=!1,s.createElement(b.default,{transitionName:"slide-up-down-footer",className:c.default.container},e)}}]),t}();j.displayName="ChatSelectorFooter",t.default=(0,p.default)(j);var O=function(e){function t(e){v(this,t);var n=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={chats:n.props.chats},n}return _(t,s.Component),i(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.state.chats,n=e.chats;t=n&&n.length>t.length?t.concat((0,o.default)(n,t)):(0,a.default)(t,n),this.setState({chats:t})}},{key:"render",value:function(){for(var e=(0,r.default)(this.state.chats,function(e){return e instanceof l.default?e.formattedTitle:e.formattedShortNameWithNonBreakingSpaces}),t=[],n=e.length-1;n>=0;n--)t.push(s.createElement(f.default,{className:c.default.item,key:n,text:e[n]})),n>0&&t.push(s.createElement("span",{key:`comma-${n}`},d.default.t(421)));return s.createElement(b.default,{transitionName:"pop",className:c.default.summaryText},t)}}]),t}();O.displayName="SelectedChatsList"},gbbacfeci:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatusCollection=void 0;var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=f(n("cgcgbfbffj")),i=n("ddjgcfjicj"),u=f(n("dieafdcbjb")),s=n("bijjheifie"),l=f(n("jccfhaecf")),c=n("dcbdjheea");function f(e){return e&&e.__esModule?e:{default:e}}var d=t.StatusCollection=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),a(t,[{key:"onResume",value:function(){var e=this;this.filter(function(e){return e.hasObservers()}).forEach(function(t){e.find(t.id).catch(i.WapDrop,function(){})})}},{key:"_find",value:function(e){var t=e instanceof l.default?e:(0,c.createWid)(e);return(0,s.getStatus)(t)}},{key:"handle",value:function(e){var t=r(e,1)[0],n=this.get(t.id);n&&(n.status=t.status,n.stale=!1)}}]),t}();d.model=u.default,d.idClass=l.default,d.staleCollection=!0,d.resumeOnAvailable=!0,t.default=new d},gbfcbchfd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n("dhhhjaejje"),o=(r=a)&&r.__esModule?r:{default:r};var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),t}();i.onDelimiter=function(e){return e},i.onMutator=function(e,t){return t.join("")},i.onRoot=function(e){return e.join("")},i.onText=function(e){return e},t.default=i},gbgcehdj:function(e,t){e.exports={icon:"_3-N0F",iconE2E:"_2VVfP"}},gbjefdbgb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MEDIA_TYPE_VALUES=t.MEDIA_TYPES_INVERTED=void 0;var r,a=n("cehcfaibji"),o=(r=a)&&r.__esModule?r:{default:r};t.castToV4=function(e){var t=void 0;if(null==e)t=u.DOCUMENT;else{if(!(e in u))throw new Error(`castToV4: unexpected mmsv3 type ${e}`);t=u[e]}return t},t.msgToMediaType=function(e){var t=e.type,n=e.isGif,r=e.subtype;switch(t){case i.MSG_TYPE.IMAGE:return u.IMAGE;case i.MSG_TYPE.VIDEO:return n?u.GIF:u.VIDEO;case i.MSG_TYPE.AUDIO:return u.AUDIO;case i.MSG_TYPE.PTT:return u.PTT;case i.MSG_TYPE.DOCUMENT:return u.DOCUMENT;case i.MSG_TYPE.STICKER:return u.STICKER;case i.MSG_TYPE.PRODUCT:return u.PRODUCT;case i.MSG_TYPE.TEMPLATE:switch(r){case"image":return u.IMAGE;case"video":return u.VIDEO;case"document":return u.DOCUMENT;default:throw new Error("template media msg is missing subtype")}default:throw new Error(`msg is not a media msg: ${t}, isGif=${String(n)}`)}};var i=n("baagejbchg");var u=Object.freeze({AUDIO:"audio",DOCUMENT:"document",GIF:"gif",IMAGE:"image",PPIC:"ppic",PRODUCT:"product",PTT:"ptt",STICKER:"sticker",VIDEO:"video",TEMPLATE:"template"});t.default=u;t.MEDIA_TYPES_INVERTED=Object.freeze({audio:"AUDIO",document:"DOCUMENT",gif:"GIF",image:"IMAGE",ppic:"PPIC",product:"PRODUCT",ptt:"PTT",sticker:"STICKER",video:"VIDEO",template:"TEMPLATE"}),t.MEDIA_TYPE_VALUES=(0,o.default)(u)},gcbiehega:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=M(n("ceffhbhahb")),o=P(n("ddhijeejag")),i=M(n("bbchdeehff")),u=M(n("baagejbchg")),s=n("ddjgcfjicj"),l=P(n("cajijabhgb")),c=M(n("djifeiaaea")),f=M(n("dhfbfehaef")),d=M(n("fffdgbfji")),p=M(n("bdiiahhjbe")),h=M(n("bffjfbgbg")),m=M(n("bfbggcdbfb")),b=M(n("bjbedjfe")),g=M(n("becfabjeeg")),v=M(n("hjbcfjaai")),y=n("efgideggi"),_=M(y),E=M(n("cccjfjdgcj")),j=M(n("bfdcadbbif")),O=n("bfjajhbdf"),S=M(O),w=M(n("didfdhbecg"));function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function M(e){return e&&e.__esModule?e:{default:e}}var C=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));T.call(e);var n=e.props.initialStatusV3;if(e.props.quotedMsgKey){e.state={};var r=e.props.quotedMsgKey;if(-1!==n.msgs.getModelsArray().findIndex(function(e){return e.id.toString()===r.toString()}))e.statusV3Snapshot=new _.default(n,r),e.statusV3Snapshot.getFirstUnread(n,!0,r).checkpoint(e.props.rejectOnUnmount()).then(function(t){e.setState({iterator:t,loading:!1})}).catch(l.Unmount,function(){}).catch(s.EphemeralDrop,function(){}).catch(y.InvalidStatusV3Iterator,function(){p.default.error("Invalid iterator while loading first unread msg")(),i.default.openToast(o.createElement(S.default,{msg:d.default.t(1036),id:(0,O.genId)()})),e.props.closeStatusViewer()});else e.state={loading:!0},n.loadMore(n.totalCount).then(function(){(e.setState({loading:!1}),-1!==n.msgs.getModelsArray().findIndex(function(e){return e.id.toString()===r.toString()}))?(e.statusV3Snapshot=new _.default(n,r),e.statusV3Snapshot.getFirstUnread(n,!0,r).checkpoint(e.props.rejectOnUnmount()).then(function(t){e.setState({iterator:t,loading:!1})}).catch(l.Unmount,function(){}).catch(s.EphemeralDrop,function(){}).catch(y.InvalidStatusV3Iterator,function(){p.default.error("Invalid iterator while loading first unread msg")(),i.default.openToast(o.createElement(S.default,{msg:d.default.t(1036),id:(0,O.genId)()})),e.props.closeStatusViewer()})):(e.props.onMsgNotFound&&e.props.onMsgNotFound(),i.default.openToast(o.createElement(S.default,{msg:d.default.t(1036),id:(0,O.genId)()})),e.props.closeStatusViewer())}).catch(function(){i.default.openToast(o.createElement(S.default,{msg:d.default.t(1036),id:(0,O.genId)()})),e.props.closeStatusViewer()}).finally(function(){e.setState({loading:!1})})}else{var a=e.props.initialStatusMsg;e.statusV3Snapshot=new _.default(n);var u=e.statusV3Snapshot.getFirstUnread(n,!0,a&&a.id);u.isFulfilled()?e.state={}:e.state={loading:!0},u.checkpoint(e.props.rejectOnUnmount()).then(function(t){e.setState({iterator:t,loading:!1})}).catch(l.Unmount,function(){}).catch(s.EphemeralDrop,function(){}).catch(y.InvalidStatusV3Iterator,function(){p.default.error("Invalid iterator while loading first unread msg")(),i.default.openToast(o.createElement(S.default,{msg:d.default.t(1036),id:(0,O.genId)()})),e.props.closeStatusViewer()})}return e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"componentDidMount",value:function(){this.preloadNextStatus()}},{key:"componentDidUpdate",value:function(){this.preloadNextStatus()}},{key:"render",value:function(){var e=this,t=this.state.iterator,n=void 0,r=void 0,i=void 0,u=void 0,s=void 0,l=void 0,c=void 0,d=void 0;t&&(l=(s=this.statusV3Snapshot).statuses[t.statusIdx],c=l.statusV3,d=l.msgs[t.msgIdx],s.hasPrev(t)&&(i=o.createElement("div",{className:E.default.chevronLeft},o.createElement(j.default,{name:"chevron-left"})),u=o.createElement("div",{className:E.default.chevronLeftBg,onClick:this.onPrev})),s.hasNext(t)&&(n=o.createElement("div",{className:E.default.chevronRight},o.createElement(j.default,{name:"chevron-right"})),r=o.createElement("div",{className:E.default.chevronRightBg,onClick:function(){e.onNext(),e.markRead(c,d)}})));var p={left:this.onPrev,right:this.onNext},h=void 0;!this.state.transitioning&&!this.state.loading&&d&&t&&l&&c&&(h=o.createElement("div",{className:E.default.playerContainer,key:d.id},o.createElement(v.default,{key:d.id,statusV3:c,msg:d,mediaData:d.mediaData,msgIdx:t.msgIdx,totalMsgs:l.totalCount,markRead:this.markRead,closeStatusViewer:this.closeStatusViewer,onClickProgressBar:this.onClickProgressBar,onNext:this.onNext,onPrev:this.onPrev,sessionId:this.props.sessionId,rowIdx:this.props.rowIdx})));var m=(0,a.default)(E.default.v3X,{}),b=o.createElement("button",{className:m,onClick:function(){return e.props.closeStatusViewer(!0)}},o.createElement(j.default,{name:"status-v3-x"})),y=(0,a.default)(E.default.backIcon,{}),_=o.createElement("button",{className:y,onClick:function(){return e.props.closeStatusViewer()}},o.createElement(j.default,{name:"back-light",directional:!0})),O=void 0;return this.state.loading&&(O=o.createElement("div",{className:E.default.mediaStateControls},o.createElement("button",null,o.createElement(g.default,{size:50,stroke:4,color:"white"})))),o.createElement(f.default,{handlers:p},o.createElement("div",{className:E.default.viewer,"data-animate-status-v3-viewer":!0},b,_,u,i,r,n,O,o.createElement(w.default,{transitionName:"status-v3-player",transitionAppear:!0},h)))}}]),t}(),T=function(){var e=this;this.onClickProgressBar=function(t){var n=e.state.iterator;if((!n||t!==n.msgIdx)&&n){var r=e.statusV3Snapshot.statusAt(n,t);r.isFulfilled()||e.setState({loading:!0}),r.checkpoint(e.props.rejectOnUnmount()).then(function(t){e.setState({iterator:t})}).catch(l.Unmount,function(){}).catch(s.EphemeralDrop,function(){}).catch(y.InvalidStatusV3Iterator,function(){p.default.error("Invalid iterator while getting next status msg")()}).catch(y.StatusV3LoadingError,function(){p.default.error("No more status v3 while preloading next status")()}).finally(function(){e.setState({loading:!1})})}},this.preloadNextStatus=function(){var t=e.state.iterator;t&&e.statusV3Snapshot.hasNext(t)&&e.statusV3Snapshot.getNext(t).checkpoint(e.props.rejectOnUnmount()).then(function(t){var n=e.statusV3Snapshot.statuses[t.statusIdx].msgs[t.msgIdx];if(!n)throw new y.StatusV3MsgNotFound;if(n.type===u.default.MSG_TYPE.CHAT)c.default.load(n.font).catch(function(){});else{var r=n.mediaData;r&&r.mediaStage!==h.default.STAGE.RESOLVED&&n.downloadMedia(!0,m.default.WEBC_RMR_REASON_CODE.STATUS_V3)}}).catch(l.Unmount,function(){}).catch(s.EphemeralDrop,function(){}).catch(y.InvalidStatusV3Iterator,function(){p.default.error("Invalid iterator while preloading next status")()}).catch(y.StatusV3MsgNotFound,function(){p.default.error("Error finding next status while preloading next status")()}).catch(y.StatusV3LoadingError,function(){p.default.error("No more status v3 while preloading next status")()})},this.onPrev=function(){var t=e.state.iterator;if(t&&e.statusV3Snapshot.hasPrev(t)){var n=t.statusIdx;e.statusV3Snapshot.getPrev(t).checkpoint(e.props.rejectOnUnmount()).then(function(t){t.statusIdx===n?e.setState({iterator:t}):(e.setState({transitioning:!0}),Promise.delay(200).checkpoint(e.props.rejectOnUnmount()).then(function(){e.setState({iterator:t,transitioning:!1})}).catch(l.Unmount,function(){}))}).catch(l.Unmount,function(){}).catch(s.EphemeralDrop,function(){}).catch(y.InvalidStatusV3Iterator,function(){p.default.error("Invalid iterator while getting previous status msg")()}).catch(y.StatusV3LoadingError,function(){p.default.error("No more status v3 while preloading next status")()})}},this.onNext=function(){var t=e.state.iterator;if(t&&e.statusV3Snapshot.hasNext(t)){var n=t.statusIdx,r=e.statusV3Snapshot.getNext(t);r.isFulfilled()||e.setState({loading:!0}),r.checkpoint(e.props.rejectOnUnmount()).then(function(t){t.statusIdx===n?e.setState({iterator:t}):(e.setState({transitioning:!0,loading:!1}),Promise.delay(200).checkpoint(e.props.rejectOnUnmount()).then(function(){e.setState({iterator:t,transitioning:!1})}).catch(l.Unmount,function(){}))}).catch(l.Unmount,function(){}).catch(s.EphemeralDrop,function(){}).catch(y.InvalidStatusV3Iterator,function(){p.default.error("Invalid iterator while getting next status msg")(),e.closeStatusViewer()}).catch(y.StatusV3LoadingError,function(){p.default.error("No more status v3 while preloading next status")()}).finally(function(){e.setState({loading:!1})})}else e.closeStatusViewer()},this.markRead=function(t,n){if(n){var r=t.unreadCount,a=t.totalCount;t.msgs.getModelsArray().findIndex(function(e){return e===n})>=a-r&&t.sendReadStatus(n.id,n.author);var o=e.statusV3Snapshot.statuses.find(function(e){return e.statusV3===t});o&&o.readMsgKeys.push(n.id.toString())}},this.closeStatusViewer=function(t){e.setState({transitioning:!0}),Promise.delay(200).checkpoint(e.props.rejectOnUnmount()).then(function(){e.props.closeStatusViewer(t)}).catch(l.Unmount,function(){})}};C.displayName="StatusV3Viewer",e.exports=(0,b.default)(C)},gcdabficb:function(e,t){e.exports={container:"_2U-0s",wallpaperColorCanvas:"_1FReI",wallpaperColorEmpty:"_2SFLd",canvasActive:"_3QlfT",canvasHover:"_3Mhyi"}},gcdfcghe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=Math.ceil(e/u)*u,o=t.slice(0,a.IV_LENGTH+r);return new i.default(n).sign(o,a.HMAC_LENGTH)};var r,a=n("bdfbijjhda"),o=n("bbejegbieb"),i=(r=o)&&r.__esModule?r:{default:r};var u=16},gcehifbbc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatRemoveResult=function(e,t){return u(e,f,d,p,t)},t.formatResult=u,t.formatParticipantActionString=s,t.formatGroupStatusReasonString=l,t.formatParticipantStatusReasonString=c,t.addSuccessString=function(e,t){return l10n.t(115,{participantNames:e,_plural:t})},t.addFailedString=function(e,t,n){return l10n.t(113,{participantNames:e,_plural:t})},t.addPartialFailedString=function(){return l10n.t(114)},t.removeSuccessString=f,t.removeFailedString=d,t.removePartialFailedString=p,t.promoteSuccessString=function(e,t){return l10n.t(129,{participantNames:e,_plural:t})},t.promoteFailedString=function(e,t,n){return l10n.t(127,{participantNames:e,_plural:t})},t.promotePartialFailedString=function(){return l10n.t(128)},t.demoteFailedString=function(e,t,n){switch(n){case 406:return l10n.t(118,{participant:e});default:return l10n.t(117,{participantNames:e,_plural:t})}},t.demoteSuccessString=function(e,t){return l10n.t(120,{participantNames:e,_plural:t})},t.demotePartialFailedString=function(){return l10n.t(119)};var r=i(n("dhigahgdjb")),a=i(n("bjbdcigbdi")),o=i(n("jccfhaecf"));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,i,u){var f=void 0;if(207===e.status){var d={};for(var p in e)if(o.default.isWid(p)){var h=e[p];if((403!==h||!a.default.supportsFeature(a.default.F.GROUPS_V_4_JOIN_PERMISSION))&&207!==h){d[h]||(d[h]=[]);var m=r.default.get(p);m&&d[h].push(m)}}var b=[];for(var g in d){var v=s(t,n,c,parseInt(g,10),d[g]);v&&b.push(v)}f=b.length>0?b.join("\n"):i()}else f=s(t,n,l,e.status,u);return f}function s(e,t,n,r,a){var o=a.map(function(e){return e.formattedShortName}).join(l10n.t(421)),i=200===r;return(i?e(o,a.length):t(o,a.length,r))+(i?"":n(r,a.length))}function l(e,t){var n="";switch(e){case 403:n=" "+l10n.t(66);break;case 408:n=" "+l10n.t(123);break;case 404:n=" "+l10n.t(67);break;case 429:n=" "+l10n.t(68)}return n}function c(e,t){var n="";switch(e){case 401:case 406:case 409:break;case 404:n=" "+l10n.t(122,{_plural:t});break;case 408:n=" "+l10n.t(123,{_plural:t});break;case 500:n=" "+l10n.t(124);break;default:n=" "+l10n.t(126)}return n}function f(e,t){return l10n.t(134,{participantNames:e,_plural:t})}function d(e,t,n){switch(n){case 406:return l10n.t(133,{participant:e});default:return l10n.t(131,{participantNames:e,_plural:t})}}function p(){return l10n.t(132)}},gchhabjba:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e.byteLength!==t.byteLength)return!1;for(var n=new DataView(e),r=new DataView(t),a=0;a<n.byteLength;a++)if(n.getUint8(a)!==r.getUint8(a))return!1;return!0}},gddafccec:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=(c(n("baagejbchg")),c(n("bjbdcigbdi"))),i=c(n("bdechjiebj")),u=c(n("bebbajcbbb")),s=c(n("ebgedhejjf")),l=c(n("ihfccfgdf"));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.msg,n=e.displayAuthor,r=e.displayType,l=e.quotedMsg;if(!o.default.supportsFeature(o.default.F.PAYMENTS))return a.createElement(u.default,{msg:t,displayAuthor:n,displayType:r,quotedMsg:l});var c=!(!t.paymentNoteMsg||!t.paymentNoteMsg.body);if(!(t.paymentAmount1000&&t.paymentCurrency))return a.createElement(u.default,{msg:t,displayAuthor:n,displayType:r,quotedMsg:l});var f=a.createElement(i.default,{isSentByMe:t.isSentByMe,currency:t.paymentCurrency,amount1000:t.paymentAmount1000,receiverJid:t.paymentMessageReceiverJid,paymentStatus:t.paymentStatus,expiryTimestamp:t.paymentExpiryTimestamp,subtype:t.subtype,hasCaption:c,msg:t});switch(t.subtype){case"ciphertext":return a.createElement(u.default,{msg:t,displayAuthor:n,displayType:r,quotedMsg:l,paymentInfo:f,placeholderText:l10n.t(1299)});case"futureproof":return a.createElement(u.default,{msg:t,displayAuthor:n,displayType:r,quotedMsg:l,paymentInfo:f,placeholderText:l10n.t(1301)});case"send":case"request":return a.createElement(s.default,{msg:t,displayAuthor:n,displayType:r,quotedMsg:l,paymentInfo:f});default:return a.createElement(u.default,{msg:t,displayAuthor:n,displayType:r,quotedMsg:l})}}}]),t}();f.CONCERNS={msg:["paymentAmount1000","paymentCurrency","id","isSentByMe","paymentNoteMsg","paymentStatus","paymentExpiryTimestamp","paymentMessageReceiverJid","subtype"]},f.displayName="PaymentMessage",t.default=(0,l.default)(f,f.CONCERNS)},gdeficihh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=(s(n("baagejbchg")),s(n("dfjgaaeeeb"))),i=s(n("bbccbjiaeb")),u=s(n("ihfccfgdf"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.displayType,n=e.msg;return n.mediaData?a.createElement(o.default,{displayType:t,mediaData:n.mediaData,msg:n}):a.createElement(i.default,{msg:n,displayType:t})}}]),t}();l.CONCERNS={msg:["mediaData"]},l.displayName="MsgFailIcon",t.default=(0,u.default)(l,l.CONCERNS)},gdfgjiffc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.requireBundle=h;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=p(n("cbhegcchgg")),i=p(n("cffibfiejh")),u=p(n("dghhefgjhc")),s=n("cicgeajfge"),l=p(n("bdiiahhjbe")),c=p(n("ejeehdija")),f=p(n("cdcaigjjii")),d=p(n("bfdcadbbif"));function p(e){return e&&e.__esModule?e:{default:e}}function h(){return n.e(132).then(n.bind(null,"dbbiihddig")).then(function(e){return e.default})}function m(e){return a.createElement("div",{className:c.default.container},a.createElement("div",{className:c.default.body,dir:"ltr"},a.createElement("div",{className:c.default.imageContainer},a.createElement("div",{className:c.default.defaultIcon},a.createElement(d.default,{name:e.svgName}))),e.error?a.createElement(s.LazyLoadRetry,{className:c.default.lazyLoadRetry,onClick:e.retry}):a.createElement(i.default,null)))}m.displayName="Loading";var b=(0,o.default)({loader:function(){return h().catch(function(e){throw l.default.assert(!1,"loadable:PhotoPicker loading error")(e),e})},loading:e=>a.createElement(m,{svgName:"default-user",error:Boolean(e.error),retry:e.retry}),delay:u.default.LOADABLE_DELAY}),g=(0,o.default)({loader:function(){return h().catch(function(e){throw l.default.assert(!1,"loadable:PhotoPicker loading error")(e),e})},loading:e=>a.createElement(m,{svgName:"default-group",error:Boolean(e.error),retry:e.retry}),delay:u.default.LOADABLE_DELAY}),v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){return this.props.type===f.default.PROFILE?a.createElement(b,this.props):a.createElement(g,this.props)}}]),t}();v.displayName="PhotoPickerLoadable",t.default=v},gdhdegbhg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=c(n("baagejbchg")),i=c(n("ihfccfgdf")),u=c(n("bggdbeiaie")),s=n("hjbcfjaai"),l=c(n("cihhicgaca"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return f(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.statusV3,r=t.contact,i=void 0,s=n.lastStatus;i=s&&s.type===o.default.MSG_TYPE.CHAT?a.createElement(m,{msg:s}):a.createElement(b,{renderedThumbnail:n.renderedThumbnail});var c=void 0;return r.statusMute||(c=a.createElement(u.default,{statusV3:n})),a.createElement("div",{className:l.default.container,role:this.props.role||"",onClickCapture:function(t){e.props.onClick&&e.props.onClick(),t.stopPropagation(),t.preventDefault()}},c,i)}}]),t}();h.CONCERNS={statusV3:["renderedThumbnail","lastStatus"],contact:["statusMute"]},h.displayName="StatusV3Thumbnail";var m=function(e){function t(){return f(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props.msg,t={backgroundColor:e.statusV3TextBg};return a.createElement("div",{className:l.default.statusImage,style:t},a.createElement("div",{className:l.default.textThumb},a.createElement(s.StatusV3Text,{msg:e,theme:"status-thumbnail"})))}}]),t}();m.displayName="StatusV3TextWrapper";var b=function(e){function t(){return f(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){var e=this.props.renderedThumbnail;e&&e.retain()}},{key:"componentDidUpdate",value:function(e){var t=e.renderedThumbnail,n=this.props.renderedThumbnail;t!==n&&(t&&t.autorelease(),n&&n.retain())}},{key:"componentWillUnmount",value:function(){var e=this.props.renderedThumbnail;e&&e.autorelease()}},{key:"render",value:function(){var e=this.props.renderedThumbnail,t={backgroundImage:e&&`url(${e.url()})`};return a.createElement("div",{className:l.default.statusImage,style:t})}}]),t}();b.displayName="StatusV3ImgWrapper",t.default=(0,i.default)(h,h.CONCERNS)},geegjgjdg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var r=c(n("ceffhbhahb")),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=c(n("cehjjfagii")),i=c(n("baagejbchg")),u=c(n("dfeecdfijg")),s=c(n("bafjbifhgj")),l=c(n("cieaeggjg"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){var t=!1!==e.displayAuthor?!e.msg.isSentByMe&&e.msg.isGroupMsg:null,n=e.msg.showForwarded(),c=t?a.createElement("div",{className:s.default.author},a.createElement(o.default,{msg:e.msg,contact:e.msg.senderObj})):null,f=e.displayType===i.default.DISP_TYPE.GALLERY||e.hideMeta?null:a.createElement("div",{className:s.default.meta},a.createElement(l.default,{msg:e.msg})),d=n?a.createElement(u.default,{msg:e.msg,className:s.default.forwardedIndicator}):null,p=e.quotedMsg?a.createElement("div",{className:s.default.quote},e.quotedMsg):null,h=(0,r.default)(s.default.bubble,{[s.default.forwarded]:n,[s.default.hasAuthor]:t,[s.default.hasCaption]:e.hasCaption,[s.default.isPSA]:e.msg.isPSA});return a.createElement("div",{className:h},c,d,p,e.children,f)}f.displayName="MediaBubble"},gegihfgbf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=l(n("fifhbjiec")),u=l(n("bcjbggbah")),s=l(n("ihfccfgdf"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.quickReply,n=t.shortcut,r=t.message,s=e.query,l=e.selected,c=e.onMouseDown,f=e.onMouseEnter,d=e.onMouseUp,p=n.slice(s.length);return o.createElement("div",{className:(0,a.default)(u.default.result,{[u.default.selected]:l}),onMouseDown:c,onMouseUp:d,onMouseEnter:f},o.createElement("span",{className:u.default.slash},"/"),o.createElement(i.default,{className:u.default.shortcutPrefix,text:s}),o.createElement(i.default,{className:u.default.shortcutSuffix,text:p}),o.createElement(i.default,{className:u.default.message,ellipsify:!0,text:r}))}}]),t}();c.CONCERNS={quickReply:["shortcut","message"]},c.displayName="Result",t.default=(0,s.default)(c,c.CONCERNS)},geiiceahh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=n("eagfdbhhhh");function o(e){var t=e.children,n=e.selectable;return r.createElement(a.SelectableDel,{selectable:n,appTextTemplate:"~${appText}~"},t)}o.displayName="Strikethrough",o.defaultProps={children:""},t.default=o},gejffefga:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=_(n("echehdcaii")),a=_(n("dhgeffcgbg")),o=_(n("ccjgiajgj")),i=_(n("eaaagccfda")),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=_(n("ceffhbhahb")),c=y(n("ddhijeejag")),f=_(n("bbchdeehff")),d=y(n("cajijabhgb")),p=_(n("eceadcicaf")),h=_(n("dhbjfhjgbc")),m=_(n("cahfddcdga")),b=_(n("bjbedjfe")),g=_(n("ceddibdhdb")),v=_(n("bcifhbgija"));function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _(e){return e&&e.__esModule?e:{default:e}}var E=0,j=0,O=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));S.call(n);var r=void 0;f.default.getConversationHeaderOffset(function(e){r=e.right});var a={resizeDirection:E,currentAction:j,resizeStartMousePosition:{x:0,y:0},resizeStartPiPStyle:{width:0,bottom:0,left:0},moveStartMousePosition:{x:0,y:0},moveStartPositionStyle:{left:0,bottom:0},previousWindowSize:{height:window.innerHeight,width:window.innerWidth},previousConvPanelRightBorder:r};return n.props.animationStartStyle?n.state=u({},a,n.props.animationStartStyle):n.state=u({},a,n.getInitialStyle()),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.Component),s(t,[{key:"componentWillUnmount",value:function(){this.setStateTimer.cancel(),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("resize",this.handleResize)}},{key:"componentDidMount",value:function(){var e=this;if(!this.props.animationStartStyle)return this.addListeners(),void this.handleResize();var t=this.props.animationStartStyle,n=this.getInitialStyle(),r=t.width/this.props.aspectRatio,a=t.height,o=a/r,i=(r-a)/2/o,s=u({},n,{height:n.width/this.props.aspectRatio,scaleY:[1,o],translateY:[0,i]}),l=(0,v.default)((0,m.default)(this.refComponent),s,{easing:"easeInOutQuart",duration:400});this.initialAnimationPromise=Promise.race([l,this.props.rejectOnUnmount()]).checkpoint(this.props.rejectOnUnmount()).then(function(){e.initialAnimationPromise=null,e.setState(n),e.addListeners(),e.handleResize()}).catch(d.Unmount,function(){})}},{key:"componentDidUpdate",value:function(e){if(this.props.aspectRatio!==e.aspectRatio&&this.props.initialStyle){if(this.initialAnimationPromise)return void this.setStateTimer.onOrAfter(400,this.props.initialStyle);var t=this.props.initialStyle.width,n=this.props.initialStyle.left+t-(this.state.width+this.state.left),r=this.props.initialStyle.bottom+t/this.props.aspectRatio-(this.state.bottom+this.state.width/this.props.aspectRatio);Math.abs(n)<.1&&Math.abs(r)<.1?this.setState(this.props.initialStyle):this.setState({width:t})}}},{key:"getDimensions",value:function(){return{width:this.state.width,height:this.state.width/this.props.aspectRatio}}},{key:"doOverlap",value:function(e,t){return!(e.right<=t.left||e.left>=t.right)&&!(e.bottom<=t.top||e.top>=t.bottom)}},{key:"escapeDistance",value:function(e,t){return{toLeftDistance:e.right-t.left,toBottomDistance:t.bottom-e.top,toRightDistance:t.right-e.left,toTopDistance:e.bottom-t.top}}},{key:"isTranslationOutOfBound",value:function(e,t){var n=window.innerWidth,r=window.innerHeight,a=this.state.left+e,o=this.state.bottom+t,i=this.state.width,u=i/this.props.aspectRatio,s=this.props.margin.x,l=n-i-this.props.margin.x,c=this.props.margin.y,f=r-u-this.props.margin.y;return c>o||o>f||(s>a||a>l)}},{key:"render",value:function(){var e=this.getDimensions(),t={width:e.width,height:e.height,bottom:this.state.bottom+"px",left:this.state.left+"px"};return c.createElement("div",{ref:this.setRefComponent,className:(0,l.default)(this.props.className,h.default.moveResizeComponentContainer),style:t},c.createElement("div",{className:(0,l.default)(h.default.topResizer,h.default.resizer,{[h.default.defaultCursor]:1===this.state.currentAction}),onMouseDown:this.getResizerCallback(E)}),c.createElement("div",{className:(0,l.default)(h.default.bottomResizer,h.default.resizer,{[h.default.defaultCursor]:1===this.state.currentAction}),onMouseDown:this.getResizerCallback(1)}),c.createElement("div",{className:(0,l.default)(h.default.leftResizer,h.default.resizer,{[h.default.defaultCursor]:1===this.state.currentAction}),onMouseDown:this.getResizerCallback(2)}),c.createElement("div",{className:(0,l.default)(h.default.rightResizer,h.default.resizer,{[h.default.defaultCursor]:1===this.state.currentAction}),onMouseDown:this.getResizerCallback(3)}),c.createElement("div",{className:(0,l.default)(h.default.topRightResizer,h.default.resizer,{[h.default.defaultCursor]:1===this.state.currentAction}),onMouseDown:this.getResizerCallback(4)}),c.createElement("div",{className:(0,l.default)(h.default.topLeftResizer,h.default.resizer,{[h.default.defaultCursor]:1===this.state.currentAction}),onMouseDown:this.getResizerCallback(5)}),c.createElement("div",{className:(0,l.default)(h.default.bottomRightResizer,h.default.resizer,{[h.default.defaultCursor]:1===this.state.currentAction}),onMouseDown:this.getResizerCallback(6)}),c.createElement("div",{className:(0,l.default)(h.default.bottomLeftResizer,h.default.resizer,{[h.default.defaultCursor]:1===this.state.currentAction}),onMouseDown:this.getResizerCallback(7)}),c.createElement("div",{className:(0,l.default)(h.default.moveable,{[h.default.defaultCursor]:1===this.state.currentAction}),onMouseDown:this.onMoveStart},this.props.children))}}]),t}(),S=function(){var e=this;this.setStateTimer=new g.default(function(t){e.setState(t)}),this.setRefComponent=function(t){e.refComponent=t},this.addListeners=function(){window.addEventListener("mousemove",e.onMouseMove),window.addEventListener("mouseup",e.onMouseUp),window.addEventListener("resize",e.handleResize),e.props.listeners.add(f.default,"floater_escape_overlap",e.escapeOverlapMove)},this.getInitialStyle=function(){return e.props.initialStyle?{width:e.props.initialStyle.width,left:e.props.initialStyle.left,bottom:e.props.initialStyle.bottom}:{width:e.props.minWidth,left:e.props.margin.x,bottom:e.props.margin.y}},this.getResizerCallback=function(t){return function(n){0===n.button&&e.setState({resizeDirection:t,currentAction:1,resizeStartPiPStyle:{width:e.state.width,left:e.state.left,bottom:e.state.bottom},resizeStartMousePosition:{x:n.clientX,y:n.clientY}}),n.stopPropagation()}},this.onMoveStart=function(t){0===t.button&&e.setState({currentAction:2,moveStartPositionStyle:{left:e.state.left,bottom:e.state.bottom},moveStartMousePosition:{x:t.clientX,y:t.clientY}}),t.stopPropagation()},this.handleResize=(0,i.default)(function(){var t=window.innerHeight-2*e.props.margin.y,n=window.innerWidth-2*e.props.margin.x,r=e.state.width,i=r/e.props.aspectRatio,u=e.state.bottom,s=e.state.left;i>t&&(i=t,r=t*e.props.aspectRatio),r>n&&(i=n/e.props.aspectRatio,r=n),u+i>t+e.props.margin.y&&(u=t+e.props.margin.y-i),s+r>n+e.props.margin.x&&(s=n+e.props.margin.x-r),e.state.previousWindowSize.width<s+r+e.props.margin.x+3&&(s=n+e.props.margin.x-r),e.state.previousWindowSize.height<u+i+e.props.margin.y+3&&(u=t+e.props.margin.y-i);var l=null!=e.state.previousConvPanelRightBorder&&e.state.previousConvPanelRightBorder>0&&Math.abs(e.state.left+r+e.props.margin.x-e.state.previousConvPanelRightBorder)<3,c=void 0;f.default.getConversationHeaderOffset(function(e){c=e.right});var d=c&&c<window.innerWidth;l&&null!=c&&0!==c&&d&&(s=c-e.props.margin.x-r);var p={bottom:Math.max(e.props.margin.y,u),left:Math.max(e.props.margin.x,s),width:Math.max(e.props.minWidth,r),previousWindowSize:{height:window.innerHeight,width:window.innerWidth},previousConvPanelRightBorder:c},h=(0,o.default)(e.state,["bottom","left","width","previousWindowSize","previousConvPanelRightBorder"]);(0,a.default)(p,h)||e.setState(p)},50),this.validateMoveResize=function(t,n,a,o){var i=t,u=n,s=a,l=0,c=0,f=0;switch(o){case 1:l=e.state.resizeStartPiPStyle.width,c=e.state.resizeStartPiPStyle.left,f=e.state.resizeStartPiPStyle.bottom;break;case 2:l=e.state.width,c=e.state.moveStartPositionStyle.left,f=e.state.moveStartPositionStyle.bottom}var d=window.innerHeight,p=window.innerWidth,h=l+i,m=h/e.props.aspectRatio,b=f+s,g=(0,r.default)(b,2),v=c+u,y=(0,r.default)(v,2),_=e.props.minWidth,E=(0,r.default)(e.props.margin.y,2),j=(0,r.default)(d-m-e.props.margin.y,2),O=(0,r.default)(e.props.margin.x,2),S=(0,r.default)(p-h-e.props.margin.x,2);if(E>g||g>j)switch(o){case 1:s=0,u=0,i=0;break;case 2:s=0}if(O>y||y>S)switch(o){case 1:s=0,u=0,i=0;break;case 2:u=0}if(i&&b+m+e.props.margin.y>d)switch(o){case 1:s=0,u=0,i=0}if(i&&v+h+e.props.margin.x>p)switch(o){case 1:s=0,u=0,i=0}return(h<_||m+2*e.props.margin.y>d||h+2*e.props.margin.x>p)&&(s=0,u=0,i=0),{deltaWidth:i,deltaBottom:s,deltaLeft:u}},this.onMouseMove=function(t){var n=0,r=0,a=0,o=0,i=void 0;switch(e.state.currentAction){case j:return;case 1:switch(e.state.resizeDirection){case E:n=(r=e.state.resizeStartMousePosition.y-t.clientY)*e.props.aspectRatio;break;case 1:n=(r=t.clientY-e.state.resizeStartMousePosition.y)*e.props.aspectRatio,o=-r;break;case 3:o=-(r=(n=t.clientX-e.state.resizeStartMousePosition.x)/e.props.aspectRatio);break;case 2:o=-(r=(n=e.state.resizeStartMousePosition.x-t.clientX)/e.props.aspectRatio),a=-n;break;case 4:r=(n=Math.max(t.clientX-e.state.resizeStartMousePosition.x,e.props.aspectRatio*(e.state.resizeStartMousePosition.y-t.clientY)))/e.props.aspectRatio;break;case 5:r=(n=Math.max(e.state.resizeStartMousePosition.x-t.clientX,e.props.aspectRatio*(e.state.resizeStartMousePosition.y-t.clientY)))/e.props.aspectRatio,a=-n;break;case 6:o=-(r=(n=Math.max(t.clientX-e.state.resizeStartMousePosition.x,e.props.aspectRatio*(t.clientY-e.state.resizeStartMousePosition.y)))/e.props.aspectRatio);break;case 7:o=-(r=(n=Math.max(e.state.resizeStartMousePosition.x-t.clientX,e.props.aspectRatio*(t.clientY-e.state.resizeStartMousePosition.y)))/e.props.aspectRatio),a=-n}var u=0,s=0,l=0;if(0===(i=e.validateMoveResize(n,a,o,1)).deltaWidth&&0===i.deltaLeft&&0===i.deltaBottom){if(n<0)switch(e.state.resizeDirection){case E:case 4:n=e.props.minWidth-e.state.resizeStartPiPStyle.width,o=0,a=0;break;case 5:a=-(n=e.props.minWidth-e.state.resizeStartPiPStyle.width),o=0;break;case 1:case 3:case 6:o=-(r=(n=e.props.minWidth-e.state.resizeStartPiPStyle.width)/e.props.aspectRatio),a=0;break;case 2:case 7:o=-(r=(n=e.props.minWidth-e.state.resizeStartPiPStyle.width)/e.props.aspectRatio),a=-n}else if(n>0){var c=e.state.resizeStartPiPStyle.width/e.props.aspectRatio;switch(e.state.resizeDirection){case E:case 4:n=Math.min(window.innerWidth-e.props.margin.x-e.state.resizeStartPiPStyle.width-e.state.resizeStartPiPStyle.left,e.props.aspectRatio*(window.innerHeight-e.props.margin.y-c-e.state.resizeStartPiPStyle.bottom))-.1;break;case 5:r=(n=Math.min(e.state.resizeStartPiPStyle.left-e.props.margin.x,e.props.aspectRatio*(window.innerHeight-e.props.margin.y-c-e.state.resizeStartPiPStyle.bottom))-.1)/e.props.aspectRatio,a=-n;break;case 1:case 3:case 6:o=-(r=(n=Math.min(window.innerWidth-e.props.margin.x-e.state.resizeStartPiPStyle.width-e.state.resizeStartPiPStyle.left,e.props.aspectRatio*(e.state.resizeStartPiPStyle.bottom-e.props.margin.y))-.1)/e.props.aspectRatio);break;case 2:case 7:o=-(r=(n=Math.min(e.state.resizeStartPiPStyle.left-e.props.margin.x,e.props.aspectRatio*(e.state.resizeStartPiPStyle.bottom-e.props.margin.y))-.1)/e.props.aspectRatio),a=-n}}u=e.state.resizeStartPiPStyle.width+n,s=e.state.resizeStartPiPStyle.left+a,l=e.state.resizeStartPiPStyle.bottom+o,e.setState({width:u,left:s,bottom:l})}else u=e.state.resizeStartPiPStyle.width+i.deltaWidth,s=e.state.resizeStartPiPStyle.left+i.deltaLeft,l=e.state.resizeStartPiPStyle.bottom+i.deltaBottom,e.setState({width:u,left:s,bottom:l});e.props.onResize&&e.props.onResize(u,s,l);break;case 2:a=t.clientX-e.state.moveStartMousePosition.x,o=e.state.moveStartMousePosition.y-t.clientY,i=e.validateMoveResize(n,a,o,2);var f=0,d=0;f=0!==a&&0===i.deltaLeft?a>0?window.innerWidth-e.state.width-e.props.margin.x:e.props.margin.x:e.state.moveStartPositionStyle.left+i.deltaLeft,d=0!==o&&0===i.deltaBottom?o>0?window.innerHeight-e.state.width/e.props.aspectRatio-e.props.margin.y-.1:e.props.margin.y:e.state.moveStartPositionStyle.bottom+i.deltaBottom,e.setState({left:f,bottom:d}),e.props.onMove&&e.props.onMove(f,d)}},this.onMouseUp=function(t){e.setState({currentAction:j})},this.getRect=function(){return{top:window.innerHeight-e.state.bottom-e.state.width/e.props.aspectRatio,left:e.state.left,bottom:window.innerHeight-e.state.bottom,right:e.state.left+e.state.width}},this.escapeOverlapMove=function(t,n){var r=t.getBoundingClientRect(),a={left:r.left-n,top:r.top-n,right:r.right+n,bottom:r.bottom+n},o=e.getRect();if(e.doOverlap(o,a)){var i=e.escapeDistance(o,a),u=void 0,s=void 0;if(e.isTranslationOutOfBound(-i.toLeftDistance,0)||(void 0===u||i.toLeftDistance<u)&&(u=i.toLeftDistance,s=2),e.isTranslationOutOfBound(0,-i.toBottomDistance)||(void 0===u||i.toBottomDistance<u)&&(u=i.toBottomDistance,s=1),e.isTranslationOutOfBound(i.toRightDistance,0)||(void 0===u||i.toRightDistance<u)&&(u=i.toRightDistance,s=3),e.isTranslationOutOfBound(0,i.toTopDistance)||(void 0===u||i.toTopDistance<u)&&(u=i.toTopDistance,s=E),void 0!==u){var l={};switch(s){case 2:l={left:e.state.left-i.toLeftDistance};break;case 1:l={bottom:e.state.bottom-i.toBottomDistance};break;case 3:l={left:e.state.left+i.toRightDistance};break;case E:l={bottom:e.state.bottom+i.toTopDistance}}var c=(0,v.default)((0,m.default)(e.refComponent),l,{duration:200});Promise.race([c,e.props.rejectOnUnmount()]).checkpoint(e.props.rejectOnUnmount()).then(function(){e.setState(l)}).catch(d.Unmount,function(){})}}}};O.displayName="MoveResizeComponent",t.default=(0,p.default)((0,b.default)(O))},gfgihaeab:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("cccehdaiaf"),i=(r=o)&&r.__esModule?r:{default:r};var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.isSelectable=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"setSelectable",value:function(e){return this.isSelectable=e,this.trigger("update-selectable",e),this.isSelectable}}]),t}();t.default=u},gfhdfcfge:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(a.default.supportsFeature(a.default.F.MD_BACKEND)){Promise.resolve();return Promise.reject(new Error("should never get here: MD_BACKEND GK pass but pragma not defined."))}return o.default.setPushname(e).then(function(e){if(e.status&&200!==e.status)throw new r.ServerStatusCodeError(e.status);return{_duplicate:e._duplicate}})};var r=n("ddjgcfjicj"),a=i(n("bjbdcigbdi")),o=i(n("bihdhbjih"));function i(e){return e&&e.__esModule?e:{default:e}}},ggdiceega:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n("cgcgbfbffj")),a=o(n("cbcbdjdah"));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),t}();i.model=a.default,i.comparator=function(e,t){return t.t-e.t},t.default=i},ggfcffeaf:function(e,t){e.exports={"-color-bg-light":"#f8f8f8",colorBgLight:"#f8f8f8",panelBody:"_1Kstu",searchSpinner:"jqdrp",panelSearch:"a5vst"}},ghbbeafj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=m(n("dbdfbgehgj")),i=m(n("bbchdeehff")),u=m(n("baagejbchg")),s=m(n("biddiiafgd")),l=m(n("bcbahjefec")),c=m(n("bihjahgcja")),f=m(n("dhgdjhdfdh")),d=n("cjcffhicea"),p=m(d),h=m(n("bfgbdiffgd"));function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,l=Array(u),f=0;f<u;f++)l[f]=arguments[f];return n=r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.requestFocus=function(){var e=r.refUIE;if(e){var t=e.getRef();t&&t.onFocusList&&t.onFocusList()}},r.onForwardConfirmed=function(e){var t=r.props,n=t.msgs,a=t.onForward;o.default.forwardMessagesToChats(n,e).catch(c.default,function(e){r.showMediaSendError(e.reasons)}),r.end(),a&&a(n),i.default.openChatFromUnread(e[0])},r.showMediaSendError=function(e){var t=e.map(function(e){var t=e.chat,n=e.reason;return a.createElement("p",{key:t.id.toString()},t.formattedTitle," : ",n)});i.default.openModal(a.createElement(s.default,{onOK:function(){return i.default.closeModal()},okText:l10n.t(1287)},t),void 0)},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default),r(t,[{key:"componentDidMount",value:function(){var e=this.props.msgs,t=l10n.t(465,{_plural:e.length||1}),n=e[0],r=n&&n.chat,o=void 0;o="video"!==n.type&&"image"!==n.type?"message":n.type;var i=e.some(function(e){return e.isFrequentlyForwarded}),s=e.filter(function(e){return!e.isFrequentlyForwarded&&e.getForwardingScoreWhenForwarded()===u.default.FREQUENTLY_FORWARDED_SENTINEL}),l=void 0;h.default.frequentlyForwardedMessages&&s.length&&(l=a.createElement(f.default,{frequentlyForwardedCount:s.length,totalCount:e.length}));var c=h.default.frequentlyForwardedMessages&&i?h.default.frequentlyForwardedMax:h.default.multicastLimitGlobal;this.push(a.createElement(p.default,{onChat:this.onForwardConfirmed,maxItems:c,excludeChat:r,msgType:o,title:t,listType:d.ListType.CHAT_SELECT_MODAL,customHeader:l,hasFrequentlyForwarded:i}))}}]),t}();t.default=g},gicgagfjj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("ccihhdchab"),i=h(n("bbchdeehff")),u=h(n("bcbahjefec")),s=n("bgjddhffji"),l=h(n("bdiiahhjbe")),c=n("eaibdijehg"),f=h(n("eahhieahd")),d=h(n("cjbicbfaej")),p=n("bheafeifce");function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,f=Array(u),h=0;h<u;h++)f[h]=arguments[h];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(f))),r.submitReason=function(e){var t=r.props,n=t.product,a=t.sessionId;return(0,s.logReportProduct)((0,p.unproxy)(n),a),(0,c.reportProduct)(n.catalogWid,n.id.toString(),e)},r.onDelete=function(){r.end()},r.onReport=function(e){r.onShowSubmittedToast(e)},r.onTellUsMore=function(){r.push(a.createElement(d.default,{onTellUsMoreSubmit:r.onReport,onCancel:r.onCancel}),"none")},r.onPopupCancel=function(){r.end()},r.onCancel=function(){r.end()},r.onReportSubmitted=function(){r.end()},r.onShowSubmittedToast=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,o.genId)(),n=r.submitReason(e),u=new o.ActionType(l10n.t(909)),s=n.then(function(){return new o.ActionType(`${l10n.t(908)}. ${l10n.t(942)}`)}).catch(function(n){return l.default.error("error submitting product report",n)(),new o.ActionType(l10n.t(907),l10n.t(950),function(){return r.onShowSubmittedToast(e,t)})});return i.default.openToast(a.createElement(o.ActionToast,{id:t,initialAction:u,pendingAction:s})),r.onReportSubmitted(),n},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),r(t,[{key:"componentDidMount",value:function(){this.push(a.createElement(f.default,{onTellUsMore:this.onTellUsMore,onReport:this.onReport,onPopupCancel:this.onPopupCancel,onCancel:this.onCancel}))}}]),t}();t.default=b},gigbjdedj:function(e,t){e.exports={hover:"_1ySpe",quotedMsg:"_2aWeC",composeBoxQuotedMsg:"_3SwSG",msg:"OuwTy",colorBar:"_11Kl0",msgBody:"vuD1j"}},gigddihfd:function(e,t){e.exports={wrapper:"_2ks1A"}},gigfajjic:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendConversationSeen=function(e,t,n){var o=void 0;o=a.default.supportsFeature(a.default.F.MD_BACKEND)?Promise.reject(new Error("Should not reach here")):i.default.sendConversationSeen(e.id,t,n).then(function(e){var t=e.status,n=e._duplicate;return 200!==t?Promise.reject(new r.ServerStatusCodeError(t)):{_duplicate:n}});return o},t.sendConversationUnseen=function(e,t){return a.default.supportsFeature(a.default.F.MD_BACKEND)?Promise.resolve():i.default.sendConversationUnseen(e,t).then(function(e){var t=e.status;if(200!==t)return Promise.reject(new r.ServerStatusCodeError(t))})},t.markConversationSeen=function(e,t){if(a.default.supportsFeature(a.default.F.MODEL_STORAGE))return o.Chat.merge(e.toString(),{unreadCount:t});return Promise.resolve()},t.markConversationUnseen=function(e){if(a.default.supportsFeature(a.default.F.MODEL_STORAGE))return o.Chat.merge(e.toString(),{unreadCount:-1});return Promise.resolve()};var r=n("ddjgcfjicj"),a=u(n("bjbdcigbdi")),o=n("cefcddgdgg"),i=u(n("bihdhbjih"));function u(e){return e&&e.__esModule?e:{default:e}}},gigggciff:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=y(n("dffedieagi")),i=y(n("cehjjfagii")),u=y(n("bbchdeehff")),s=y(n("baagejbchg")),l=y(n("dhhfaeacef")),c=n("cgbdcdhgig"),f=y(n("bffjfbgbg")),d=y(n("eiiicijcj")),p=y(n("bfbggcdbfb")),h=y(n("ddadaeidcc")),m=n("caafgbfcba"),b=y(m),g=y(n("ihfccfgdf")),v=y(n("bfdcadbbif"));function y(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.showMediaMissing=function(){u.default.openModal(a.createElement(d.default,{msg:n.props.msg}))},n.downloadMedia=function(){n.props.msg.downloadMedia(!1,p.default.WEBC_RMR_REASON_CODE.MSG_RENDER)},n._forceDownloadMedia=function(){n.props.msg.downloadMedia(!0,p.default.WEBC_RMR_REASON_CODE.MSG_CLICK)},n.cancelDownload=function(){n.props.msg.cancelDownload()},n.cancelUpload=function(){n.props.msg.cancelUpload()},n.resumeUpload=function(){n.props.msg.resumeUpload()},n.resumeRemoteUpload=function(){n.props.msg.resumeRemoteUpload()},n.handleTimeUpdate=function(e){n.setState({currentTime:e})},n.handlePlayingUpdate=function(e){var t=n.props.msg;e&&(0,c.canMarkPlayed)(t)&&(0,c.markPlayed)(t),n.setState({autoPlay:!1,playing:e})},n.state={currentTime:0,playing:!1,autoPlay:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.downloadMedia()}},{key:"render",value:function(){var e=this.props,t=e.msg,n=e.mediaData,r=t.ack===s.default.ACK_PLAYED,u=r?t.isSentByMe?"ptt-out-blue":"ptt-in-blue":t.isSentByMe?"ptt-out-gray":"ptt-in-green",c=a.createElement("div",{className:h.default.icon,key:"status"},a.createElement(v.default,{name:u})),d=void 0,p=this.state.playing?this.state.currentTime:n.duration;switch(n.mediaStage){case f.default.STAGE.RESOLVED:d=a.createElement(b.default,{mediaData:this.props.mediaData,downloadMedia:this.downloadMedia,autoPlay:this.state.autoPlay,duration:p,onPlayingUpdate:this.handlePlayingUpdate,onTimeUpdate:this.handleTimeUpdate,outgoingMsg:t.isSentByMe,playing:this.state.playing,played:r,displayType:this.props.displayType,getSequentialMsg:this.props.getSequentialMsg,currMsgId:t.id});break;case f.default.STAGE.NEED_POKE:d=a.createElement(m.AudioPlayerFrame,{icon:a.createElement(v.default,{name:"audio-download"}),outgoingMsg:t.isSentByMe,action:this._forceDownloadMedia});break;case f.default.STAGE.NEED_UPLOAD:d=a.createElement(m.AudioPlayerFrame,{icon:a.createElement(v.default,{name:"audio-upload"}),outgoingMsg:t.isSentByMe,action:this.resumeUpload});break;case f.default.STAGE.REMOTE_NEED_UPLOAD:d=a.createElement(m.AudioPlayerFrame,{icon:a.createElement(v.default,{name:"audio-upload"}),outgoingMsg:t.isSentByMe,action:this.resumeRemoteUpload});break;case f.default.STAGE.ERROR_MISSING:d=a.createElement(m.AudioPlayerFrame,{icon:a.createElement(v.default,{name:"audio-play",directional:!0}),outgoingMsg:t.isSentByMe,action:this.showMediaMissing});break;case f.default.STAGE.UPLOADING:case f.default.STAGE.SENDING:d=a.createElement(m.AudioPlayerFrame,{spinner:!0,outgoingMsg:t.isSentByMe,fileSize:n.size});break;default:d=a.createElement(m.AudioPlayerFrame,{spinner:!0,outgoingMsg:t.isSentByMe})}var g=this.props.displayAuthor&&!t.isSentByMe&&t.isGroupMsg?a.createElement(i.default,{msg:t,contact:t.senderObj}):null,y=a.createElement(l.default,{id:t.senderObj.id,size:55});return a.createElement(o.default,{msg:t,quotedMsg:this.props.quotedMsg,author:g,status:c,player:d,avatar:y,displayType:this.props.displayType})}}]),t}();_.CONCERNS={msg:["ack","isSentByMe","isGroupMsg","senderObj","id"],mediaData:["duration","type","mediaStage","renderableUrl","size"]},_.displayName="PTT",t.default=(0,g.default)(_,_.CONCERNS)},gjcabeieb:function(e,t,n){"use strict";e.exports={singleByte:["quick_reply","sticker","pay_t","accept","reject","sticker_pack","invalid","canceled","missed","connected","result","audio","video","recent"]}},gjhhbhigc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("cgeeeeddea"),i=(r=o)&&r.__esModule?r:{default:r};var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,null,[{key:"match",value:function(e,t,n){(0,i.default)(!1,"Subclasses of `Mutator` must override `match()`")}},{key:"mutate",value:function(e,t,n){return e}}]),e}();u.nestable=!0,u.format=!0,u.fragment=!1,u.compatibility=!1,u.mutates=!1,t.default=u},habcbfced:function(e,t){e.exports={body:"_1fhyI",bubbleIn:"_1H_gm",bubbleOut:"_2_ZNx",bodyIcon:"Eb9Tn",bodyIconMultiline:"kgI2A",bodyText:"_37ii8"}},habccggff:function(e,t){e.exports={videoFloater:"_1p-0O",bgImg:"_20Y2q",bottomLayer:"_2MK_3"}},hadecdfeb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=n("eagfdbhhhh");function o(e){var t=e.children,n=e.selectable;return r.createElement(a.SelectableEm,{selectable:n,appTextTemplate:"_${appText}_"},t)}o.displayName="Italic",o.defaultProps={children:""},t.default=o},haehdhfbi:function(e,t){e.exports={verified:"_3ATTl",psa:"_3E_9T",icon:"ChMwW",hasLabels:"_3NWy8",labels:"_2Ol0p"}},hagbbjbah:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TLD="abb|abbott|abc|abudhabi|ac|academy|accountant|actor|ad|ads|adult|ae|aero|af|africa|ag|agency|ai|al|alsace|am|amsterdam|ao|apartments|app|apple|aq|ar|archi|army|art|as|asia|at|au|auction|audio|auto|aws|ax|axa|az|ba|baby|band|bank|bar|barcelona|barclaycard|barclays|basketball|bayern|bb|bd|be|beer|berlin|best|bet|bf|bg|bh|bi|bible|bid|bike|bio|biz|bj|black|blog|blue|bm|bn|bnpparibas|bo|bot|boutique|box|br|bradesco|broker|brother|brussels|bs|bt|build|builders|business|buzz|bw|by|bz|ca|cab|cafe|cam|camera|camp|canon|capital|cards|care|careers|cars|casa|cash|casino|cat|cc|cd|center|ceo|cern|cf|cg|ch|chat|cheap|christmas|chrome|church|ci|city|ck|cl|claims|click|clinic|clothing|cloud|club|cm|cn|co|coach|codes|coffee|college|com|community|company|computer|condos|construction|consulting|contractors|cooking|cool|coop|corsica|coupons|courses|cr|credit|cricket|crs|cruises|cu|cv|cw|cx|cy|cymru|cz|dance|date|dating|de|deals|degree|delivery|dental|dentist|desi|design|dev|dhl|diamonds|diet|digital|direct|directory|discount|dj|dk|dm|do|doctor|dog|domains|download|dvag|dz|earth|ec|eco|edu|education|ee|eg|email|energy|engineering|enterprises|es|estate|et|etisalat|eu|eus|events|exchange|expert|exposed|express|fail|faith|family|fan|fans|farm|fashion|fi|film|finance|fish|fishing|fit|fitness|fj|flowers|fm|fo|football|forex|forsale|foundation|fr|frl|fun|fund|furniture|futbol|fyi|ga|gal|gallery|game|games|garden|gd|gdn|ge|gg|gh|gi|gift|gifts|gives|gl|glass|gle|global|gm|gmbh|gn|gold|golf|goog|google|gop|gov|gp|gq|gr|graphics|gratis|green|group|gs|gt|guide|guru|gy|hamburg|haus|health|healthcare|help|here|hermes|hisamitsu|hitachi|hk|hm|hn|hockey|holdings|holiday|homes|honda|horse|hospital|host|hosting|hot|house|how|hr|ht|hu|icu|id|ie|il|im|in|inc|industries|info|ink|institute|insure|int|international|investments|io|iq|ir|irish|is|ismaili|ist|istanbul|it|jcb|je|jewelry|jm|jo|jobs|jp|kaufen|ke|kg|kh|ki|kim|kitchen|kiwi|kn|koeln|komatsu|kp|kpmg|kr|krd|kred|kw|ky|kyoto|kz|la|land|lat|law|lawyer|lb|lc|leclerc|legal|li|lidl|life|lighting|limited|limo|link|live|lk|llc|loan|loans|lol|london|love|lr|ls|lt|ltd|lu|luxury|lv|ly|ma|madrid|maison|management|market|marketing|markets|mba|mc|md|me|media|melbourne|men|menu|mg|miami|mil|mk|ml|mm|mn|mo|mobi|moda|moe|moi|mom|monash|money|monster|moscow|movie|mp|mq|mr|ms|mt|mu|museum|mv|mw|mx|my|mz|na|nagoya|name|nc|ne|net|network|neustar|news|nf|ng|ngo|ni|nico|ninja|nl|no|np|nrw|ntt|nu|nyc|nz|observer|office|okinawa|om|one|onl|online|ooo|org|organic|ovh|pa|page|paris|partners|parts|party|pe|pet|pf|pg|ph|pharmacy|photo|photography|photos|pics|pictet|pictures|pink|pioneer|pizza|pk|pl|place|plus|pm|pn|poker|porn|post|pr|press|pro|prod|productions|promo|properties|ps|pt|pub|pw|py|qa|quebec|radio|re|realestate|realtor|realty|recipes|red|ren|rent|rentals|repair|report|rest|restaurant|review|reviews|ricoh|rio|rip|ro|rocks|rodeo|rs|ru|rugby|ruhr|run|rw|sa|sale|salon|sandvik|sap|sas|saxo|sb|sbi|sc|schmidt|school|schule|science|scot|sd|se|security|services|sex|sexy|sg|sh|sharp|shiksha|shoes|shop|shopping|show|si|singles|site|sk|ski|sl|sm|sn|sncf|so|soccer|social|software|solar|solutions|sony|soy|space|sport|spot|sr|srl|st|stockholm|store|stream|studio|study|style|su|supply|support|surf|sv|swiss|sx|sy|sydney|systems|sz|taipei|tatamotors|tatar|tax|taxi|tc|td|team|tech|technology|tel|tennis|tf|tg|th|theater|tickets|tips|tires|tj|tk|tl|tm|tn|to|today|tokyo|tools|top|tours|town|toyota|toys|tr|trade|trading|training|travel|trust|tt|tube|tv|tw|tz|ua|ug|uk|university|uno|uol|us|uy|uz|va|vacations|vanguard|vc|ve|vegas|ventures|vet|vg|vi|video|villas|vin|vip|vision|vn|vote|voyage|vu|wales|wang|watch|webcam|weber|website|wedding|weir|wf|wien|wiki|win|wine|work|works|world|ws|wtf|xin|xyz|yandex|ye|yoga|yokohama|youtube|yt|za|zip|zm|zone|zw|||||||||||||||"},haidjjcae:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=d(n("dgdjiicfdg")),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=d(n("cfadcbbiie")),s=d(n("bbchdeehff")),l=d(n("fifhbjiec")),c=d(n("eceadcicaf")),f=n("caceaafdic");function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=function(e){function t(){var e,n,r;p(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={hide:!1},r.rerender=function(){r.forceUpdate()},h(r,n)}return m(t,i.PureComponent),a(t,[{key:"componentDidMount",value:function(){this.maybeRegMidnight()}},{key:"componentDidUpdate",value:function(){this.maybeRegMidnight()}},{key:"getTimestamp",value:function(){return this.props.timestamp}},{key:"hide",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){this.state.hide!==e&&this.setState({hide:e})})},{key:"maybeRegMidnight",value:function(){this.props.listeners.remove(s.default,"midnight",this.rerender);var e=(0,o.default)().startOf("day").subtract(7,"day");this.props.timestamp>=e.unix()&&this.props.listeners.add(s.default,"midnight",this.rerender)}},{key:"render",value:function(){var e=u.default.relativeDateStr(this.props.timestamp);return i.createElement(f.SystemBubble,{hidden:this.state.hide},i.createElement(l.default,{direction:"auto",text:e.toUpperCase()}))}}]),t}();b.displayName="DateMarker";var g=(0,c.default)(b),v=function(e){function t(){return p(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,g),a(t,[{key:"getTimestamp",value:function(){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).getTimestamp()}},{key:"hide",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).hide(e)})}]),t}();t.default=v},hbabifghf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("ebhfgcddae")),i=s(n("bfdcadbbif")),u=s(n("bcjcbbafcj"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setRefVideo=function(e){n._videoRef=e,n.synchronizeVideo()},n.synchronizeVideo=function(){var e=n._videoRef;e&&(n.state.animate?e.paused&&e.play():e.paused||(e.pause(),e.currentTime=0))},n.setShouldAnimate=function(e){n.state.animate===e&&n.state.show||n.setState({animate:e,show:!0},n.synchronizeVideo)},n.handleClick=function(){n.props.onSend(n.props.gif)},n.setRefHotKeys=function(e){n.messagePreviewRef=e},n.onFocus=function(e){e.preventDefault(),e.stopPropagation(),n.setState({focused:!0})},n.onBlur=function(e){e.preventDefault(),e.stopPropagation(),n.setState({focused:!1})},n._videoRef=null,n.state={animate:!1,show:!1,focused:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props.gif,t=null;this.state.show&&(t=u.default.troublesWithLotsOfVideos&&e.nonVideoUrl?a.createElement("img",{className:o.default.body,onClick:this.handleClick,src:e.nonVideoUrl}):a.createElement("video",{className:o.default.body,onClick:this.handleClick,controls:!1,autoPlay:this.state.animate,loop:!0,muted:!0,ref:this.setRefVideo,src:e.previewUrl}));var n=void 0;return this.props.isStarred&&this.props.onUnstarMsg&&(n=a.createElement("button",{className:o.default.icon,onClick:this.props.onUnstarMsg},a.createElement(i.default,{name:"star-light"}))),a.createElement("div",{ref:this.setRefHotKeys,className:o.default.preview,tabIndex:"-1",onFocus:this.onFocus,onBlur:this.onBlur,style:{flexBasis:e.widthStr}},this.state.focused&&a.createElement("div",{style:{flexBasis:e.widthStr},className:o.default.focusBorder}),a.createElement("div",{style:{width:e.widthStr},className:o.default.wrapper},a.createElement("div",{style:{paddingBottom:e.ratioStr},className:o.default.container},t)),n)}}]),t}();l.displayName="GifPreview",t.default=l},hbciiabei:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=E(n("bbchdeehff")),i=E(n("biddiiafgd")),u=E(n("djcchigfih")),s=E(n("djbhiedbef")),l=n("dajffajabh"),c=E(l),f=E(n("fffdgbfji")),d=E(n("ehaaiddhe")),p=n("bddhdheedf"),h=E(n("eceadcicaf")),m=E(n("bfbggcdbfb")),b=E(n("dahdbbghjd")),g=E(n("cbcfgjhjhj")),v=E(n("dceicchccd")),y=E(n("cdjhjdcbeg")),_=E(n("bfdcadbbif"));function E(e){return e&&e.__esModule?e:{default:e}}var j=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onMultiSelect=function(){var t=e.multiSelection.getSelected().length;e.setState({selectedCount:t})},e.shouldScrollIntoViewAndSelect=function(e){return{shouldScrollIntoView:!0,shouldSelect:!1}},e.onDeleteLabel=function(t){o.default.closeModal(),e.multiSelection.unsetAll(),e.props.onDeleteLabel(t)},e.confirmDeleteSelectedLabels=function(){var t=e.multiSelection.getSelected();(0,p.logLabelOperationEvent)(m.default.LABEL_OPERATIONS.VIEW,t.length,m.default.LABEL_TARGETS.DELETE_LABEL_DIALOG),o.default.openModal(a.createElement(i.default,{title:f.default.t(369,{_plural:t.length}),okText:f.default.t(1411),cancelText:f.default.t(1282),onCancel:function(){(0,p.logLabelOperationEvent)(m.default.LABEL_OPERATIONS.CLICK_NEGATIVE,1,m.default.LABEL_TARGETS.DELETE_LABEL_DIALOG),o.default.closeModal()},onOK:function(){(0,p.logLabelOperationEvent)(m.default.LABEL_OPERATIONS.CLICK_POSITIVE,1,m.default.LABEL_TARGETS.DELETE_LABEL_DIALOG),e.onDeleteLabel(t)}}))},e.onCancelSelection=function(){e.multiSelection.unsetAll(),e.setState({selectedCount:0})},e.multiSelection=new v.default([],function(e){return e.id}),e.state={selectedCount:0},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){(0,p.logLabelOperationEvent)(m.default.LABEL_OPERATIONS.VIEW,void 0,m.default.LABEL_TARGETS.LABELS_SCREEN)}},{key:"render",value:function(){var e=null;return e=this.state.selectedCount>0?a.createElement(b.default,{selectedModels:this.multiSelection,onCancel:this.onCancelSelection,onDelete:this.confirmDeleteSelectedLabels,theme:"drawer-header"}):a.createElement(c.default,{title:f.default.t(621),onBack:this.props.onClose,type:l.DRAWER_HEADER_TYPE.LARGE}),a.createElement(u.default,{theme:"settings"},e,a.createElement(s.default,null,a.createElement(g.default,{shouldScrollIntoViewAndSelect:this.shouldScrollIntoViewAndSelect,selectedLabels:this.multiSelection,renderContex:"label-list",onMultiSelect:this.onMultiSelect,onLabelClick:this.props.onLabelClick})),a.createElement("div",{className:d.default.addLabelBtContainer},a.createElement(y.default,{large:!0,onClick:this.props.openAddLabel},a.createElement(_.default,{name:"plus-large"}))))}}]),t}();j.displayName="LabelDrawer",t.default=(0,h.default)(j)},hbfbchadb:function(e,t){e.exports={chatSubtitle:"_3Q3ui",chatSubtitleHeader:"i1XSV",chatSubtitleText:"_315-i"}},hbhjdibhf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n("jcfacighg"));t.findCommonGroups=function(e){var t=(0,i.unproxy)(e),n=t.commonGroups,l=t.id,c=t.promises;if(c.findCommonGroups)return c.findCommonGroups;if(n&&!n.stale)return Promise.resolve();return c.findCommonGroups=s.default.commonGroupsFind(l).then(function(e){if(200===e.status){var i=(0,r.default)(e.groups.map(function(e){return u.default.Chat.get(e)}));return n?(n.set(i),n.stale=!1):t.commonGroups=new a.default(i,l),!0}return o.default.error("models:Contact:findCommonGroups error: "+e.status)(),Promise.reject(new Error("models:Contact:findCommonGroups error: "+e.status))}).finally(function(){c.findCommonGroups=null})};var a=l(n("cjabddhidj")),o=l(n("bdiiahhjbe")),i=n("bheafeifce"),u=l(n("bhggeigghg")),s=l(n("bihdhbjih"));function l(e){return e&&e.__esModule?e:{default:e}}},hcfegac:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(e.__playPromise)return e.__playPromise;var t=new Promise(function(t,n){function r(n){e.removeEventListener("playing",r),e.removeEventListener("error",a),e.videoHeight&&e.videoWidth||r(n),delete e.__playPromise,t(n)}function a(t){e.removeEventListener("playing",r),e.removeEventListener("error",a),delete e.__playPromise,n(t)}e.addEventListener("playing",r),e.addEventListener("error",a);var o,i=e.play();(o=i)&&"function"==typeof o.then&&(e.removeEventListener("playing",r),e.removeEventListener("error",a),i.then(function(){delete e.__playPromise,t()}).catch(function(t){delete e.__playPromise,n(t)}))});return e.__playPromise=t,t}},hciaejfjd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){t&&t.length>0&&t.forEach(function(t){o.default.Label.gadd({id:t}).labeltemColleciton.gadd({id:i(e,t,n),labelId:t,parentId:e,parentType:n})})},t.removeLabelFromCollection=function(e,t,n){var r=o.default.Label.get(t),a=i(e,t,n);r&&r.labeltemColleciton&&r.labeltemColleciton.remove(a)};var r,a=n("bhggeigghg"),o=(r=a)&&r.__esModule?r:{default:r};function i(e,t,n){return`${e}_${t}_${n}`}},hdccjfbbg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Component=t.FREQUENT_PREFIX=t.Type=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=C(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=C(n("effbcehec")),u=C(n("dgibicjjj")),s=C(n("ccfcjccjbg")),l=C(n("cedaiijige")),c=C(n("dhhfaeacef")),f=n("cgejchjdhj"),d=C(n("fifhbjiec")),p=n("bgddggdhc"),h=C(n("ddajbaceej")),m=n("ejbdjaifi"),b=n("dhfbfehaef"),g=C(b),v=C(n("eceadcicaf")),y=C(n("bdiiahhjbe")),_=C(n("bhheahajjg")),E=n("caijdggfg"),j=C(n("ihfccfgdf")),O=n("bheafeifce"),S=C(n("ibeajfihb")),w=C(n("bfdcadbbif")),P=C(n("bcifhbgija")),M=C(n("jccfhaecf"));function C(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var A=t.Type={SMALL:"SMALL",DEFAULT:"DEFAULT"},N=t.FREQUENT_PREFIX="freq_",k=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=T(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.onSearch=function(){r.props.searchQuery?r.setState({searchText:r.props.searchQuery.trimmed}):y.default.error("Contact: prop searchQuery is undefined")()},r.onActiveChange=function(e,t){if("focus"===e){var n=(0,p.forbiddenAssertDOMNode)(r);h.default.focus(n),t&&(0,f.scrollIntoViewIfNeeded)(n)}r.setState({active:!!e})},r.onDelete=function(e){e.stopPropagation();var t=r.props.onDelete;t&&t(e,(0,O.unproxy)(r.props.contact))},r.onClick=function(e){var t=r.props,n=t.onClick,a=t.contact;n&&n(e,(0,O.unproxy)(a))},r.onMouseDown=function(e){0===e.button&&r.onClick(e)},r.onEnter=function(e){e.preventDefault(),e.stopPropagation(),r.onClick(e)},r.onContext=function(e){r.props.onContext&&r.props.onContext(e,r.props.contact)},r.indicateFocus=function(e){e.stopPropagation(),e.preventDefault(),(0,b.indicateFocus)(r.cell,["#e9eaeb","#cbdde7"],{complete:r.onBlur})},r.onBlur=function(e){var t=(0,p.forbiddenFindDOMNode)(r.cell);t&&((0,P.default)(t,"stop"),t.style.backgroundColor="")},T(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){this.setState({contextMenu:!1}),this.initListeners(this.props)}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.listenForAdminChange,r=t.listeners,a=t.participantCollection,o=t.contact;n&&a&&r.add(a,"change:isAdmin change:isSuperAdmin",function(t){M.default.equals(t.id,o.id)&&e.forceUpdate()})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.initListeners(e,this.props)}},{key:"initListeners",value:function(e,t){var n=e.listeners,r=e.active,a=e.contact,o=e.searchQuery,i=e.frequent;if(t&&t.searchQuery&&t.searchQuery!==o&&n.remove(t.searchQuery,E.SEARCH_EVENT,this.onSearch),!o||t&&o===t.searchQuery||n.add(o,E.SEARCH_EVENT,this.onSearch),(!t||!a.id.equals(t.contact.id))&&(t&&t.active&&n.remove(t.active,t.contact.id.toString(),this.onActiveChange),r)){var u=(i?N:"")+a.id.toString();n.add(r,u,this.onActiveChange)}var l=r&&r.value instanceof s.default&&a.isProxyOf(r.value);this.setState({searchText:o?o.trimmed:"",active:l})}},{key:"contextEnabled",value:function(){return!1}},{key:"render",value:function(){var e=this.props,t=e.contact,n=e.secondary,r=e.onContext,s=e.onDelete,f=e.contextEnabled,p=e.contextMenu,h=e.admin,b=e.showNotifyName,v=e.waitIdle,y=e.theme,E=e.useShortName,j=e.detail,O=e.listenForAdminChange,P=e.participantCollection,M=e.isPendingParticipant,C=this.state,T=C.active,N=C.searchText,k=(0,a.default)({[l.default.contactSmall]:this.props.type===A.SMALL}),I=void 0,R=void 0,L=void 0;if(!t.name&&b&&t.notifyName&&(L=o.createElement("span",{className:l.default.screenName},o.createElement(d.default,{direction:"auto",text:t.notifyName}))),(h||O&&P&&P.assertGet(t.id).isAdmin)&&(R=o.createElement("div",{className:l.default.markerAdmin},l10n.t(1198))),M&&(R=o.createElement("div",{className:l.default.markerInvited},l10n.t(558))),j)I=j;else if(s){var D=this.props.type===A.SMALL?"x-alt-small":"x-alt";I=o.createElement("div",{"data-a8n":i.default.key("chat-controls"),className:l.default.chatControls,role:"button",onClick:this.onDelete},o.createElement(w.default,{name:D}))}var x=n;x||(x=o.createElement(S.default,{id:t.id,waitIdle:v}));var U=void 0;r&&(U=this.onContext);var G=this.props.type===A.SMALL?26:null,F={enter:this.onEnter},B=this.props.mouseDownAsClick,$=o.createElement(_.default,{contact:t,useShortName:E,highlightText:N,showLabel:!0,titlify:!0,ellipsify:!0,you:!0}),V="list-names"!==y||s?y:"list-names-no-delete";return o.createElement(g.default,{handlers:F,onFocus:this.indicateFocus,onBlur:this.onBlur,className:k},o.createElement(u.default,{ref:(0,m.GetRef)("cell",this),theme:V,active:T,contextEnabled:f||this.contextEnabled,contextMenu:p,pendingAction:t.pendingAction,detail:I,image:o.createElement(c.default,{id:t.id,size:G,waitIdle:v}),primary:$,primaryDetail:R,secondary:x,secondaryDetail:L,onClick:B?null:this.onClick,onMouseDown:B?this.onMouseDown:null,onContext:U}))}}]),t}();k.CONCERNS={contact:["id","pendingAction","notifyName","name"]},k.displayName="Contact";t.Component=k;t.default=(0,v.default)((0,j.default)(k,k.CONCERNS))},hddadiifa:function(e,t){e.exports={container:"_26JG5",containerNoIcon:"_10L7G",containerListAligned:"pgYve",icon:"_1tyVr",bodyContainer:"_27Ie2",body:"_1SYAj"}},hddfjdhii:function(e,t,n){"use strict";e.exports={SMILEYS_PEOPLE:[1731,1734,1735,1732,1737,1736,1733,2085,79,1741,1738,1797,1798,1740,1743,1744,2261,1755,1754,1756,1757,1742,1758,1760,1759,2103,2101,2351,2034,1745,2102,2262,1746,1749,1761,1751,1762,1752,1796,78,1766,1753,1774,1772,2266,1765,1776,1767,1763,1764,2105,2108,1782,2264,2265,1780,1771,1779,1768,1750,2038,2035,2106,2104,2087,1785,1747,1748,1775,1799,1778,1769,1770,1777,1781,1783,2086,1773,1784,2031,2263,2084,2107,2100,1786,2033,2036,2032,2082,1739,1368,1357,1358,2083,1468,1359,1369,70,1366,1367,2037,624,1789,1787,1788,1790,1791,1792,1795,1794,1793,2121,952,1851,946,2069,934,940,916,153,2057,2063,2070,165,2076,2039,928,904,910,892,898,64,159,2051,1687,1699,922,2045,1469,1693,171,1881,2317,2311,1400,1434,890,2323,891,878,884,976,876,875,2482,1721,977,978,1333,985,2358,979,1117,2352,991,1225,1099,1219,1093,1292,1291,1237,1111,1231,1105,2370,1327,2364,1321,1303,1310,1309,2376,1272,1271,1340,1339,1383,1382,1661,1660,1123,997,1141,1015,1147,1021,1153,1027,1159,1033,1171,1045,1177,1051,1183,1057,1189,1063,1195,1069,1201,1075,1165,1039,1213,1087,1135,1009,1207,1081,1129,1003,1285,2139,1351,2133,2325,2324,2337,2336,2145,626,2419,2418,2467,2466,2443,2442,2481,2480,2479,2478,2455,2454,2431,2430,1360,2109,2115,1825,1824,1371,1370,1801,1800,1813,1812,1840,1839,2089,2088,2152,2151,1870,1869,1858,1857,1420,1419,1408,1407,2383,2382,1401,2127,1394,1676,1284,1283,1654,1975,1974,689,688,1268,1270,1269,1443,1444,1442,1439,1440,1438,1253,1255,1256,1254,1257,1263,1265,1266,1264,1267,1248,1250,1251,1249,1252,1258,1260,1261,1259,1262,1243,1245,1246,1244,1247,2504,2503,2487,2267,967,962,963,961,964,966,965,2270,973,974,975,971,972,2269,2488,2486,2485,662,2484,959,645,122,958,1436,970,968,969,1492,644,2501,960,1672,2268,497],ANIMALS_NATURE:[865,860,856,868,859,2281,870,871,851,858,2272,857,866,872,867,864,1836,1837,1838,829,831,850,849,847,846,848,2277,2276,2280,2278,869,834,863,2275,840,838,2282,823,841,839,2302,2294,1673,1674,2273,845,824,2285,2293,2292,836,2288,2287,2301,2271,844,843,842,855,862,822,2279,821,816,817,2290,2284,835,2298,2286,853,854,2289,2295,814,813,815,825,833,826,828,2296,827,2283,832,852,819,830,2274,2297,2299,2305,1622,818,2300,2304,812,811,874,2291,873,820,861,546,625,543,544,545,542,556,63,557,639,637,560,559,558,561,837,555,1441,548,550,2214,551,549,553,552,525,524,522,523,521,516,517,518,519,512,513,514,515,520,509,508,510,1475,209,526,183,110,58,1464,1596,535,503,54,529,118,530,55,531,532,119,534,533,186,57,117,537,1467,1466,1465,61,56,505,536],FOOD_DRINK:[572,571,573,567,568,569,566,564,576,565,575,574,2258,570,2250,2242,562,563,2230,2251,2257,2231,547,554,2234,2233,589,2229,2260,587,2235,2253,2348,2239,608,2243,2232,2254,580,579,2310,538,577,588,578,2255,2238,539,540,2236,2237,2256,586,585,607,584,592,606,2244,593,582,583,581,594,2245,2259,591,590,596,597,595,2252,2349,605,623,603,602,601,600,620,598,599,541,2241,604,2240,617,62,610,2249,611,615,616,2216,612,2217,613,614,619,2218,609,618,2248,2246,2247,2350],ACTIVITY:[115,685,720,116,2227,683,761,721,2228,670,764,803,763,762,2226,760,2219,130,804,656,2223,2224,682,2030,2028,134,2225,684,133,687,735,734,2189,2188,2164,2163,136,135,2187,2203,2202,747,746,714,2407,2406,701,700,723,722,2191,2190,1923,1922,2395,2394,1963,1962,1951,1950,713,2220,2221,2222,712,646,801,647,664,652,663,2176,2175,666,661,665,657,660,681,678,2215,676,679,677,680,671,92,668,672,667,669,2491],TRAVEL_PLACES:[1910,1908,1912,1899,1901,759,1906,1904,1905,1903,1913,1914,1915,2025,1948,2026,758,1938,1907,1900,1911,1909,1920,1919,1918,1890,1898,1917,1916,1891,1892,1895,1889,1893,1894,1897,1896,151,2021,2022,2020,1490,2023,1887,2029,1888,2027,132,1934,2019,2024,131,1921,102,148,1937,1936,1935,1902,1725,1730,1728,1727,793,792,776,654,655,653,129,128,767,774,773,506,127,765,1726,766,147,777,778,769,771,768,790,779,789,780,781,782,783,785,787,788,786,1445,772,126,1624,1625,1623,125,2018,2017,1729,643,775,500,499,527,633,632,502,501,770,498,507,504,496],OBJECTS:[27,1545,1546,1491,29,1706,1707,1708,1709,1675,1717,1493,1494,1495,1496,1556,1551,1552,1553,658,1557,651,1526,59,1527,1528,1554,1555,648,649,650,2495,39,40,38,1652,28,41,1529,1570,1571,1460,1597,1651,2497,2016,1488,1485,1484,1486,1487,1480,1483,1437,104,2498,1598,1599,101,2014,121,1600,106,2499,123,2500,1602,1462,2490,1601,1720,103,2015,1942,113,114,805,1605,1558,2513,1431,105,1604,1603,1653,1433,1432,2494,2303,2493,2492,528,2507,2508,2509,1992,1946,1994,2001,1995,2510,2511,2502,2009,1576,1718,1940,2006,2010,2007,2506,1710,2008,2013,622,634,641,621,636,635,640,791,642,2489,152,1537,1536,1535,1435,1533,1532,1534,802,1538,1539,1540,1541,1542,1543,1524,1499,1500,1513,2512,1506,1504,1505,1715,1716,1502,1501,1714,1503,1712,1724,1713,1507,1497,1498,1711,1719,1544,1515,1516,1514,1517,1519,1520,1521,1522,1518,1581,2505,1582,1510,1682,1512,1511,2496,1508,1509,149,1683,1684,178,1685,1686,1525,177,1572,1573,1574,1575,1577,1578],SYMBOLS:[195,2483,1454,1453,1452,1455,1705,1447,194,1448,1457,1446,1450,1449,1451,1456,1458,75,181,74,1621,77,182,1606,1626,76,73,2011,120,80,81,82,83,84,85,86,87,88,89,90,91,225,107,494,71,72,1548,1547,488,482,490,492,489,185,231,1478,493,214,213,486,487,491,484,217,218,221,222,219,229,188,210,2012,124,1523,1941,1479,1461,97,1986,1945,1949,1947,1589,1549,1943,193,192,190,191,15,16,1564,1565,212,109,1987,1608,108,1607,98,150,483,1489,187,184,189,511,1459,45,495,1463,784,1993,100,220,485,481,2002,2003,2004,2005,1988,1989,1991,1990,1944,659,1550,480,1594,18,1595,1592,1591,227,228,230,223,226,224,3,4,5,6,7,8,9,10,11,12,1590,1593,1,2,30,48,42,37,43,44,35,36,31,32,33,34,49,1619,1620,199,204,205,206,22,23,24,21,20,19,26,25,202,203,1559,1560,1561,1563,1562,674,675,196,197,198,180,99,1482,1481,17,13,14,877,1585,1584,1586,1588,1587,211,200,201,179,60,1583,111,112,1611,1612,1617,1618,1615,1616,1613,1614,1610,1609,46,47,53,52,51,50,207,208,1567,1566,1568,1569,1579,1580,1531,1530,1476,1477,1723,93,94,95,96,216,673,215,1627,1628,1629,1630,1631,1632,1633,1634,1635,1636,1637,1638,1639,1640,1641,1642,1643,1644,1645,1646,1647,1648,1649,1650],FLAGS:[794,796,797,686,1939,795,2514,461,234,246,237,292,242,232,239,236,240,235,241,238,245,244,243,247,263,254,250,249,266,251,267,256,258,264,260,248,265,262,337,468,259,253,252,255,348,277,268,331,282,261,355,271,444,276,278,284,269,279,350,272,270,275,280,274,328,281,283,285,286,289,288,290,291,293,295,439,319,297,294,299,300,303,305,302,301,306,311,405,445,307,316,310,287,313,314,320,315,309,318,323,322,312,317,324,325,329,327,326,330,340,336,332,339,338,333,335,334,341,343,345,638,342,344,356,346,349,474,354,347,357,366,358,363,362,367,360,364,365,378,374,372,386,388,385,375,383,373,380,381,384,476,387,304,370,369,377,371,382,368,389,376,390,399,398,396,391,401,395,392,394,400,393,352,379,397,402,408,415,413,403,406,416,404,407,411,409,414,412,417,418,419,421,422,473,433,438,423,434,420,425,432,428,440,431,430,321,424,435,477,353,437,298,361,257,429,351,359,410,466,426,436,442,427,273,441,457,448,458,447,450,446,449,453,455,452,454,451,443,456,469,460,459,233,308,798,799,800,462,463,464,471,465,467,470,472,296,475,478,479]}},hdgfdagbc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=u(n("ceffhbhahb")),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=u(n("bjgiedaj")),i=u(n("bhihgacbic"));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=o.default.formatToParts(e.currency,e.amount1000);return a.createElement("div",{className:(0,r.default)(i.default.container,{[i.default.isQuoted]:e.isQuoted,[i.default.isQuotedInComposeBox]:e.isQuotedInComposeBox})},a.createElement("div",{className:(0,r.default)(i.default.thumb,{"bg-payments":!e.isQuoted})},a.createElement("div",{className:i.default.amount},a.createElement("span",{className:i.default.amountCurrency},t.symbol),a.createElement("span",{className:i.default.amountInteger},t.integer),a.createElement("span",{className:i.default.amountDecimal},t.decimal))))}s.displayName="PaymentAmount"},hefjgabce:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.hostname,n=e.type,o=e.encFilehash,u=e.query,s=i[n],l=new URL(`https://${t}${s}/${(0,r.default)(o)}`),c=new a.default(u).toString();c&&(c=`?${c}`);return`https://${l.host}${l.pathname}${c}`};var r=o(n("ebfbbaecji")),a=o(n("ddfjdghbjb"));function o(e){return e&&e.__esModule?e:{default:e}}var i={audio:"/mms/audio",document:"/mms/document",gif:"/mms/gif",image:"/mms/image",ppic:"/pps/photo",product:"/mms/image",ptt:"/mms/ptt",sticker:"/mms/sticker",video:"/mms/video"}},hehdicceb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("dbgdaechch"),i=s(o),u=s(n("ddchcbhaia"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.chat,n=e.onSelectMessages;return a.createElement(i.default,{type:"dropdown_menu",key:"GroupMenuDropdown",flipOnRTL:!0,dirX:o.DirX.LEFT},u.default.group(t,n))}}]),t}();l.displayName="GroupMenuDropdown",t.default=l},hfcihgigj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("bbjadhadbg")),i=s(n("ihfccfgdf")),u=s(n("dgacgafafa"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r._downloadMedia=function(){return r.props.stickerPack.downloadMedia()},r._renderStickerPackIcon=function(e){var t=r.props.stickerPack,n=t.id,o=t.name;return a.createElement(u.default,{id:n,name:o,url:e})},r._renderPlaceholder=function(){return r._renderStickerPackIcon(null)},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){this._downloadMedia()}},{key:"render",value:function(){return a.createElement(o.default,{mediaData:this.props.mediaData,placeholderRenderer:this._renderPlaceholder,downloadMedia:this._downloadMedia},this._renderStickerPackIcon)}}]),t}();c.CONCERNS={stickerPack:["id","name"],mediaData:["renderableUrl","mediaStage"]},c.displayName="StickerPackIconThirdParty",t.default=(0,i.default)(c,c.CONCERNS)},hfgahggjd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AudioSession=t.OUTPUT_DEVICES=t.AUDIO_EVENTS=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("cccehdaiaf"),i=(r=o)&&r.__esModule?r:{default:r};function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.AUDIO_EVENTS={OUTPUT_ROUTES_CHANGED:"OUTPUT_ROUTES_CHANGED"},t.OUTPUT_DEVICES={UNKNOWN:0,LINE_OUT:1,HEADPHONES:2,BLUETOOTH:3,INTERNAL_RECEIVER:4,INTERAL_SPEAKER:5,HDMI:6,REMOTE:7,BLUETOOTH_LE:8,BLUETOOTH_HANDS_FREE:9,USB:10,CAR:11},t.AudioSession=function(){function e(t){u(this,e)}return a(e,[{key:"startUse",value:function(){}},{key:"endUse",value:function(){}}]),e}();var s=function(e){function t(){return u(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"startAudioSession",value:function(e,t){}},{key:"isRoutingToOutput",value:function(e){return!1}},{key:"overrideOutputRoute",value:function(e){return Promise.resolve()}},{key:"isRoutingToSpeaker",get:function(){return null}},{key:"outputRoutes",get:function(){return[]}},{key:"isBluetoothInputAvailable",get:function(){return null}}]),t}();t.default=new s},hfhhcchgj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextInputCustomStyleThemes=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=j(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=n("dbgdaechch"),u=j(n("dbjhghahdd")),s=j(n("bjbggbjed")),l=n("cdheafhdbh"),c=n("fifhbjiec"),f=j(c),d=n("ejbdjaifi"),p=j(n("dhfbfehaef")),h=j(n("chgaccicf")),m=j(n("becfabjeeg")),b=j(n("bfdcadbbif")),g=j(n("fehbggfdh")),v=j(n("caffijjhc")),y=j(n("dbjbhajgfd")),_=n("chhhffajfi"),E=j(n("didfdhbecg"));function j(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.TextInputCustomStyleThemes=(0,h.default)({groupInfoName:null});var S=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=Array(a),d=0;d<a;d++)l[d]=arguments[d];return n=r=O(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={active:!1,locked:!!r.props.lockable,emojiPicker:null},r.emojiInputComponent=(0,u.default)(),r.isSkinTonePickerOpen=!1,r.onEmojiPicker=function(e){e&&(e.preventDefault(),e.stopPropagation());var t=o.createElement(s.default,{onEmoji:r.onEmoji,onFocusNext:r.restoreFocus,onFocusPrev:r.restoreFocus});r.setState({emojiPicker:{menu:t,dirY:i.DirY.TOP,type:"emoji_picker",anchor:e.target}}),r.restoreFocus()},r.onEmojiPickerClose=function(){r.setState({emojiPicker:null})},r.onRestoreEmojiPickerFocus=function(){if(r.refEmojiPickerUIE){var e=r.refEmojiPickerUIE.getRef();if(e){var t=e.getElement();t&&t.restoreFocus()}}},r.onEmoji=function(e){r.inputLine&&r.inputLine.replaceSelection(e)},r.onEnter=function(e){r.props.lockable&&r.onSaveAndLock(),r.props.onEnter&&!r.props.multiline&&(e.persist(),r.props.onEnter(e))},r.onChange=function(e){r.props.onChange&&r.props.onChange(e)},r.restoreFocus=function(){r.inputLine&&r.inputLine.focus()},r.onBlur=function(e){r.isSkinTonePickerOpen||(r.state.active&&r.setState({active:!1}),r.props.onBlur&&r.props.onBlur(e))},r.onFocus=function(e){e.stopPropagation(),r.state.active||r.setState({active:!0}),r.props.onFocus&&r.props.onFocus(e)},r.onSkinTonePicker=function(e){r.isSkinTonePickerOpen=e},r.onUnlock=function(){r.props.onBeginEdit&&r.props.onBeginEdit(),r.setState({locked:!1})},r.onSaveAndLock=function(){var e=!(!r.props.lowProfile&&r.props.error);r.props.validate&&e&&(e=r.props.validate(r.props.value)),e?(r.props.onSave&&r.props.onSave(),r.setState({locked:!0})):r.props.onError&&r.props.onError()},r.onCancel=function(){r.props.onCancel&&r.props.onCancel(),r.setState({locked:!0})},r.setRefEmojiPickerUIE=function(e){r.refEmojiPickerUIE=e},r.showEmptyValuePlaceholder=function(){var e=r.props.value;return(!e||""===e)&&r.props.emptyValuePlaceholder&&r.state.locked},r.renderEmojiText=function(){var e=r.props,t=e.renderEmojiTextInLockMode,n=e.value;if(t&&n){var a=t.textLimit,i=t.readMoreText,u=t.onReadMore,s=t.formatters;return o.createElement("div",{className:g.default.emojiText},o.createElement(f.default,{text:n,selectable:!0,emojiSize:c.EMOJI_SIZE.SMALL,textLimit:a,formatters:s}),(0,_.numCodepoints)(n)>a&&o.createElement("span",{className:g.default.more,role:"button",onClick:u},` ${i}`))}},O(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"componentDidUpdate",value:function(e,t){t.locked||!e.editable||this.props.editable||this.onCancel()}},{key:"componentDidMount",value:function(){this.props.focusOnMount&&this.restoreFocus()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.inputLine&&!e.editing&&this.inputLine.value!==e.value&&this.inputLine.reset(e.value)}},{key:"render",value:function(){var e=this.props.maxLength||t.defaultProps.maxLength,n=this.props.editable&&!this.state.locked,r=n&&!!this.props.error&&!this.props.lowProfile,i=this.props.customStyleThemes,u=void 0===i?[]:i,s={container:(0,a.default)(g.default.textInput,u&&u.map(function(e){return g.default[e]}),{[g.default.noPlaceholder]:!this.props.placeholder,[g.default.invite]:"v4-invite-caption"===this.props.theme,[g.default.active]:n,[g.default.small]:"small"===this.props.theme,[g.default.inputLarge]:"large"===this.props.theme}),label:(0,a.default)(g.default.labelText,{[g.default.float]:!!this.props.value,[g.default.hideFloatingLabel]:!!this.props.hideFloatingLabel}),inputWrapper:(0,a.default)(g.default.wrapper,{[g.default.textError]:r,[g.default.invite]:"v4-invite-caption"===this.props.theme,[g.default.textActive]:this.state.active,[g.default.locked]:this.state.locked}),infoWrapper:(0,a.default)(g.default.infoStrip,{[g.default.textError]:r,[g.default.textActive]:this.state.active})},c=void 0,f=void 0;this.props.lockable&&(this.props.pending?f=o.createElement("div",{className:(0,a.default)(g.default.iconSpinner,g.default.iconMain),key:"spinner"},o.createElement(m.default,{size:18,stroke:6,color:"highlight"})):this.state.locked?this.props.editable?f=o.createElement("div",{className:g.default.iconMain,onClick:this.onUnlock,key:"btn-edit",title:l10n.t(405)},o.createElement(b.default,{name:"pencil",directional:!0})):this.props.editRestrictionInfo&&!this.props.editable&&(f=o.createElement("div",{className:g.default.iconMain,onClick:this.props.editRestrictionInfo,key:"btn-info"},o.createElement(b.default,{name:"info"}))):f=o.createElement("div",{className:g.default.iconMain,onClick:this.onSaveAndLock,key:"btn-done",title:l10n.t(316)},o.createElement(b.default,{name:"checkmark"})),c=this.props.lockable?o.createElement(E.default,{className:g.default.iconMainContainer,transitionName:"pop"},f):null);var h=n&&this.props.supportsEmoji?o.createElement("div",{className:(0,a.default)(g.default.emojiBtn),onClick:this.onEmojiPicker,key:"emoji-btn"},o.createElement(b.default,{name:"emoji-input"})):null,j=void 0;if(this.props.showRemaining){var O=(0,_.numCodepoints)(this.props.value||"");j=e-O<50&&n?o.createElement("div",{className:(0,a.default)(g.default.charCounter),key:"counter"},l10n.n(e-O)):null}var S=this.props.supportsEmoji||this.props.showRemaining?o.createElement(E.default,{className:g.default.iconsEditContainer,transitionName:"pop"},j,h):null,w=this.props.lowProfile?null:o.createElement("div",{className:s.infoWrapper},o.createElement("div",{className:g.default.errorText},r?this.props.error:null)),P=void 0;if(this.props.lockable&&!this.state.locked){var M=void 0;this.state.emojiPicker&&(M=o.createElement(v.default,{displayName:"EmojiPicker",escapable:!0,popable:!0,ref:this.setRefEmojiPickerUIE,requestDismiss:this.onEmojiPickerClose,requestFocus:this.onRestoreEmojiPickerFocus},o.createElement(y.default,{contextMenu:this.state.emojiPicker}))),P=o.createElement(v.default,{displayName:"TextInput",escapable:!0,requestFocus:this.restoreFocus,requestDismiss:this.onCancel},o.createElement("div",null,M))}else!this.props.lockable&&this.state.emojiPicker&&(P=o.createElement(v.default,{displayName:"EmojiPicker",escapable:!0,popable:!0,ref:this.setRefEmojiPickerUIE,requestDismiss:this.onEmojiPickerClose,requestFocus:this.onRestoreEmojiPickerFocus},o.createElement(y.default,{contextMenu:this.state.emojiPicker})));var C=this.props.editable&&!this.state.locked,T=this.props,A=T.emptyValuePlaceholder,N=T.renderEmojiTextInLockMode,k=this.emojiInputComponent,I=C||!N,R=I?o.createElement(k,{ref:(0,d.GetRef)("inputLine",this),initialValue:this.props.value,theme:this.props.theme||"default",multiline:this.props.multiline,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,onEnter:this.onEnter,onFiles:this.props.onFiles,pending:this.props.pending,spellCheck:this.props.spellCheck,maxLength:this.props.maxLength,readOnly:!C}):this.renderEmojiText(),L=void 0,D=void 0;return this.props.placeholder&&(L=(!this.props.value||!this.props.hideFloatingLabel)&&o.createElement("span",{className:s.label},this.props.placeholder),D=o.createElement("div",{className:g.default.spacer})),o.createElement(p.default,{className:s.container,onFocus:this.restoreFocus},L,D,o.createElement("div",{className:s.inputWrapper},R,this.showEmptyValuePlaceholder()&&o.createElement("div",{className:g.default.emptyValPlaceholder},A),S,c),I&&o.createElement(k.EmojiSuggestions,{theme:l.ThemeOptions.EMOJI_INPUT,onSkinTonePicker:this.onSkinTonePicker}),w,P)}}]),t}();S.defaultProps={maxLength:25,editable:!0},S.displayName="TextInput",t.default=S},hfifjaejc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryServerProps=function(){return(0,o.queryServerProps)().then(function(e){u.default.updateProps(e)}).catch(a.ServerStatusCodeError,function(e){}).catch(a.WapDrop,function(e){})};var r,a=n("ddjgcfjicj"),o=n("ciggibedij"),i=n("bfgbdiffgd"),u=(r=i)&&r.__esModule?r:{default:r}},hfjchijff:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=f(n("djcchigfih")),i=f(n("djbhiedbef")),u=n("dajffajabh"),s=f(u),l=f(n("jheedhagg")),c=f(n("iibcehaia"));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.onClose=function(){r.props.onClose?r.props.onClose():r.props.uim.uie.requestDismiss()},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props.chat.getReceivedVCardMsgs(),t=e&&e.map(function(e){return a.createElement(c.default,{key:e.id.toString(),msg:e})});return a.createElement(o.default,null,a.createElement(s.default,{title:l10n.t(348,{_plural:e?e.length:0}),onBack:this.onClose,type:u.DRAWER_HEADER_TYPE.LARGE}),a.createElement(i.default,null,t))}}]),t}();p.displayName="ContactCardDrawer",t.default=(0,l.default)(p)},hfjhcgage:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=m(n("ceffhbhahb")),o=h(n("ddhijeejag")),i=m(n("bbchdeehff")),u=m(n("fifhbjiec")),s=m(n("bjidaciaje")),l=n("gaifbabbj"),c=h(n("dbcedfihd")),f=m(n("bfifafibjc")),d=m(n("ihfccfgdf")),p=m(n("eedjbihej"));function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setBodyRef=function(e){n.bodyRef=e},n.setDescRef=function(e){n.descRef=e},n.handleResize=function(e){var t=e.width,r=n.state.descWidth;r<=0||n.setState({truncated:t<r})},n.onReadMore=function(){var e=n.props.chat;i.default.chatInfoDrawer(e,!0)},n.state={desc:g(e.groupMetadata),descWidth:0,truncated:!1,hidden:!0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"componentDidMount",value:function(){this.onDescWidthObtained()}},{key:"componentDidUpdate",value:function(e,t){t.desc!==this.state.desc&&this.onDescWidthObtained()}},{key:"onDescWidthObtained",value:function(){var e=this.bodyRef,t=this.descRef;if(e&&t){var n=e.clientWidth,r=t.getWidth();this.setState({descWidth:r,truncated:n<r,hidden:!1})}}},{key:"render",value:function(){var e=this.state.desc;if(!e)return null;var t=this.state,n=t.truncated,r=t.hidden,i=this.props.chat.isTrusted()?l.Configuration.TrustedGroupDesc({links:c.findLinks(e)}):l.Configuration.UntrustedGroupDesc();return o.createElement(o.Fragment,null,o.createElement(p.default,{theme:"title",block:!0},l10n.t(1212)),o.createElement(f.default,{onRef:this.setBodyRef,onResize:this.handleResize,className:s.default.body},o.createElement(p.default,{theme:"small",className:(0,a.default)(s.default.text,{[s.default.hidden]:r})},o.createElement(u.default,{ref:this.setDescRef,text:e,selectable:!0,formatters:i,className:s.default.desc}),n&&o.createElement("div",{className:s.default.more,role:"button",onClick:this.onReadMore},l10n.t(918)))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=g(e.groupMetadata);return n===t.desc?null:{desc:n,descWidth:0,truncated:!1,hidden:!0}}}]),t}();function g(e){return e&&e.desc}b.CONCERNS={groupMetadata:["desc"]},b.displayName="GroupDescriptionBar",t.default=(0,d.default)(b,b.CONCERNS)},hgaedfgj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n("cdbfdheccg"),o=(r=a)&&r.__esModule?r:{default:r},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n("ebffadhefa"),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("bhehfiebbd")),l=n("fgiejiccg");var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._onMessage=function(e,t){var n=t.data,r=(0,u.unwrapInvocationPayload)(n);if(null!=r){var a=r.method,o=r.args,i=r.invocationId,c=s.get();c[a].apply(c,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(o)).then(function(t){e.postMessage((0,l.buildResponsePayload)(i,t))})}}}return i(e,[{key:"respondTo",value:function(e){e.addEventListener("message",(0,o.default)(this._onMessage,e)),e.start()}}]),e}();t.default=new c},hgeacfdgi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CALL_UI_STATES=t.CALL_TYPES=t.OUTPUT_DEVICES=void 0;var r,a=n("hfgahggjd"),o=n("bgdcgdigif"),i=(r=o)&&r.__esModule?r:{default:r},u=n("dcaifjegcg"),s=n("cgejjichfa");t.OUTPUT_DEVICES=a.OUTPUT_DEVICES,t.CALL_TYPES=o.CALL_TYPES,t.CALL_UI_STATES=s.CALL_UI_STATES;var l=(0,u.defineModel)(i.default);t.default=new l},hhaafceic:function(e,t){e.exports={body:"Xemqt",callTitle:"_2tCuY",participantName:"_1-Lhx",actionRow:"ABUh8",btnGroup:"_1vOB0",btnAccept:"_1zQJv",btnReject:"_346oG",btnEnd:"lu5_G",btnMute:"_2dT7d",webrtcCanvas:"_2Wa2B",webrtcVideo:"_1gxrr",webrtcAudio:"_2ElAO",videoContainer:"_1D0FS",previewVideoContainer:"_1Axfd",outputVideoContainer:"y92Cf"}},hhbhaabfi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=J(n("ddgaeajhag")),a=J(n("dbafiicfja")),o=J(n("eaaagccfda")),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=J(n("ceffhbhahb")),s=Q(n("ddhijeejag")),l=J(n("cgfjiaegih")),c=J(n("dbdfbgehgj")),f=J(n("cefeghcbch")),d=J(n("cgbdjhghfb")),p=J(n("bbaaddaiah")),h=J(n("bbchdeehff")),m=J(n("baagejbchg")),b=J(n("dhigahgdjb")),g=J(n("cbedjffdai")),v=n("cicgeajfge"),y=Q(n("cajijabhgb")),_=n("hbhjdibhf"),E=J(n("cicjcfabii")),j=J(n("bggeiidigb")),O=J(n("ddajbaceej")),S=J(n("dgjddffcfg")),w=J(n("dacfecidja")),P=J(n("bjbdcigbdi")),M=n("ejbdjaifi"),C=n("dhfbfehaef"),T=J(C),A=J(n("fffdgbfji")),N=J(n("bijffg")),k=J(n("dbciicjiad")),I=J(n("eceadcicaf")),R=J(n("bfbggcdbfb")),L=J(n("dahdbbghjd")),D=J(n("biecbbiiee")),x=J(n("dceicchccd")),U=J(n("dagdiahdfi")),G=J(n("bjbedjfe")),F=J(n("caijdggfg")),B=J(n("gfgihaeab")),$=J(n("ceddibdhdb")),V=J(n("dcaibchbg")),H=J(n("bjaehhfffd")),W=J(n("becfabjeeg")),Y=J(n("fbjjefaic")),K=J(n("caffijjhc")),q=n("chhhffajfi"),z=J(n("bcifhbgija"));function Q(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function J(e){return e&&e.__esModule?e:{default:e}}var Z={THROTTLE:450},X=50,ee=75,te=5,ne=10,re=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.refPanel=null,n.flatListController=new j.default,n._batchState={},n.setRefSearch=function(e){n.refSearch=e},n.setRefInputHotkey=function(e){n.refInputHotkey=e},n.SmbFilterSesssion=new H.default,n.hasLabelEditGK=!1,n._debounceSetState=new $.default(function(){n.setState(n._batchState),n._batchState={}}),n.debounceSetState=function(e,t,r){Object.assign(n._batchState,e),void 0===t?n._debounceSetState.onOrBeforeRepaint():void 0===r?n._debounceSetState.debounce(t):n._debounceSetState.debounceAndCap(t,r)},n.updateLabelFeatureFlagChange=function(){!n.hasLabelEditGK&&P.default.supportsFeature(P.default.F.LABELS_EDIT)&&(n.hasLabelEditGK=!0,n.props.listeners.add(N.default,"bulk_msg_chat_label_change",function(){n.searchQuery&&!n.searchQuery.isEmptyQuery&&(n.ftsMsgs.updateFtsAfterMsgLabelUpdate(),n.onSearch(n.searchQuery.trimmed,{label:n.searchQuery.filter.label,kind:n.searchQuery.filter.kind}))}),n.multiSelection=n.props.multiSelection||new x.default([],function(e){return e.id.toString()}),n.selectableState=new B.default(n.props.selectable||!1),n.props.listeners.add(n.multiSelection,"all",n.updateShowMultiselectBar),n.setState({chatlistKeyId:1}))},n.updateShowMultiselectBar=function(){var e=n.state.showMultiSelectBar,t=n.multiSelection&&n.multiSelection.getSelected().length>0&&!n.props.hideMultiSelectBar;!1===e&&t&&n.setState({showMultiSelectBar:!0})},n.scrollChatListToTop=function(){var e=n.refPanel;if(e){var t=e.scrollTop;0!==e.scrollTop&&(t<e.clientHeight?(0,z.default)(e,"scroll",{duration:300,container:e,offset:-(e.scrollTop+e.getBoundingClientRect().top)}):e.scrollTop=0)}},n.getFilteredContacts=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=(e||"").trim();if(!a&&n.isEmptyFilterQuery(t))return[];a=A.default.accentFold(a);var o=S.default.numberSearch(a);return b.default.getFilteredContacts().filter(function(e){if(!e.searchMatch(a,o,t.label))return!1;if(!r){var n=c.default.get(e.id);if(n&&n.shouldAppearInList)return!1}return!0})},n.getFilteredChats=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||"").trim();if(r||!n.isEmptyFilterQuery(t)){r=A.default.accentFold(r);var a=S.default.numberSearch(r);return P.default.supportsFeature(P.default.F.LABELS_DISPLAY)?c.default.filter(function(e){var n=t.label&&e.contact.searchMatch(r,a,t.label),o=!r||e.contact.searchMatch(r,a),i=!t.kind&&!t.label||e.matchFilter(t);return n||o&&i}):c.default.filter(function(e){return e.contact.searchMatch(r,a)&&e.shouldAppearInList})}return c.default.filter(function(e){return!e.archive&&e.shouldAppearInList})},n.fullTextSearch=function(e,t){var r=(e||n.searchQuery.query).trim();(0,q.numCodepoints)(r)>=m.default.FTS_MIN_CHARS||t&&t.label?(n.state.searching||n.debounceSetState({searching:!0}),n._fts()):n.isFTSSearching()?n.cancelSearch():n.ftsMsgs.reset()},n.shouldFTSSearch=function(e){return!(!n.ftsMsgs.hasMoreMsgs||n.isFTSSearching()||(0,q.numCodepoints)(n.searchQuery.query||"")<m.default.FTS_MIN_CHARS)&&e.scrollTop+m.default.SCROLL_FUDGE>e.scrollHeight-e.clientHeight},n.mapGroupToContacts=function(e,t){for(var n=new Map,r=function(r){var a=e[r];a&&a.forEach(function(e){e&&(n.has(e)||n.set(e,[]),n.get(e).push(t[r]))})},a=0;a<e.length;a++)r(a);var o=[];return n.forEach(function(e,t,n){o.push([t,e])}),o.sort(function(e,t){return e[1].length===t[1].length?null!=e[0].t&&null!=t[0].t?t[0].t-e[0].t:null!=e[0].t?-1:1:t[1].length-e[1].length}),o.slice(0,ne)},n.onSearch=function(e,t){var r=P.default.supportsFeature(P.default.F.LABELS_DISPLAY)?t:{};if(!e&&n.isEmptyFilterQuery(r))return n.searchQuery.updateQuery(e),n.searchQuery.updateLabelQuery({}),void n.onStopSearch();e===n.searchQuery.query&&n.isEmptyFilterQuery(r)||(n.fullTextSearch(e,r),n.commonGroupSearch(),n.throttledFilteredChats(e,r),n.throttledFilteredContacts(e,r),n.searchQuery.updateQuery(e),n.searchQuery.updateLabelQuery(r))},n.hasSearchText=function(){return P.default.supportsFeature(P.default.F.LABELS_DISPLAY)?!!n.searchQuery.query||!n.isEmptyFilterQuery(n.searchQuery.filter):!!n.searchQuery.query},n.isFTSSearching=function(){var e=n._batchState;return"searching"in e?e.searching:n.state.searching},n.cancelSearch=function(){n._fts.cancel(),n.commonGroupSearch.cancel(),n.ftsMsgs.resetSearch(),n.ftsMsgs.reset(),n._ftsPromise&&n._ftsPromise.cancel(),n._findCommonGroupsPromise&&n._findCommonGroupsPromise.cancel(),n.setState({groupChats:[]}),n.isFTSSearching()&&n.debounceSetState({searching:!1},ee)},n.cancelThrottled=function(){n.throttledFilteredChats.cancel(),n.throttledFilteredContacts.cancel(),n.throttledOnScroll.cancel()},n.onStopSearch=function(){return new Promise(function(e){var t;n.isEmptyFilterQuery(n.searchQuery.filter)||(t=n.SmbFilterSesssion.sessionId,new R.default.ChatFilterEvent({actionType:R.default.CHAT_FILTER_ACTION_TYPES.SEARCH_WITH_FILTER,filterType:R.default.CHAT_FILTER_TYPES.OTHER_LABELS,sessionId:t}).commit()),n.cancelSearch(),n.searchQuery.clear(),n.cancelThrottled(),n.refSearch&&n.refSearch.setSearchText(n.searchQuery.query),n.setState({chats:n.getFilteredChats(),contacts:n.getFilteredContacts(),searching:!1},function(){return e()})})},n.onFocusList=function(e){e.repeat||n.chatlist&&(n.refSearch&&!n.refSearch.isAtEnd()||(e.preventDefault(),e.stopPropagation(),(0,C.shouldIndicateFocus)(),n.chatlist.focusFirst()))},n.onOpenFirst=function(e){e.preventDefault();var t=n.searchQuery.query,r=n.searchQuery.filter,a=n.getFilteredChats(t,r)[0]||n.getFilteredContacts(t,r)[0];a&&c.default.find(a.id).then(function(e){n.onStopSearch(),(0,C.shouldIndicateFocus)(),h.default.openChatFromUnread(e).then(function(t){t&&h.default.focusChatTextInput(e)})})},n.onFocusSearch=function(){h.default.existsDrawerLeft(function(e){e||((0,C.shouldIndicateFocus)(),O.default.focus(n.refSearch))})},n.indicateFocus=function(){(0,C.indicateFocus)(n.refInputHotkey,["#FBFBFB","#D9F3FF"])},n.onScroll=function(e){n.throttledOnScroll(e.target)},n.getEmptyChatlistState=function(e,t,r){return e&&e.length||t&&t.length||r&&r.length?null:n.props.labelFilter?n.state.searching?s.createElement("span",null):s.createElement(v.NoResultForLabel,{labelId:n.props.labelFilter}):n.searchQuery.query?n.state.searching?s.createElement(v.Searching,null):s.createElement(v.Search,null):c.default.some(function(e){return e.shouldAppearInList})?s.createElement(v.AllArchived,null):s.createElement(v.ListChats,null)},n.setRefPanel=function(e){n.refPanel=e},n.onCancelLabelSelection=function(){n.setState({showMultiSelectBar:!1}),n.multiSelection&&n.multiSelection.unsetAll(),n.selectableState&&n.selectableState.setSelectable(!!n.props.selectable)},n.ftsMsgs=new w.default,n.selection=new V.default([],function(e){return e.id.toString()}),n.searchQuery=new F.default,n._fts=n.props.debounce(function(){var e=n.searchQuery.trimmed;n._ftsPromise&&n._ftsPromise.cancel(),n._ftsPromise=Promise.resolve().then(function(){n.isFTSSearching()||n.debounceSetState({searching:!0},ee)}).then(function(){return n.ftsMsgs.search({count:m.default.FTS_NUM_RESULTS,filter:n.searchQuery.filter,searchTerm:e})}).checkpoint(n.props.rejectOnUnmount()).then(function(e){e&&!e.canceled&&n.debounceSetState({searching:!1},ee)}).catch(y.Unmount,function(){}).catch(Promise.CancellationError,function(){}).finally(function(){n._ftsPromise=void 0}).catch(function(){n.isFTSSearching()&&n.debounceSetState({searching:!1},ee)})},m.default.FTS_TYPING_DELAY),n.throttledFilteredChats=n.props.throttle(function(e,t){var r=n.getFilteredChats(e,t);n.debounceSetState({chats:r},ee,X)},Z.THROTTLE,{leading:!1,trailing:!0}),n.throttledFilteredContacts=n.props.throttle(function(e,t){var r=n.getFilteredContacts(e,t);n.debounceSetState({contacts:r},ee,X)},Z.THROTTLE,{leading:!1,trailing:!0}),n.throttledOnScroll=n.props.throttle(function(e){n.shouldFTSSearch(e)&&n.fullTextSearch()},100),n.commonGroupSearch=(0,o.default)(function(){var e=n.searchQuery.trimmed;if(e){var t=n.getFilteredContacts(e,{},!0);if(0===t.length||t.length>te)n.setState({groupChats:[]});else{var r=(0,a.default)(t,function(e){return(0,_.findCommonGroups)(e).then(function(){return e.commonGroups})});n._findCommonGroupsPromise&&n._findCommonGroupsPromise.cancel(),n._findCommonGroupsPromise=Promise.all(r).then(function(r){if(e===n.searchQuery.trimmed){var a=n.mapGroupToContacts(r,t);n.setState({groupChats:a})}}).catch(function(){}).finally(function(){n._findCommonGroupsPromise=null})}}else n.setState({groupChats:[]})},750);var r=n.props.labelFilter,i=n.props.labelFilter?{label:r}:void 0;return n.state={searching:!!i,chats:n.getFilteredChats("",i),contacts:n.getFilteredContacts("",i),groupChats:[],showMultiSelectBar:!1,chatlistKeyId:0,textsize:g.default.get().textsize},n.searchQuery.updateLabelQuery(i),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.labelFilter,a=t.listeners;n&&this.onSearch("",{label:n}),this.updateLabelFeatureFlagChange(),a.add(P.default,P.default.FEATURE_CHANGE_EVENT,this.updateLabelFeatureFlagChange),this.props.listeners.add(c.default,"remove",function(t){if(e.searchQuery.query){var n=(0,r.default)(e.state.chats,t);e.state.chats&&n.length!==e.state.chats.length&&e.debounceSetState({chats:n})}else e.throttledFilteredChats.cancel(),e.debounceSetState({chats:e.getFilteredChats()})}),this.props.listeners.add(b.default,"remove",function(t){if(e.searchQuery.query||!e.isEmptyFilterQuery(e.searchQuery.filter)){var n=(0,r.default)(e.state.contacts,t);e.state.contacts&&n.length!==e.state.contacts.length&&e.debounceSetState({contacts:n})}else e.throttledFilteredContacts.cancel(),e.debounceSetState({contacts:e.getFilteredContacts()})}),this.props.listeners.add(c.default,"sort change:archive",function(){!e.searchQuery.query&&e.isEmptyFilterQuery(e.searchQuery.filter)&&(e.throttledFilteredChats.cancel(),e.debounceSetState({chats:e.getFilteredChats()}))}),this.props.listeners.add(b.default,"sort",function(){!e.searchQuery.query&&e.isEmptyFilterQuery(e.searchQuery.filter)&&(e.throttledFilteredContacts.cancel(),e.debounceSetState({contacts:e.getFilteredContacts()}))}),this.props.listeners.add(this.ftsMsgs,"bulk_remove reset",function(){!e.searchQuery.query&&e.isEmptyFilterQuery(e.searchQuery.filter)&&(e.throttledFilteredChats.cancel(),e.debounceSetState({chats:e.getFilteredChats()}))}),this.props.listeners.add(h.default,"focus_chat_search",this.onFocusSearch),this.props.listeners.add(h.default,"textsize_change",function(t){e.debounceSetState({textsize:t})}),this.props.listeners.add(D.default,"new_msg_sent",function(){e.hasSearchText()||!e.isEmptyFilterQuery(e.searchQuery.filter)?e.onStopSearch().then(function(){return e.scrollChatListToTop()}):e.scrollChatListToTop()})}},{key:"componentWillUnmount",value:function(){this.cancelSearch(),this.cancelThrottled(),this._debounceSetState.cancel()}},{key:"isEmptyFilterQuery",value:function(e){return!e||!(e.label||e.kind)}},{key:"_showUnread",value:function(){}},{key:"render",value:function(){var e=this,t=this.state,n=t.chats,r=t.contacts,a=t.groupChats,o=this.ftsMsgs.toArray(),i=this.getEmptyChatlistState(n,r,o);null==i&&(i=s.createElement(f.default,{key:this.state.chatlistKeyId,ref:(0,M.GetRef)("chatlist",this),flatListController:this.flatListController,chats:n,contacts:r||[],groupChats:a,isSearching:!!this.hasSearchText(),searchQuery:this.searchQuery,ftsResult:o,selection:this.selection,onFocusSearch:this.onFocusSearch,multiSelection:this.multiSelection,selectableState:this.selectableState}));var c={down:this.onFocusList,enter:this.onOpenFirst},h=this.state.searching&&this.props.labelFilter||this.state.searching&&this.ftsMsgs.length?s.createElement("div",{key:"spinner",className:p.default.spinner},s.createElement(W.default,{stroke:6,size:24})):null,b=void 0,g=m.default.TEXTSIZE_CLASS_MAP.find(function(t){return t.scale===e.state.textsize});g&&(b=g.classname);var v=(0,u.default)(p.default.chatListPanel,b),y=this.ftsMsgs.hasMoreMsgs&&o.length||this._showUnread()?this.onScroll:void 0,_=void 0,j=void 0,O=void 0;return this.state.showMultiSelectBar&&this.multiSelection?_=s.createElement(K.default,{key:"multiSelectBar",displayName:"MultiSelect",escapable:!0,requestDismiss:this.onCancelLabelSelection},s.createElement(L.default,{theme:"chatlist-panel",selectedModels:this.multiSelection,labelEditEnabled:!0,iconColor:"#8d9194",onCancel:this.onCancelLabelSelection})):O=s.createElement(T.default,{key:"ListSearchHotKey",handlers:c,onFocus:this.indicateFocus,ref:this.setRefInputHotkey,className:p.default.panelSearch},s.createElement(k.default,{ref:this.setRefSearch,onSearch:this.onSearch,loading:this.state.searching,SmbFilterSession:this.SmbFilterSesssion,listFilterEnabled:!0})),this.props.labelFilter||(j=s.createElement(s.Fragment,null,s.createElement(d.default,{mute:U.default.globalMute()}),s.createElement(l.default,null),O,_)),s.createElement("div",{id:"side",className:v},j,s.createElement(E.default,{flatListControllers:[this.flatListController],onRef:this.setRefPanel,className:p.default.panelBody,onScroll:y,id:"pane-side"},i,h))}}]),t}();re.displayName="ChatlistPanel",t.default=(0,G.default)((0,Y.default)((0,I.default)(re)))},hhcfehghc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateParticipants=function(e,t){o.default.supportsFeature(o.default.F.MD_BACKEND);return Promise.resolve()},t.addParticipants=function(e,t){o.default.supportsFeature(o.default.F.MD_BACKEND);return Promise.resolve()},t.removeParticipants=function(e,t){o.default.supportsFeature(o.default.F.MD_BACKEND);return Promise.resolve()};var r,a=n("bjbdcigbdi"),o=(r=a)&&r.__esModule?r:{default:r}},hhjiahbag:function(e,t){e.exports={metadataContainer:"XOIaT",metadataText:"_3luN5",metadataTitle:"_3yN2_",metadataSubtitle:"_3WFBR",metadataDesc:"vJCph",participantList:"_18tvF",participantsTitle:"_3xWWz",participantsContainer:"_2qj30",participantWrapper:"_89Cym",emptyContentContainer:"_1LQrs",participantsText:"_1WSDe",contactsText:"_2oG62",participantText:"_3Z_4g"}},hicgdccej:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=w(n("dbdfbgehgj")),i=w(n("bbchdeehff")),u=w(n("beecadabde")),s=n("dbgdaechch"),l=w(n("dbjhghahdd")),c=w(n("bjbggbjed")),f=n("cdheafhdbh"),d=w(n("dgjddffcfg")),p=n("ejbdjaifi"),h=w(n("fffdgbfji")),m=w(n("bjbedjfe")),b=w(n("jjbcbhhjh")),g=n("dbbhhgjjbg"),v=w(n("bihdbbidff")),y=w(n("bfdcadbbif")),_=n("bfjajhbdf"),E=w(_),j=w(n("caffijjhc")),O=w(n("dbjbhajgfd")),S=w(n("didfdhbecg"));function w(e){return e&&e.__esModule?e:{default:e}}var P=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.emojiInputComponent=(0,l.default)(),e.isSkinTonePickerOpen=!1,e.onSend=function(t){if(t.preventDefault(),e.inputLine){var n=e.inputLine.value.trim();if(n.length){var r=(0,_.genId)();o.default.find(e.props.msg.sender).then(function(t){return i.default.openToast(a.createElement(E.default,{msg:h.default.t(1044),id:r})),(0,g.sendTextMsgToChat)(t,d.default.emojify(n),{quotedMsg:e.props.msg})}).then(function(){e.props.onSend()}).catch(u.default,function(){var t=e.state.chat;t&&i.default.openToast(a.createElement(E.default,{msg:h.default.t(1155,{contact:t.contact.formattedName}),id:r}))}),e.inputLine&&e.inputLine.reset(),e.props.dismissReply()}}},e.onFocus=function(t){e.setState({focused:!0})},e.onBlur=function(t){e.isSkinTonePickerOpen||document.activeElement===document.body&&e.setState({focused:!1})},e.onSkinTonePicker=function(t){e.isSkinTonePickerOpen=t},e.isFocused=function(){return e.state.focused},e.onEmojiPicker=function(t){t&&(t.preventDefault(),t.stopPropagation());var n=a.createElement(c.default,{onEmoji:e.onEmoji,onFocusNext:e.restoreFocus,onFocusPrev:e.restoreFocus});e.setState({emojiPicker:{menu:n,dirY:s.DirY.TOP,type:"emoji_picker",anchor:t.target}})},e.onEmoji=function(t){e.inputLine&&e.inputLine.replaceSelection(t)},e.restoreFocus=function(){e.inputLine&&e.inputLine.focus()},e.restoreEmojiPickerFocus=function(){if(e.refEmojiPickerUIE){var t=e.refEmojiPickerUIE.getRef();if(t){var n=t.getElement();n&&n.restoreFocus()}}},e.emojiPickerClose=function(){e.setState({emojiPicker:void 0})},e.setRefEmojiPickerUIE=function(t){e.refEmojiPickerUIE=t},e.state={replyCaption:"",focused:!1,emojiPicker:void 0,chat:void 0},o.default.find(e.props.msg.sender).checkpoint(e.props.rejectOnUnmount()).then(function(t){e.setState({chat:t})}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidUpdate",value:function(e,t){this.shouldPausePlayback(t)&&!this.shouldPausePlayback(this.state)?this.props.play():!this.shouldPausePlayback(t)&&this.shouldPausePlayback(this.state)&&this.props.pause()}},{key:"shouldPausePlayback",value:function(e){return e.emojiPicker||e.focused}},{key:"isPaused",value:function(){return this.shouldPausePlayback(this.state)}},{key:"render",value:function(){var e=void 0,t=void 0;this.state.emojiPicker&&(e=a.createElement(j.default,{displayName:"EmojiPicker",escapable:!0,popable:!0,ref:this.setRefEmojiPickerUIE,requestDismiss:this.emojiPickerClose,requestFocus:this.restoreEmojiPickerFocus},a.createElement(O.default,{contextMenu:this.state.emojiPicker})),t=a.createElement(j.default,{displayName:"EmojiPicker",escapable:!0,requestFocus:this.restoreEmojiPickerFocus},a.createElement("div",null,e)));var n=void 0,r=this.state.chat;r&&this.state.focused&&!this.state.emojiPicker&&(n=a.createElement(j.default,{displayName:"StatusV3Reply",escapable:!0,requestDismiss:this.props.dismissReply},a.createElement("div",{className:v.default.popupPanel},a.createElement(b.default,{msg:this.props.msg,theme:"statusV3",key:this.props.msg.id.toString(),chat:r}))));var o=this.emojiInputComponent;return a.createElement("div",{className:v.default.container},a.createElement(S.default,{transitionName:"status-v3-quoted-msg",transitionAppear:!0},n),a.createElement("div",{className:v.default.wrapper},a.createElement("button",{className:v.default.emojiIcon,onClick:this.onEmojiPicker},a.createElement(y.default,{name:"status-v3-smiley"})),a.createElement("div",{className:v.default.lineWrapper},a.createElement(o.EmojiSuggestions,{theme:f.ThemeOptions.EMOJI_INPUT,onSkinTonePicker:this.onSkinTonePicker}),a.createElement(o,{ref:(0,p.GetRef)("inputLine",this),theme:"status-reply",spellCheck:!0,onFocus:this.onFocus,onBlur:this.onBlur,onEnter:this.onSend,placeholder:h.default.t(1064),editable:!0,multiline:!0})),a.createElement("button",{className:v.default.sendIcon,onClick:this.onSend},a.createElement(y.default,{name:"send-light",directional:!0})),t))}}]),t}();P.displayName="StatusV3ComposeBox",t.default=(0,m.default)(P)},hichbacjh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=c(n("bbchdeehff")),u=c(n("dbdfbgehgj")),s=c(n("fifhbjiec")),l=c(n("gigbjdedj"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={hover:!1},r.onMouseOver=function(e){r.setState({hover:!0})},r.onMouseEnter=function(e){r.setState({hover:!0})},r.onMouseLeave=function(e){r.setState({hover:!1})},r.getGroupName=function(){var e=r.props.quotedGroupJid,t=u.default.get(e);return t&&t.formattedTitle},r.onClick=function(){var e=r.props.quotedGroupJid;u.default.find(e).then(function(e){return i.default.openChatBottom(e)})},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"hoverable",value:function(){return!this.state.hover&&!this.props.isComposePreview}},{key:"render",value:function(){var e=this.props.isComposePreview,t=this.getGroupName();if(!t)return null;var n=(0,a.default)(l.default.quotedMsg,{[l.default.hover]:this.state.hover,[l.default.composeBoxQuotedMsg]:!!e});return o.createElement("div",{onMouseOver:this.onMouseOver,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,className:n},o.createElement("div",{className:l.default.msg,role:e?"none":"button",onClick:this.onClick},o.createElement("span",{className:l.default.colorBar}),o.createElement("div",{className:l.default.msgBody},o.createElement(s.default,{className:"quoted-mention",text:l10n.t(917,{groupName:t}),direction:"auto",key:"status"}))))}}]),t}();d.displayName="QuotedAdminMsgGroupName",t.default=d},hjbcfjaai:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatusV3Text=t.default=void 0;var r=U(n("eaaagccfda")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=U(n("ceffhbhahb")),i=x(n("ddhijeejag")),u=U(n("dbdfbgehgj")),s=U(n("cfadcbbiie")),l=U(n("bbchdeehff")),c=U(n("baagejbchg")),f=U(n("dhhfaeacef")),d=U(n("fifhbjiec")),p=x(n("cajijabhgb")),h=U(n("ddajbaceej")),m=U(n("djifeiaaea")),b=n("ejbdjaifi"),g=U(n("dhfbfehaef")),v=U(n("cajbifjffe")),y=n("gaifbabbj"),_=U(n("eceadcicaf")),E=U(n("bdiiahhjbe")),j=U(n("bffjfbgbg")),O=U(n("bbjadhadbg")),S=U(n("bfbggcdbfb")),w=n("dgfecega"),P=U(w),M=U(n("bjbedjfe")),C=U(n("becfabjeeg")),T=U(n("ihfccfgdf")),A=U(n("hicgdccej")),N=n("ffgjgcghi"),k=U(n("cjegehjigc")),I=U(n("dedicfgaca")),R=U(n("caffijjhc")),L=n("chhhffajfi"),D=U(n("cbigbjjigh"));function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function U(e){return e&&e.__esModule?e:{default:e}}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function B(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var $=function(e){function t(){G(this,t);var e=F(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.refProgressBar=i.createRef(),e.refProgressBarComponent=i.createRef(),e.refMeasuringProfile=i.createRef(),e.refWrapper=i.createRef(),e.componentWillUnmount=function(){if(e.playbackController.removeListeners(),null!=e.props.sessionId){var t=Math.round(e.playbackController.duration||0);e.statusViewEvent.webcStatusPlaybackT=t;var n=e.playStartTime;null!=n&&(e.statusViewEvent.webcStatusViewT+=Math.round(window.performance.now()-n),e.playStartTime=void 0),e.statusViewEvent.commit()}},e.onWindowResize=function(){var t=e.refMeasuringProfile&&e.refMeasuringProfile.current,n=e.refProgressBar&&e.refProgressBar.current;if(t&&n){var r=t.getBoundingClientRect(),a=n.getBoundingClientRect();!l10n.isRTL()&&r.right>a.left-5||l10n.isRTL()&&r.left<a.right+5?e.setState({narrow:!0}):e.setState({narrow:!1})}},e.onTab=function(t){(t&&(t.stopPropagation(),t.preventDefault()),e.props.statusV3.contact.isMe)||(e.composeBox.isFocused()?e.dismissReply():e.startReply())},e.onWindowGainedFocus=function(){e.windowFocused=!0,e.play()},e.onWindowLostFocus=function(){e.windowFocused=!1,e.pause()},e.onClickProfile=function(){var t=e.props.statusV3.contact.id;u.default.find(t).then(function(e){return l.default.openChatBottom(e)}).then(function(){e.props.closeStatusViewer(!0)})},e.play=function(){var t=e.props.mediaData;if(t){if(t.mediaStage!==j.default.STAGE.RESOLVED)return;e.statusViewEvent.webcStatusLoadT||(e.statusViewEvent.markWebcStatusLoadT(),e.statusViewEvent.webcStatusLoaded=!0)}var n=e.composeBox;n&&n.isPaused()||e.windowFocused&&(e.playStartTime=window.performance.now(),e.playbackController.resume())},e.pause=function(){var t=e.props.mediaData;if(!t||t.mediaStage===j.default.STAGE.RESOLVED){var n=e.playStartTime;null!=n&&(e.statusViewEvent.webcStatusViewT+=Math.round(window.performance.now()-n),e.playStartTime=void 0),e.playbackController.pause()}},e.onMouseDown=function(t){e.pause()},e.onMouseUp=function(t){e.play()},e.dismissReply=function(){var t=e.refWrapper&&e.refWrapper.current;t&&h.default.focus(t)},e.startReply=function(){e.composeBox.restoreFocus()},e.onSend=function(){e.statusViewEvent.webcStatusReplyCount++},e.state={chat:void 0,narrow:!1},e.windowFocused=!0,e.playbackController=(0,N.setupStatusV3Controller)(e.props.mediaData,e.props.msg),e.statusViewEvent=new S.default.WebcStatusView({webcStatusLoaded:!1,webcStatusReplyCount:0,webcStatusViewT:0}),e}return B(t,i.Component),a(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.statusV3,a=t.msg,o=t.mediaData,i=t.msgIdx,u=t.sessionId;if(null!=u){var s=void 0;s=n.contact.isMe?S.default.WEBC_STATUS_ROW_SECTION.MY:n.contact.statusMute?S.default.WEBC_STATUS_ROW_SECTION.MUTED:n.hasUnread?S.default.WEBC_STATUS_ROW_SECTION.RECENT:S.default.WEBC_STATUS_ROW_SECTION.VIEWED;var l=this.props.rowIdx||0,f=n.msgs.length-1-i<n.unreadCount,d=void 0;o?d=o.isGif?S.default.WEBC_STATUS_MEDIA_TYPE.GIF:"video"===o.type?S.default.WEBC_STATUS_MEDIA_TYPE.VIDEO:S.default.WEBC_STATUS_MEDIA_TYPE.IMAGE:(d=a.getLinks().length?S.default.WEBC_STATUS_MEDIA_TYPE.URL:S.default.WEBC_STATUS_MEDIA_TYPE.TEXT,this.statusViewEvent.markWebcStatusLoadT(),this.statusViewEvent.webcStatusLoaded=!0),this.statusViewEvent.webcStatusSessionId=u,this.statusViewEvent.webcStatusRowSection=s,this.statusViewEvent.webcStatusRowIndex=l,this.statusViewEvent.webcStatusMediaType=d,this.statusViewEvent.webcStatusUnread=f}this.refProgressBarComponent&&this.refProgressBarComponent.current&&this.playbackController.addListeners(function(t,n){var r=e.refProgressBarComponent&&e.refProgressBarComponent.current;r&&r.onStart(t,n)},function(){var t=e.refProgressBarComponent&&e.refProgressBarComponent.current;t&&t.onPause()},function(){var t=e.refProgressBarComponent&&e.refProgressBarComponent.current;t&&t.onEnded().checkpoint(e.props.rejectOnUnmount()).then(function(){e.props.onNext()}).catch(p.Unmount,function(){})}),o?(this.play(),o&&o.mediaStage===j.default.STAGE.RESOLVED&&this.props.markRead(this.props.statusV3,this.props.msg)):(this.props.msg.type,c.default.MSG_TYPE.CHAT,this.play(),this.props.markRead(this.props.statusV3,this.props.msg));var h=this.refWrapper&&this.refWrapper.current;h&&h.focus();var m=this.props.listeners;m.add(window,"focus",this.onWindowGainedFocus),m.add(window,"blur",this.onWindowLostFocus),m.add(window,"resize",(0,r.default)(this.onWindowResize)),this.onWindowResize()}},{key:"render",value:function(){var e=this,t=this.props,n=t.msg,r=t.mediaData,a=t.statusV3,u=void 0;if(r&&r.preview)u={backgroundImage:`url(${r.preview.url()})`};else if(n.type===c.default.MSG_TYPE.CHAT){u={backgroundColor:n.statusV3TextBg}}var l=void 0;if(r)switch(r.type){case j.default.TYPE.IMAGE:l=i.createElement(H,{msg:n,statusV3:a,mediaData:r,markRead:this.props.markRead,play:this.play,pause:this.pause,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp});break;case j.default.TYPE.VIDEO:l=i.createElement(Y,{msg:n,statusV3:a,mediaData:r,markRead:this.props.markRead,play:this.play,pause:this.pause,playbackController:this.playbackController,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp});break;default:E.default.error("Invalid status v3 image type: "+r.type)()}else l=n.type===c.default.MSG_TYPE.CHAT?i.createElement(K,{msg:n,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp}):i.createElement(q,{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp});var p=i.createElement("div",{ref:this.refProgressBar},i.createElement(I.default,{ref:this.refProgressBarComponent,current:this.props.msgIdx,total:this.props.totalMsgs,onClick:this.props.onClickProgressBar})),h=void 0;n.type!==c.default.MSG_TYPE.CHAT&&(h=i.createElement("div",{className:k.default.captionBackdrop},i.createElement(d.default,{className:k.default.mediaCaption,text:n.caption,formatters:y.Configuration.StatusV3Caption()})));var m=(0,o.default)(k.default.profile,{[k.default.nonClickProfile]:n.isSentByMe,[k.default.profileNarrow]:this.state.narrow}),v=(0,o.default)(k.default.profile,k.default.measuringProfile,{}),_=i.createElement("div",{ref:"profile",className:m,onClick:n.isSentByMe?null:this.onClickProfile},i.createElement("div",{className:k.default.playerAvatar},i.createElement(f.default,{id:a.contact.id,theme:"status_v3",size:40})),i.createElement("div",{className:k.default.msgInfo},i.createElement(d.default,{className:k.default.msgInfoName,text:a.contact.formattedName}),i.createElement("div",{className:k.default.timestamp},s.default.relativeDateAndTimeStr(n.t)))),O=i.createElement("div",{ref:this.refMeasuringProfile,className:v},i.createElement("div",{className:k.default.playerAvatar},i.createElement(f.default,{id:a.contact.id,theme:"status_v3",size:40})),i.createElement("div",{className:k.default.msgInfo},i.createElement(d.default,{className:k.default.msgInfoName,text:a.contact.formattedName}),i.createElement("div",{className:k.default.timestamp},s.default.relativeDateAndTimeStr(n.t)))),S={tab:this.onTab,"shift+tab":this.onTab},w=function(e){return e.stopPropagation()},P={left:w,right:w},M=void 0;r&&(M=i.createElement(Q,{mediaData:r}));var C=void 0;this.props.statusV3.contact.isMe||(C=i.createElement(g.default,{handlers:P},i.createElement(A.default,{msg:this.props.msg,dismissReply:this.dismissReply,onSend:this.onSend,pause:this.pause,play:this.play,ref:(0,b.GetRef)("composeBox",this)})));var T=(0,o.default)(k.default.playerBackground,{[k.default.media]:r}),N=void 0,L=(0,o.default)(k.default.progresBarBackdrop,{[k.default.progressBarBackdropNarrow]:this.state.narrow});return n.type!==c.default.MSG_TYPE.CHAT&&(N=i.createElement("div",{className:L})),i.createElement(R.default,{displayName:"StatusV3Player",escapable:!0,requestDismiss:function(t){t||e.props.closeStatusViewer()},requestFocus:this.dismissReply},i.createElement(g.default,{handlers:S},i.createElement("div",{className:k.default.playerWrapper,key:n.id.toString(),tabIndex:-1,ref:this.refWrapper},O,_,N,p,h,i.createElement("div",{className:T,style:u}),l,M,C)))}}]),t}();$.displayName="_StatusV3Player";var V=function(e){function t(){var e,n,r;G(this,t);for(var a=arguments.length,u=Array(a),s=0;s<a;s++)u[s]=arguments[s];return n=r=F(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r._renderImage=function(e){var t=r.props.mediaData,n=(0,o.default)(k.default.playerContent,k.default.v3Image);return i.createElement("div",{className:n,onMouseDown:r.props.onMouseDown,onMouseUp:r.props.onMouseUp,onDragEnd:r.props.onMouseUp},i.createElement(P.default,{type:w.FIT_TYPE.CONTAIN,size:{width:t.fullWidth,height:t.fullHeight}},i.createElement(v.default,{src:e})))},r._renderPreviewImage=function(){var e=r.props.mediaData,t=(0,o.default)(k.default.playerContent,k.default.v3Image,k.default.loading);return i.createElement("div",{className:t,onMouseDown:r.props.onMouseDown,onMouseUp:r.props.onMouseUp},i.createElement(P.default,{type:w.FIT_TYPE.CONTAIN,size:{width:e.aspectRatio,height:1}},i.createElement(v.default,{src:e.preview&&e.preview.url()})))},r._downloadMedia=function(){return r.props.msg.downloadMedia(!0,S.default.WEBC_RMR_REASON_CODE.STATUS_V3)},F(r,n)}return B(t,i.PureComponent),a(t,[{key:"componentDidMount",value:function(){this.props.mediaData.mediaStage!==j.default.STAGE.RESOLVED&&this.props.msg.downloadMedia(!0,S.default.WEBC_RMR_REASON_CODE.STATUS_V3)}},{key:"componentDidUpdate",value:function(){this.props.play();var e=this.props.mediaData;e&&e.mediaStage===j.default.STAGE.RESOLVED&&this.props.markRead(this.props.statusV3,this.props.msg)}},{key:"componentWillUnmount",value:function(){this.props.pause()}},{key:"render",value:function(){return i.createElement(O.default,{mediaData:this.props.mediaData,placeholderRenderer:this._renderPreviewImage,downloadMedia:this._downloadMedia},this._renderImage)}}]),t}();V.CONCERNS={mediaData:["mediaStage","renderableUrl","preview","fullWidth","fullHeight","aspectRatio"]},V.displayName="_StatusV3Img";var H=(0,T.default)(V,V.CONCERNS),W=function(e){function t(){var e,n,r;G(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=r=F(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.refVideo=i.createRef(),r.setRefVideo=function(e){(r.refVideo=e,r.refVideo.current)&&r.props.playbackController.setVideo(r.refVideo.current)},F(r,n)}return B(t,i.PureComponent),a(t,[{key:"componentDidMount",value:function(){this.props.mediaData.mediaStage!==j.default.STAGE.RESOLVED&&this.props.msg.downloadMedia(!0,S.default.WEBC_RMR_REASON_CODE.STATUS_V3)}},{key:"componentDidUpdate",value:function(){this.props.play();var e=this.props.mediaData;e&&e.mediaStage===j.default.STAGE.RESOLVED&&this.props.markRead(this.props.statusV3,this.props.msg)}},{key:"componentWillUnmount",value:function(){this.props.pause()}},{key:"render",value:function(){var e=this.props.mediaData,t=e.mediaStage!==j.default.STAGE.RESOLVED,n=(0,o.default)(k.default.playerContent,k.default.v3Video,{loading:t}),r=e.preview?e.preview.url():void 0;return i.createElement("div",{className:n,onMouseDown:this.props.onMouseDown,onMouseUp:this.props.onMouseUp},i.createElement(D.default,{msg:this.props.msg,mediaData:this.props.mediaData,autoPlay:!0,refVideo:this.setRefVideo,poster:r},l10n.t(1115)))}}]),t}();W.CONCERNS={mediaData:["preview","mediaStage"]},W.displayName="_StatusV3Video";var Y=(0,T.default)(W,W.CONCERNS),K=function(e){function t(){return G(this,t),F(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return B(t,i.PureComponent),a(t,[{key:"componentDidMount",value:function(){m.default.load(this.props.msg.font).catch(function(){})}},{key:"render",value:function(){var e=(0,L.numCodepoints)(this.props.msg.body),t=void 0,n=void 0,r={[k.default[`font_${this.props.msg.font||0}`]]:!0};return e<=60?(t=(0,o.default)(k.default.text,k.default.textLarge,r),n=y.Configuration.StatusV3Text({links:this.props.msg.getLinks()})):e<=240?(t=(0,o.default)(k.default.text,k.default.textMedium,r),n=y.Configuration.StatusV3Text({links:this.props.msg.getLinks()})):t=(0,o.default)(k.default.text,k.default.textSmall,r),i.createElement("div",{className:(0,o.default)(k.default.playerContent,{[k.default.statusPanelPlayerContent]:"status-panel"===this.props.theme,[k.default.statusThumbnailPlayerContent]:"status-thumbnail"===this.props.theme,[k.default.textThumbnailPlayerContent]:"text-thumb"===this.props.theme}),onMouseDown:this.props.onMouseDown,onMouseUp:this.props.onMouseUp},i.createElement("div",{className:t},i.createElement(d.default,{text:this.props.msg.body,formatters:n})))}}]),t}();K.displayName="StatusV3Text";var q=function(e){function t(){return G(this,t),F(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return B(t,i.PureComponent),a(t,[{key:"render",value:function(){return i.createElement("div",{className:k.default.playerContent,onMouseDown:this.props.onMouseDown,onMouseUp:this.props.onMouseUp},i.createElement("div",{className:k.default.unknown},l10n.t(1045)))}}]),t}();q.displayName="StatusV3Unknown";var z=function(e){function t(){return G(this,t),F(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return B(t,i.Component),a(t,[{key:"render",value:function(){return this.props.mediaData.mediaStage!==j.default.STAGE.RESOLVED?i.createElement("div",{className:k.default.mediaStateControls},i.createElement("button",{className:"icon-media-disabled"},i.createElement(C.default,{size:50,stroke:4,color:"white"}))):null}}]),t}();z.CONCERNS={mediaData:["mediaStage"]},z.displayName="_LoadingSpinner";var Q=(0,T.default)(z,z.CONCERNS),J=(0,M.default)((0,_.default)($));t.default=J,t.StatusV3Text=K},iabebjcej:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("jegbhjbde"),i=s(n("djhbegbdaf")),u=s(n("ihfccfgdf"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props.msg,t=e.subtype,n=e.body,r=e.recipients;if("create"===t){var u=parseInt(n,10);return a.createElement(i.default,{id:1415,params:{count:u},plural:u,wrapInHiddenToken:!0})}return"add"===t?a.createElement(i.default,{id:1260,params:{name:(0,o.getFormattedNames)(r,!0)},plural:r.length,wrapInHiddenToken:!0}):"remove"===t?a.createElement(i.default,{id:1261,params:{name:(0,o.getFormattedNames)(r,!0)},plural:r.length,wrapInHiddenToken:!0}):null}}]),t}();l.CONCERNS={msg:["type","subtype","body","recipients"]},l.displayName="BroadcastNotification",t.default=(0,u.default)(l,l.CONCERNS)},iaejfgacj:function(e,t){e.exports={confirmationText:"BJa6O"}},iagahbjff:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=b(n("dfacahcafg")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=b(n("ceffhbhahb")),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=b(n("cjfhhbcfdh")),s=b(n("dfhebgbhja")),l=b(n("fffdgbfji")),c=n("jdigiabic"),f=b(c),d=b(n("cgfidiajgj")),p=b(n("bdjihaecid")),h=b(n("faeabghda")),m=b(n("dfcihdhibf"));function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={isCollectionReady:f.default.isSynced()},r._setRefScrollGrid=function(e){r._refScrollGrid=e},g(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.PureComponent),a(t,[{key:"componentDidMount",value:function(){var e=this;this.state.isCollectionReady||f.default.syncOnce().then(function(){e.setState({isCollectionReady:!0})})}},{key:"focus",value:function(e){this._refScrollGrid&&this._refScrollGrid.focus(e)}},{key:"render",value:function(){return this.state.isCollectionReady?0===f.default.length?i.createElement("div",{className:(0,o.default)(s.default.emptyContainer,s.default.contentContainer)},i.createElement("div",{className:s.default.emptySticker,style:{backgroundImage:`url(${u.default})`}}),i.createElement("p",{className:s.default.emptyText},l.default.t(1051))):i.createElement(m.default,{ref:this._setRefScrollGrid,onFocusPrev:this.props.onFocusPrev,onScroll:this.props.onScroll,onStickerClick:this.props.onStickerClick,onStickerEnter:this.props.onStickerEnter,stickers:f.default.toArray()}):i.createElement("div",{className:h.default.container},(0,r.default)(c.RECENT_STICKERS_LIMIT,function(e){return i.createElement(p.default,{key:e,sticker:d.default.getPlaceholder()})}))}}]),t}();v.displayName="StickerPackStickersRecent",t.default=v},iaibjaeb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Component=t.Mode=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=J(n("ddhijeejag")),o=Q(n("bgjaficfde")),i=Q(n("dgibicjjj")),u=Q(n("ebjaejiaba")),s=Q(n("dbdfbgehgj")),l=Q(n("bifjfdedi")),c=Q(n("bbchdeehff")),f=Q(n("baagejbchg")),d=Q(n("biddiiafgd")),p=n("bjigbaghc"),h=Q(p),m=n("hdccjfbbg"),b=Q(n("dcjhajfghf")),g=Q(n("dcjaicbbhg")),v=Q(n("dhhfaeacef")),y=n("cgejchjdhj"),_=Q(n("bhhdeihhhf")),E=n("ddjgcfjicj"),j=n("cfffidafid"),O=J(n("cajijabhgb")),S=Q(n("ddajbaceej")),w=Q(n("bjbdcigbdi")),P=Q(n("djaadchjch")),M=n("eihefeaje"),C=n("dhfbfehaef"),T=Q(C),A=Q(n("dggbjaijga")),N=Q(n("bebjeaagc")),k=Q(n("fffdgbfji")),I=Q(n("eceadcicaf")),R=Q(n("bdiiahhjbe")),L=Q(n("cfhgffgbcb")),D=Q(n("bjghdijfjd")),x=n("bfbggcdbfb"),U=(Q(n("dagdiahdfi")),Q(n("dhhcghbjeb"))),G=Q(n("bhheahajjg")),F=Q(n("cfchhaeaaf")),B=n("caijdggfg"),$=Q(n("ihfccfgdf")),V=n("bheafeifce"),H=Q(n("fbjjefaic")),W=Q(n("cbeecgcage")),Y=Q(n("caffijjhc")),K=Q(n("dbjbhajgfd")),q=Q(n("cjcaccbiih")),z=Q(n("jccfhaecf"));function Q(e){return e&&e.__esModule?e:{default:e}}function J(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var Z=t.Mode={LAST:"LAST",INFO:"INFO"},X=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.hoverCounter=0,n.setCellRef=function(e){n.cellRef=e},n.setHotKeysRef=function(e){n.hotKeysRef=e},n.state={active:!1,dragging:!1,searchText:"",contextMenu:null,chatId:null,unreadCount:0},n._setUnreadCount=function(){var e=n.props.chat.optimisticUnreadCount;e!==n.state.unreadCount&&n.setState({unreadCount:e})},n.preFetchGroupMetadata=function(){var e=n.props.chat;e.groupMetadata&&e.groupMetadata.stale&&P.default.find(e.id).catch(E.WapDrop,O.ProtoVersionUndefined,function(){})},n.onSearch=function(){n.props.searchQuery?n.setState({searchText:n.props.searchQuery.trimmed}):R.default.error("Chat: prop searchQuery is undefined")()},n.onActiveChange=function(e,t){if("focus"===e){var r=n.hotKeysRef;r&&(S.default.focus(r),t&&(0,y.scrollIntoViewIfNeeded)(r))}n.setState({active:!!e})},n.contextEnabled=function(){return!n.props.noContext},n.editLabel=function(){var e=n.props,t=e.selectableState,r=e.multiSelection;!n.props.searchQuery||n.props.searchQuery.isEmptyQuery?t&&r&&(t.setSelectable(!0),r.setVal((0,V.unproxy)(n.props.chat))):n.addOrRemoveLabelOnSelected()},n.addOrRemoveLabelOnSelected=function(){var e=[(0,V.unproxy)(n.props.chat)];c.default.openModal(a.createElement(L.default,{modelsToUpdate:e}))},n.onMenu=function(e){if(n.state.contextMenu)n.setState({contextMenu:null});else{var t=n.props.chat,r=[];t.canArchive()&&r.push(a.createElement(o.default,{key:"archive",onArchive:n.onArchive,chat:(0,V.unproxy)(t)})),t.mute.canMute()&&r.push(a.createElement(U.default,{key:"mute",onMute:n.onMute,mute:t.mute})),r.push(a.createElement(g.default,{key:"delete",onDeleteOrExit:n.onDeleteOrExit,chat:(0,V.unproxy)(t)})),h.default.platform===p.PLATFORMS.IPHONE&&t.isBroadcast||!t.canPin()||r.push(a.createElement(F.default,{key:"pin",onPinOrUnpin:n.onPinOrUnpin,chat:t})),w.default.supportsFeature(w.default.F.LABELS_EDIT)&&r.push(a.createElement(_.default,{a8n:"mi-edit-label",action:n.editLabel,key:"EditLabel"},k.default.t(407))),t.canUnread&&r.push(a.createElement(D.default,{key:"mark_unread",onMarkUnread:n.onMarkUnread,chat:(0,V.unproxy)(t)})),e.event&&e.event.persist(),n.setState({contextMenu:{menu:r,event:e.event,anchor:e.anchor}})}},n.removeContext=function(){n.setState({contextMenu:null})},n.onMute=function(e){c.default.muteChat((0,V.unproxy)(n.props.chat),e)},n.onArchive=function(e){c.default.archiveChat((0,V.unproxy)(n.props.chat),e)},n.onDeleteOrExit=function(){c.default.deleteOrExitChat((0,V.unproxy)(n.props.chat),n)},n.onPinOrUnpin=function(e){!e||s.default.filter(function(e){return e.pin}).length<3?c.default.pinChat((0,V.unproxy)(n.props.chat),e):c.default.openModal(a.createElement(d.default,{onOK:function(){return c.default.closeModal()},okText:k.default.t(1287)},k.default.t(34)))},n.onMarkUnread=function(e){c.default.markChatUnread((0,V.unproxy)(n.props.chat),e)},n.onClick=function(e){var t=n.props,r=t.onClick,a=t.chat;r&&r(e,(0,V.unproxy)(a))},n.onMouseDown=function(e){0===e.button&&n.onClick(e)},n.onEnter=function(e){e.preventDefault(),e.stopPropagation(),(0,C.shouldIndicateFocus)(),n.onClick(e)},n.onDragEnter=function(e){n.props.chat.canSend&&(new b.default(e.dataTransfer).hasType(f.default.DRAG_TYPE_FILE)&&(0===n.hoverCounter&&n.setState({dragging:!0}),n.hoverCounter+=1))},n.onDragLeave=function(e){n.props.chat.canSend&&(new b.default(e.dataTransfer).hasType(f.default.DRAG_TYPE_FILE)&&(n.hoverCounter-=1,0===n.hoverCounter&&n.setState({dragging:!1})))},n.onDrop=function(e){var t=n.props.chat;if(t.canSend){n.setState({dragging:!1});var r=new b.default(e.dataTransfer);(r.hasType(f.default.DRAG_TYPE_FILE)||r.hasType("text/uri-list")||r.hasType("text/html"))&&(0,j.getFiles)(e).then(function(e){c.default.openChatFromUnread(t).then(function(n){n&&c.default.attachMediaDrawer({chat:t,files:e,fileOrigin:x.MEDIA_PICKER_ORIGIN_TYPE.PASTE})})}).catch(O.MediaDragDropError,function(e){c.default.openChatFromUnread(t).then(function(n){n&&c.default.pasteChatTextInput(t,e.src)})})}},n.indicateFocus=function(e){e.stopPropagation(),e.preventDefault(),(0,C.indicateFocus)(n.cellRef,["#e9eaeb","#cbdde7"],{complete:n.onBlur})},n.onBlur=function(e){n.cellRef&&n.cellRef.reset()},n.openContextMenu=function(){n.cellRef&&n.cellRef.openContextMenu()},n._throttledSetUnreadCount=n.props.throttle(n._setUnreadCount,0,{leading:!1,tailing:!0}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n={},r=e.active&&e.active.value instanceof u.default&&z.default.equals(e.active.value.id,e.chat.id);t.active!==r&&(n.active=r);var a=e.searchQuery?e.searchQuery.trimmed:"";t.searchText!==a&&(n.searchText=a);var o=e.chat.id;return t.chatId!==o&&(n.chatId=o,n.unreadCount=e.chat.optimisticUnreadCount),n}}]),r(t,[{key:"componentDidMount",value:function(){var e=this.props.chat;this.initListeners(this.props),w.default.supportsFeature(w.default.F.GROUPS_V_3)&&e.isGroup&&e.groupMetadata&&e.groupMetadata.stale&&N.default.enqueue(this.preFetchGroupMetadata)}},{key:"componentDidUpdate",value:function(e){this.props.chat.optimisticUnreadCount!==this.state.unreadCount&&this._throttledSetUnreadCount(),this.initListeners(this.props,e)}},{key:"initListeners",value:function(e,t){var n=e.listeners,r=e.active,a=e.chat,o=e.searchQuery,i=e.frequent;t&&t.searchQuery&&t.searchQuery!==o&&n.remove(t.searchQuery,B.SEARCH_EVENT,this.onSearch),!o||t&&o===t.searchQuery||n.add(o,B.SEARCH_EVENT,this.onSearch);var u=t&&t.chat.id;if(!a.id.equals(u)&&(t&&t.active&&n.remove(t.active,t.chat.id.toString(),this.onActiveChange),r)){var s=(i?m.FREQUENT_PREFIX:"")+a.id.toString();n.add(r,s,this.onActiveChange)}}},{key:"render",value:function(){var e=this.props,t=e.chat,n=e.mode,r=e.secondary,o=e.theme,u=this.state,s=u.searchText,c=u.active,f=u.dragging,d=u.contextMenu,p=u.unreadCount,h=void 0,m=void 0,b={};switch(n){case Z.LAST:h=a.createElement(W.default,{chat:t}),r||(r=a.createElement(l.default,{chat:t}),m=a.createElement(A.default,{chat:t,mute:t.mute,unreadCount:p})),b.enter=this.onEnter,b[k.default.LR("right","left")]=this.openContextMenu;break;case Z.INFO:r||(r=t.isGroup||t.isBroadcast?a.createElement(M.ParticipantsList,{groupMetadata:t.groupMetadata}):a.createElement(q.default,{presence:t.presence,chatstate:t.presence.chatstate,location:"list"})),b.enter=this.onEnter}var g=a.createElement(v.default,{id:t.id,waitIdle:!0}),y=this.props.mouseDownAsClick,_=void 0;d&&(_=a.createElement(Y.default,{displayName:"ChatContextMenu",escapable:!0,popable:!0,requestDismiss:this.removeContext},a.createElement(K.default,{contextMenu:d})));var E=a.createElement(G.default,{chat:t,highlightText:s,showLabel:!0,titlify:!0,ellipsify:!0});return a.createElement(T.default,{onRef:this.setHotKeysRef,handlers:b,onFocus:this.indicateFocus,onBlur:this.onBlur,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDrop:this.onDrop},a.createElement(i.default,{id:t.id,ref:this.setCellRef,theme:o,contextEnabled:this.contextEnabled,pendingAction:t.pendingAction,contextMenu:!!d,unread:0!==p,active:!!c,isMuted:!1,dragging:!!f,image:g,primary:E,primaryDetail:h,secondary:r,secondaryDetail:m,onClick:y?void 0:this.onClick,onMouseDown:y?this.onMouseDown:void 0,onContext:this.onMenu}),_)}}]),t}();X.CONCERNS={chat:["id","isReadOnly","isGroup","pendingAction","canSend","isUser","contact","presence","groupMetadata","mute","isBroadcast","canUnread","optimisticUnreadCount"]},X.defaultProps={mode:Z.LAST},X.displayName="Chat";t.Component=X;t.default=(0,H.default)((0,I.default)((0,$.default)(X,X.CONCERNS)))},iajeehcac:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("dcaifjegcg"),o=s(a),i=s(n("dhigahgdjb")),u=s(n("jccfhaecf"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.id=(0,a.prop)(),r.isAdmin=(0,a.prop)(),r.isSuperAdmin=(0,a.prop)(),r.contact=(0,a.session)(),r.hasSenderKey=(0,a.session)(!1),l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"initialize",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this),this.addChild("contact",i.default.gadd(this.id))}}]),t}();c.Proxy="participant",c.idClass=u.default,t.default=(0,a.defineModel)(c)},ibdgibccg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return r.default.globalUnixTime()-e<a.default.mmsMediaKeyTTL+Math.floor(86400*Math.random())};var r=o(n("cfadcbbiie")),a=o(n("bfgbdiffgd"));function o(e){return e&&e.__esModule?e:{default:e}}},ibeajfihb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=p(n("dhigahgdjb")),i=p(n("fifhbjiec")),u=p(n("efgfgjab")),s=p(n("ihfccfgdf")),l=n("bheafeifce"),c=p(n("chccggajbc")),f=p(n("gbbacfeci")),d=p(n("jccfhaecf"));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=a.createElement("span",{className:c.default.statusLoading},l10n.t(352)),v=function(e){function t(){return h(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props.status,t=a.createElement(i.default,{direction:"auto",ellipsify:!0,titlify:!0,text:e.status}),n=(0,l.unproxy)(e).stale?g:t;return a.createElement(u.default,{id:e.id,onComplex:function(){return f.default.find(e.id),void 0!==e.status?t:g},waitIdle:this.props.waitIdle},n)}}]),t}();v.WEAK_CONCERNS={status:["id","stale","status"]},v.displayName="Status";var y=(0,s.default)(v,void 0,v.WEAK_CONCERNS),_=function(e){function t(e){h(this,t);var n=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={status:f.default.get(e.id)},n}return b(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){if(!this.state.status){var e=o.default.gadd(this.props.id);this.setState({status:e.getStatus()})}}},{key:"componentDidUpdate",value:function(e){if(!d.default.equals(this.props.id,e.id)){var t=o.default.gadd(this.props.id);this.setState({status:t.getStatus()})}}},{key:"render",value:function(){var e=this.state.status;return e?a.createElement(y,{status:e,waitIdle:this.props.waitIdle}):g}}]),t}();_.displayName="StatusWrapper",t.default=_},ibebafhjb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("cgecdbiihg"),i=l(n("dagibffcjf")),u=l(n("bcfiaiddii")),s=l(n("ihfccfgdf"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.msg,n=e.mediaData,r=n.preview?`url(${n.preview.url()})`:void 0;return a.createElement(i.default,{aspectRatio:n.aspectRatio,previewUrl:r,animationStartStyle:this.props.animationStartStyle},a.createElement(u.default,{msg:t,mediaData:n,startTime:this.props.startTime,onClose:this.props.onClose,onError:this.props.onError,onOpenMediaViewer:this.props.onOpenMediaViewer,onMissingMedia:this.props.onMissingMedia,onUnsupportedMedia:this.props.onUnsupportedMedia,autoPlay:this.props.autoPlay,type:o.PLAYER_TYPE.FLOATER}))}}]),t}();c.CONCERNS={mediaData:["preview","aspectRatio"]},c.displayName="FloatingMsgVideoPlayer",t.default=(0,s.default)(c,c.CONCERNS)},ibjjdihbi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=n("cjedbbhjhh");n("ccijeahddj").loadCollections(t),n("chihfebbce").initialize(),n("ccfjgbibc").startMemoryWamStat();var r=n("gcbhjhjhg").default,a=n("dhefcajhhb").default,o=n("bbaibbdgdj"),i=n("chiaeadhif");r.supported&&a.on("change:tag",function(e){var t=navigator.serviceWorker;t&&t.controller&&!e.tag&&i.request(t.controller,o.REMOVE_PP,e.id).catch(function(){})});var u=n("bgidiahdfc").default,s=n("bbicdddbdj").EMOJI_TYPE;u("iphone"===e?s.APPLE:s.WHATSAPP);var l=n("chgfegiddc");return{MainComponent:l.default,hasPending:l.hasPending,notificationBackend:n("dgjifchfde"),execApiCmd:n("djeffaehji").default}}},icaahcghc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=g(n("ddhijeejag")),o=b(n("dcbfjbeaad")),i=g(n("dfhjacfbjg")),u=b(n("bjigbaghc")),s=b(n("bcbahjefec")),l=b(n("ciebcgbegd")),c=b(n("bafdafhgja")),f=b(n("bajidgjehj")),d=b(n("dhefcajhhb")),p=b(n("cacaidhjb")),h=b(n("gbbacfeci")),m=b(n("ijecjcidg"));function b(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,p=Array(s),b=0;b<s;b++)p[b]=arguments[b];return n=r=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(p))),r.showWallpaperDrawer=function(){r.push(a.createElement(m.default,{onClose:r._pop}))},r.showBlockedDrawer=function(){r.push(a.createElement(o.default,{onClose:r._pop}))},r.showProfileDrawer=function(){var e=h.default.assertGet(u.default.me),t=d.default.assertGet(u.default.me);r.push(a.createElement(f.default,{status:e,profilePicThumb:t,conn:u.default,onClose:r._pop}))},r.showNotifications=function(){r.push(a.createElement(c.default,{onClose:r._pop}))},r.showHelp=function(){i.upload("help-page-opened"),r.push(a.createElement(l.default,{onClose:r._pop}))},r._pop=function(){r.pop()},v(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),r(t,[{key:"componentDidMount",value:function(){this.push(a.createElement(p.default,{profileId:u.default.me,onWallpaper:this.showWallpaperDrawer,onBlocked:this.showBlockedDrawer,onProfile:this.showProfileDrawer,onNotifications:this.showNotifications,onHelp:this.showHelp,onClose:this._pop}))}}]),t}();t.default=y},icadbbfej:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=d(n("dbdfbgehgj")),i=d(n("bbchdeehff")),u=d(n("dhigahgdjb")),s=d(n("cfafieaaec")),l=d(n("bcbahjefec")),c=d(n("ccjabfdeje")),f=d(n("bheehfahbe"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,s=Array(u),l=0;l<u;l++)s[l]=arguments[l];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.onClick=function(e,t){o.default.find(t.id).then(i.default.openChatFromUnread.bind(i.default)),r.end()},r.onNewGroup=function(e){r.push(a.createElement(f.default,{onBack:r.pop,onContinue:r.onSetGroupInfo}))},r.onSetGroupInfo=function(e){r.push(a.createElement(c.default,{participants:e,onBack:function(){r.popAndUpdate({participants:e})},onContinue:r.end}))},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default),r(t,[{key:"componentDidMount",value:function(){u.default.ensureSorted(),this.push(a.createElement(s.default,{title:l10n.t(839),onBack:this.end,onClick:this.onClick,onNewGroup:this.onNewGroup}))}}]),t}();t.default=h},icbjhhidg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MSG_HEIGHT=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=O(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=O(n("cehjjfagii")),u=O(n("jhcabjcaf")),s=O(n("bfjbdahdag")),l=O(n("cfadcbbiie")),c=O(n("bbchdeehff")),f=O(n("dhhfaeacef")),d=O(n("bjbdcigbdi")),p=O(n("eceadcicaf")),h=O(n("ciifehaief")),m=O(n("diccedcfdi")),b=O(n("cfhcfebgda")),g=O(n("behbcejhad")),v=O(n("cieaeggjg")),y=n("cicjibbhdb"),_=O(n("bfgbdiffgd")),E=O(n("ihfccfgdf")),j=O(n("bfdcadbbif"));function O(e){return e&&e.__esModule?e:{default:e}}t.MSG_HEIGHT=220;var S=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.openLiveLocationDrawer=function(){var e=n.props.msg,t=e.chat,r=e.sender;c.default.liveLocationDrawer(t,r)},n.openExpiredLocationDrawer=function(){c.default.expiredLocationDrawer(n.props.msg)},n.stopSharing=function(){var e=n.props.msg.chat;c.default.openModal(o.createElement(b.default,{chat:e}))},n.onMapLoad=function(){n.setState({mapLoaded:!0})},n.state={mapLoaded:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"getExpiration",value:function(){var e=this.props.msg;return e.t+e.shareDuration}},{key:"isExpired",value:function(){return l.default.globalUnixTime()>=this.getExpiration()}},{key:"render",value:function(){var e=this.props,t=e.msg,n=e.trusted,r=e.displayAuthor,c=e.quotedMsg;if(d.default.supportsFeature(d.default.F.LIVE_LOCATIONS)){var p=r&&!t.isSentByMe&&t.isGroupMsg?o.createElement("div",{className:h.default.author},o.createElement(i.default,{msg:t,contact:t.senderObj})):null,b=c?o.createElement("div",{className:h.default.quote},c):null,E=this.isExpired(),O=d.default.supportsFeature(d.default.F.LIVE_LOCATIONS_FINAL)&&_.default.finalLiveLocation,S=E&&void 0!==t.finalLat&&void 0!==t.finalLng,w=t.lat,P=t.lng,M=E?void 0:this.openLiveLocationDrawer;O&&(M||(M=this.openExpiredLocationDrawer),S&&(w=t.finalLat,P=t.finalLng));var C={height:150},T=o.createElement("div",{className:h.default.thumb,onClick:M,style:C},o.createElement("div",{className:h.default.map},o.createElement(g.default,{lat:w,lng:P,width:270,height:150,className:h.default.thumbBody,linkify:!1,showMarker:!1,onLoad:this.onMapLoad})),o.createElement("div",{className:(0,a.default)(h.default.avatar,{[h.default.hidden]:!this.state.mapLoaded})},o.createElement(f.default,{id:t.sender,size:40,border:!0})),o.createElement("div",{className:h.default.overlay})),A=this.getExpiration(),N=E?l10n.t(628):l10n.t(634,{time:l.default.timestampStr(A),_plural:l.default.timestampHour(A)}),k=o.createElement("div",{className:h.default.status,onClick:M},o.createElement("span",{className:h.default.statusIcon},o.createElement(j.default,{name:(0,y.liveLocationIcon)(!E),display:"inline"})),o.createElement("span",{className:h.default.statusText},N)),I=t.comment?o.createElement("div",{className:h.default.caption},o.createElement(s.default,{msg:t,trusted:n})):null,R=o.createElement("div",{className:h.default.meta},o.createElement(v.default,{msg:t})),L=void 0;if(!E){var D=void 0,x=void 0,U=void 0;t.isSentByMe?(D=this.stopSharing,x=h.default.stopLocation,U=l10n.t(651)):(D=this.openLiveLocationDrawer,x=h.default.viewLocation,U=l10n.t(658)),L=o.createElement("div",{className:h.default.actionButton,onClick:D},o.createElement("span",{className:x},U))}return o.createElement("div",{className:(0,a.default)({[h.default.expired]:E,[h.default.hasCaption]:!!t.comment})},o.createElement(u.default,{className:(0,a.default)(h.default.container,{[h.default.clickable]:!!M}),contact:t.senderObj,msg:t},p,b,T,k,I,R),L)}return o.createElement(m.default,{msg:t,displayAuthor:r,quotedMsg:c})}}]),t}();S.CONCERNS={msg:["chat","comment","dir","finalLat","finalLng","isGroupMsg","isPSA","isSentByMe","lat","lng","rtl","sender","senderObj","shareDuration","t"]},S.displayName="LiveLocation",t.default=(0,p.default)((0,E.default)(S,S.CONCERNS))},icghcjegh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.renderLabelSvg=h;var a=f(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=f(n("bjbdcigbdi")),u=f(n("bijffg")),s=f(n("dijbgcccgc")),l=f(n("eceadcicaf")),c=f(n("bfdcadbbif"));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.updateLabels=function(){r.forceUpdate()},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(u.default,`label_updated_${this.props.labels[0]}`,this.updateLabels)}},{key:"render",value:function(){var e=this.props,t=e.labels,n=e.showName,r=e.renderAsCircle;if(!i.default.supportsFeature(i.default.F.LABELS_DISPLAY))return null;var l=t[0],f=u.default.get(l);if(!f||!f.name)return null;if(1===t.length){var d=n?o.createElement("span",{className:s.default.name},f.name):null,p=(0,a.default)({[s.default.container]:!n&&!r,[s.default.containerCircleIconFull]:!!r,[s.default.containerFull]:n&&!r,[s.default.labelFilter]:"label-filter"===this.props.theme,[s.default.drawerTitle]:"drawer-title"===this.props.theme}),m=r?{backgroundColor:f.hexColor}:{},b=r?o.createElement(c.default,{name:"label",className:s.default.icon}):h(f.hexColor);return o.createElement("div",{className:p},o.createElement("div",{className:(0,a.default)(s.default.iconContainer,{[s.default.circleIcon]:r}),style:m},b),d)}return o.createElement("div",{className:s.default.container},o.createElement("svg",{width:"18px",height:"15px",viewBox:"0 0 18 15"},o.createElement("path",{fill:f.hexColor,d:"M11.208,3.925H2.236C1.556,3.925,1,4.565,1,5.357v7.213C1,13.362,1.556,14,2.236,14h8.972 c0.414,0,0.785-0.237,1.007-0.604l2.701-4.433L12.215,4.53C11.993,4.162,11.622,3.925,11.208,3.925z"}),o.createElement("path",{opacity:"0.4",fill:"#263238",d:"M15.541,7.832L13.164,3.93 c-0.423-0.698-1.15-1.142-1.956-1.142H2.595V2.432C2.595,1.64,3.151,1,3.831,1h9.1c0.414,0,0.782,0.237,1.005,0.605l2.696,4.433 L15.541,7.832z"})))}}]),t}();function h(e){return o.createElement("svg",{key:2,width:"18px",height:"12px",viewBox:"0 0 18 12",className:s.default.icon},o.createElement("path",{fill:e||"#ffffff",d:"M11.208,0.925H2.236C1.556,0.925,1,1.565,1,2.357V9.57C1,10.362,1.556,11,2.236,11h8.972 c0.414,0,0.785-0.237,1.007-0.604l2.701-4.433L12.215,1.53C11.993,1.162,11.622,0.925,11.208,0.925z"}))}p.displayName="LabelIcon",h.displayName="renderLabelSvg",t.default=(0,l.default)(p)},ichcjagij:function(e,t){e.exports={labelRow:"aQhyH",labelContainer:"_26f5k"}},ichdigdd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.mediaKey,n=e.plaintext,m=e.type;return new Promise(function(e,g){var v={mediaKey:t.slice(0,10),type:m};if(f.default.log("encryptMedia: start",v)(),!m)throw new l.MediaEncryptionError('encryptMedia: missing "type"');if(!t)throw new l.MediaEncryptionError('encryptMedia: missing "mediaKey"');var y=new p.default.WebcCryptoMedia({webcCryptoType:p.default.WEBC_CRYPTO_TYPE_CODE.ENCRYPT,webcCryptoLibrary:p.default.WEBC_CRYPTO_LIBRARY_CODE.WEBCRYPTO});(0,s.default)(m,t).then(function(e){var t=e.iv,s=e.encKey,l=e.macKey;return(0,r.aesCbcEncrypt)(s,n,t).then(function(e){var r=e.slice(t.byteLength),s=new c.default(l);return s.sign(e,b).then(function(t){var s=Promise.resolve();if(m===d.default.VIDEO||m===d.default.AUDIO){var c=(0,u.default)(e,t);s=(0,i.default)(c,l)}var f=Promise.resolve();if(m===d.default.STICKER){var p=(0,h.default)(n),b=p.firstFrameLength;if(null!=b){var g=(0,u.default)(e,t);f=(0,o.default)(b,g,l)}}var v=(0,u.default)(r,t);return Promise.props({ciphertextHmac:v,hash:(0,a.default)(v),sidecar:s,firstFrameSidecar:f})})})}).then(function(t){y.webcCryptoFileSize=t.ciphertextHmac.byteLength,y.markWebcCryptoElapsedT(),y.commit(),f.default.log("encryptMedia: success",v)(),e(t)}).catch(function(e){if(f.default.error("encryptMedia: error",v,e)(),e instanceof l.MediaEncryptionError)throw e;throw new l.MediaEncryptionError(`encryption error: ${String(e)}; stack: ${e.stack}`)}).catch(g)})};var r=n("eaiigfgagg"),a=m(n("baeghbhigj")),o=m(n("gcdfcghe")),i=m(n("bdfbijjhda")),u=m(n("cdfccifhg")),s=m(n("feacbgeaf")),l=n("cajijabhgb"),c=m(n("bbejegbieb")),f=m(n("bdiiahhjbe")),d=m(n("gbjefdbgb")),p=m(n("bfbggcdbfb")),h=m(n("dbjchhfjhj"));function m(e){return e&&e.__esModule?e:{default:e}}var b=10},ichhibhgh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("cccehdaiaf"),i=(r=o)&&r.__esModule?r:{default:r};var u=new(function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.openPiP=function(t,n,r){e.manager&&e.manager.openPiP(t,n,r)},e.closePiP=function(){e.manager&&e.manager.closePiP()},e.pausePiP=function(){e.manager&&e.manager.pausePiP()},e.openYoutubePiP=function(t,n,r,a){e.manager&&e.manager.openYoutubePiP(t,n,r,a)},e.closeYoutubePiP=function(){e.manager&&e.manager.closeYoutubePiP()},e.openOgVideoPiP=function(t,n,r,a,o){e.manager&&e.manager.openOgVideoPiP(t,n,r,a,o)},e.closeOgVideoPiP=function(){e.manager&&e.manager.closeOgVideoPiP()},e.isOpened=function(t){return!!e.manager&&e.manager.isOpened(t)},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"register",value:function(e){this.manager=e}},{key:"unregister",value:function(){this.manager=null}},{key:"didOpen",value:function(e){this.trigger(`${e.id.toString()}_pip_did_open`)}},{key:"didClose",value:function(e){this.trigger(`${e.id.toString()}_pip_did_close`)}},{key:"didError",value:function(e){this.trigger(`${e.id.toString()}_pip_did_error`)}}]),t}());t.default=u},idbcfjbae:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("dcaifjegcg"),o=l(a),i=l(n("bffjfbgbg")),u=n("daichdjff"),s=l(n("biedfadfag"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.old=(0,a.session)(!1),r.id=(0,a.prop)(),r.catalogWid=(0,a.prop)(),r.additionalImageCdnUrl=(0,a.prop)(),r.imageCdnUrl=(0,a.prop)(),r.url=(0,a.prop)(),r.name=(0,a.prop)(),r.description=(0,a.prop)(),r.reviewStatus=(0,a.prop)(),r.currency=(0,a.prop)(),r.priceAmount1000=(0,a.prop)(),r.retailerId=(0,a.prop)(),r.productImageCollection=(0,a.session)(),r.imageCount=(0,a.prop)(),r.index=(0,a.prop)(),r.productMsgMediaData=(0,a.session)(),r.fetchedFromServer=(0,a.session)(),r.t=(0,a.prop)(),c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"initialize",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this),this.productImageCollection=new s.default,this.listenTo(this,"change:imageCdnUrl",this.triggerImageUpdate),this.triggerImageUpdate()}},{key:"triggerImageUpdate",value:function(){var e=this;if(this.markProductImagesOld(),this.fetchedFromServer||!this.productMsgMediaData)this.imageCdnUrl.productImageModel=this.productImageCollection.gadd({id:"_0",mediaUrl:this.imageCdnUrl.rawUrl,fetchedFromServer:this.fetchedFromServer,old:!1},{merge:!0}),this.additionalImageCdnUrl&&this.additionalImageCdnUrl.forEach(function(t,n){t.productImageModel=e.productImageCollection.gadd({id:`_${n+1}`,mediaUrl:t.rawUrl,fetchedFromServer:e.fetchedFromServer,old:!1},{merge:!0})});else{this.imageCdnUrl.productImageModel=this.productImageCollection.gadd({id:"_0",type:"product",mediaData:new i.default({mediaStage:u.STAGE.PREPARING}),fetchedFromServer:this.fetchedFromServer,old:!1},{merge:!0});for(var t=1;t<this.imageCount;t++)this.productImageCollection.gadd({id:`_${t}`,type:"product",mediaData:new i.default({mediaStage:u.STAGE.PREPARING}),fetchedFromServer:this.fetchedFromServer,old:!1},{merge:!0})}}},{key:"markOld",value:function(){this.old=!0}},{key:"markProductImagesOld",value:function(){this.productImageCollection.forEach(function(e){return e.markOld()})}}]),t}();f.Proxy="product",t.default=(0,a.defineModel)(f)},idgdhfbea:function(e,t){e.exports={multiControls:"_2aUit",multiselectIcon:"_3f5U8",multiCount:"nGgVY",mediaGalleryTheme:"_2XHj8"}},idgifdccc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=c(n("ceggedffg")),u=c(n("djegeegcbf")),s=c(n("ddcbeeeahg")),l=n("chhhffajfi");function c(e){return e&&e.__esModule?e:{default:e}}var f=u.default.getEmojiFromUnicode,d=u.default.emojiRegex,p=(0,i.default)(d(),0,function(e,t){return f(e[0])?e:null}),h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p),a(t,null,[{key:"jsx",value:function(e,t,n){var a=r(t,1)[0],i=n.size,u=n.selectable,l=void 0!==u&&u;return o.createElement(s.default,{emoji:a,size:i,selectable:l})}},{key:"match",value:function(e,n,r){var a=null!=r&&0!==r?r:e.length,o=(0,l.firstNCodepoints)(e,a);return function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0}(t.__proto__||Object.getPrototypeOf(t),"match",this).call(this,o)}}]),t}();h.compatibility=!0,t.default=h},ieddhhghi:function(e,t){e.exports={vcard:"_2oNQN",controls:"_1t6xD"}},ieffcccfh:function(e,t){e.exports={thumbsContainer:"_14vUG",scrollContainer:"_20OzW",viewerThumbs:"_2bBH2",thumbPadding:"_3k5IR"}},ifbfjgchd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=8,i=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t<=0)throw new RangeError("BitArray:numBits should be positive");this._numBits=t,this._array=new Uint8Array(Math.ceil(this._numBits/o))}return a(e,[{key:"get",value:function(e){var t=this._getArrayIndexOffset(e),n=r(t,2),a=n[0],o=n[1];return Boolean(this._array[a]>>o&1)}},{key:"set",value:function(e){var t=this._getArrayIndexOffset(e),n=r(t,2),a=n[0],o=n[1];this._array[a]|=1<<o}},{key:"unset",value:function(e){var t=this._getArrayIndexOffset(e),n=r(t,2),a=n[0],o=n[1];this._array[a]&=~(1<<o)}},{key:"toggle",value:function(e){var t=this._getArrayIndexOffset(e),n=r(t,2),a=n[0],o=n[1];this._array[a]^=1<<o}},{key:"clear",value:function(){this._array=new Uint8Array(Math.ceil(this._numBits/o))}},{key:"toArray",value:function(){for(var e=[],t=0;t<this._numBits;t++)e.push(this.get(t));return e}},{key:"toString",value:function(){return this.toArray().map(function(e){return e?"1":"0"}).join("")}},{key:"_getArrayIndexOffset",value:function(e){if(e<0||e>=this._numBits)throw new RangeError("BitArray:index out of bounds");var t=Math.floor(e/o);return[t,e-t*o]}},{key:"length",get:function(){return this._numBits}}]),e}();t.default=i},ifbjhfegj:function(e,t){e.exports={container:"_3nET-",border:"_2spUf"}},ifeefbdg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return u.hasOwnProperty(e)?u[e]:u[e]=i.default.queryLinkPreview(e).then(function(t){var n=t.title,r=t.description,o=t.canonicalUrl,i=t.matchedText,u=t.preview,s=t.thumbnail,l=t.doNotPlayInline;return i&&(n||r)?{url:e,data:{title:n||void 0,description:r||void 0,canonicalUrl:o||void 0,matchedText:i,richPreviewType:"video"===u?a.EXTENDED_TEXT_MESSAGE_PREVIEWTYPE.VIDEO:a.EXTENDED_TEXT_MESSAGE_PREVIEWTYPE.NONE,thumbnail:s||void 0,doNotPlayInline:l}}:null})};var r,a=n("bgiachiigg"),o=n("bihdhbjih"),i=(r=o)&&r.__esModule?r:{default:r};var u={}},ifgdgjdid:function(e,t){e.exports={multiControls:"_2xXfe",chatListPanel:"_1KMCw",drawerHeader:"Zva3R",multiselectIcon:"_2dv8F",multiCount:"OKAWo",mediaGalleryTheme:"_4TamA"}},ifijdebbd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.wallpaperColor;if(t===a.default.DEFAULT_CHAT_WALLPAPER)return r.createElement("div",{className:o.default.tile,"data-asset-chat-background":!0});var n={background:t};return r.createElement("div",{className:o.default.backgroundColor,style:n})};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=i(n("baagejbchg")),o=i(n("bhgjdccfde"));function i(e){return e&&e.__esModule?e:{default:e}}},igaagcbbj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=y(n("eaaagccfda")),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=y(n("ceffhbhahb")),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),s=y(n("bigcibhibh")),l=y(n("dbfiijcdie")),c=y(n("chbfbiahhb")),f=y(n("eceadcicaf")),d=y(n("cgajhcgiji")),p=n("beddiafhbh"),h=y(n("bcjcbbafcj")),m=y(n("didfdhbecg")),b=y(n("bjhhaacbib")),g=y(n("cggchheahd")),v=y(n("ecfgejfiia"));function y(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setRefContainer=function(e){n.refContainer=e},n.setRefVideo=function(e){n.refVideo=e},n.resetMouseMoveRecently=(0,r.default)(function(){n.setState({mouseMoveRecently:!1})},p.FULLSCREEN_CONTROLS_DISPLAY_TIMEOUT),n.mouseDownCoor=null,n.handleEnded=function(){n.props.onVideoEnded&&n.props.onVideoEnded();var e=n.refVideo;e&&(e.play(),e.pause()),n.setState({isVideoPlaying:!1})},n.handleError=function(){n.props.onError&&n.props.onError()},n.handlePause=function(){var e=n.refVideo?n.refVideo.getCurrentTime():null,t=null;n.state.videoMetadata&&null!=e&&(t=a({},n.state.videoMetadata,{currentTime:e})),n.setState({isVideoPlaying:!1,videoMetadata:t}),n.blockTimeUpdateOnce=!0},n.handlePlaying=function(){var e=n.refVideo?n.refVideo.getCurrentTime():null,t=null;n.state.videoMetadata&&null!=e&&(t=a({},n.state.videoMetadata,{currentTime:e})),n.setState({isVideoPlaying:!0,videoMetadata:t}),n.blockTimeUpdateOnce=!0},n.handleLoadedMetadata=function(e){var t=null!=n.props.startTime?n.props.startTime:0;n.setState({videoMetadata:{duration:e.duration,currentTime:t,volume:e.volume,muted:e.muted,bufferedTime:0}})},n.handleVolumeChange=function(e){var t=null;n.state.videoMetadata&&(t=a({},n.state.videoMetadata,{volume:e.volume,muted:e.muted})),n.setState({videoMetadata:t})},n.handleTimeUpdate=function(e){if(n.blockTimeUpdateOnce)n.blockTimeUpdateOnce=!1;else{var t=null;n.state.videoMetadata&&(t=a({},n.state.videoMetadata,{currentTime:e})),n.setState({videoMetadata:t})}},n.handleSetCurrentTimeByControls=function(e){if(n.refVideo){var t=e;n.state.videoMetadata&&e>=n.state.videoMetadata.duration-1&&n.state.videoMetadata.duration>1&&(t=n.state.videoMetadata.duration-1),n.refVideo.setCurrentTime(t)}},n.handleProgress=function(e){var t=e[0][1],r=null;n.state.videoMetadata&&(r=a({},n.state.videoMetadata,{bufferedTime:t})),n.setState({videoMetadata:r})},n.state={videoMetadata:void 0,isVideoPlaying:!1,isMouseOver:!1,mouseMoveRecently:!1,isFullscreenMode:!1,exposeIframeInPiP:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),o(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(l.default,"fullscreen_change",function(){l.default.isFullscreenMode&&l.default.fullscreenElement===e.refContainer?e.setState({isFullscreenMode:!0}):l.default.isFullscreenMode||e.setState({isFullscreenMode:!1})})}},{key:"componentWillUnmount",value:function(){this.resetMouseMoveRecently.cancel()}},{key:"renderVideoControls",value:function(){var e=this,t=null,n=this.state.videoMetadata;if(n){var r=(0,i.default)(g.default.strippedVideoControls,g.default.opacityTransition,{[g.default.dimmed]:!this.state.mouseMoveRecently});t=u.createElement(b.default,{refVideo:this.refVideo,videoMetadata:n,isFullscreenMode:this.state.isFullscreenMode,isVideoPlaying:this.state.isVideoPlaying,handleSetCurrentTimeByControls:this.handleSetCurrentTimeByControls,controlsClassName:this.state.isFullscreenMode?r:void 0}),this.state.isFullscreenMode||(t=u.createElement("div",{className:g.default.videoControlsWrapper,onMouseDown:function(t){e.mouseDownCoor={x:t.clientX,y:t.clientY}},onMouseUp:function(t){var n=t.clientX,r=t.clientY,a=e.mouseDownCoor?e.mouseDownCoor.x:void 0,o=e.mouseDownCoor?e.mouseDownCoor.y:void 0;null!=a&&null!=o&&Math.abs(n-a)+Math.abs(r-o)<4&&e.setState({exposeIframeInPiP:!0})}},t))}return t}},{key:"render",value:function(){var e=this,t=this.state.exposeIframeInPiP||this.state.isFullscreenMode?null:u.createElement("div",{className:g.default.blockYoutube}),n=u.createElement("div",{className:(0,i.default)(g.default.youtubeContainer,{[g.default.fullscreen]:this.state.isFullscreenMode})},t,u.createElement(v.default,{ref:this.setRefVideo,youtubeVideoId:this.props.youtubeVideoId,startTime:this.props.startTime,onEnded:this.handleEnded,onError:this.handleError,onLoadedMetadata:this.handleLoadedMetadata,onPause:this.handlePause,onPlaying:this.handlePlaying,onProgress:this.handleProgress,onTimeUpdate:this.handleTimeUpdate,onVolumeChange:this.handleVolumeChange,autoPlay:this.props.autoPlay})),r=this.renderVideoControls(),a=void 0;h.default.isSafari||(a=u.createElement(c.default,{isFullscreenMode:this.state.isFullscreenMode,onClick:this.state.isFullscreenMode?function(e){e.stopPropagation(),l.default.exitFullscreen()}:function(t){t.stopPropagation(),l.default.requestFullscreen(e.refContainer)}}));var o=u.createElement(d.default,{theme:"full-rounded"}),f=this.state.isFullscreenMode?u.createElement(u.Fragment,null,n,r,u.createElement("div",{className:(0,i.default)(g.default.widgetsWrapper,g.default.opacityTransition,{[g.default.dimmed]:!this.state.mouseMoveRecently})},a,u.createElement(s.default,{isFullscreenMode:this.state.isFullscreenMode,onClick:function(t){t.stopPropagation(),e.props.onClose()}}))):u.createElement(u.Fragment,null,n,u.createElement(m.default,{transitionName:"fade-fast"},this.state.isMouseOver&&this.state.mouseMoveRecently&&!this.state.exposeIframeInPiP?u.createElement(u.Fragment,null,o,r,a,u.createElement(s.default,{isFullscreenMode:this.state.isFullscreenMode,onClick:function(t){t.stopPropagation(),e.props.onClose()}})):null));return u.createElement("div",{ref:this.setRefContainer,key:"elementsWrapped",className:(0,i.default)(g.default.container,{[g.default.fullscreen]:this.state.isFullscreenMode}),onMouseEnter:function(t){if(e.state.exposeIframeInPiP){if(h.default.isGecko&&e.state.isMouseOver)return;e.setState({exposeIframeInPiP:!1})}e.setState({isMouseOver:!0})},onMouseLeave:function(t){e.setState({isMouseOver:!1})},onMouseDown:function(t){e.state.isFullscreenMode&&t.stopPropagation()},onMouseMove:function(t){e.state.isMouseOver||e.setState({isMouseOver:!0}),e.state.mouseMoveRecently||e.setState({mouseMoveRecently:!0}),e.resetMouseMoveRecently()}},f)}}]),t}();_.displayName="YoutubeVideoPlayer",t.default=(0,f.default)(_)},igahgcaag:function(e,t){e.exports={actionButton:"_2UQuA",actionText:"_1l0hO",disabled:"_2zef_",buttonContainer:"_1FtiB",firstButton:"_3i4z-",quickReply:"_1_HX7",callUrl:"_1PZFK",icon:"_2TVSB"}},igbbahaj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ORDERED_TAB_SECTION_IDS=void 0;var r,a=n("bfggfbdghf"),o=(r=a)&&r.__esModule?r:{default:r};var i={FAVORITES:"FAVORITES",[o.default.TRENDING]:o.default.TRENDING,[o.default.HAHA]:o.default.HAHA,[o.default.SAD]:o.default.SAD,[o.default.LOVE]:o.default.LOVE,[o.default.REACTIONS]:o.default.REACTIONS,[o.default.SPORTS]:o.default.SPORTS,[o.default.TV]:o.default.TV};t.default=i;var u={[i.FAVORITES]:i.FAVORITES,[i.TRENDING]:i.TRENDING,[i.HAHA]:i.HAHA,[i.SAD]:i.SAD,[i.LOVE]:i.LOVE,[i.REACTIONS]:i.REACTIONS,[i.SPORTS]:i.SPORTS,[i.TV]:i.TV};t.ORDERED_TAB_SECTION_IDS=[u.FAVORITES,u.TRENDING,u.HAHA,u.SAD,u.LOVE,u.REACTIONS,u.SPORTS,u.TV]},igdjeffe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FALLBACK=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("dcaifjegcg"),i=h(o),u=h(n("baagejbchg")),s=h(n("bjigbaghc")),l=h(n("bjbdcigbdi")),c=h(n("bhggeigghg")),f=h(n("edbaidcaf")),d=h(n("jccfhaecf")),p=h(n("gcbhjhjhg"));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=t.FALLBACK={SINGLE:"SINGLE",GROUP:"GROUP"},g=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.id=(0,o.prop)(),r.tag=(0,o.prop)(),r.raw=(0,o.prop)(),r.eurl=(0,o.prop)(),r.stale=(0,o.session)(!0),r.eurlStale=(0,o.session)(!1),r.pendingPic=(0,o.session)(),r.img=(0,o.derived)(r._img,["tag","raw","stale","eurl","eurlStale"]),r.imgFull=(0,o.derived)(r._imgFull,["tag","raw","stale","eurl","eurlStale"]),r.fallbackType=(0,o.derived)(r._fallbackType,["id"]),m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"_img",value:function(){return this.raw?"data:image/jpeg;base64,"+this.raw:!this.tag&&this.stale?null:this.tag?(l.default.supportsFeature(l.default.F.MD_BACKEND),this.generateUrl("s")):void 0}},{key:"_imgFull",value:function(){return!this.raw&&this.tag||!this.stale?!this.raw&&this.tag?(l.default.supportsFeature(l.default.F.MD_BACKEND),this.generateUrl("l")):void 0:null}},{key:"_fallbackType",value:function(){return d.default.isUser(this.id)?b.SINGLE:(d.default.isGroup(this.id),b.GROUP)}},{key:"markStale",value:function(e){this.stale=!0,e&&e.eurl&&(this.eurlStale=!0)}},{key:"validate",value:function(){(this.stale||this.eurlStale)&&this.getCollection().update(this.id)}},{key:"generateUrl",value:function(e){var t={t:e,u:this.id.toString(),i:this.tag||""};return p.default.alive&&this.eurl&&!this.eurlStale&&(t=r({e:this.eurl},t)),f.default.build(u.default.PP_URL,t)}},{key:"canSet",value:function(){if(d.default.isGroup(this.id)){var e=c.default.Chat.get(this.id);return!(e&&e.groupMetadata&&e.groupMetadata.participants.iAmRestrictedMember())}return!!this.id.equals(s.default.me)}},{key:"canDelete",value:function(){if(d.default.isGroup(this.id)&&this.tag){var e=c.default.Chat.assertGet(this.id);return!(e&&e.groupMetadata&&e.groupMetadata.participants.iAmRestrictedMember())}return!(!this.id.equals(s.default.me)||!this.tag)}},{key:"getCollection",value:function(){return n("dhefcajhhb").default}}]),t}();g.Proxy="profilePicThumb",g.idClass=d.default,t.default=(0,o.defineModel)(g)},iggbadgaj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n("hhegggegb")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=f(n("bgcibhihaj")),u=f(n("bdiiahhjbe")),s=f(n("cifjfjfegc")),l=f(n("cajddbdaie")),c=f(n("becfabjeeg"));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setThumbRef=function(e,t){n.thumbRefs[t]=e},n.isPreviewPreferred=function(e){var t=n.thumbRefs[e];if(!t)return!1;var r=t.getBoundingClientRect(),a=(r.left+r.right)/2;return!(a>-1*window.innerWidth&&a<2*window.innerWidth)},n.getMsgIdToPreferPreview=function(){var e=new Map;return n.props.mediaMsgs.forEach(function(t){var r=t.id.toString();e.set(r,n.isPreviewPreferred(r))}),e},n.onScroll=function(e){n.handleScroll(),n.props.onScroll(e)},n._handleScroll=function(){var e=n.getMsgIdToPreferPreview();(0,i.default)(n.state.msgIdToPreferPreview,e)||n.setState({msgIdToPreferPreview:e})},n.getThumbs=function(){var e=n.props.highlightedMsgIds,t=e&&e.size>0&&e.has(n.props.activeMsg.id.toString()),r=[];return n.props.mediaMsgs.forEach(function(a){if(null!=a.mediaData){var i=t&&e&&!e.has(a.id.toString())?"viewerFlowTransparent":"viewerFlow";r.push(o.createElement(s.default,{theme:i,active:a===n.props.activeMsg,msg:a,containerRef:function(e){n.setThumbRef(e,a.id.toString()),a===n.props.activeMsg&&n.props.onSetActiveThumb(e)},key:`media-${a.id.id}`,onClick:function(){n.props.onSelectThumb(a)},preferPreview:!!n.state.msgIdToPreferPreview.get(a.id.toString())}))}else{var l=n.props.activeMsg;u.default.errorVerbose(`MediaViewerFlow: attempted to render a msg without mediaData: ${JSON.stringify({type:a.type,isMedia:a.isMedia,startMsgType:l.type,startMsgIsMedia:l.isMedia})}`)()}}),r.push(o.createElement("div",{className:l.default.mediaThumb,key:"spinner-right"},n.props.mediaMsgs.queryMediaAfter?o.createElement(c.default,{stroke:6,size:24}):null)),r.unshift(o.createElement("div",{className:l.default.mediaThumb,key:"spinner-left"},n.props.mediaMsgs.queryMediaBefore?o.createElement(c.default,{stroke:6,size:24}):null)),r.push(o.createElement("div",{className:l.default.thumbPadding,key:"padding-right"})),r.unshift(o.createElement("div",{className:l.default.thumbPadding,key:"padding-left"})),r},n.thumbRefs={},n.handleScroll=(0,r.default)(n._handleScroll,100),n.state={msgIdToPreferPreview:n.getMsgIdToPreferPreview()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentWillUnmount",value:function(){this.handleScroll.cancel()}},{key:"render",value:function(){var e=this.getThumbs();return o.createElement("div",{className:l.default.thumbsContainer,ref:this.props.setRefThumbsContainer},o.createElement("div",{className:l.default.scrollContainer,dir:"ltr"},o.createElement("div",{onScroll:this.onScroll,className:l.default.viewerThumbs,ref:this.props.setRefThumbs},e)))}}]),t}();d.displayName="MediaViewerThumbList",t.default=d},igiffibee:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDirectionUrl=function(e,t){var n=l10n.getLocale(),r=`${e},${t}`;return`${a.G_MAPS_DIR_URL}//${r}?hl=${n}`},t.getSearchUrl=function(e){var t=l10n.getLocale();return`${a.G_MAPS_SEARCH_URL}/${encodeURIComponent(e)}/z?hl=${t}`},t.getMapUrl=function(e,t,n){var r=l10n.getLocale();return n?`${a.G_MAPS_SEARCH_URL}/${encodeURIComponent(n)}/@${e},${t},${a.SEARCH_ZOOM}z?hl=${r}`:i.default.build(a.G_MAPS_URL,{q:`${e},${t}`,z:a.SEARCH_ZOOM,hl:r})};var r,a=n("dghhefgjhc"),o=n("edbaidcaf"),i=(r=o)&&r.__esModule?r:{default:r}},igjghefdb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chatstate=t.ChatstateCollection=void 0;var r=d(n("eaaagccfda")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},i=d(n("cgcgbfbffj")),u=n("dcaifjegcg"),s=d(u),l=d(n("cfadcbbiie")),c=d(n("dhigahgdjb")),f=d(n("jccfhaecf"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=function(e){function t(){var e,n,r;p(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.id=(0,u.prop)(),r.type=(0,u.prop)(),r.t=(0,u.prop)(),r.deny=(0,u.prop)(),r.updateTime=(0,u.session)(),r.expireTimerId=(0,u.session)(),h(r,n)}return m(t,s.default),t}();b.Proxy="chatstate",b.idClass=f.default;var g=(0,u.defineModel)(b),v=t.ChatstateCollection=function(e){function t(){return p(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,i.default),t}();v.model=g;var y=function(e){function t(){var e,n,r;p(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.id=(0,u.prop)(),r.isOnline=(0,u.session)(!1),r.stale=(0,u.session)(!0),r.hasData=(0,u.session)(!1),r.isSubscribed=(0,u.session)(!1),r.withholdDisplay=(0,u.session)(!0),r.forceDisplay=(0,u.session)(!1),r.chatActive=(0,u.session)(!1),r.withholdDisplayTimer=(0,u.session)(),r.forceDisplayTimer=(0,u.session)(),r.chatstate=(0,u.session)(),r.chatstates=(0,u.collection)(v),r.isGroup=(0,u.derived)(r._isGroup),r.isUser=(0,u.derived)(r._isUser),h(r,n)}return m(t,s.default),a(t,[{key:"_isGroup",value:function(){return f.default.isGroup(this.id)}},{key:"_isUser",value:function(){return f.default.isUser(this.id)}},{key:"initialize",value:function(){var e=this;o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this);var n=this.isGroup?{id:"",type:"unavailable"}:{id:this.id};this.addChild("chatstate",new g(n)),this.isGroup?this.listenTo(this.chatstates,"add change",(0,r.default)(function(){var t=void 0,n=!1;e.chatstates.forEach(function(e){"composing"!==e.type&&"recording"!==e.type||t&&!(t.updateTime<e.updateTime)||(t=e),n=n||"unavailable"!==e.type}),e.set({isOnline:n}),e.chatstate.set({id:t?t.id:"",type:t?t.type:"unavailable"})})):this.listenTo(this.chatstate,"change:type",function(){e.isOnline="unavailable"!==e.chatstate.type}),this.listenTo(this,"change:chatActive",this.onChatActiveChange)}},{key:"delete",value:function(){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),this.getCollection().remove(this.id),this.chatstate.delete(),this.chatstates.forEach(function(e){return e.delete()})}},{key:"reset",value:function(){this.hasData=!1,this.isGroup?this.chatstates.forEach(function(e){e.type="unavailable"}):this.isUser&&(this.chatstate.unset("t"),this.chatstate.unset("deny")),this.chatstate.set({id:this.isGroup?"":this.id,type:"unavailable",t:void 0,deny:void 0})}},{key:"isActive",value:function(){var e=this.chatstate.type;return this.hasData&&("composing"===e||"recording"===e)}},{key:"getFormattedString",value:function(){if(!this.hasData)return null;if(this.isGroup){var e=this.chatstate.id;if(!e)return null;var t=c.default.get(e);if(!t)return null;var n=t.formattedShortName;return"composing"===this.chatstate.type?l10n.t(1172,{participant:n}):l10n.t(1173,{participant:n})}if(!this.isUser)return null;var r=this.chatstate;switch(r.type){case"available":return l10n.t(1165);case"composing":return l10n.t(1166);case"recording":return l10n.t(1167);case"unavailable":return r.deny||null==r.t?null:l.default.lastSeenStr(r.t)}}},{key:"onChatActiveChange",value:function(){var e=this;this.chatActive?(this.hasData?this.withholdDisplay=!1:this.withholdDisplayTimer=setTimeout(function(){e.set({withholdDisplay:!1,withholdDisplayTimer:void 0})},1500),this.forceDisplayTimer=setTimeout(function(){e.set({forceDisplay:!0,forceDisplayTimer:void 0})},2e3)):(this.withholdDisplayTimer&&(clearTimeout(this.withholdDisplayTimer),this.withholdDisplayTimer=void 0),this.forceDisplayTimer&&(clearTimeout(this.forceDisplayTimer),this.forceDisplayTimer=void 0))}},{key:"subscribe",value:function(){return this.getCollection().find(this.id)}},{key:"getCollection",value:function(){return n("ebbjbbjjg").default}}]),t}();y.Proxy="presence",y.idClass=f.default,t.default=(0,u.defineModel)(y),t.Chatstate=g},ihfbgdebe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.playNotification=function(){i.play().catch(function(){})},t.cachePath=function(e){return Promise.resolve(e)};var r,a=n("baagejbchg"),o=(r=a)&&r.__esModule?r:{default:r};var i=new window.Audio(o.default.NOTIFICATION_TONE_PATH)},ihfccfgdf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e,t,n){var i,u,d=(0,f.default)(e.name);c.default.assert(t||n,`StateHOC wrapping class with no concerns, check ${d}`)();var p=[];if(t)for(var h in t)p.push(new g(d,h,t[h],!0));if(n)for(var m in n)c.default.assert(!(t&&t.hasOwnProperty(m)),`Component has marked "${m}" as both a normal and weak concern, check ${d}`)(),p.push(new g(d,m,n[m],!1));return u=i=function(t){function n(e){b(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));t.hasBroken=!1,t.rr=function(e,n){t.setState({[e.name]:new e.whitelistedProxyClass(n)})};for(var r=t.state={},a=0;a<p.length;a++){var o=p[a],i=o.name,u=o.getModelAndValidate(t._getModelOrProxy(i));u?r[i]=o.attachConcern(u,t.rr):t.hasBroken=!0}return t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),a(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(!this.hasBroken){for(var t=null,n=0;n<p.length;n++){var r=p[n],a=r.name,o=r.getModel(this._getModelOrProxy(a)),i=r.getModelAndValidate(this._getModelOrProxy(a,e));o!==i&&(r.detachConcern(o,this.rr),i?(t||(t={}),t[a]=r.attachConcern(i,this.rr)):this.hasBroken=!0)}t&&this.setState(t)}}},{key:"componentWillUnmount",value:function(){if(!this.hasBroken)for(var e=0;e<p.length;e++){var t=p[e];t.detachConcern(t.getModel(this._getModelOrProxy(t.name)),this.rr)}}},{key:"_getComponent",value:function(){return l._getComponent.call(this)}},{key:"_getModelOrProxy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props;return t[e]}},{key:"render",value:function(){return this.hasBroken?null:o.createElement(e,r({ref:this.setComponent},this.props,this.state))}}]),n}(l.WrappedComponent),i.displayName=`State(${(0,s.default)(e)})`,u};var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=n("jjbajibff"),u=m(n("dcaifjegcg")),s=m(n("bfjbhiddag")),l=n("ejbdjaifi"),c=m(n("bdiiahhjbe")),f=m(n("cahfddcdga")),d=n("ceidcegjgi"),p=n("dcdiaahjj"),h=m(p);function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var g=function(){function e(t,n,r,a){b(this,e),this.componentName=t,this.name=n,this.isStrong=a,this.keys=r;var o=d.ProxyStates[n];o||c.default.assert(!1,"state-hoc-error",`Unknown StateHOC concern type "${n}"`)(),this.proxyClass=o,this.whitelistedProxyClass=function(e,t,n){for(var r={_ProxyState$ComponentName:{value:e},proxyBitMask:{value:(0,i.genBitMask)(t.prototype.mirrorMask,n)}},a=function(e){var t=n[e];r[t]={enumerable:!0,get(){return this._ProxyState$state.get(t)},set(e){this._ProxyState$state.set(t,e)}}},o=0;o<n.length;o++)a(o);function u(e){t.call(this,e)}return u.prototype=Object.create(t.prototype,r),u.prototype.constructor=u,u}(t,o,r)}return a(e,[{key:"getModel",value:function(e){return e instanceof this.proxyClass?e._ProxyState$state:e}},{key:"getModelAndValidate",value:function(e){var t,n=e instanceof this.proxyClass?e._ProxyState$state:e;return n?n instanceof u.default?n:(c.default.assert(!1,"state-hoc-error",`${this.componentName} given invalid object for ${this.name}: ${t=n,"string"==typeof t?t:t.toString?t.toString():"Invalid Object"}`)(),null):(c.default.assert(h.default.mode!==p.StreamMode.MAIN,"state-hoc-error",`${this.componentName} was not supplied the ${this.name} model with keys ${String(this.keys)}.`)(),null)}},{key:"attachConcern",value:function(e,t){e.incObservers(!this.isStrong);var n=new this.whitelistedProxyClass(e);return e.mirror.addListener(t,n.proxyBitMask,this),n}},{key:"detachConcern",value:function(e,t){e.decObservers(),e.mirror.removeListener(t)}}]),e}()},ihfgagaij:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=B(n("iidhbgeed")),a=B(n("bebajedcaf")),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=F(n("ddhijeejag")),u=n("biheibdage"),s=B(n("ijdibihbi")),l=B(n("jfbdejdfi")),c=B(n("eajjbbihhc")),f=B(n("bahefiaghi")),d=B(n("becegcbegb")),p=B(n("cjcecfgaji")),h=B(n("fhdffdech")),m=B(n("bbchdeehff")),b=B(n("baagejbchg")),g=B(n("biddiiafgd")),v=B(n("dcjhajfghf")),y=B(n("djcchigfih")),_=B(n("djbhiedbef")),E=n("dajffajabh"),j=B(E),O=n("cfffidafid"),S=F(n("cajijabhgb")),w=n("cgffhfegce"),P=n("bgddggdhc"),M=B(n("ddajbaceej")),C=B(n("dhfbfehaef")),T=B(n("eceadcicaf")),A=B(n("jgcieiibj")),N=n("bfbggcdbfb"),k=B(n("behbjhhbg")),I=B(n("bjbedjfe")),R=B(n("cdjhjdcbeg")),L=B(n("becfabjeeg")),D=B(n("bfdcadbbif")),x=n("bfjajhbdf"),U=B(x),G=B(n("didfdhbecg"));function F(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function B(e){return e&&e.__esModule?e:{default:e}}var $=b.default.MSG_TYPE,V=$.IMAGE,H=$.VIDEO,W=$.DOCUMENT,Y=$.AUDIO,K=200,q=u.ATTACH_MEDIA_STATE.PROCESSING,z=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.populateInitCaption=function(e,t,r){var a=n.props.initCaption;if(!e&&t&&a&&a.text&&""!==a.text&&r.activeMedia){if(r.activeMedia.type!==V&&r.activeMedia.type!==H)return;!1===n.initCaptionUsed&&(r.activeMedia.caption=a.text,n.initCaptionUsed=!0)}},n.onMediaProcessUpdate=function(){if(n.props.mediaCollection.canSend()){var e=n.props.mediaCollection.getPreviewableMedias(),t=n.props.mediaCollection.getActive(),r=n.props.mediaCollection.uiProcessMsgs().errorMsgs;r&&e.length>0&&m.default.openToast(i.createElement(U.default,{msg:r,id:(0,x.genId)()})),t||t!==n.state.activeMedia?n.setState({activeMedia:t}):n.forceUpdate()}},n.onFilesNotSupported=function(){var e=n.props.mediaCollection.filter(function(e){return e.exception});e.length>0&&n.props.onFailedMedias(e)},n.showIgnoredToast=function(e){if(e>0){var t=l10n.t(1060,{number:e,_plural:e});m.default.openToast(i.createElement(U.default,{msg:t,id:(0,x.genId)()}))}},n.onWindowDrop=function(){(0,a.default)(n.props.files)&&(0,a.default)(n.props.mediaCollection)&&n.props.onBack()},n.onDrop=function(e){n.onFilePick(e)},n.onDragLeave=function(e){n.props.mediaCollection.length||n.props.onBack()},n.onDragChange=function(e,t){n.setState({isDragging:e}),e||t||n.props.mediaCollection.length||n.props.onBack()},n.onEnter=function(e){n.state.activeMedia&&(e.repeat||e.shiftKey||n.onSend())},n.onArrowLeft=function(e){if(n.state.activeMedia&&!e.repeat){var t=n.state.activeMedia&&!n.state.activeMedia.caption,r=n.refCaptionInput&&n.refCaptionInput.refInput;(t||r&&!r.isFocused()||r&&r.cursorAtStart())&&n.onPrev()}},n.onArrowRight=function(e){if(n.state.activeMedia&&!e.repeat){var t=n.state.activeMedia&&!n.state.activeMedia.caption,r=n.refCaptionInput&&n.refCaptionInput.refInput;(t||r&&!r.isFocused()||r&&r.cursorAtEnd())&&n.onNext()}},n.onNext=function(){n.props.mediaCollection.setNextAsActive()&&n.refSendButton&&M.default.focus(n.refSendButton)},n.onPrev=function(){n.props.mediaCollection.setPrevAsActive()&&n.refSendButton&&M.default.focus(n.refSendButton)},n.onSelectThumb=function(e){n.props.mediaCollection.setActive(e)},n.onSend=function(e){if(e&&e.preventDefault(),(!e||!e.shiftKey)&&n.props.mediaCollection.canSend()){Promise.all([]).then(function(){var e=n.props.mediaCollection.getPreviewableMedias();if(0!==e.length){var t=e.map(function(e){var t=e.caption,r=[],a=n.refCaptionInput&&n.refCaptionInput.refInput;if(t&&a){var o=a.serialize(t),i=[o[0].trim(),o[1]],u=i[0],s=i[1];u.length&&(t=u,r=s.mentionedJidList||[])}return e.caption=t||void 0,{media:e,mentionedJidList:r}});n.props.onSendMedia(t,n.initCaptionUsed)}})}},n.setRefInput=function(e){n.refInput=e},n.onAddFileClick=function(){n.refInput&&n.refInput.click()},n.onFilePick=function(e){(0,O.getFiles)(e).then(function(e){return n.props.mediaCollection.processFiles(e,n.props.chat,N.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY)}).checkpoint(n.props.rejectOnUnmount()).catch(S.Unmount,function(){}).catch(S.MediaDragDropError,function(e){n.props.mediaCollection.length||n.props.onDropText(e.src)}),e.target&&e.target.value&&(e.target.value="")},n.onRemoveThumb=function(e,t){t.stopPropagation(),t.preventDefault(),n.props.mediaCollection.remove(e),0===n.props.mediaCollection.getValidMedias().length?n.delayedClose=setTimeout(function(){n.props.onBack()},K):n.refSendButton&&M.default.focus(n.refSendButton)},n.onCaptionChange=function(e){var t=n.state.activeMedia;if(t){var r=n.props.mediaCollection.indexOf(n.state.activeMedia);t.caption=e,0===r&&""===e&&n.initCaptionUsed&&(n.initCaptionUsed=!1),n.forceUpdate()}},n.onPaste=function(e){e.preventDefault(),e.stopPropagation();var t=new v.default(e.clipboardData);t.hasFiles()&&n.onFiles(t)},n.onFiles=function(e){var t=(0,r.default)(e.getFiles(),function(e){var t=(0,w.typeFromMimetype)(e.type);return"image"===t||"video"===t});n.props.mediaCollection.processFiles(t,n.props.chat,N.MEDIA_PICKER_ORIGIN_TYPE.PASTE)},n.setRefCaptionInput=function(e){n.state.activeMedia&&!e||(n.refCaptionInput=e)},n.getMedia=function(e){var t=void 0,r=void 0,a=void 0;switch(e.type){case V:case H:t||(t=i.createElement(p.default,{mimeType:e.mimetype,url:e.fullPreview,isGif:e.isGif,size:e.fullPreviewSize,processing:e.state===q,preview:e.preview})),r=i.createElement("div",{className:s.default.captionInput,"data-animate-media-caption":!0},i.createElement(A.default,{ref:n.setRefCaptionInput,value:e.caption,placeholder:l10n.t(159),maxLength:b.default.MAX_CAPTION_LENGTH,onEnter:n.onSend,onChange:n.onCaptionChange,onFiles:n.onFiles,chat:n.props.chat,showRemaining:!0,spellCheck:!0,multiline:!0,supportsEmoji:!0}));break;case Y:t=i.createElement(c.default,{mimeType:e.mimetype,url:e.fullPreview});break;case W:switch(k.default.previewType(e.mimetype)){case"pdf":t=i.createElement(h.default,{fullPreview:e.fullPreview,fullPreviewSize:e.fullPreviewSize,pdfPages:e.pdfPages,mimeType:e.mimetype,filename:e.filename});break;case"msoffice":t=i.createElement(f.default,{fullPreview:e.fullPreview,fullPreviewSize:e.fullPreviewSize,mimeType:e.mimetype,filename:e.filename});break;default:t=i.createElement(d.default,{mimeType:e.mimetype,filename:e.filename})}}return"image/gif"===e.originalMimetype&&(a=i.createElement("div",{className:s.default.mediaWarning,"data-animate-attach-media":!0},l10n.t(683)," ",i.createElement("a",{target:"_blank",href:"#",onClick:n.onWarningCtaClick},l10n.t(622)))),i.createElement("div",{className:s.default.mediaBody,key:e.id},t,a,r)},n.onWarningCtaClick=function(e){e.preventDefault(),m.default.openModal(i.createElement(g.default,{onOK:function(){return m.default.closeModal()}},l10n.t(482)))},n.getThumbs=function(e){return e.map(function(e,t){return i.createElement(l.default,{key:"media-"+e.id,active:e===n.state.activeMedia,attachMedia:e,onClick:n.onSelectThumb,onClose:n.onRemoveThumb})})},n.setRefSendButton=function(e){n.refSendButton=e},n.transition="media-scale",n.disableTransistions=!1,n.initCaptionUsed=!1,n.state={activeMedia:n.props.mediaCollection.getActive(),isDragging:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;this.props.listeners.add(window,"drop",this.onWindowDrop);var t=this.props.mediaCollection.getPreviewableMedias();!this.state.activeMedia&&t.length>0&&(this.disableTransistions=!0,this.setState({activeMedia:t[0]},function(){e.disableTransistions=!1}))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.mediaCollection,n=e.listeners;n.add(t,"add remove reset"),n.add(t,"active-change change:state change:previewable",this.onMediaProcessUpdate),n.add(t,"files_not_supported",this.onFilesNotSupported),n.add(t,"max_upload_limit",this.showIgnoredToast),this.props.mediaCollection.mediaPickerStatsLogger.resumeTimer()}},{key:"UNSAFE_componentWillUpdate",value:function(e,t){var n=t.activeMedia,r=this.state.activeMedia;this.populateInitCaption(r,n,t),r&&n&&r!==n?this.props.mediaCollection.indexOf(n)>this.props.mediaCollection.indexOf(r)?this.transition="media-slide-forward":this.transition="media-slide-back":this.transition="media-scale"}},{key:"componentDidUpdate",value:function(e,t){var n=this;!t.activeMedia&&this.state.activeMedia&&this.refCaptionInput?this.props.listeners.uiIdle(function(){n.refCaptionInput&&n.refCaptionInput.restoreFocus()}):!(0,P.forbiddenAssertDOMNode)(this).contains(document.activeElement)&&this.refSendButton&&M.default.focus(this.refSendButton)}},{key:"componentWillUnmount",value:function(){this.delayedClose&&clearTimeout(this.delayedClose),this.props.mediaCollection.mediaPickerStatsLogger.pauseTimer()}},{key:"render",value:function(){var e=void 0,t=void 0,n=void 0,r=0,a=!0,o=this.props.mediaCollection.getPreviewableMedias();o.length>b.default.MAX_FILES&&(o=o.slice(0,b.default.MAX_FILES)),this.props.mediaCollection.canSend()?this.state.activeMedia?e=this.getMedia(this.state.activeMedia):0===o.length&&this.props.mediaCollection.errorMsgs&&(e=i.createElement("div",{className:s.default.invalidContainer,key:"pending"},i.createElement("div",{className:s.default.invalidMedia},this.props.mediaCollection.errorMsgs))):(a=!1,e=i.createElement(L.default,{key:"processing",color:"highlight"})),o.length>0&&(t=this.getThumbs(o),r=1===o.length?400:400+(150+15*o.length),n=a?i.createElement("div",{className:s.default.btnSend,tabIndex:"-1",ref:this.setRefSendButton,onKeyPress:function(e){return e.preventDefault()}},i.createElement(R.default,{large:!0,onClick:this.onSend},i.createElement(D.default,{name:"send-light",directional:!0}))):null);var u=this.state.isDragging?i.createElement("div",{key:"container",className:s.default.dropOverlay},i.createElement("div",{className:s.default.dropOverlayOutline},l10n.t(404))):null,l=o.length<b.default.MAX_FILES?i.createElement("div",{className:s.default.btnAdd,key:"media-more",onClick:this.onAddFileClick,role:"button"},i.createElement(D.default,{name:"add-alt"}),i.createElement("div",{className:s.default.btnAddText},l10n.t(166))):null,c={enter:this.onEnter,left:this.onArrowLeft,right:this.onArrowRight},f="*"===k.default.DOC_MIMES?"*":[b.default.IMAGE_MIMES,b.default.VIDEO_MIMES,k.default.DOC_MIMES].join();return i.createElement(C.default,{handlers:c},i.createElement(y.default,{key:"attach-image-modal",theme:"media",onDrop:this.onDrop,onDragChange:this.onDragChange},i.createElement(j.default,{title:l10n.t(1340),type:E.DRAWER_HEADER_TYPE.OFFSET,onCancel:this.props.onBack}),i.createElement(_.default,{tabIndex:"-1",overflow:"hidden",onPaste:this.onPaste},u,i.createElement("div",{className:s.default.body},i.createElement(G.default,{transitionName:this.disableTransistions?"noop":this.transition},e)),i.createElement("div",{className:s.default.thumbs},i.createElement(G.default,{transitionAppear:!0,transitionName:this.disableTransistions?"noop-full-opacity":"thumb-scale",className:s.default.thumbsContainer},t),l),i.createElement(G.default,{transitionAppear:!0,transitionName:this.disableTransistions?"noop-full-opacity":"btn",delay:this.disableTransistions?0:r},n),i.createElement("input",{ref:this.setRefInput,type:"file",accept:f,style:{display:"none"},onChange:this.onFilePick,multiple:!0}))))}}]),t}();z.displayName="AttachMediaDrawer",t.default=(0,I.default)((0,T.default)(z))},ihgbiaiaa:function(e,t){e.exports={item:"_24rpv",overlay:"dSmPg",numberText:"_14Diy",loadingImageContainer:"_38jO3",loadingImage:"_65oJx"}},ihgefacbb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=500,i=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._trackers=[],this._currFPS=0,this._numSamples=0,this._totalTime=0,this._startTracking=function(){t._frameId||(t._prevFrameTS=t._prevUpdateTS=window.performance.now(),t._frameId=requestAnimationFrame(t._handleFrame))},this._stopTracking=function(){t._frameId&&(t._prevFrameTS=t._prevUpdateTS=void 0,cancelAnimationFrame(t._frameId),t._frameId=void 0)},this._handleFrame=function(){if(t._trackers.length){var e=t._prevFrameTS,n=t._prevUpdateTS;if(null!=e&&null!=n){var r=window.performance.now();t._numSamples+=1,t._totalTime+=r-e,r-n>=o&&t._update(r),t._prevFrameTS=r,t._frameId=requestAnimationFrame(t._handleFrame)}}}}return a(e,[{key:"whenLessThan",value:function(e,t){var n=this;if(e<0||e>60)throw new RangeError("fps must be between 0 and 60");return this._insertTracker([e,t]),function(){n._removeTracker(t)}}},{key:"_insertTracker",value:function(e){var t=e[0],n=function(e,t){var n=0,r=e.length-1,a=Math.floor((n+r)/2);for(;e[a]!==t&&n<r;)t<e[a]?r=a-1:n=a+1,a=Math.floor((n+r)/2);if(e[a]<t)return a+1;return a}(this._trackers.map(function(e){return e[0]}),t);this._trackers.splice(n,0,e),1===this._trackers.length&&(this._addEventListeners(),this._startTracking())}},{key:"_removeTracker",value:function(e){for(var t=this._trackers.length,n=0;n<t;n++)if(e===this._trackers[n][1]){this._trackers.splice(n,1),0===this._trackers.length&&(this._removeEventListeners(),this._stopTracking());break}}},{key:"_update",value:function(e){var t=1e3/(this._totalTime/this._numSamples),n=Math.min(t,60);if(Math.abs(n-this._currFPS)>1){this._currFPS=n;var r=this._filterCallbacks();r.length&&this._triggerCallbacks(r,n)}this._numSamples=0,this._totalTime=0,this._prevUpdateTS=e}},{key:"_filterCallbacks",value:function(){for(var e=[],t=this._trackers.length-1;t>=0;t--){var n=r(this._trackers[t],2),a=n[0],o=n[1];if(a<=this._currFPS)break;e.push(o)}return e}},{key:"_triggerCallbacks",value:function(e,t){var n=window.performance.now(),r=function(){e.forEach(function(e){return e(t,n)})};window.requestIdleCallback?window.requestIdleCallback(r):window.setTimeout(r,0)}},{key:"_addEventListeners",value:function(){window.addEventListener("focus",this._startTracking),window.addEventListener("blur",this._stopTracking)}},{key:"_removeEventListeners",value:function(){window.removeEventListener("focus",this._startTracking),window.removeEventListener("blur",this._stopTracking)}}]),e}();t.default=new i},ihhfhbadh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)return!1;var t=window.getSelection();if(1!==t.rangeCount)return!1;var n=t.getRangeAt(0);if(!n.collapsed)return!1;var r=n.endContainer;if(n.startOffset!==function(e){return(0,o.default)(e)?e.textContent.length:e.childNodes.length}(r))return!1;if(e===r)return!0;if(!e.contains(r))return!1;var a=r;do{if(a.nextSibling)return!1;a=a.parentNode}while(a!==e);return!0};var r,a=n("bgeafedbjd"),o=(r=a)&&r.__esModule?r:{default:r}},ihiijcdag:function(e,t,n){"use strict";var r,a=n("ddfeabiaci"),o=(r=a)&&r.__esModule?r:{default:r};var i=n("bcbeeajhgb"),u={version:"14",sendConversationPin:function(e,t,n){var r=this;return new Promise(function(a,o){var i=r.actionNode("set",[["chat",{type:"pin",pin:t?t.toString():void 0,previous:n?n.toString():void 0,jid:e},void 0]]);r.binSend("send",i,o,{clientCacheable:!0,onSend:r.wrap(a),onDrop:r.wrap(o)},{debugString:["action","chat",e,t?"pin,"+t:"unpin,"+n].join(),metricName:"CHAT",ackRequest:!0})})}};e.exports=(0,o.default)(u,i)},iiaihjfbi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=l(n("bjbdcigbdi")),u=l(n("djidhiidef")),s=l(n("ihfccfgdf"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.msg;if(!r)return o.createElement(o.Fragment,null,t);var s=[r.broadcast,r.isEphemeral,r.isSentByMe,r.labels&&r.labels.length&&i.default.supportsFeature(i.default.F.LABELS_DISPLAY),r.star].filter(Boolean).length,l=[u.default.icons1,u.default.icons2,u.default.icons3,u.default.icons4],c=s>0?l[s-1]:"";return o.createElement("span",{className:n},t,o.createElement("span",{className:(0,a.default)(u.default.spacer,c)}))}}]),t}();c.CONCERNS={msg:["broadcast","isEphemeral","isSentByMe","labels","star"]},c.displayName="SpacerText",t.default=(0,s.default)(c,c.CONCERNS)},iibcehaia:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=S(n("cfadcbbiie")),i=S(n("baagejbchg")),u=S(n("dhigahgdjb")),s=S(n("dhhfaeacef")),l=n("cgejchjdhj"),c=S(n("fifhbjiec")),f=n("bgddggdhc"),d=S(n("ddajbaceej")),p=S(n("dheeebbech")),h=n("ejbdjaifi"),m=n("dhfbfehaef"),b=S(m),g=S(n("eceadcicaf")),v=n("ddbddjjgia"),y=S(n("bcebbbdfff")),_=S(n("bfdcadbbif")),E=S(n("bcifhbgija")),j=S(n("djbfhebjhe")),O=S(n("caceaafdic"));function S(e){return e&&e.__esModule?e:{default:e}}var w=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.wrapper=null,n.onSelectionChange=function(e,t){var r="focus"===e;if(r){var a=(0,f.forbiddenAssertDOMNode)(n);d.default.focus(a),t&&(0,l.scrollIntoViewIfNeeded)(a)}n.setState({current:r})},n.onActiveChange=function(e,t){if("focus"===e){var r=(0,f.forbiddenAssertDOMNode)(n);d.default.focus(r),(0,l.scrollIntoViewIfNeeded)(r)}n.setState({active:!!e})},n.mouseOver=function(){n.state.hover||n.setState({hover:!0})},n.mouseEnter=function(){n.state.hover||n.setState({hover:!0})},n.mouseLeave=function(){n.state.hover&&n.setState({hover:!1})},n.onEnter=function(e){e.stopPropagation(),e.preventDefault(),n.props.onClickMsg&&n.props.onClickMsg(n.props.msg)},n.openContextMenu=function(){n.wrapper&&n.wrapper.contextOpen()},n.onFocus=function(e){n.setState({focus:!0}),n.indicateFocus()},n.onBlur=function(e){n.finishFocusIndication(),n.setState({focus:!1})},n.indicateFocus=function(){var e=n.state.active?"#d6d7d8":"#e2e3e3";(0,m.indicateFocus)(n.row,[e,"#cbdde7"],{complete:n.finishFocusIndication})},n.finishFocusIndication=function(){var e=(0,f.forbiddenFindDOMNode)(n.row);e&&((0,E.default)(e,"stop"),e.style.backgroundColor="")};var r=e.currSelection,a=e.activeSelection,o=e.msg;return n.state={hover:!1,current:!!r&&r.value===o,active:!!a&&a.value===o,focus:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props,t=e.msg,n=e.currSelection,r=e.activeSelection,a=e.listeners;n&&a.add(n,t.id.toString(),this.onSelectionChange),r&&a.add(r,t.id.toString(),this.onActiveChange)}},{key:"render",value:function(){var e=this,t=this.props,n=t.msg,r=t.selectedMessages,l=t.displayType,f=n.senderObj.formattedName,d=n.chat.isUser?u.default.assertGet(n.to).formattedName?u.default.assertGet(n.to).formattedName:(0,j.default)(n.to):n.chat.title(),m=l===i.default.DISP_TYPE.GALLERY?null:a.createElement("div",{className:y.default.title},a.createElement("div",{className:y.default.titleMain},a.createElement("div",{className:y.default.avatar},a.createElement(s.default,{id:n.senderObj.id,size:26})),a.createElement(c.default,{className:y.default.author,text:f,direction:"auto",titlify:!0}),a.createElement("span",{className:y.default.divider}),a.createElement(c.default,{className:y.default.chat,text:d,direction:"auto",titlify:!0})),a.createElement("div",{className:y.default.meta,dir:"auto"},o.default.relativeStr(n.t)),a.createElement("div",{className:y.default.chevron},a.createElement(_.default,{name:"chevron-right-alt",directional:!0}))),g={enter:this.onEnter};g[l10n.LR("right","left")]=this.openContextMenu;var E=this.props.selectable||this.state.hover&&l===i.default.DISP_TYPE.GALLERY;return a.createElement(b.default,{handlers:g,onFocus:this.onFocus,onBlur:this.onBlur},a.createElement(p.default,{ref:(0,h.GetRef)("row",this),hover:this.state.hover,current:this.state.current&&this.state.focus,active:this.state.active,onClick:function(){return e.props.onClickMsg&&e.props.onClickMsg(n,r&&!r.isSelected(n))},onMouseEnter:this.state.hover?null:this.mouseEnter,onMouseOver:this.state.hover?null:this.mouseOver,onMouseLeave:this.state.hover?this.mouseLeave:null},m,a.createElement(O.default,{msg:n,key:n.id.toString(),ref:(0,h.GetRef)("wrapper",this),current:this.state.current&&this.state.focus,displayType:l||i.default.DISP_TYPE.STARRED_MSGS,isMsgVisible:this.props.isMsgVisible,selectable:E,selectedMessages:r,onMessageSelect:this.props.onMessageSelect,position:v.MsgPosition.END,tailOverride:"left"})))}}]),t}();w.displayName="StarredMsg",t.default=(0,g.default)(w)},iibiehcaf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=p(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=p(n("bbchdeehff")),u=p(n("eceadcicaf")),s=p(n("bgcdajbhif")),l=p(n("dggicghjch")),c=p(n("cbhejdgihi")),f=p(n("bgajdijche")),d=p(n("bfdcadbbif"));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onStatusAddRemove=function(){n.setState({status:s.default.getMyStatus()})},n.state={status:s.default.getMyStatus()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"shouldComponentUpdate",value:function(e,t){return t.status!==this.state.status}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.sessionId,r=t.listeners;r.add(s.default,"add remove",this.onStatusAddRemove),r.add(i.default,"dismiss_status_v3_viewer",function(){e.props.closeStatusViewer(!0)}),null!=n&&s.default.logMetrics({type:"session",sessionId:n})}},{key:"render",value:function(){var e=this,t=this.props.onOpenStatus,n=(0,a.default)(c.default.v3_x,{});return o.createElement("div",{className:c.default.modalBackground,"data-animate-status-v3-modal-background":!0},o.createElement("div",{className:c.default.mainWrapper},o.createElement(l.default,{onOpenStatus:t}),o.createElement(f.default,{status:this.state.status,onOpenStatus:t}),o.createElement("button",{className:n,onClick:function(){return e.props.closeStatusViewer(!0)}},o.createElement(d.default,{name:"status-v3-x"}))))}}]),t}();h.displayName="StatusV3Main",t.default=(0,u.default)(h)},iiegbbgja:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n("iffjgahba"),o=(r=a)&&r.__esModule?r:{default:r};var i=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=null!=r&&null!=r.url?`${n}: ${e} ${r.url}`:`${n}: ${e}`,o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,a));return o.status=e,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,(0,o.default)("HttpStatusCodeError")),t}();t.default=i},ijbagjdgc:function(e,t){e.exports={icon:"_33gYI",text:"_1Sxbg"}},ijdibihbi:function(e,t){e.exports={body:"_2CDPn",thumbs:"NeQRT",thumbsContainer:"_1xNi6",btnSend:"iA40b",captionInput:"_3cDQo",mediaBody:"_3NANR",invalidContainer:"dW6GK",invalidMedia:"azEEh",mediaWarning:"_1u0aP",dropOverlay:"lC2xi",dropOverlayOutline:"_8C3uJ",btnAdd:"_3fktq",btnAddText:"A_Kh_"}},ijecjcidg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=y(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=y(n("effbcehec")),u=y(n("ebcagbhefg")),s=y(n("bbchdeehff")),l=y(n("baagejbchg")),c=y(n("djcchigfih")),f=y(n("djbhiedbef")),d=n("dajffajabh"),p=y(d),h=y(n("fffdgbfji")),m=y(n("ihfccfgdf")),b=n("bfjajhbdf"),g=y(b),v=y(n("ddhbfebjfb"));function y(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O=function(e){function t(){var e,n,r;_(this,t);for(var a=arguments.length,i=Array(a),c=0;c<a;c++)i[c]=arguments[c];return n=r=E(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={hover:!1},r.onClick=function(e){var t=r.encodeColor(r.props.colorHex),n=u.default.get("defaultPreference");n&&t!==n.wallpaperColor&&(n.set("wallpaperColor",t),s.default.openToast(o.createElement(g.default,{msg:h.default.t(1138),id:(0,b.genId)()})))},r.onMouseOver=function(e){r.state.hover||(r.setState({hover:!0}),u.default.trigger("wallpaper_color_preview",r.encodeColor(r.props.colorHex)))},r.onMouseEnter=function(e){r.state.hover||(r.setState({hover:!0}),u.default.trigger("wallpaper_color_preview",r.encodeColor(r.props.colorHex)))},r.onMouseLeave=function(e){r.state.hover&&(r.setState({hover:!1}),u.default.trigger("wallpaper_color_preview"))},r.encodeColor=function(e){return"#ede9e4"===e?l.default.DEFAULT_CHAT_WALLPAPER:e},E(r,n)}return j(t,o.Component),r(t,[{key:"render",value:function(){var e=this.props.isDefault?o.createElement("span",{"data-a8n":i.default.key("wallpaper-default-title"),className:v.default.wallpaperDefaultTitle},h.default.t(364)):null,t=(0,a.default)(v.default.wallpaperColorCanvas,{[v.default.canvasHover]:this.state.hover,[v.default.canvasActive]:this.props.isSelected});return o.createElement("span",{className:t,style:{backgroundColor:this.props.colorHex},onMouseOver:this.onMouseOver,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onClick:this.onClick},e)}}]),t}();O.displayName="ColorCanvas";var S=function(e){function t(){return _(this,t),E(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,o.Component),r(t,[{key:"render",value:function(){for(var e=this.props,t=e.chatPreference,n=e.colors,r=!0,a=t&&t.wallpaperColor,i=n.map(function(e){var t=!1,n=!1;return(a===e||a===l.default.DEFAULT_CHAT_WALLPAPER&&r)&&(t=!0),r&&(n=!0,r=!1),o.createElement(O,{colorHex:e,isSelected:t,isDefault:n,key:e})}),u=0;u<2;u++)i.push(o.createElement("div",{key:"emptyEl"+u,className:v.default.wallpaperColorEmpty}));return o.createElement("div",{className:v.default.wallpaperColorGrid},i)}}]),t}();S.CONCERNS={chatPreference:["wallpaperColor"]},S.displayName="ColorGridClass";var w=(0,m.default)(S,S.CONCERNS),P=function(e){function t(){return _(this,t),E(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,o.Component),r(t,[{key:"componentWillUnmount",value:function(){u.default.trigger("wallpaper_color_preview")}},{key:"render",value:function(){return o.createElement(c.default,null,o.createElement(p.default,{title:h.default.t(1139),onBack:this.props.onClose,type:d.DRAWER_HEADER_TYPE.LARGE}),o.createElement(f.default,null,o.createElement(w,{colors:l.default.WALLPAPER_COLOR,chatPreference:u.default.get("defaultPreference")})))}}]),t}();P.displayName="WallpaperDrawer",t.default=P},ijhhjedi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("djidjciehe"),i=(r=o)&&r.__esModule?r:{default:r};function u(e){return a.createElement(i.default,e,e.children)}u.displayName="Intern"},ijiafihgg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n("eaaagccfda")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("bdfbccfifg"),i=s(o),u=s(n("bjbdcigbdi"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n.id));return a._trigger=n.trigger||"all",a._saveToCache=(0,r.default)(a.saveToCache,0),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"saveToCache",value:function(){u.default.supportsFeature(u.default.F.MODEL_STORAGE)}},{key:"enableCaching",value:function(){this.listenTo(this.collection,this._trigger,this._saveToCache)}},{key:"disableCaching",value:function(){this.stopListening(this.collection,this._trigger,this._saveToCache)}}]),t}();l.policy=o.CACHE_POLICY_TYPE.IMMEDIATE,t.default=l},jahgaeib:function(e,t,n){"use strict";var r,a=n("bdiiahhjbe"),o=(r=a)&&r.__esModule?r:{default:r};var i=n("dcefbjcfha"),u=n("bfbggcdbfb"),s=void 0;e.exports={checkAndRepair:function(e,t){var n,r,a=new u.WebcMediaAnalyzed;return(n={type:"prep",file:e,asGif:t},r=void 0,new Promise(function(e,t){o.default.log("MediaAnalyzer:sendMessageToWorker")(),r=s||new i,s=void 0,r.onmessage=function(n){try{n.data&&"log"===n.data.type?o.default.log(`(via Milan) ${n.data.msg}`)():e(n.data)}catch(e){t(e)}},r.onerror=function(e){t(`Milan.onerror = ${e&&e.message?e.message:e}`)},r.postMessage(n)}).finally(function(){r&&(r.terminate(),s=new i)})).then(function(e){var t=e.type,n=e.result,r=e.error,a=e.filename,i=e.file;switch(t){case"result":return o.default.log("MediaAnalyzer:checkAndRepair approved file")(),n;case"parsingError":return o.default.info(`trouble parsing file ${i} (fossil ${a}) ${String(r)}`)(),i&&o.default.assert(!1,"media-parsing-error",`MediaAnalyzer:checkAndRepair got parsing error! ${String(r)}`)(),void o.default.log(`MediaAnalyzer:checkAndRepair rejected file (${String(r)})`)()}}).catch(function(e){o.default.assert(!1,"media-detection-error",`MediaAnalyzer:checkAndRepair got error! ${String(e)}`)()}).finally(function(t){if(a){var n=void 0;if(e.name){var r=e.name.split(".");r.length>1&&(n=r[r.length-1])}a.set({webcMediaSupported:!!t,webcMediaExtensions:n}),a.markWebcMediaAnalyzeT(),a.commit()}})}}},jajcehbed:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=u(n("dbajccegac")),i=u(n("bhagdhdadd"));function u(e){return e&&e.__esModule?e:{default:e}}var s=33639248,l=101010256,c=67324752,f=46,d=22,p=30,h=0,m=0,b=10;function g(e){return(e.getHours()<<6|e.getMinutes())<<5|e.getSeconds()/2}function v(e){return(e.getFullYear()-1980<<4|e.getMonth()+1)<<5|e.getDate()}var y=/[^\x00-\x7F]/g;var _=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.files=[],this.filenameCount={}}return r(e,[{key:"add",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date,r=function(e){return e.replace(/\\/,"/").replace(y,"")}(t);this.filenameCount[r]>=0?(this.filenameCount[r]+=1,r=r.replace(/\.(\w+)$/," ("+this.filenameCount[r]+").$1")):this.filenameCount[r]=0,this.files.push([e,{crc:(0,i.default)(e),path:r,date:n}])}},{key:"create",value:function(){var e=0,t=0,n=0,r=[],i=[];this.files.forEach(function(u,l){var d=a(u,1)[0],y=d.size(),_=function(e){var t=a(e,2),n=t[0],r=t[1],i=r.path,u=r.crc,s=r.date,l=new o.default(void 0,!0);return l.ensureCapacity(p+i.length),l.writeUint32(c),l.writeUint8(b),l.writeUint8(m),l.writeUint16(0),l.writeUint16(h),l.writeUint16(g(s)),l.writeUint16(v(s)),l.writeUint32(u),l.writeUint32(n.size()),l.writeUint32(n.size()),l.writeUint16(i.length),l.writeUint16(0),l.writeString(i),l}(u),E=function(e,t){var n=a(e,2),r=n[0],i=n[1],u=i.path,l=i.crc,c=i.date,d=new o.default(void 0,!0);return d.ensureCapacity(f+u.length),d.writeUint32(s),d.writeUint8(b),d.writeUint8(m),d.writeUint8(b),d.writeUint8(m),d.writeUint16(0),d.writeUint16(h),d.writeUint16(g(c)),d.writeUint16(v(c)),d.writeUint32(l),d.writeUint32(r.size()),d.writeUint32(r.size()),d.writeUint16(u.length),d.writeUint16(0),d.writeUint16(0),d.writeUint16(0),d.writeUint16(0),d.writeUint32(0),d.writeUint32(t),d.writeString(u),d}(u,n),j=_.size()+y;n+=j,e+=j+E.size(),t+=E.size(),i.push(_,d),r.push(E)});var u,y,_,E,j=(u=this.files.length,y=t,_=n,(E=new o.default(void 0,!0)).ensureCapacity(d),E.writeUint32(l),E.writeUint16(0),E.writeUint16(0),E.writeUint16(u),E.writeUint16(u),E.writeUint32(y),E.writeUint32(_),E.writeUint16(0),E),O=new o.default(void 0,!0);return O.ensureCapacity(e+j.size()),O.write.apply(O,i.concat(r,[j])),O}}]),e}();t.default=_},jbgjefjeb:function(e,t){e.exports={"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""}},jcdghfjgd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=m(n("dhbceejbjg")),i=m(n("dhigahgdjb")),u=m(n("dhhfaeacef")),s=m(n("fifhbjiec")),l=n("bhfdfhefca"),c=m(n("bhheahajjg")),f=m(n("cjihajjici")),d=m(n("ihfccfgdf")),p=m(n("bfdcadbbif")),h=m(n("eedjbihej"));function m(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props.product,t=i.default.get(e.catalogWid),n=void 0;if(t){var r=a.createElement(c.default,{contact:t,selectable:!0,showBusinessCheckmark:!0}),d=a.createElement(u.default,{id:t.id,size:40}),m=a.createElement("div",{className:f.default.productName},a.createElement(p.default,{name:"business-description",display:"inline"}),a.createElement(s.default,{text:e.name,titlify:!0,ellipsify:!0}));n=a.createElement(o.default,{idle:!0,image:d,primary:r,secondary:m,theme:"media"})}else n=a.createElement(h.default,{theme:"large",className:f.default.infoName},a.createElement(s.default,{text:e.name,titlify:!0,ellipsify:!0}));return a.createElement("div",{className:f.default.mediaPanelHeader},a.createElement("div",{className:f.default.info},n),a.createElement("div",{className:f.default.mediaPanelTools},a.createElement(l.MenuBar,{key:"media-panel-header"},a.createElement(l.MenuBarItem,{a8nText:"btn-close",icon:a.createElement(p.default,{name:"x-viewer"}),title:l10n.t(1158),onClick:this.props.onClose}))))}}]),t}();b.CONCERNS={mediaData:["renderableUrl"],product:["name","catalogWid"]},b.displayName="ProductImageViewerHeader",t.default=(0,d.default)(b,b.CONCERNS)},jcfhjhibi:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("dejbbcaghh"),i=f(n("bjigbaghc")),u=f(n("bjbdcigbdi")),s=f(n("djdhjggcbi")),l=f(n("bdecdecede")),c=f(n("bdiiahhjbe"));function f(e){return e&&e.__esModule?e:{default:e}}var d=n("baagejbchg"),p={BEFORE:"before",AFTER:"after"},h=2,m=12,b=19,g=65,v=2;function y(e,t,n){var r=t,a=e.toArray(),o=n===p.BEFORE?-1:1;return{hasNext:()=>r>=0&&r<a.length,next(){var e=a[r];return e||c.default.error(`Invalid cursor at ${r}, array.length = ${a.length}, element = ${e}`)(),r+=o,e}}}function _(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments[4],i=(0,s.default)()*r,c=y(e,t,n),f=0,p=0,b=void 0;c.hasNext();){var g=c.next(),v=(0,l.default)(g),_=2*(g.isNotification?1:0)+g.isSentByMe;if(p++,(f+=v+(_&&_===b?h:m))>i)break;if(p>=a)break;var E=u.default.supportsFeature(u.default.F.GROUPED_STICKERS)&&g.isValidGroupedSticker,j=u.default.supportsFeature(u.default.F.ALBUMS)&&g.isValidAlbumAsset;if(E||j){var O=[],S=!1,w=1;if(E){var P=void 0;if(c.hasNext()){if(P=c.next(),O.push(P),++p>=a)break;(0,o.canBeGroupedAsAlbum)(g,P)&&P.isValidGroupedSticker&&(S=!0)}}if(j)for(var M=g,C=void 0;c.hasNext()&&w<d.ALBUM_MAX_SIZE&&(C=c.next(),O.push(C),!(++p>=a))&&(0,o.canBeGroupedAsAlbum)(M,C)&&C.isValidAlbumAsset;)w++,M=C;if(E&&!S||j&&w<d.ALBUM_MIN_SIZE)if((f+=O.reduce(function(e,t){return e+(0,l.default)(t)},0))>i)break}b=_}return p}function E(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments[4],c=(0,s.default)()*r,f=y(e,t,n),p=0,g=0,v=void 0;f.hasNext();){var _=f.next(),E=(0,l.default)(_),j=_.author||(_.isSentByMe?i.default.me:void 0);if(g++,(p+=E+(j&&!_.isSentByMe&&j!==v?b:0)+(j&&j===v?h:m))>c)break;if(g>=a)break;var O=u.default.supportsFeature(u.default.F.GROUPED_STICKERS)&&_.isValidGroupedSticker,S=u.default.supportsFeature(u.default.F.ALBUMS)&&_.isValidAlbumAsset;if(O||S){var w=[],P=!1,M=1;if(O){var C=void 0;if(f.hasNext()){if(C=f.next(),w.push(C),++g>=a)break;(0,o.canBeGroupedAsAlbum)(_,C)&&C.isValidGroupedSticker&&(P=!0)}}if(S)for(var T=_,A=void 0;f.hasNext()&&M<d.ALBUM_MAX_SIZE&&(A=f.next(),w.push(A),!(++g>=a))&&(0,o.canBeGroupedAsAlbum)(T,A)&&A.isValidAlbumAsset;)M++,T=A;if(O&&!P||S&&M<d.ALBUM_MIN_SIZE)if((p+=w.reduce(function(e,t){return e+(0,l.default)(t)},0))>c)break}v=j}return g}function j(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments[4],o=(0,s.default)()*r,i=y(e,t,n),u=0,c=0;i.hasNext();){var f=i.next();if(c++,(u+=(0,l.default)(f)+g)>o)break;if(c>=a)break}return c}function O(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.AFTER,r=(0,s.default)()*v,a=y(e,t,n),o=0,i=!0,u=null;a.hasNext();){var c=a.next(),f=(0,l.default)(c),d=2*(c.isNotification?1:0)+c.isSentByMe;if((o+=f+(d&&d===u?h:m))>r){i=!1;break}u=d}return i}var S=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.type,r=t.before,a=t.after,o=t.focusedMsgKey,i=t.prevFocusedMsgKey;this._type=n,this._focusedMsgKey=o,this._prevFocusedMsgKey=i,this.before=r||0,this.after=a||0}return a(e,null,[{key:"create",value:function(t){var n=t.msgCollection,r=t.focusedMsgKey,a=t.type,o=t.maxInitialCount,i=void 0===o?Number.MAX_SAFE_INTEGER:o;return new e({type:a}).init(r,n,i)}}]),a(e,[{key:"_cloneWith",value:function(t){return new e(r({type:this._type,before:this.before,after:this.after,focusedMsgKey:this._focusedMsgKey,prevFocusedMsgKey:this._prevFocusedMsgKey},t))}},{key:"_getCursorSize",value:function(e,t,n,r,a){return function(e){switch(e){case d.RENDER_CURSOR.CONVERSATION:return _;case d.RENDER_CURSOR.GROUP_CONVERSATION:return E;case d.RENDER_CURSOR.STARRED_DRAWER:return j;default:return _}}(this._type)(e,t,n,r,a)}},{key:"getStart",value:function(e){return Math.max(w(this._focusedMsgKey,e,this._type)-this.before,0)}},{key:"getEnd",value:function(e){return Math.min(w(this._focusedMsgKey,e,this._type)+this.after+1,e.length)}},{key:"hasBefore",value:function(e){return w(this._focusedMsgKey,e,this._type)-this.before>0}},{key:"hasAfter",value:function(e){return w(this._focusedMsgKey,e,this._type)+this.after<e.length-1}},{key:"init",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return new e({type:this._type,before:0,after:0,focusedMsgKey:t}).loadBefore(n,{factor:1,maxCount:r}).loadAfter(n,{factor:1,maxCount:r})}},{key:"setFocusedMsgKey",value:function(e,t){var n=w(this._focusedMsgKey,e,this._type),r=w(t,e,this._type),a=void 0,o=void 0;return t?(o=this.after-(r-n),a=this.before+(r-n)):(a=this.before+this.after,o=0),this._cloneWith({focusedMsgKey:t,before:a,after:o})._updatePrev(e)}},{key:"ensureValidFocus",value:function(e){var t=null!=this._prevFocusedMsgKey&&null==e.get(this._prevFocusedMsgKey),n=null!=this._focusedMsgKey&&null==e.get(this._focusedMsgKey),r=this;return t&&(r=r._updatePrev(e)),n&&(r=r.focusBefore(e)),r}},{key:"_updatePrev",value:function(e){var t=w(this._focusedMsgKey,e,this._type);return this._cloneWith({prevFocusedMsgKey:t>0?e.at(t-1).id:void 0})}},{key:"focusBefore",value:function(e){return this._cloneWith({focusedMsgKey:this._prevFocusedMsgKey})._updatePrev(e)}},{key:"loadBefore",value:function(e,t){var n=t||{},r=n.count,a=n.maxCount,o=void 0===a?Number.MAX_SAFE_INTEGER:a,i=n.factor,u=void 0===i?2:i,s=null!=r&&0!==r?r:this._getCursorSize(e,Math.max(0,this.getStart(e)-1),p.BEFORE,u,o);return this._cloneWith({before:this.before+s})}},{key:"loadAfter",value:function(e,t){var n=t||{},r=n.count,a=n.maxCount,o=void 0===a?Number.MAX_SAFE_INTEGER:a,i=n.factor,u=void 0===i?2:i,s=null!=r&&0!==r?r:this._getCursorSize(e,this.getEnd(e),p.AFTER,u,o);return this._cloneWith({after:this.after+s})}},{key:"loadBeforeCapped",value:function(e,t){var n=t||{},r=n.count,a=n.factor,o=void 0===a?2:a;return O(e,this.getStart(e),p.AFTER)?this.loadBefore(e,{count:r,factor:o}):this}},{key:"resetBeforeCursor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;if(!O(e,this.getStart(e),p.AFTER)){var n=Math.max(0,this.getEnd(e)-1),r=this._getCursorSize(e,n,p.BEFORE,2,t);return this._cloneWith({before:Math.min(this.before,r)})}return this}}]),e}();function w(e,t,n){if(e){var r=t.get(e),a=t.indexOf(r);if(-1!==a)return a}return function(e){switch(e){case d.RENDER_CURSOR.CONVERSATION:case d.RENDER_CURSOR.GROUP_CONVERSATION:return d.RENDER_CURSOR.RECENT_AT_BOTTOM;case d.RENDER_CURSOR.STARRED_DRAWER:return d.RENDER_CURSOR.RECENT_AT_TOP;default:return d.RENDER_CURSOR.RECENT_AT_BOTTOM}}(n)===d.RENDER_CURSOR.RECENT_AT_TOP?0:t.length-1}e.exports=S},jcfjeeiii:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=b(n("dfaadfeedd")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},i=b(n("djheacfeif")),u=n("dcaifjegcg"),s=b(n("cfadcbbiie")),l=b(n("baagejbchg")),c=b(n("dhigahgdjb")),f=b(n("bdiiahhjbe")),d=b(n("ccehadbeci")),p=n("dcjbdhhjge"),h=b(n("bihdhbjih")),m=b(n("jccfhaecf"));function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e){var t=(0,r.default)(e,function(e){return e.body&&e.mediaData&&(e.type===l.default.MSG_TYPE.IMAGE||e.type===l.default.MSG_TYPE.VIDEO)});return t&&t.mediaData.preview}var y=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.id=(0,u.prop)(),r.t=(0,u.prop)(),r.unreadCount=(0,u.prop)(0),r.totalCount=(0,u.prop)(0),r.score=(0,u.prop)(),r.pic=(0,u.prop)(),r._msgs=(0,u.prop)(function(){return[]}),r.readKeys=(0,u.session)(function(){return{}}),r.contact=(0,u.session)(),r.expireTimer=(0,u.session)(),r.expireTs=(0,u.session)(),r.hasUnread=(0,u.derived)(r._hasUnread,["unreadCount"]),r.readCount=(0,u.derived)(r._readCount,["unreadCount","totalCount"]),r.renderedThumbnail=(0,u.derived)(r._renderedThumbnail,["msgsChanged","pic","totalCount"]),r.lastStatus=(0,u.derived)(r._lastStatus,["msgsChanged","totalCount"]),g(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.default),a(t,[{key:"_hasUnread",value:function(){return this.unreadCount>0}},{key:"_readCount",value:function(){var e=this.totalCount-this.unreadCount;return Number.isFinite(e)?e:(f.default.error(`Bad status v3 read count, ${this.totalCount}, ${this.unreadCount}`)(),0)}},{key:"_renderedThumbnail",value:function(){return this.msgs.length===this.totalCount?v(this.msgs.getModelsArray()):this.pic?this.pic:v(this.msgs.getModelsArray())}},{key:"_lastStatus",value:function(){return this.msgs.last()}},{key:"initialize",value:function(){var e=this;o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this),this.addChild("contact",c.default.gadd(this.id)),this.listenTo(this.msgs,"add bulk_add",function(){window.setTimeout(function(){e.setupStatusExpiration()})}),this.listenTo(this,"change:lastStatus",function(){e.lastStatus&&(e.t=e.lastStatus.t)})}},{key:"setupStatusExpiration",value:function(){var e=this,t=this.msgs.at(0);if(t&&!("number"==typeof this.expireTs&&this.expireTs<=t.t)){var n=t.t+86400+1;n<s.default.globalUnixTime()?window.setTimeout(function(){e.expireMsg()}):(this.expireTimer=i.default.setGlobalTimeout(this.expireMsg.bind(this),1e3*n,this.expireTimer),this.expireTs=t.t)}}},{key:"expireMsg",value:function(){for(var e=this.msgs;e.length>0;){var t=e.at(0);if(!t)break;if(t.t+86400>s.default.globalUnixTime())break;this.unreadCount>this.totalCount-1&&this.unreadCount--,this.totalCount--,e.remove(t),t.delete()}this.expireTs=void 0,this.expireTimer=void 0,0!==this.totalCount&&this.setupStatusExpiration()}},{key:"delete",value:function(){f.default.log(`Status v3 deleted with total count: ${this.totalCount}`)(),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),this.expireTimer&&i.default.clearTimeout(this.expireTimer),null!=this.expireTs&&(this.expireTs=void 0),this.getCollection().remove(this.id)}},{key:"onEmptyMRM",value:function(){var e=this;f.default.log(`Status V3 onEmptyMRM with total count: ${this.totalCount}, noEarlierMsgs: ${this.msgs.msgLoadState.noEarlierMsgs?"true":"false"}`)(),this.msgs.msgLoadState.noEarlierMsgs&&0===this.totalCount?this.delete():this.totalCount>0&&this.loadMore().catch(function(){}).finally(function(){e.msgs.length||e.delete()})}},{key:"loadMore",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.PAGE_SIZE;if(this.msgs.msgLoadState.noEarlierMsgs)return Promise.resolve();if(this.msgs.msgLoadState.isLoadingEarlierMsgs)return this.msgs.loadEarlierPromise;var n=0!==t?t:l.default.PAGE_SIZE;return this.getCollection().loadMore(this.id,n,this.msgs.last()).then(function(t){return Array.isArray(t)&&t.length<n&&(e.msgs.msgLoadState.noEarlierMsgs=!0),t}).catch(function(t){return 404===t&&e.delete(),Promise.reject(t)})}},{key:"handleReadStatus",value:function(e){this.readKeys[e]||(this.readKeys[e]=!0,this.unreadCount>0&&this.unreadCount--)}},{key:"sendReadStatus",value:function(e,t){var n=this;return h.default.sendStatusSeen(e,t).then(function(t){200===t.status&&n.handleReadStatus(e)})}},{key:"sendMute",value:function(e){var t=this;return h.default.sendStatusMute(this.id,e).then(function(n){if(200===n.status){var r={statusMute:e};(0,p.updateLocal)(t.contact.id,r).then(function(){t.contact.set(r)})}})}},{key:"getCollection",value:function(){return n("bgcdajbhif").default}}]),t}();y.Proxy="statusV3",y.idClass=m.default,t.default=(0,u.defineModel)(y)},jciegiifi:function(e,t,n){"use strict";var r={parseStatusRankingScores:function(e){if("status"===this.N.tag(e)&&"score"===this.N.attr("type",e)){var t=[],n=this.N.children(e);if(Array.isArray(n))for(var r=0;r<n.length;r++){var a=n[r];if("user"===this.N.tag(a)){var o=this.N.attr("jid",a),i=parseFloat(this.N.attr("score",a))||void 0;void 0!==o&&void 0!==i&&t.push({jid:o,score:i})}}return t}}};e.exports=r},jdcjegfeb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=b(n("cfaiaibca")),i=b(n("djijgaefjc")),u=b(n("dbdfbgehgj")),s=b(n("bbchdeehff")),l=b(n("dhigahgdjb")),c=b(n("djigcbdaeh")),f=b(n("cahfddcdga")),d=b(n("ihfccfgdf")),p=b(n("eedjbihej")),h=b(n("didfdhbecg")),m=b(n("djbfhebjhe"));function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.messageNewNumber=function(){var e=r.props.chat.changeNumberNewJid,t=u.default.gadd((0,f.default)(e));s.default.openChatFromUnread(t).then(function(e){e&&s.default.focusChatTextInput(t)})},r.dismissChangeNumberNotification=function(){r.props.chat.sendDismissChangeNumber()},g(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"isOldChat",value:function(){var e=this.props.chat,t=e.changeNumberOldJid,n=e.changeNumberNewJid;return void 0===t&&void 0!==n}},{key:"isNewChat",value:function(){var e=this.props.chat,t=e.changeNumberOldJid,n=e.changeNumberNewJid;return void 0!==t&&void 0===n}},{key:"getText",value:function(){var e=this.props.chat,t=e.changeNumberOldJid,n=e.id,r=t||n,a=l.default.get(r),o=a&&a.isMyContact?a.formattedName:(0,m.default)(r);return this.isNewChat()?l10n.t(275,{name:o}):l10n.t(276,{name:o})}},{key:"render",value:function(){var e=null;if(this.props.chat.showChangeNumberNotification){var t=this.isOldChat()?a.createElement("div",{className:i.default.messageNewNumberButton},a.createElement(o.default,{onClick:this.messageNewNumber,type:"plain-white",nowrap:!0},l10n.t(274))):null;e=a.createElement(c.default,{onClose:this.dismissChangeNumberNotification},a.createElement("div",{className:i.default.container},a.createElement(p.default,{theme:"plain",className:i.default.text},this.getText()),t))}return a.createElement(h.default,{transitionName:"butterbar"},e)}}]),t}();v.CONCERNS={chat:["changeNumberOldJid","changeNumberNewJid","id","showChangeNumberNotification"]},v.displayName="ChangeNumberNotification",t.default=(0,d.default)(v,v.CONCERNS)},jdgfdffcj:function(e,t){e.exports={action:"_25Ewv"}},jdigiabic:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RecentStickerCollection=t.RECENT_STICKERS_LIMIT=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n("cgcgbfbffj")),i=c(n("bjbdcigbdi")),u=c(n("bdiiahhjbe")),s=c(n("cgfidiajgj")),l=c(n("bihdhbjih"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=t.RECENT_STICKERS_LIMIT=32,p=t.RecentStickerCollection=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._checksum="",r._syncStatus="NONE",f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),a(t,[{key:"_findQuery",value:function(){var e=this;return i.default.isRecentStickersEnabled()?l.default.queryRecentStickers().then(function(t){var n=t.checksum,a=t.stickers;return e.setChecksum(n),a.map(function(e,t){return r({},e,{index:t})})}):Promise.reject(new Error("gk recent sticker sync unsupported"))}},{key:"enqueue",value:function(e){var t=this;if(i.default.isRecentStickersEnabled()){this.forEach(function(e,t){e.index=d+t});var n=new Set(e.map(function(e){return e.id}));e.reduce(function(e,t){return n.has(t.id)?(n.delete(t.id),[t].concat(e)):e},[]).slice(0,d).forEach(function(e,n){var r=t.get(e.id);r?r.index=n:t.add({id:e.id,clientUrl:e.clientUrl,directPath:e.directPath,filehash:e.filehash,uploadhash:e.uploadhash,mediaKey:e.mediaKey,mediaKeyTimestamp:e.mediaKeyTimestamp,width:e.width,height:e.height,size:e.size,mimetype:e.mimetype,type:e.type,index:n})}),this.sort(),this.remove(this.slice(d))}}},{key:"setChecksum",value:function(e){this._checksum=e}},{key:"sync",value:function(e){e!==this._checksum&&(this.setChecksum(e),this._sync())}},{key:"syncOnce",value:function(){return"SUCCESS"===this._syncStatus||"FAILURE"===this._syncStatus?Promise.resolve():this._sync()}},{key:"_sync",value:function(){var e=this;return"INPROGRESS"===this._syncStatus?Promise.resolve():(this._syncStatus="INPROGRESS",this.findQuery({},{set:!0}).then(function(){e.sort(),e._syncStatus="SUCCESS"}).catch(function(t){u.default.error("collection:recent_sticker:_sync error ")(t),e._syncStatus="FAILURE"}))}},{key:"isSynced",value:function(){return"SUCCESS"===this._syncStatus||"FAILURE"===this._syncStatus}},{key:"reset",value:function(){return this._syncStatus="NONE",function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"reset",this).call(this)}}]),t}();p.model=s.default,p.comparator=function(e,t){return e.index>t.index?1:-1},t.default=new p},jeadbebac:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("cebdifcdab")),i=s(n("bcbahjefec")),u=s(n("cfegjiegcd"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.onProductClick=function(e,t){r.push(a.createElement(u.default,{refreshCarousel:!0,chat:r.props.msg.chat,product:e,sessionId:t,onEnd:r._pop}))},r._pop=function(){r.pop()},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,[{key:"componentDidMount",value:function(){this.push(a.createElement(o.default,{msg:this.props.msg,onProductClick:this.onProductClick}))}}]),t}();t.default=c},jegbhjbde:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFormattedName=s,t.getFormattedNames=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Array.isArray(e))return s(e,t);var n=e.map(function(e){return s(e,t)});return(0,o.default)(n,t)};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=u(n("bbchdeehff")),o=u(n("dabieifebj")),i=u(n("bhggeigghg"));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){var t,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],u=i.default.Contact.gadd(e,{silent:!0}),s=o?void 0:(t=e,function(e){e&&(e.preventDefault(),e.stopPropagation()),i.default.Chat.find(t).then(function(e){a.default.openChatFromUnread(e).then(function(t){t&&a.default.focusChatTextInput(e)})})}),l=n("bhheahajjg").default;return o?u.formattedUser:r.createElement(l,{contact:u,onClick:s})}},jfbdejdfi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n("bgeijhbbad")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=h(n("ceffhbhahb")),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=h(n("bcjhbcbjbf")),s=h(n("baagejbchg")),l=h(n("bdiiahhjbe")),c=h(n("behbjhhbg")),f=h(n("ihfccfgdf")),d=n("bheafeifce"),p=h(n("bfdcadbbif"));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=s.default.MSG_TYPE,g=b.IMAGE,v=b.VIDEO,y=b.DOCUMENT,_=b.AUDIO,E=(0,r.default)(c.default.MIMETYPES,function(e){return e.msgType===y}),j=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._onClick=function(e){r.props.onClick&&r.props.onClick((0,d.unproxy)(r.props.attachMedia),e)},r._onClose=function(e){r.props.onClose&&r.props.onClose((0,d.unproxy)(r.props.attachMedia),e)},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.PureComponent),a(t,[{key:"_renderBody",value:function(){var e=this.props.attachMedia,t=void 0,n=void 0,r=void 0;switch(e.type){case g:r={backgroundImage:`url(${e.preview})`},t=i.createElement("div",{className:u.default.body,style:r});break;case v:r={backgroundImage:`url(data:image/jpeg;base64,${e.preview})`},t=i.createElement("div",{className:u.default.body,style:r});break;case _:t=i.createElement("div",{className:(0,o.default)(u.default.body,"attach-media-audio-thumb")});break;case y:if(l.default.log("media is",e)(),e.preview){var a={backgroundImage:"url("+e.preview+")"};t=i.createElement("div",{className:u.default.body,style:a});break}E[e.mimetype]&&(n=E[e.mimetype].icon);default:n=(0,o.default)(u.default.body,u.default.bodyDoc,n,{"icon-doc-generic":!n}),t=i.createElement("div",{className:n})}return t}},{key:"render",value:function(){var e=(0,o.default)(u.default.thumb,{[u.default.active]:this.props.active});return i.createElement("div",{className:e,onClick:this._onClick,role:"button"},i.createElement("div",{className:u.default.btnDelete,onClick:this._onClose,role:"button"},i.createElement(p.default,{name:"x-alt-light"})),this._renderBody())}}]),t}();j.CONCERNS={attachMedia:["mimetype","preview","type"]},j.displayName="AttachMediaThumb",t.default=(0,f.default)(j,j.CONCERNS)},jfgccegaj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.productId,n=e.businessOwnerJid,r=e.msgT,a=(0,i.createWid)(n);if(!a)return;var u=o.default.get(a);if(!u)return;var s=u.productCollection.get(t),l=u.msgProductCollection.get(t);if(l&&s){var c=null!=r?r:l.t;return s.t>=c?(u.msgProductCollection.remove(l),s):l}return s||l};var r,a=n("ejegihaeh"),o=(r=a)&&r.__esModule?r:{default:r},i=n("dcbdjheea")},jgbhhadeh:function(e,t){e.exports={container:"N-sh9",preview:"_3V0mN",img:"G4uT8"}},jgcieiibj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=_(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=_(n("bbchdeehff")),u=_(n("biddiiafgd")),s=n("dbgdaechch"),l=_(n("bjbggbjed")),c=n("cdheafhdbh"),f=_(n("dhfbfehaef")),d=_(n("dbcfhfbbbf")),p=_(n("cjgdeggcdi")),h=n("bfccafhbbb"),m=_(n("bfdcadbbif")),b=_(n("caffijjhc")),g=_(n("dbjbhajgfd")),v=n("chhhffajfi"),y=_(n("didfdhbecg"));function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var j=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,c=Array(a),f=0;f<a;f++)c[f]=arguments[f];return n=r=E(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.state={active:!1,emojiPicker:null},r.onEmojiPicker=function(e){e&&(e.preventDefault(),e.stopPropagation());var t=o.createElement(l.default,{onEmoji:r.onEmoji,onFocusNext:r.restoreFocus,onFocusPrev:r.restoreFocus});r.setState({emojiPicker:{menu:t,dirY:s.DirY.TOP,type:"emoji_picker",anchor:e.target}}),r.restoreFocus()},r.onEmojiPickerClose=function(){r.setState({emojiPicker:null})},r.onRestoreEmojiPickerFocus=function(){if(r.refEmojiPicker){var e=r.refEmojiPicker.getRef();if(e){var t=e.getElement();t&&t.restoreFocus()}}},r.onEmoji=function(e){var t=r.refInput;t&&(t.focus(!1),t.replaceSelection(e)),r.onEmojiPickerClose()},r.setRefInput=function(e){r.refInput=e},r.setRefEmojiPicker=function(e){r.refEmojiPicker=e},r.onSelectionChange=function(e){r.selection=e},r.onMaxPasteExceeded=function(){i.default.openModal(o.createElement(u.default,{title:l10n.t(272),onOK:function(){i.default.closeModal()},okText:l10n.t(1287)},l10n.t(271)))},r.restoreFocus=function(){r.refInput&&r.refInput.focus()},r.onBlur=function(e){r.state.active&&r.setState({active:!1}),r.props.onBlur&&r.props.onBlur(e)},r.onFocus=function(e){e.stopPropagation(),r.state.active||r.setState({active:!0}),r.props.onFocus&&r.props.onFocus(e)},r.onReset=function(){r.refInput&&r.refInput.reset()},E(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"componentDidMount",value:function(){this.props.focusOnMount&&this.restoreFocus()}},{key:"render",value:function(){var e,t=this.props.maxLength,n=(0,v.numCodepoints)(this.props.value||""),r=t-n<50,i=(0,a.default)(p.default.textInput,{[p.default.noPlaceholder]:!this.props.placeholder,[p.default.active]:!0}),u=(0,a.default)(p.default.labelText,{[p.default.float]:!!this.props.value}),s=(0,a.default)(p.default.wrapper,{[p.default.textActive]:this.state.active}),l=this.props.supportsEmoji?o.createElement("button",{className:p.default.inputEmoji,onClick:this.onEmojiPicker},o.createElement(m.default,{name:"emoji-input"})):void 0,_=this.props.value;e=_&&""!==_?o.createElement("div",{role:"button",className:p.default.clearInput,onClick:this.onReset},o.createElement(m.default,{name:"x-alt"})):null;var E=this.props.showRemaining?o.createElement("div",{className:(0,a.default)(p.default.buttonContainer,p.default.charCounter,{[p.default.charCounterWithClearBtn]:!!e})},o.createElement("div",{className:p.default.charCounter},r?l10n.n(t-n):null)):null,j=void 0;return this.state.emojiPicker&&(j=o.createElement(b.default,{displayName:"EmojiPicker",escapable:!0,popable:!0,ref:this.setRefEmojiPicker,requestDismiss:this.onEmojiPickerClose,requestFocus:this.onRestoreEmojiPickerFocus},o.createElement(g.default,{contextMenu:this.state.emojiPicker}))),o.createElement(f.default,{className:i,onFocus:this.restoreFocus},o.createElement("span",{className:u},this.props.placeholder),o.createElement("div",{className:p.default.spacer}),o.createElement("div",{className:p.default.suggestionsPositioner},o.createElement("div",{className:p.default.suggestionsContainer},o.createElement(d.default.MentionSuggestions,{chat:this.props.chat,theme:h.ThemeOptions.MEDIA_CAPTION}),o.createElement(d.default.EmojiSuggestions,{chat:this.props.chat,theme:c.ThemeOptions.MEDIA_CAPTION}))),o.createElement("div",{className:s},o.createElement(d.default,{ref:this.setRefInput,initialValue:this.props.value,initialSelection:this.selection,readOnly:!1,spellCheck:this.props.spellCheck,multiline:this.props.multiline,maxLength:this.props.maxLength,onEnter:this.props.onEnter,onMaxPasteExceeded:this.onMaxPasteExceeded,onFiles:this.props.onFiles,onChange:this.props.onChange,onSelect:this.onSelectionChange,theme:"media-caption"}),o.createElement("div",{className:p.default.inputControls},o.createElement(y.default,{transitionName:"pop",component:"div",className:p.default.buttonContainer},e,l),E)),j)}}]),t}();j.defaultProps={maxLength:25},j.displayName="MediaCaptionTextInput",t.default=j},jhcabjcaf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("cfadcbbiie")),i=l(n("bjigbaghc")),u=n("jbecjibfc"),s=l(n("ihfccfgdf"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.contact,s=e.msg,l=e.onClick,c=e.style,f=o.default.timeStr(s.t),d=void 0;return r.isMe&&(d=i.default.pushname),d=d||r.formattedUser||"",a.createElement(u.CopyableDiv,{className:n,onClick:l,prePlainText:`[${f}] ${d}: `,style:c},t)}}]),t}();c.CONCERNS={contact:["formattedUser","name","isMe"],msg:["senderObj","t"]},c.displayName="BubbleHiddenText",t.default=(0,s.default)(c,c.CONCERNS)},jhddfhjhh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=p(n("biaifggagf")),i=p(n("dbdfbgehgj")),u=p(n("bbchdeehff")),s=p(n("baagejbchg")),l=p(n("fffdgbfji")),c=p(n("bdiiahhjbe")),f=p(n("biecbbiiee")),d=n("hjbbdjjdf");function p(e){return e&&e.__esModule?e:{default:e}}var h=function(){function e(t,n,a){var p=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.close=function(){p.notification&&p._waitForInteractionStop().then(function(){p.notification&&(0,d.isFunction)(p.notification.close)&&p.notification.close()}).catch(function(e){})},this._onClose=function(){p.waitingPromise.resolver(),window.removeEventListener("beforeunload",p.close),p.notification&&(p.notification.removeEventListener("click",p._onClick),p.notification.removeEventListener("close",p._onClose),p.notification.removeEventListener("show",p._onShow)),window.clearTimeout(p._onShowTimeout),p.msg&&p.msg.off("change:type",p._onRevoke)},this._onClick=function(){window.focus(),p.onClick();var e=p.chat,t=p.msg;if(e){var n=t&&t!==e.msgs.last()?e.getSearchContext(t):void 0;u.default.openChatAt(e,n).then(function(t){t&&u.default.focusChatTextInput(e)}),u.default.closeModalMedia(),p.close()}},this._onShow=function(){p.msg&&p.msg.on("change:type",p._onRevoke)},this._onRevoke=function(){p.msg&&p.msg.type===s.default.MSG_TYPE.REVOKED&&p.close()},this.msg=f.default.get(n),this.chat=i.default.get(t);var h=!!o.default.get(n);this._timeoutDuration=h?s.default.CALL_NOTIFICATION_TIMEOUT:s.default.NOTIFICATION_TIMEOUT;var m=new Promise(function(e){p.waitingPromise={resolver:e}});this.waitingPromise.promise=m;var b=a.title,g=a.notification,v=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(a,["title","notification"]);try{this.notification=new g(b,r({tag:h?n:t.toString(),renotify:!0,dir:"auto",lang:l.default.lng(),silent:!0},v)),this.notification.addEventListener("click",this._onClick),this.notification.addEventListener("close",this._onClose),this.notification.addEventListener("show",this._onShow),window.addEventListener("beforeunload",this.close)}catch(e){c.default.info(`Failed to create notification: ${e.name}:${e.message}`)(e),this.waitingPromise.resolver()}}return a(e,[{key:"onClick",value:function(){}},{key:"_waitForInteractionStop",value:function(){return Promise.resolve()}},{key:"waitForClose",value:function(){return this.waitingPromise.promise}},{key:"detach",value:function(){this._onClose()}}]),e}();t.default=h},jheeiegi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProductDetailsForDeepLink=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=w(n("ceffhbhahb")),o=S(n("ddhijeejag")),i=w(n("ejegihaeh")),u=w(n("djcchigfih")),s=w(n("djbhiedbef")),l=n("dajffajabh"),c=w(l),f=n("ddjgcfjicj"),d=S(n("cajijabhgb")),p=w(n("jfgccegaj")),h=w(n("fffdgbfji")),m=w(n("bdiiahhjbe")),b=w(n("cahfddcdga")),g=w(n("caaaaajeei")),v=w(n("bggcifcgdc")),y=w(n("bjbedjfe")),_=n("becfabjeeg"),E=w(_),j=w(n("eedjbihej")),O=n("dcbdjheea");function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function w(e){return e&&e.__esModule?e:{default:e}}function P(e){var t=e.productFetchState;switch(t){case"NONE":case"SUCCESS":return null;case"PENDING":return o.createElement("div",{className:(0,a.default)(g.default.loadingContainer)},o.createElement(E.default,{size:14,color:_.colorOptions.highlight}),o.createElement(j.default,{className:(0,a.default)(g.default.text,g.default.loadingText),theme:"small"},h.default.t(911)));case"NOT_FOUND":return o.createElement("div",{className:(0,a.default)(g.default.loadingContainer)},o.createElement(j.default,{className:g.default.text,theme:"small",color:"danger"},h.default.t(898)));case"ERROR":return o.createElement("div",{className:(0,a.default)(g.default.loadingContainer)},o.createElement(j.default,{className:g.default.text,theme:"small",color:"danger"},h.default.t(893)));default:throw new Error(`invalid productFetchState ${t}`)}}var M=t.ProductDetailsForDeepLink=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.state={product:null,productFetchState:"NONE"};var r=n.props.productInfo,a=r.productId,o=r.businessOwnerJid,i=(0,p.default)({productId:a,businessOwnerJid:o});return n.state=i?{product:i,productFetchState:"NONE"}:{product:i,productFetchState:"PENDING"},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.state.product||this._fetchProduct()}},{key:"_fetchProduct",value:function(){var e=this,t=this.props.productInfo,n=t.productId,r=t.businessOwnerJid,a=(0,O.createWid)(r);i.default.findProduct(a,n).checkpoint(this.props.rejectOnUnmount()).then(function(){var t=i.default.get(a),r=(0,b.default)(t).productCollection.get(n);e.setState({product:r,productFetchState:"SUCCESS"})}).catch(d.Unmount,function(){}).catch(f.ServerStatusCodeError,function(t){"not_found"===t.status?e.setState({productFetchState:"NOT_FOUND"}):(e.setState({productFetchState:"ERROR"}),m.default.error("Failed to fetch product from server",t)())}).catch(f.WapDrop,function(t){e.setState({productFetchState:"ERROR"}),m.default.error("Failed to fetch product",t)()}).catch(function(t){throw e.setState({productFetchState:"ERROR"}),t})}},{key:"render",value:function(){return this.state.product?o.createElement(v.default,{chat:this.props.chat,product:this.state.product,onEnd:this.props.onEnd,onBack:this.props.onBack,onProductDetail:this.props.onProductDetail,onProductCatalog:this.props.onProductCatalog,refreshCarousel:!0,sessionId:this.props.sessionId}):o.createElement(u.default,{onDrop:this.props.onBack,key:"product-details-drawer"},o.createElement(c.default,{a8n:"drawer-title-profile",title:h.default.t(895),onBack:this.props.onBack,type:l.DRAWER_HEADER_TYPE.SMALL}),o.createElement(s.default,null,o.createElement(P,{productFetchState:this.state.productFetchState})))}}]),t}();M.displayName="ProductDetailsForDeepLink",t.default=(0,y.default)(M)},jhhgcfgee:function(e,t){e.exports={photoPickerWrapper:"PU7NO",scale:"_2DN7K",nameWrapper:"_1gK1Z","well-animation":"_1wHTb",wellAnimation:"_1wHTb"}},jhjgghei:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e.keyCode===i)return function(e,t){if(t.isComposing)return!1;var n=window.getSelection();return function(e,t,n){if(!t.modify)return!1;var r=n.refInput,a=(0,o.default)(r,u.BACKWARD);if(!a)return!1;if(i=a,!Boolean(i&&i.dataset&&i.dataset.replacedEmojiText))return!1;var i;t.modify("extend","backward","character"),t.modify("move","backward","character");var s=a.dataset.replacedEmojiText,l=a.parentNode;if(!l)return!1;l.replaceChild(document.createTextNode(s+" "),a);for(var c=s.length,f=0;f<c+1;f++)t.modify("extend","forward","character"),t.modify("move","forward","character");return!1}(0,n,t)}(0,t);return!1};var r,a=n("dbegdchadg"),o=(r=a)&&r.__esModule?r:{default:r};var i=8,u=o.default.Direction},jijhjeei:function(e,t,n){"use strict";var r,a=n("bgiachiigg"),o=n("bhggeigghg"),i=(r=o)&&r.__esModule?r:{default:r},u=n("cgejjichfa");var s={parseCall:function(e){if("call"===this.N.tag(e)){var t=this.N.child("offer",e);if(t){var n=this.N.child("call",t);if(n){var r=this.N.children(n),o=a.Message.parse(r).call;if(o){var i=this.N.attr("from",e),u=this.N.attr("call-id",t),s=o.callKey,l={type:"offer_key",id:u,peerJid:i,key:s},c=[!u,!i,!s];return this.dropIfConditionMet(c,l)}}}}},queryCall:function(e,t){var n=this;return new Promise(function(r,a){var o=n.queryNode({type:"call","call-id":e,kind:t});n.binSend("sendEphemeral",o,a,{onSend:n.binWrap(function(e){n.BinaryProtocol.read(e).then(function(e){var t={status:400};"response"===n.N.tag(e)&&"call"===n.N.attr("type",e)&&(t.status=parseInt(n.N.attr("code",e),10)||400),r(t)}).catch(a)},r),onDrop:n.wrap(a)},{debugString:"query,call,"+e,metricName:"QUERY_CALL"})})},handleCallQuery(e){var t=this,n=i.default.Call.handleQuery({});if(n)return n.then(function(e){return t.responseNode(void 0,[["some",{formatted:"xml"},void 0]])})},sendCallEnd:function(e,t){var n=this;return new Promise(function(r,a){var o={};o.jid=e.jid,o["call-id"]=e["call-id"],o.result=l(e.result),o.audio=e.audio.toString(),o.out=e.out.toString(),o.seconds=e.seconds.toString(),o.t=e.t.toString(),o.group=e.group.toString();var i=t.map(function(e){return["participant",{jid:e.jid,result:l(e.result)},void 0]}),u=n.actionNode("relay",[["call_end",o,i]]);n.binSend("send",u,a,{onSend:n.wrap(r),onDrop:n.wrap(a)},{debugString:`action,call_end,${e["call-id"]}`})})}};function l(e){return u.CALL_LOG_RESULT[e]||"invalid"}e.exports=s},jjaddhidj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!t.parentNode)return;return t.parentNode.insertBefore(e,t),e}},jjbcbhhjh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=T(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=T(n("cehjjfagii")),u=T(n("ejegihaeh")),s=T(n("bbchdeehff")),l=T(n("baagejbchg")),c=T(n("bjigbaghc")),f=n("ddjgcfjicj"),d=T(n("bjbdcigbdi")),p=T(n("jheedhagg")),h=n("bgjddhffji"),m=T(n("biecbbiiee")),b=T(n("deabffecii")),g=T(n("cfegjiegcd")),v=T(n("cjdafdbcjb")),y=T(n("chgafjbahd")),_=T(n("dbhcidbdcf")),E=T(n("ccbhicejbe")),j=T(n("cccaiafbjc")),O=n("bheafeifce"),S=T(n("bgcdajbhif")),w=n("bfjajhbdf"),P=T(w),M=T(n("jccfhaecf")),C=n("dcbdjheea");function T(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var N=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return n=r=A(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.ProductCatalogSession=new b.default,r.state={hover:!1},r.onClick=function(){var e=r.props,t=e.rootMsg,n=e.msg;if(n.isStatusV3)t&&t.isQuotedMsgAvailable?d.default.supportsFeature(d.default.F.STATUS_V3_UI_VIEWING)&&S.default.find(n.sender).then(function(e){s.default.openModalMedia(o.createElement(j.default,{removeTopDrawer:!1,statusV3:e,msgKey:n.id,onMsgNotFound:function(){t&&(t.isQuotedMsgAvailable=!1)}}),{transition:"quoted-status-v3-modal"})}):s.default.openToast(o.createElement(P.default,{msg:l10n.t(1036),id:(0,w.genId)()}));else{if(n.isProductInquiry)return r.onProductInquiry();if(!t||t.isQuotedMsgAvailable){var a=n.id,i=n.chat,u=m.default.get(a),l=i.getSearchContext(u||a,t);l&&(l.slideToMsg=!0),s.default.openChatAt(i,l).then(function(e){if(e){var t=m.default.get(n.id);t&&Promise.delay(200).then(function(){s.default.openMediaViewerForAlbumMedia((0,O.unproxy)(t))})}}),u||l.collection.loadAroundPromise.catch(f.E404,function(){s.default.openChatAt(i,i.getSearchContext(t))})}}},r.onMouseOver=function(e){r.hoverable()&&r.setState({hover:!0})},r.onMouseEnter=function(e){r.hoverable()&&r.setState({hover:!0})},r.onMouseLeave=function(e){r.state.hover&&r.setState({hover:!1})},A(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.msg,n=e.t;if(t.isProductInquiry){if(!(t.businessOwnerJid&&(0,C.createWid)(t.businessOwnerJid)))return;null!=n&&(t.t=n),u.default.addMsgAsproduct((0,O.unproxy)(t))}}},{key:"onProductInquiry",value:function(){var e=this.props,t=e.msg,n=e.t,r=t.businessOwnerJid&&(0,C.createWid)(t.businessOwnerJid);if(r){var a=u.default.get(r);if(a){var i=t.productId&&a.productCollection.get(t.productId),l=t.productId&&a.msgProductCollection.get(t.productId);if(i||l){var c=l;if(i&&null!=n&&i.t>=n&&(c=i,l&&a.productCollection.remove(l)),c)return(0,h.logProductInquiryClick)((0,O.unproxy)(c),this.ProductCatalogSession.toString()),s.default.openDrawerRight(o.createElement(g.default,{product:c,chat:t.chat,refreshCarousel:!0,sessionId:this.ProductCatalogSession.toString()}),"slide-left",this.props.uim)}}}}},{key:"hoverable",value:function(){return!this.state.hover&&!!this.props.rootMsg}},{key:"render",value:function(){var e=this.props,t=e.msg,n=e.displayType,r=e.chat,u=e.rootMsg,s=e.composeQuotedMsgRemoteJid,f=r.assignedColor(t.sender),p=n===l.default.DISP_TYPE.CONVERSATION,h=s||u&&u.quotedRemoteJid,m=o.createElement(i.default,{msg:t,contact:t.senderObj,role:p?"button":null,chat:r,displaySelf:M.default.equals(t.sender,c.default.me),quotedRemoteJid:h,disableClick:!0}),b=t.paymentAmount1000&&t.paymentCurrency,g=(0,a.default)(y.default.quotedMsg,{[y.default.statusV3QuotedMsg]:"statusV3"===this.props.theme,[y.default.composeBoxQuotedMsg]:"composeBox"===this.props.theme,[y.default.hover]:this.state.hover,[y.default.quotedPaymentMsg]:"payment"===t.type&&b}),j="payment"===t.type&&d.default.supportsFeature(d.default.F.PAYMENTS)&&b?o.createElement(E.default,{quotedMsgAuthor:m,currency:t.paymentCurrency,amount1000:t.paymentAmount1000,receiverJid:t.paymentMessageReceiverJid,subtype:t.subtype,theme:this.props.theme}):o.createElement("div",{className:y.default.msgText},m,o.createElement(_.default,{msg:t,inConversation:p,theme:this.props.theme}));return o.createElement("div",{className:y.default.container,onMouseOver:p?this.onMouseOver:null,onMouseEnter:p?this.onMouseEnter:null,onMouseLeave:p?this.onMouseLeave:null},o.createElement("div",{className:g,role:p?"button":"",onClick:p?this.onClick:null},o.createElement("span",{className:(0,a.default)(`bg-color-${f}`,y.default.colorBar)}),o.createElement("div",{className:y.default.msgBody,dir:p?null:t.dir},j),o.createElement(v.default,{msg:t,inConversation:p,theme:this.props.theme})))}}]),t}();N.displayName="QuotedMsg",t.default=(0,p.default)(N)},jjgaeci:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=n("biheibdage"),u=n("dfdebdgdei"),s=p(n("bbchdeehff")),l=p(n("bcbahjefec")),c=n("cjcffhicea"),f=p(c),d=p(n("bfgbdiffgd"));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return n=a=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.onForwardConfirmed=function(e){Promise.map(e,function(e){(e.isUser&&e.contact.isBlocked()?(0,u.unblockContact)(e.contact):Promise.resolve(!0)).then(function(t){a.onSend(e)})}),a.end(),1===e.length&&(s.default.openChatFromUnread(e[0]),window.innerWidth<=1024&&s.default.closeDrawerRight())},a.onCancel=function(){a.end()},a.onSend=function(e){if(a.props.mediaCollection.canSend()){var t=a.props.mediaCollection.getPreviewableMedias();if(0!==t.length){var n=t.map(function(e){var t=e.caption;return e.caption=t||void 0,{media:e}});a.sendMedia(n,e)}}},a.sendMedia=function(e,t){var n=a.props,o=n.product,u=n.catalogWid;s.default.once("ui_idle",function(){e.forEach(function(e,n){var a=e.media,s={};0===n&&(s.quotedMsg=t.composeQuotedMsg,t.composeQuotedMsg=null),s.caption=a.caption,s.addEvenWhilePreparing=a.previewable&&a.state===i.ATTACH_MEDIA_STATE.PROCESSING;var l={businessOwnerJid:u.toString({legacy:!0}),productId:o.id.toString(),url:o.url,productImageCount:o.productImageCollection.length,title:o.name,description:o.description,currencyCode:o.currency,priceAmount1000:o.priceAmount1000,type:"product"};s.useBasePropsType=!0,a.sendToChat(t,r({},s,{productMsgOptions:l}))})}),a.end()},h(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default),a(t,[{key:"componentDidMount",value:function(){s.default.closeContextMenu(),s.default.closeTooltip(),this.push(o.createElement(f.default,{onChat:this.onForwardConfirmed,maxItems:d.default.multicastLimitGlobal,title:l10n.t(749),listType:c.ListType.CHAT_SELECT_MODAL,onCancel:this.onCancel}))}}]),t}();t.default=m},jjijgifac:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Promise.resolve(a.default.digest({name:"SHA-256"},e).then(r.default.encode))};var r=o(n("hgjcbccfg")),a=o(n("dfeaddeccc"));function o(e){return e&&e.__esModule?e:{default:e}}},jjjdieajj:function(e,t,n){"use strict";e.exports={"#":1,"*":2,"0":3,"1":4,"2":5,"3":6,"4":7,"5":8,"6":9,"7":10,"8":11,"9":12,"":13,"":14,"":15,"":16,"":17,"":18,"":19,"":20,"":21,"":22,"":23,"":24,"":25,"":26,"":27,"":28,"":29,"":30,"":31,"":32,"":33,"":34,"":35,"":36,"":37,"":38,"":39,"":40,"":41,"":42,"":43,"":44,"":45,"":46,"":47,"":48,"":49,"":50,"":51,"":52,"":53,"":54,"":55,"":56,"":57,"":58,"":59,"":60,"":61,"":62,"":63,"":64,"":65,"":66,"":67,"":68,"":69,"":70,"":71,"":72,"":73,"":74,"":75,"":76,"":77,"":78,"":79,"":80,"":81,"":82,"":83,"":84,"":85,"":86,"":87,"":88,"":89,"":90,"":91,"":92,"":93,"":94,"":95,"":96,"":97,"":98,"":99,"":100,"":101,"":102,"":103,"":104,"":105,"":106,"":107,"":108,"":109,"":110,"":111,"":112,"":113,"":114,"":115,"":116,"":117,"":118,"":119,"":120,"":121,"":122,"":123,"":124,"":125,"":126,"":127,"":128,"":129,"":130,"":131,"":132,"":133,"":134,"":135,"":135,"":136,"":137,"":137,"":138,"":139,"":139,"":140,"":141,"":141,"":142,"":143,"":143,"":144,"":145,"":145,"":146,"":147,"":148,"":149,"":150,"":151,"":152,"":153,"":154,"":155,"":156,"":157,"":158,"":159,"":160,"":161,"":162,"":163,"":164,"":165,"":166,"":167,"":168,"":169,"":170,"":171,"":172,"":173,"":174,"":175,"":176,"":177,"":178,"":179,"":180,"":181,"":182,"":183,"":184,"":185,"":186,"":187,"":188,"":189,"":190,"":191,"":192,"":193,"":194,"":195,"":196,"":197,"":198,"":199,"":200,"":201,"":202,"":203,"":204,"":205,"":206,"":207,"":208,"":209,"":210,"":211,"":212,"":213,"":214,"":215,"":216,"":217,"":218,"":219,"":220,"":221,"":222,"":223,"":224,"":225,"":226,"":227,"":228,"":229,"":230,"":231,"":232,"":233,"":234,"":235,"":236,"":237,"":238,"":239,"":240,"":241,"":242,"":243,"":244,"":245,"":246,"":247,"":248,"":249,"":250,"":251,"":252,"":253,"":254,"":255,"":256,"":257,"":258,"":259,"":260,"":261,"":262,"":263,"":264,"":265,"":266,"":267,"":268,"":269,"":270,"":271,"":272,"":273,"":274,"":275,"":276,"":277,"":278,"":279,"":280,"":281,"":282,"":283,"":284,"":285,"":286,"":287,"":288,"":289,"":290,"":291,"":292,"":293,"":294,"":295,"":296,"":297,"":298,"":299,"":300,"":301,"":302,"":303,"":304,"":305,"":306,"":307,"":308,"":309,"":310,"":311,"":312,"":313,"":314,"":315,"":316,"":317,"":318,"":319,"":320,"":321,"":322,"":323,"":324,"":325,"":326,"":327,"":328,"":329,"":330,"":331,"":332,"":333,"":334,"":335,"":336,"":337,"":338,"":339,"":340,"":341,"":342,"":343,"":344,"":345,"":346,"":347,"":348,"":349,"":350,"":351,"":352,"":353,"":354,"":355,"":356,"":357,"":358,"":359,"":360,"":361,"":362,"":363,"":364,"":365,"":366,"":367,"":368,"":369,"":370,"":371,"":372,"":373,"":374,"":375,"":376,"":377,"":378,"":379,"":380,"":381,"":382,"":383,"":384,"":385,"":386,"":387,"":388,"":389,"":390,"":391,"":392,"":393,"":394,"":395,"":396,"":397,"":398,"":399,"":400,"":401,"":402,"":403,"":404,"":405,"":406,"":407,"":408,"":409,"":410,"":411,"":412,"":413,"":414,"":415,"":416,"":417,"":418,"":419,"":420,"":421,"":422,"":423,"":424,"":425,"":426,"":427,"":428,"":429,"":430,"":431,"":432,"":433,"":434,"":435,"":436,"":437,"":438,"":439,"":440,"":441,"":442,"":443,"":444,"":445,"":446,"":447,"":448,"":449,"":450,"":451,"":452,"":453,"":454,"":455,"":456,"":457,"":458,"":459,"":460,"":461,"":462,"":463,"":464,"":465,"":466,"":467,"":468,"":469,"":470,"":471,"":472,"":473,"":474,"":475,"":476,"":477,"":478,"":479,"":480,"":481,"":482,"":483,"":484,"":485,"":486,"":487,"":488,"":489,"":490,"":491,"":492,"":493,"":494,"":495,"":496,"":497,"":498,"":499,"":500,"":501,"":502,"":503,"":504,"":505,"":506,"":507,"":508,"":509,"":510,"":511,"":512,"":513,"":514,"":515,"":516,"":517,"":518,"":519,"":520,"":521,"":522,"":523,"":524,"":525,"":526,"":527,"":528,"":529,"":530,"":531,"":532,"":533,"":534,"":535,"":536,"":537,"":538,"":539,"":540,"":541,"":542,"":543,"":544,"":545,"":546,"":547,"":548,"":549,"":550,"":551,"":552,"":553,"":554,"":555,"":556,"":557,"":558,"":559,"":560,"":561,"":562,"":563,"":564,"":565,"":566,"":567,"":568,"":569,"":570,"":571,"":572,"":573,"":574,"":575,"":576,"":577,"":578,"":579,"":580,"":581,"":582,"":583,"":584,"":585,"":586,"":587,"":588,"":589,"":590,"":591,"":592,"":593,"":594,"":595,"":596,"":597,"":598,"":599,"":600,"":601,"":602,"":603,"":604,"":605,"":606,"":607,"":608,"":609,"":610,"":611,"":612,"":613,"":614,"":615,"":616,"":617,"":618,"":619,"":620,"":621,"":622,"":623,"":624,"":625,"":626,"":627,"":628,"":629,"":630,"":631,"":632,"":633,"":634,"":635,"":636,"":637,"":638,"":639,"":640,"":641,"":642,"":643,"":644,"":645,"":646,"":647,"":648,"":649,"":650,"":651,"":652,"":653,"":654,"":655,"":656,"":657,"":658,"":659,"":660,"":661,"":662,"":663,"":664,"":665,"":666,"":667,"":668,"":669,"":670,"":671,"":672,"":673,"":674,"":675,"":676,"":677,"":678,"":679,"":680,"":681,"":682,"":683,"":684,"":685,"":686,"":687,"":688,"":688,"":689,"":690,"":690,"":691,"":692,"":692,"":693,"":694,"":694,"":695,"":696,"":696,"":697,"":698,"":698,"":699,"":700,"":700,"":701,"":702,"":702,"":703,"":704,"":704,"":705,"":706,"":706,"":707,"":708,"":708,"":709,"":710,"":710,"":711,"":712,"":713,"":714,"":715,"":716,"":717,"":718,"":719,"":720,"":721,"":722,"":722,"":723,"":724,"":724,"":725,"":726,"":726,"":727,"":728,"":728,"":729,"":730,"":730,"":731,"":732,"":732,"":733,"":734,"":734,"":735,"":736,"":736,"":737,"":738,"":738,"":739,"":740,"":740,"":741,"":742,"":742,"":743,"":744,"":744,"":745,"":746,"":746,"":747,"":748,"":748,"":749,"":750,"":750,"":751,"":752,"":752,"":753,"":754,"":754,"":755,"":756,"":756,"":757,"":758,"":759,"":760,"":761,"":762,"":763,"":764,"":765,"":766,"":767,"":768,"":769,"":770,"":771,"":772,"":773,"":774,"":775,"":776,"":777,"":778,"":779,"":780,"":781,"":782,"":783,"":784,"":785,"":786,"":787,"":788,"":789,"":790,"":791,"":792,"":793,"":794,"":795,"":796,"":797,"":798,"":799,"":800,"":801,"":802,"":803,"":804,"":805,"":806,"":807,"":808,"":809,"":810,"":811,"":812,"":813,"":814,"":815,"":816,"":817,"":818,"":819,"":820,"":821,"":822,"":823,"":824,"":825,"":826,"":827,"":828,"":829,"":830,"":831,"":832,"":833,"":834,"":835,"":836,"":837,"":838,"":839,"":840,"":841,"":842,"":843,"":844,"":845,"":846,"":847,"":848,"":849,"":850,"":851,"":852,"":853,"":854,"":855,"":856,"":857,"":858,"":859,"":860,"":861,"":862,"":863,"":864,"":865,"":866,"":867,"":868,"":869,"":870,"":871,"":872,"":873,"":874,"":875,"":876,"":877,"":878,"":879,"":880,"":881,"":882,"":883,"":884,"":885,"":886,"":887,"":888,"":889,"":890,"":891,"":892,"":893,"":894,"":895,"":896,"":897,"":898,"":899,"":900,"":901,"":902,"":903,"":904,"":905,"":906,"":907,"":908,"":909,"":910,"":911,"":912,"":913,"":914,"":915,"":916,"":917,"":918,"":919,"":920,"":921,"":922,"":923,"":924,"":925,"":926,"":927,"":928,"":929,"":930,"":931,"":932,"":933,"":934,"":935,"":936,"":937,"":938,"":939,"":940,"":941,"":942,"":943,"":944,"":945,"":946,"":947,"":948,"":949,"":950,"":951,"":952,"":953,"":954,"":955,"":956,"":957,"":958,"":959,"":960,"":961,"":962,"":963,"":964,"":965,"":966,"":967,"":968,"":969,"":970,"":971,"":972,"":973,"":974,"":975,"":976,"":977,"":978,"":979,"":980,"":981,"":982,"":983,"":984,"":985,"":986,"":987,"":988,"":989,"":990,"":991,"":992,"":993,"":994,"":995,"":996,"":997,"":998,"":999,"":1e3,"":1001,"":1002,"":1003,"":1004,"":1005,"":1006,"":1007,"":1008,"":1009,"":1010,"":1011,"":1012,"":1013,"":1014,"":1015,"":1016,"":1017,"":1018,"":1019,"":1020,"":1021,"":1022,"":1023,"":1024,"":1025,"":1026,"":1027,"":1028,"":1029,"":1030,"":1031,"":1032,"":1033,"":1034,"":1035,"":1036,"":1037,"":1038,"":1039,"":1040,"":1041,"":1042,"":1043,"":1044,"":1045,"":1046,"":1047,"":1048,"":1049,"":1050,"":1051,"":1052,"":1053,"":1054,"":1055,"":1056,"":1057,"":1058,"":1059,"":1060,"":1061,"":1062,"":1063,"":1064,"":1065,"":1066,"":1067,"":1068,"":1069,"":1070,"":1071,"":1072,"":1073,"":1074,"":1075,"":1076,"":1077,"":1078,"":1079,"":1080,"":1081,"":1082,"":1083,"":1084,"":1085,"":1086,"":1087,"":1088,"":1089,"":1090,"":1091,"":1092,"":1093,"":1094,"":1095,"":1096,"":1097,"":1098,"":1099,"":1100,"":1101,"":1102,"":1103,"":1104,"":1105,"":1106,"":1107,"":1108,"":1109,"":1110,"":1111,"":1112,"":1113,"":1114,"":1115,"":1116,"":1117,"":1118,"":1119,"":1120,"":1121,"":1122,"":1123,"":1124,"":1125,"":1126,"":1127,"":1128,"":1129,"":1130,"":1131,"":1132,"":1133,"":1134,"":1135,"":1136,"":1137,"":1138,"":1139,"":1140,"":1141,"":1142,"":1143,"":1144,"":1145,"":1146,"":1147,"":1148,"":1149,"":1150,"":1151,"":1152,"":1153,"":1154,"":1155,"":1156,"":1157,"":1158,"":1159,"":1160,"":1161,"":1162,"":1163,"":1164,"":1165,"":1166,"":1167,"":1168,"":1169,"":1170,"":1171,"":1172,"":1173,"":1174,"":1175,"":1176,"":1177,"":1178,"":1179,"":1180,"":1181,"":1182,"":1183,"":1184,"":1185,"":1186,"":1187,"":1188,"":1189,"":1190,"":1191,"":1192,"":1193,"":1194,"":1195,"":1196,"":1197,"":1198,"":1199,"":1200,"":1201,"":1202,"":1203,"":1204,"":1205,"":1206,"":1207,"":1208,"":1209,"":1210,"":1211,"":1212,"":1213,"":1214,"":1215,"":1216,"":1217,"":1218,"":1219,"":1220,"":1221,"":1222,"":1223,"":1224,"":1225,"":1226,"":1227,"":1228,"":1229,"":1230,"":1231,"":1232,"":1233,"":1234,"":1235,"":1236,"":1237,"":1238,"":1239,"":1240,"":1241,"":1242,"":1243,"":1244,"":1245,"":1246,"":1247,"":1248,"":1249,"":1250,"":1251,"":1252,"":1253,"":1254,"":1255,"":1256,"":1257,"":1258,"":1259,"":1260,"":1261,"":1262,"":1263,"":1264,"":1265,"":1266,"":1267,"":1268,"":1269,"":1270,"":1271,"":1271,"":1272,"":1273,"":1273,"":1274,"":1275,"":1275,"":1276,"":1277,"":1277,"":1278,"":1279,"":1279,"":1280,"":1281,"":1281,"":1282,"":1283,"":1284,"":1284,"":1285,"":1286,"":1287,"":1288,"":1289,"":1290,"":1291,"":1291,"":1292,"":1293,"":1293,"":1294,"":1295,"":1295,"":1296,"":1297,"":1297,"":1298,"":1299,"":1299,"":1300,"":1301,"":1301,"":1302,"":1303,"":1304,"":1305,"":1306,"":1307,"":1308,"":1309,"":1309,"":1310,"":1311,"":1311,"":1312,"":1313,"":1313,"":1314,"":1315,"":1315,"":1316,"":1317,"":1317,"":1318,"":1319,"":1319,"":1320,"":1321,"":1322,"":1323,"":1324,"":1325,"":1326,"":1327,"":1328,"":1329,"":1330,"":1331,"":1332,"":1333,"":1334,"":1335,"":1336,"":1337,"":1338,"":1339,"":1339,"":1340,"":1341,"":1341,"":1342,"":1343,"":1343,"":1344,"":1345,"":1345,"":1346,"":1347,"":1347,"":1348,"":1349,"":1349,"":1350,"":1351,"":1352,"":1353,"":1354,"":1355,"":1356,"":1357,"":1358,"":1359,"":1360,"":1361,"":1362,"":1363,"":1364,"":1365,"":1366,"":1367,"":1368,"":1369,"":1370,"":1371,"":1371,"":1372,"":1373,"":1373,"":1374,"":1375,"":1375,"":1376,"":1377,"":1377,"":1378,"":1379,"":1379,"":1380,"":1381,"":1381,"":1382,"":1382,"":1383,"":1384,"":1384,"":1385,"":1386,"":1386,"":1387,"":1388,"":1388,"":1389,"":1390,"":1390,"":1391,"":1392,"":1392,"":1393,"":1394,"":1395,"":1396,"":1397,"":1398,"":1399,"":1400,"":1401,"":1402,"":1403,"":1404,"":1405,"":1406,"":1407,"":1408,"":1408,"":1409,"":1410,"":1410,"":1411,"":1412,"":1412,"":1413,"":1414,"":1414,"":1415,"":1416,"":1416,"":1417,"":1418,"":1418,"":1419,"":1420,"":1420,"":1421,"":1422,"":1422,"":1423,"":1424,"":1424,"":1425,"":1426,"":1426,"":1427,"":1428,"":1428,"":1429,"":1430,"":1430,"":1431,"":1432,"":1433,"":1434,"":1435,"":1436,"":1437,"":1438,"":1439,"":1440,"":1441,"":1442,"":1443,"":1444,"":1445,"":1446,"":1447,"":1448,"":1449,"":1450,"":1451,"":1452,"":1453,"":1454,"":1455,"":1456,"":1457,"":1458,"":1459,"":1460,"":1461,"":1462,"":1463,"":1464,"":1465,"":1466,"":1467,"":1468,"":1469,"":1470,"":1471,"":1472,"":1473,"":1474,"":1475,"":1476,"":1477,"":1478,"":1479,"":1480,"":1481,"":1482,"":1483,"":1484,"":1485,"":1486,"":1487,"":1488,"":1489,"":1490,"":1491,"":1492,"":1493,"":1494,"":1495,"":1496,"":1497,"":1498,"":1499,"":1500,"":1501,"":1502,"":1503,"":1504,"":1505,"":1506,"":1507,"":1508,"":1509,"":1510,"":1511,"":1512,"":1513,"":1514,"":1515,"":1516,"":1517,"":1518,"":1519,"":1520,"":1521,"":1522,"":1523,"":1524,"":1525,"":1526,"":1527,"":1528,"":1529,"":1530,"":1531,"":1532,"":1533,"":1534,"":1535,"":1536,"":1537,"":1538,"":1539,"":1540,"":1541,"":1542,"":1543,"":1544,"":1545,"":1546,"":1547,"":1548,"":1549,"":1550,"":1551,"":1552,"":1553,"":1554,"":1555,"":1556,"":1557,"":1558,"":1559,"":1560,"":1561,"":1562,"":1563,"":1564,"":1565,"":1566,"":1567,"":1568,"":1569,"":1570,"":1571,"":1572,"":1573,"":1574,"":1575,"":1576,"":1577,"":1578,"":1579,"":1580,"":1581,"":1582,"":1583,"":1584,"":1585,"":1586,"":1587,"":1588,"":1589,"":1590,"":1591,"":1592,"":1593,"":1594,"":1595,"":1596,"":1597,"":1598,"":1599,"":1600,"":1601,"":1602,"":1603,"":1604,"":1605,"":1606,"":1607,"":1608,"":1609,"":1610,"":1611,"":1612,"":1613,"":1614,"":1615,"":1616,"":1617,"":1618,"":1619,"":1620,"":1621,"":1622,"":1623,"":1624,"":1625,"":1626,"":1627,"":1628,"":1629,"":1630,"":1631,"":1632,"":1633,"":1634,"":1635,"":1636,"":1637,"":1638,"":1639,"":1640,"":1641,"":1642,"":1643,"":1644,"":1645,"":1646,"":1647,"":1648,"":1649,"":1650,"":1651,"":1652,"":1653,"":1654,"":1655,"":1656,"":1657,"":1658,"":1659,"":1660,"":1660,"":1661,"":1662,"":1662,"":1663,"":1664,"":1664,"":1665,"":1666,"":1666,"":1667,"":1668,"":1668,"":1669,"":1670,"":1670,"":1671,"":1672,"":1673,"":1674,"":1675,"":1676,"":1677,"":1678,"":1679,"":1680,"":1681,"":1682,"":1683,"":1684,"":1685,"":1686,"":1687,"":1688,"":1689,"":1690,"":1691,"":1692,"":1693,"":1694,"":1695,"":1696,"":1697,"":1698,"":1699,"":1700,"":1701,"":1702,"":1703,"":1704,"":1705,"":1706,"":1707,"":1708,"":1709,"":1710,"":1711,"":1712,"":1713,"":1714,"":1715,"":1716,"":1717,"":1718,"":1719,"":1720,"":1721,"":1722,"":1723,"":1724,"":1725,"":1726,"":1727,"":1728,"":1729,"":1730,"":1731,"":1732,"":1733,"":1734,"":1735,"":1736,"":1737,"":1738,"":1739,"":1740,"":1741,"":1742,"":1743,"":1744,"":1745,"":1746,"":1747,"":1748,"":1749,"":1750,"":1751,"":1752,"":1753,"":1754,"":1755,"":1756,"":1757,"":1758,"":1759,"":1760,"":1761,"":1762,"":1763,"":1764,"":1765,"":1766,"":1767,"":1768,"":1769,"":1770,"":1771,"":1772,"":1773,"":1774,"":1775,"":1776,"":1777,"":1778,"":1779,"":1780,"":1781,"":1782,"":1783,"":1784,"":1785,"":1786,"":1787,"":1788,"":1789,"":1790,"":1791,"":1792,"":1793,"":1794,"":1795,"":1796,"":1797,"":1798,"":1799,"":1800,"":1801,"":1801,"":1802,"":1803,"":1803,"":1804,"":1805,"":1805,"":1806,"":1807,"":1807,"":1808,"":1809,"":1809,"":1810,"":1811,"":1811,"":1812,"":1813,"":1813,"":1814,"":1815,"":1815,"":1816,"":1817,"":1817,"":1818,"":1819,"":1819,"":1820,"":1821,"":1821,"":1822,"":1823,"":1823,"":1824,"":1824,"":1825,"":1826,"":1826,"":1827,"":1828,"":1828,"":1829,"":1830,"":1830,"":1831,"":1832,"":1832,"":1833,"":1834,"":1834,"":1835,"":1836,"":1837,"":1838,"":1839,"":1840,"":1840,"":1841,"":1842,"":1842,"":1843,"":1844,"":1844,"":1845,"":1846,"":1846,"":1847,"":1848,"":1848,"":1849,"":1850,"":1850,"":1851,"":1852,"":1853,"":1854,"":1855,"":1856,"":1857,"":1858,"":1858,"":1859,"":1860,"":1860,"":1861,"":1862,"":1862,"":1863,"":1864,"":1864,"":1865,"":1866,"":1866,"":1867,"":1868,"":1868,"":1869,"":1870,"":1870,"":1871,"":1872,"":1872,"":1873,"":1874,"":1874,"":1875,"":1876,"":1876,"":1877,"":1878,"":1878,"":1879,"":1880,"":1880,"":1881,"":1882,"":1883,"":1884,"":1885,"":1886,"":1887,"":1888,"":1889,"":1890,"":1891,"":1892,"":1893,"":1894,"":1895,"":1896,"":1897,"":1898,"":1899,"":1900,"":1901,"":1902,"":1903,"":1904,"":1905,"":1906,"":1907,"":1908,"":1909,"":1910,"":1911,"":1912,"":1913,"":1914,"":1915,"":1916,"":1917,"":1918,"":1919,"":1920,"":1921,"":1922,"":1922,"":1923,"":1924,"":1924,"":1925,"":1926,"":1926,"":1927,"":1928,"":1928,"":1929,"":1930,"":1930,"":1931,"":1932,"":1932,"":1933,"":1934,"":1935,"":1936,"":1937,"":1938,"":1939,"":1940,"":1941,"":1942,"":1943,"":1944,"":1945,"":1946,"":1947,"":1948,"":1949,"":1950,"":1950,"":1951,"":1952,"":1952,"":1953,"":1954,"":1954,"":1955,"":1956,"":1956,"":1957,"":1958,"":1958,"":1959,"":1960,"":1960,"":1961,"":1962,"":1962,"":1963,"":1964,"":1964,"":1965,"":1966,"":1966,"":1967,"":1968,"":1968,"":1969,"":1970,"":1970,"":1971,"":1972,"":1972,"":1973,"":1974,"":1974,"":1975,"":1976,"":1976,"":1977,"":1978,"":1978,"":1979,"":1980,"":1980,"":1981,"":1982,"":1982,"":1983,"":1984,"":1984,"":1985,"":1986,"":1987,"":1988,"":1989,"":1990,"":1991,"":1992,"":1993,"":1994,"":1995,"":1996,"":1997,"":1998,"":1999,"":2e3,"":2001,"":2002,"":2003,"":2004,"":2005,"":2006,"":2007,"":2008,"":2009,"":2010,"":2011,"":2012,"":2013,"":2014,"":2015,"":2016,"":2017,"":2018,"":2019,"":2020,"":2021,"":2022,"":2023,"":2024,"":2025,"":2026,"":2027,"":2028,"":2029,"":2030,"":2031,"":2032,"":2033,"":2034,"":2035,"":2036,"":2037,"":2038,"":2039,"":2040,"":2041,"":2042,"":2043,"":2044,"":2045,"":2046,"":2047,"":2048,"":2049,"":2050,"":2051,"":2052,"":2053,"":2054,"":2055,"":2056,"":2057,"":2058,"":2059,"":2060,"":2061,"":2062,"":2063,"":2064,"":2065,"":2066,"":2067,"":2068,"":2069,"":2070,"":2071,"":2072,"":2073,"":2074,"":2075,"":2076,"":2077,"":2078,"":2079,"":2080,"":2081,"":2082,"":2083,"":2084,"":2085,"":2086,"":2087,"":2088,"":2088,"":2089,"":2090,"":2090,"":2091,"":2092,"":2092,"":2093,"":2094,"":2094,"":2095,"":2096,"":2096,"":2097,"":2098,"":2098,"":2099,"":2100,"":2101,"":2102,"":2103,"":2104,"":2105,"":2106,"":2107,"":2108,"":2109,"":2110,"":2111,"":2112,"":2113,"":2114,"":2115,"":2116,"":2117,"":2118,"":2119,"":2120,"":2121,"":2122,"":2123,"":2124,"":2125,"":2126,"":2127,"":2128,"":2129,"":2130,"":2131,"":2132,"":2133,"":2134,"":2135,"":2136,"":2137,"":2138,"":2139,"":2140,"":2141,"":2142,"":2143,"":2144,"":2145,"":2146,"":2147,"":2148,"":2149,"":2150,"":2151,"":2152,"":2152,"":2153,"":2154,"":2154,"":2155,"":2156,"":2156,"":2157,"":2158,"":2158,"":2159,"":2160,"":2160,"":2161,"":2162,"":2162,"":2163,"":2163,"":2164,"":2165,"":2165,"":2166,"":2167,"":2167,"":2168,"":2169,"":2169,"":2170,"":2171,"":2171,"":2172,"":2173,"":2173,"":2174,"":2175,"":2175,"":2176,"":2177,"":2177,"":2178,"":2179,"":2179,"":2180,"":2181,"":2181,"":2182,"":2183,"":2183,"":2184,"":2185,"":2185,"":2186,"":2187,"":2188,"":2188,"":2189,"":2190,"":2190,"":2191,"":2192,"":2192,"":2193,"":2194,"":2194,"":2195,"":2196,"":2196,"":2197,"":2198,"":2198,"":2199,"":2200,"":2200,"":2201,"":2202,"":2203,"":2203,"":2204,"":2205,"":2205,"":2206,"":2207,"":2207,"":2208,"":2209,"":2209,"":2210,"":2211,"":2211,"":2212,"":2213,"":2213,"":2214,"":2215,"":2216,"":2217,"":2218,"":2219,"":2220,"":2221,"":2222,"":2223,"":2224,"":2225,"":2226,"":2227,"":2228,"":2229,"":2230,"":2231,"":2232,"":2233,"":2234,"":2235,"":2236,"":2237,"":2238,"":2239,"":2240,"":2241,"":2242,"":2243,"":2244,"":2245,"":2246,"":2247,"":2248,"":2249,"":2250,"":2251,"":2252,"":2253,"":2254,"":2255,"":2256,"":2257,"":2258,"":2259,"":2260,"":2261,"":2262,"":2263,"":2264,"":2265,"":2266,"":2267,"":2268,"":2269,"":2270,"":2271,"":2272,"":2273,"":2274,"":2275,"":2276,"":2277,"":2278,"":2279,"":2280,"":2281,"":2282,"":2283,"":2284,"":2285,"":2286,"":2287,"":2288,"":2289,"":2290,"":2291,"":2292,"":2293,"":2294,"":2295,"":2296,"":2297,"":2298,"":2299,"":2300,"":2301,"":2302,"":2303,"":2304,"":2305,"":2306,"":2307,"":2308,"":2309,"":2310,"":2311,"":2312,"":2313,"":2314,"":2315,"":2316,"":2317,"":2318,"":2319,"":2320,"":2321,"":2322,"":2323,"":2324,"":2325,"":2326,"":2327,"":2328,"":2329,"":2330,"":2331,"":2332,"":2333,"":2334,"":2335,"":2336,"":2337,"":2338,"":2339,"":2340,"":2341,"":2342,"":2343,"":2344,"":2345,"":2346,"":2347,"":2348,"":2349,"":2350,"":2351,"":2352,"":2353,"":2354,"":2355,"":2356,"":2357,"":2358,"":2359,"":2360,"":2361,"":2362,"":2363,"":2364,"":2365,"":2366,"":2367,"":2368,"":2369,"":2370,"":2371,"":2372,"":2373,"":2374,"":2375,"":2376,"":2377,"":2378,"":2379,"":2380,"":2381,"":2382,"":2382,"":2383,"":2384,"":2384,"":2385,"":2386,"":2386,"":2387,"":2388,"":2388,"":2389,"":2390,"":2390,"":2391,"":2392,"":2392,"":2393,"":2394,"":2395,"":2395,"":2396,"":2397,"":2397,"":2398,"":2399,"":2399,"":2400,"":2401,"":2401,"":2402,"":2403,"":2403,"":2404,"":2405,"":2405,"":2406,"":2407,"":2407,"":2408,"":2409,"":2409,"":2410,"":2411,"":2411,"":2412,"":2413,"":2413,"":2414,"":2415,"":2415,"":2416,"":2417,"":2417,"":2418,"":2419,"":2419,"":2420,"":2421,"":2421,"":2422,"":2423,"":2423,"":2424,"":2425,"":2425,"":2426,"":2427,"":2427,"":2428,"":2429,"":2429,"":2430,"":2431,"":2431,"":2432,"":2433,"":2433,"":2434,"":2435,"":2435,"":2436,"":2437,"":2437,"":2438,"":2439,"":2439,"":2440,"":2441,"":2441,"":2442,"":2443,"":2443,"":2444,"":2445,"":2445,"":2446,"":2447,"":2447,"":2448,"":2449,"":2449,"":2450,"":2451,"":2451,"":2452,"":2453,"":2453,"":2454,"":2455,"":2455,"":2456,"":2457,"":2457,"":2458,"":2459,"":2459,"":2460,"":2461,"":2461,"":2462,"":2463,"":2463,"":2464,"":2465,"":2465,"":2466,"":2466,"":2467,"":2468,"":2468,"":2469,"":2470,"":2470,"":2471,"":2472,"":2472,"":2473,"":2474,"":2474,"":2475,"":2476,"":2476,"":2477,"":2478,"":2479,"":2479,"":2480,"":2481,"":2481,"":2482,"":2483,"":2484,"":2485,"":2486,"":2487,"":2488,"":2489,"":2490,"":2491,"":2492,"":2493,"":2494,"":2495,"":2496,"":2497,"":2498,"":2499,"":2500,"":2501,"":2502,"":2503,"":2504,"":2505,"":2506,"":2507,"":2508,"":2509,"":2510,"":2511,"":2512,"":2513,"":2514}}});